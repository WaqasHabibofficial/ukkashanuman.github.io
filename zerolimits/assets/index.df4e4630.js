var PC=Object.defineProperty,FC=Object.defineProperties;var LC=Object.getOwnPropertyDescriptors;var Vm=Object.getOwnPropertySymbols;var IC=Object.prototype.hasOwnProperty,RC=Object.prototype.propertyIsEnumerable;var Hm=(n,e,t)=>e in n?PC(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,et=(n,e)=>{for(var t in e||(e={}))IC.call(e,t)&&Hm(n,t,e[t]);if(Vm)for(var t of Vm(e))RC.call(e,t)&&Hm(n,t,e[t]);return n},bi=(n,e)=>FC(n,LC(e));var kC=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var SQ=kC((MQ,V4)=>{function y2(n,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(i){if(i!=="default"&&!(i in n)){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}})}),Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}const OC=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}};OC();function h1(n,e){const t=Object.create(null),i=n.split(",");for(let s=0;s<i.length;s++)t[i[s]]=!0;return e?s=>!!t[s.toLowerCase()]:s=>!!t[s]}const NC="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",VC=h1(NC);function w2(n){return!!n||n===""}function hh(n){if(je(n)){const e={};for(let t=0;t<n.length;t++){const i=n[t],s=Ut(i)?UC(i):hh(i);if(s)for(const r in s)e[r]=s[r]}return e}else{if(Ut(n))return n;if(Nt(n))return n}}const HC=/;(?![^(]*\))/g,zC=/:(.+)/;function UC(n){const e={};return n.split(HC).forEach(t=>{if(t){const i=t.split(zC);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Ft(n){let e="";if(Ut(n))e=n;else if(je(n))for(let t=0;t<n.length;t++){const i=Ft(n[t]);i&&(e+=i+" ")}else if(Nt(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const Ye=n=>Ut(n)?n:n==null?"":je(n)||Nt(n)&&(n.toString===A2||!Ze(n.toString))?JSON.stringify(n,C2,2):String(n),C2=(n,e)=>e&&e.__v_isRef?C2(n,e.value):Io(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,s])=>(t[`${i} =>`]=s,t),{})}:x2(e)?{[`Set(${e.size})`]:[...e.values()]}:Nt(e)&&!je(e)&&!D2(e)?String(e):e,Ct={},Lo=[],Ei=()=>{},GC=()=>!1,$C=/^on[^a-z]/,dh=n=>$C.test(n),d1=n=>n.startsWith("onUpdate:"),rn=Object.assign,f1=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},WC=Object.prototype.hasOwnProperty,ct=(n,e)=>WC.call(n,e),je=Array.isArray,Io=n=>fh(n)==="[object Map]",x2=n=>fh(n)==="[object Set]",Ze=n=>typeof n=="function",Ut=n=>typeof n=="string",p1=n=>typeof n=="symbol",Nt=n=>n!==null&&typeof n=="object",E2=n=>Nt(n)&&Ze(n.then)&&Ze(n.catch),A2=Object.prototype.toString,fh=n=>A2.call(n),jC=n=>fh(n).slice(8,-1),D2=n=>fh(n)==="[object Object]",m1=n=>Ut(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,pu=h1(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ph=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},qC=/-(\w)/g,Wi=ph(n=>n.replace(qC,(e,t)=>t?t.toUpperCase():"")),KC=/\B([A-Z])/g,la=ph(n=>n.replace(KC,"-$1").toLowerCase()),mh=ph(n=>n.charAt(0).toUpperCase()+n.slice(1)),Wd=ph(n=>n?`on${mh(n)}`:""),Ll=(n,e)=>!Object.is(n,e),jd=(n,e)=>{for(let t=0;t<n.length;t++)n[t](e)},xu=(n,e,t)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:t})},S2=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let zm;const JC=()=>zm||(zm=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Qi;class XC{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Qi&&(this.parent=Qi,this.index=(Qi.scopes||(Qi.scopes=[])).push(this)-1)}run(e){if(this.active)try{return Qi=this,e()}finally{Qi=this.parent}}on(){Qi=this}off(){Qi=this.parent}stop(e){if(this.active){let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.active=!1}}}function ZC(n,e=Qi){e&&e.active&&e.effects.push(n)}const _1=n=>{const e=new Set(n);return e.w=0,e.n=0,e},T2=n=>(n.w&js)>0,M2=n=>(n.n&js)>0,QC=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=js},YC=n=>{const{deps:e}=n;if(e.length){let t=0;for(let i=0;i<e.length;i++){const s=e[i];T2(s)&&!M2(s)?s.delete(n):e[t++]=s,s.w&=~js,s.n&=~js}e.length=t}},rp=new WeakMap;let ll=0,js=1;const op=30;let Ui;const Br=Symbol(""),ap=Symbol("");class g1{constructor(e,t=null,i){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,ZC(this,i)}run(){if(!this.active)return this.fn();let e=Ui,t=Hs;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ui,Ui=this,Hs=!0,js=1<<++ll,ll<=op?QC(this):Um(this),this.fn()}finally{ll<=op&&YC(this),js=1<<--ll,Ui=this.parent,Hs=t,this.parent=void 0}}stop(){this.active&&(Um(this),this.onStop&&this.onStop(),this.active=!1)}}function Um(n){const{deps:e}=n;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(n);e.length=0}}let Hs=!0;const B2=[];function ca(){B2.push(Hs),Hs=!1}function ua(){const n=B2.pop();Hs=n===void 0?!0:n}function Wn(n,e,t){if(Hs&&Ui){let i=rp.get(n);i||rp.set(n,i=new Map);let s=i.get(t);s||i.set(t,s=_1()),P2(s)}}function P2(n,e){let t=!1;ll<=op?M2(n)||(n.n|=js,t=!T2(n)):t=!n.has(Ui),t&&(n.add(Ui),Ui.deps.push(n))}function os(n,e,t,i,s,r){const o=rp.get(n);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(t==="length"&&je(n))o.forEach((c,u)=>{(u==="length"||u>=i)&&a.push(c)});else switch(t!==void 0&&a.push(o.get(t)),e){case"add":je(n)?m1(t)&&a.push(o.get("length")):(a.push(o.get(Br)),Io(n)&&a.push(o.get(ap)));break;case"delete":je(n)||(a.push(o.get(Br)),Io(n)&&a.push(o.get(ap)));break;case"set":Io(n)&&a.push(o.get(Br));break}if(a.length===1)a[0]&&lp(a[0]);else{const c=[];for(const u of a)u&&c.push(...u);lp(_1(c))}}function lp(n,e){for(const t of je(n)?n:[...n])(t!==Ui||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const e9=h1("__proto__,__v_isRef,__isVue"),F2=new Set(Object.getOwnPropertyNames(Symbol).map(n=>Symbol[n]).filter(p1)),t9=v1(),n9=v1(!1,!0),i9=v1(!0),Gm=s9();function s9(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){const i=ft(this);for(let r=0,o=this.length;r<o;r++)Wn(i,"get",r+"");const s=i[e](...t);return s===-1||s===!1?i[e](...t.map(ft)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){ca();const i=ft(this)[e].apply(this,t);return ua(),i}}),n}function v1(n=!1,e=!1){return function(i,s,r){if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&r===(n?e?y9:O2:e?k2:R2).get(i))return i;const o=je(i);if(!n&&o&&ct(Gm,s))return Reflect.get(Gm,s,r);const a=Reflect.get(i,s,r);return(p1(s)?F2.has(s):e9(s))||(n||Wn(i,"get",s),e)?a:nn(a)?!o||!m1(s)?a.value:a:Nt(a)?n?N2(a):ha(a):a}}const r9=L2(),o9=L2(!0);function L2(n=!1){return function(t,i,s,r){let o=t[i];if(Il(o)&&nn(o)&&!nn(s))return!1;if(!n&&!Il(s)&&(V2(s)||(s=ft(s),o=ft(o)),!je(t)&&nn(o)&&!nn(s)))return o.value=s,!0;const a=je(t)&&m1(i)?Number(i)<t.length:ct(t,i),c=Reflect.set(t,i,s,r);return t===ft(r)&&(a?Ll(s,o)&&os(t,"set",i,s):os(t,"add",i,s)),c}}function a9(n,e){const t=ct(n,e);n[e];const i=Reflect.deleteProperty(n,e);return i&&t&&os(n,"delete",e,void 0),i}function l9(n,e){const t=Reflect.has(n,e);return(!p1(e)||!F2.has(e))&&Wn(n,"has",e),t}function c9(n){return Wn(n,"iterate",je(n)?"length":Br),Reflect.ownKeys(n)}const I2={get:t9,set:r9,deleteProperty:a9,has:l9,ownKeys:c9},u9={get:i9,set(n,e){return!0},deleteProperty(n,e){return!0}},h9=rn({},I2,{get:n9,set:o9}),b1=n=>n,_h=n=>Reflect.getPrototypeOf(n);function eu(n,e,t=!1,i=!1){n=n.__v_raw;const s=ft(n),r=ft(e);e!==r&&!t&&Wn(s,"get",e),!t&&Wn(s,"get",r);const{has:o}=_h(s),a=i?b1:t?C1:Rl;if(o.call(s,e))return a(n.get(e));if(o.call(s,r))return a(n.get(r));n!==s&&n.get(e)}function tu(n,e=!1){const t=this.__v_raw,i=ft(t),s=ft(n);return n!==s&&!e&&Wn(i,"has",n),!e&&Wn(i,"has",s),n===s?t.has(n):t.has(n)||t.has(s)}function nu(n,e=!1){return n=n.__v_raw,!e&&Wn(ft(n),"iterate",Br),Reflect.get(n,"size",n)}function $m(n){n=ft(n);const e=ft(this);return _h(e).has.call(e,n)||(e.add(n),os(e,"add",n,n)),this}function Wm(n,e){e=ft(e);const t=ft(this),{has:i,get:s}=_h(t);let r=i.call(t,n);r||(n=ft(n),r=i.call(t,n));const o=s.call(t,n);return t.set(n,e),r?Ll(e,o)&&os(t,"set",n,e):os(t,"add",n,e),this}function jm(n){const e=ft(this),{has:t,get:i}=_h(e);let s=t.call(e,n);s||(n=ft(n),s=t.call(e,n)),i&&i.call(e,n);const r=e.delete(n);return s&&os(e,"delete",n,void 0),r}function qm(){const n=ft(this),e=n.size!==0,t=n.clear();return e&&os(n,"clear",void 0,void 0),t}function iu(n,e){return function(i,s){const r=this,o=r.__v_raw,a=ft(o),c=e?b1:n?C1:Rl;return!n&&Wn(a,"iterate",Br),o.forEach((u,h)=>i.call(s,c(u),c(h),r))}}function su(n,e,t){return function(...i){const s=this.__v_raw,r=ft(s),o=Io(r),a=n==="entries"||n===Symbol.iterator&&o,c=n==="keys"&&o,u=s[n](...i),h=t?b1:e?C1:Rl;return!e&&Wn(r,"iterate",c?ap:Br),{next(){const{value:f,done:m}=u.next();return m?{value:f,done:m}:{value:a?[h(f[0]),h(f[1])]:h(f),done:m}},[Symbol.iterator](){return this}}}}function Es(n){return function(...e){return n==="delete"?!1:this}}function d9(){const n={get(r){return eu(this,r)},get size(){return nu(this)},has:tu,add:$m,set:Wm,delete:jm,clear:qm,forEach:iu(!1,!1)},e={get(r){return eu(this,r,!1,!0)},get size(){return nu(this)},has:tu,add:$m,set:Wm,delete:jm,clear:qm,forEach:iu(!1,!0)},t={get(r){return eu(this,r,!0)},get size(){return nu(this,!0)},has(r){return tu.call(this,r,!0)},add:Es("add"),set:Es("set"),delete:Es("delete"),clear:Es("clear"),forEach:iu(!0,!1)},i={get(r){return eu(this,r,!0,!0)},get size(){return nu(this,!0)},has(r){return tu.call(this,r,!0)},add:Es("add"),set:Es("set"),delete:Es("delete"),clear:Es("clear"),forEach:iu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=su(r,!1,!1),t[r]=su(r,!0,!1),e[r]=su(r,!1,!0),i[r]=su(r,!0,!0)}),[n,t,e,i]}const[f9,p9,m9,_9]=d9();function y1(n,e){const t=e?n?_9:m9:n?p9:f9;return(i,s,r)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?i:Reflect.get(ct(t,s)&&s in i?t:i,s,r)}const g9={get:y1(!1,!1)},v9={get:y1(!1,!0)},b9={get:y1(!0,!1)},R2=new WeakMap,k2=new WeakMap,O2=new WeakMap,y9=new WeakMap;function w9(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function C9(n){return n.__v_skip||!Object.isExtensible(n)?0:w9(jC(n))}function ha(n){return Il(n)?n:w1(n,!1,I2,g9,R2)}function x9(n){return w1(n,!1,h9,v9,k2)}function N2(n){return w1(n,!0,u9,b9,O2)}function w1(n,e,t,i,s){if(!Nt(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const r=s.get(n);if(r)return r;const o=C9(n);if(o===0)return n;const a=new Proxy(n,o===2?i:t);return s.set(n,a),a}function Ro(n){return Il(n)?Ro(n.__v_raw):!!(n&&n.__v_isReactive)}function Il(n){return!!(n&&n.__v_isReadonly)}function V2(n){return!!(n&&n.__v_isShallow)}function H2(n){return Ro(n)||Il(n)}function ft(n){const e=n&&n.__v_raw;return e?ft(e):n}function z2(n){return xu(n,"__v_skip",!0),n}const Rl=n=>Nt(n)?ha(n):n,C1=n=>Nt(n)?N2(n):n;function U2(n){Hs&&Ui&&(n=ft(n),P2(n.dep||(n.dep=_1())))}function G2(n,e){n=ft(n),n.dep&&lp(n.dep)}function nn(n){return!!(n&&n.__v_isRef===!0)}function J(n){return $2(n,!1)}function E9(n){return $2(n,!0)}function $2(n,e){return nn(n)?n:new A9(n,e)}class A9{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:ft(e),this._value=t?e:Rl(e)}get value(){return U2(this),this._value}set value(e){e=this.__v_isShallow?e:ft(e),Ll(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:Rl(e),G2(this))}}function ml(n){return nn(n)?n.value:n}const D9={get:(n,e,t)=>ml(Reflect.get(n,e,t)),set:(n,e,t,i)=>{const s=n[e];return nn(s)&&!nn(t)?(s.value=t,!0):Reflect.set(n,e,t,i)}};function W2(n){return Ro(n)?n:new Proxy(n,D9)}class S9{constructor(e,t,i,s){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new g1(e,()=>{this._dirty||(this._dirty=!0,G2(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=ft(this);return U2(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function T9(n,e,t=!1){let i,s;const r=Ze(n);return r?(i=n,s=Ei):(i=n.get,s=n.set),new S9(i,s,r||!s,t)}Promise.resolve();function zs(n,e,t,i){let s;try{s=i?n(...i):n()}catch(r){gh(r,e,t)}return s}function ri(n,e,t,i){if(Ze(n)){const r=zs(n,e,t,i);return r&&E2(r)&&r.catch(o=>{gh(o,e,t)}),r}const s=[];for(let r=0;r<n.length;r++)s.push(ri(n[r],e,t,i));return s}function gh(n,e,t,i=!0){const s=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,a=t;for(;r;){const u=r.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](n,o,a)===!1)return}r=r.parent}const c=e.appContext.config.errorHandler;if(c){zs(c,null,10,[n,o,a]);return}}M9(n,t,s,i)}function M9(n,e,t,i=!0){console.error(n)}let Eu=!1,cp=!1;const Vn=[];let es=0;const _l=[];let cl=null,Eo=0;const gl=[];let Ps=null,Ao=0;const j2=Promise.resolve();let x1=null,up=null;function Pr(n){const e=x1||j2;return n?e.then(this?n.bind(this):n):e}function B9(n){let e=es+1,t=Vn.length;for(;e<t;){const i=e+t>>>1;kl(Vn[i])<n?e=i+1:t=i}return e}function q2(n){(!Vn.length||!Vn.includes(n,Eu&&n.allowRecurse?es+1:es))&&n!==up&&(n.id==null?Vn.push(n):Vn.splice(B9(n.id),0,n),K2())}function K2(){!Eu&&!cp&&(cp=!0,x1=j2.then(Z2))}function P9(n){const e=Vn.indexOf(n);e>es&&Vn.splice(e,1)}function J2(n,e,t,i){je(n)?t.push(...n):(!e||!e.includes(n,n.allowRecurse?i+1:i))&&t.push(n),K2()}function F9(n){J2(n,cl,_l,Eo)}function L9(n){J2(n,Ps,gl,Ao)}function E1(n,e=null){if(_l.length){for(up=e,cl=[...new Set(_l)],_l.length=0,Eo=0;Eo<cl.length;Eo++)cl[Eo]();cl=null,Eo=0,up=null,E1(n,e)}}function X2(n){if(gl.length){const e=[...new Set(gl)];if(gl.length=0,Ps){Ps.push(...e);return}for(Ps=e,Ps.sort((t,i)=>kl(t)-kl(i)),Ao=0;Ao<Ps.length;Ao++)Ps[Ao]();Ps=null,Ao=0}}const kl=n=>n.id==null?1/0:n.id;function Z2(n){cp=!1,Eu=!0,E1(n),Vn.sort((t,i)=>kl(t)-kl(i));const e=Ei;try{for(es=0;es<Vn.length;es++){const t=Vn[es];t&&t.active!==!1&&zs(t,null,14)}}finally{es=0,Vn.length=0,X2(),Eu=!1,x1=null,(Vn.length||_l.length||gl.length)&&Z2(n)}}function I9(n,e,...t){const i=n.vnode.props||Ct;let s=t;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in i){const h=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:m}=i[h]||Ct;m?s=t.map(_=>_.trim()):f&&(s=t.map(S2))}let a,c=i[a=Wd(e)]||i[a=Wd(Wi(e))];!c&&r&&(c=i[a=Wd(la(e))]),c&&ri(c,n,6,s);const u=i[a+"Once"];if(u){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,ri(u,n,6,s)}}function Q2(n,e,t=!1){const i=e.emitsCache,s=i.get(n);if(s!==void 0)return s;const r=n.emits;let o={},a=!1;if(!Ze(n)){const c=u=>{const h=Q2(u,e,!0);h&&(a=!0,rn(o,h))};!t&&e.mixins.length&&e.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}return!r&&!a?(i.set(n,null),null):(je(r)?r.forEach(c=>o[c]=null):rn(o,r),i.set(n,o),o)}function A1(n,e){return!n||!dh(e)?!1:(e=e.slice(2).replace(/Once$/,""),ct(n,e[0].toLowerCase()+e.slice(1))||ct(n,la(e))||ct(n,e))}let zn=null,vh=null;function Au(n){const e=zn;return zn=n,vh=n&&n.type.__scopeId||null,e}function R9(n){vh=n}function k9(){vh=null}function ge(n,e=zn,t){if(!e||n._n)return n;const i=(...s)=>{i._d&&s_(-1);const r=Au(e),o=n(...s);return Au(r),i._d&&s_(1),o};return i._n=!0,i._c=!0,i._d=!0,i}function qd(n){const{type:e,vnode:t,proxy:i,withProxy:s,props:r,propsOptions:[o],slots:a,attrs:c,emit:u,render:h,renderCache:f,data:m,setupState:_,ctx:y,inheritAttrs:w}=n;let x,M;const P=Au(n);try{if(t.shapeFlag&4){const E=s||i;x=Ni(h.call(E,E,f,r,_,m,y)),M=c}else{const E=e;x=Ni(E.length>1?E(r,{attrs:c,slots:a,emit:u}):E(r,null)),M=e.props?c:O9(c)}}catch(E){vl.length=0,gh(E,n,1),x=H(Di)}let F=x;if(M&&w!==!1){const E=Object.keys(M),{shapeFlag:D}=F;E.length&&D&7&&(o&&E.some(d1)&&(M=N9(M,o)),F=Wo(F,M))}return t.dirs&&(F.dirs=F.dirs?F.dirs.concat(t.dirs):t.dirs),t.transition&&(F.transition=t.transition),x=F,Au(P),x}const O9=n=>{let e;for(const t in n)(t==="class"||t==="style"||dh(t))&&((e||(e={}))[t]=n[t]);return e},N9=(n,e)=>{const t={};for(const i in n)(!d1(i)||!(i.slice(9)in e))&&(t[i]=n[i]);return t};function V9(n,e,t){const{props:i,children:s,component:r}=n,{props:o,children:a,patchFlag:c}=e,u=r.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&c>=0){if(c&1024)return!0;if(c&16)return i?Km(i,o,u):!!o;if(c&8){const h=e.dynamicProps;for(let f=0;f<h.length;f++){const m=h[f];if(o[m]!==i[m]&&!A1(u,m))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?Km(i,o,u):!0:!!o;return!1}function Km(n,e,t){const i=Object.keys(e);if(i.length!==Object.keys(n).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==n[r]&&!A1(t,r))return!0}return!1}function H9({vnode:n,parent:e},t){for(;e&&e.subTree===n;)(n=e.vnode).el=t,e=e.parent}const z9=n=>n.__isSuspense;function U9(n,e){e&&e.pendingBranch?je(n)?e.effects.push(...n):e.effects.push(n):L9(n)}function mu(n,e){if(Kt){let t=Kt.provides;const i=Kt.parent&&Kt.parent.provides;i===t&&(t=Kt.provides=Object.create(i)),t[n]=e}}function Us(n,e,t=!1){const i=Kt||zn;if(i){const s=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(s&&n in s)return s[n];if(arguments.length>1)return t&&Ze(e)?e.call(i.proxy):e}}function G9(n,e){return D1(n,null,e)}const Jm={};function _u(n,e,t){return D1(n,e,t)}function D1(n,e,{immediate:t,deep:i,flush:s,onTrack:r,onTrigger:o}=Ct){const a=Kt;let c,u=!1,h=!1;if(nn(n)?(c=()=>n.value,u=V2(n)):Ro(n)?(c=()=>n,i=!0):je(n)?(h=!0,u=n.some(Ro),c=()=>n.map(M=>{if(nn(M))return M.value;if(Ro(M))return Cr(M);if(Ze(M))return zs(M,a,2)})):Ze(n)?e?c=()=>zs(n,a,2):c=()=>{if(!(a&&a.isUnmounted))return f&&f(),ri(n,a,3,[m])}:c=Ei,e&&i){const M=c;c=()=>Cr(M())}let f,m=M=>{f=x.onStop=()=>{zs(M,a,4)}};if(Ol)return m=Ei,e?t&&ri(e,a,3,[c(),h?[]:void 0,m]):c(),Ei;let _=h?[]:Jm;const y=()=>{if(!!x.active)if(e){const M=x.run();(i||u||(h?M.some((P,F)=>Ll(P,_[F])):Ll(M,_)))&&(f&&f(),ri(e,a,3,[M,_===Jm?void 0:_,m]),_=M)}else x.run()};y.allowRecurse=!!e;let w;s==="sync"?w=y:s==="post"?w=()=>An(y,a&&a.suspense):w=()=>{!a||a.isMounted?F9(y):y()};const x=new g1(c,w);return e?t?y():_=x.run():s==="post"?An(x.run.bind(x),a&&a.suspense):x.run(),()=>{x.stop(),a&&a.scope&&f1(a.scope.effects,x)}}function $9(n,e,t){const i=this.proxy,s=Ut(n)?n.includes(".")?Y2(i,n):()=>i[n]:n.bind(i,i);let r;Ze(e)?r=e:(r=e.handler,t=e);const o=Kt;jo(this);const a=D1(s,r.bind(i),t);return o?jo(o):Lr(),a}function Y2(n,e){const t=e.split(".");return()=>{let i=n;for(let s=0;s<t.length&&i;s++)i=i[t[s]];return i}}function Cr(n,e){if(!Nt(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),nn(n))Cr(n.value,e);else if(je(n))for(let t=0;t<n.length;t++)Cr(n[t],e);else if(x2(n)||Io(n))n.forEach(t=>{Cr(t,e)});else if(D2(n))for(const t in n)Cr(n[t],e);return n}function W9(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Vt(()=>{n.isMounted=!0}),S1(()=>{n.isUnmounting=!0}),n}const Zn=[Function,Array],j9={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Zn,onEnter:Zn,onAfterEnter:Zn,onEnterCancelled:Zn,onBeforeLeave:Zn,onLeave:Zn,onAfterLeave:Zn,onLeaveCancelled:Zn,onBeforeAppear:Zn,onAppear:Zn,onAfterAppear:Zn,onAppearCancelled:Zn},setup(n,{slots:e}){const t=Tx(),i=W9();let s;return()=>{const r=e.default&&n3(e.default(),!0);if(!r||!r.length)return;const o=ft(n),{mode:a}=o,c=r[0];if(i.isLeaving)return Kd(c);const u=Xm(c);if(!u)return Kd(c);const h=hp(u,o,i,t);dp(u,h);const f=t.subTree,m=f&&Xm(f);let _=!1;const{getTransitionKey:y}=u.type;if(y){const w=y();s===void 0?s=w:w!==s&&(s=w,_=!0)}if(m&&m.type!==Di&&(!yr(u,m)||_)){const w=hp(m,o,i,t);if(dp(m,w),a==="out-in")return i.isLeaving=!0,w.afterLeave=()=>{i.isLeaving=!1,t.update()},Kd(c);a==="in-out"&&u.type!==Di&&(w.delayLeave=(x,M,P)=>{const F=t3(i,m);F[String(m.key)]=m,x._leaveCb=()=>{M(),x._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=P})}return c}}},e3=j9;function t3(n,e){const{leavingVNodes:t}=n;let i=t.get(e.type);return i||(i=Object.create(null),t.set(e.type,i)),i}function hp(n,e,t,i){const{appear:s,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:f,onLeave:m,onAfterLeave:_,onLeaveCancelled:y,onBeforeAppear:w,onAppear:x,onAfterAppear:M,onAppearCancelled:P}=e,F=String(n.key),E=t3(t,n),D=(I,L)=>{I&&ri(I,i,9,L)},B={mode:r,persisted:o,beforeEnter(I){let L=a;if(!t.isMounted)if(s)L=w||a;else return;I._leaveCb&&I._leaveCb(!0);const k=E[F];k&&yr(n,k)&&k.el._leaveCb&&k.el._leaveCb(),D(L,[I])},enter(I){let L=c,k=u,W=h;if(!t.isMounted)if(s)L=x||c,k=M||u,W=P||h;else return;let K=!1;const R=I._enterCb=G=>{K||(K=!0,G?D(W,[I]):D(k,[I]),B.delayedLeave&&B.delayedLeave(),I._enterCb=void 0)};L?(L(I,R),L.length<=1&&R()):R()},leave(I,L){const k=String(n.key);if(I._enterCb&&I._enterCb(!0),t.isUnmounting)return L();D(f,[I]);let W=!1;const K=I._leaveCb=R=>{W||(W=!0,L(),R?D(y,[I]):D(_,[I]),I._leaveCb=void 0,E[k]===n&&delete E[k])};E[k]=n,m?(m(I,K),m.length<=1&&K()):K()},clone(I){return hp(I,e,t,i)}};return B}function Kd(n){if(bh(n))return n=Wo(n),n.children=null,n}function Xm(n){return bh(n)?n.children?n.children[0]:void 0:n}function dp(n,e){n.shapeFlag&6&&n.component?dp(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function n3(n,e=!1){let t=[],i=0;for(let s=0;s<n.length;s++){const r=n[s];r.type===gn?(r.patchFlag&128&&i++,t=t.concat(n3(r.children,e))):(e||r.type!==Di)&&t.push(r)}if(i>1)for(let s=0;s<t.length;s++)t[s].patchFlag=-2;return t}function i3(n){return Ze(n)?{setup:n,name:n.name}:n}const fp=n=>!!n.type.__asyncLoader,bh=n=>n.type.__isKeepAlive;function q9(n,e){s3(n,"a",e)}function K9(n,e){s3(n,"da",e)}function s3(n,e,t=Kt){const i=n.__wdc||(n.__wdc=()=>{let s=t;for(;s;){if(s.isDeactivated)return;s=s.parent}return n()});if(yh(e,i,t),t){let s=t.parent;for(;s&&s.parent;)bh(s.parent.vnode)&&J9(i,e,t,s),s=s.parent}}function J9(n,e,t,i){const s=yh(e,n,i,!0);qr(()=>{f1(i[e],s)},t)}function yh(n,e,t=Kt,i=!1){if(t){const s=t[n]||(t[n]=[]),r=e.__weh||(e.__weh=(...o)=>{if(t.isUnmounted)return;ca(),jo(t);const a=ri(e,t,n,o);return Lr(),ua(),a});return i?s.unshift(r):s.push(r),r}}const fs=n=>(e,t=Kt)=>(!Ol||n==="sp")&&yh(n,e,t),X9=fs("bm"),Vt=fs("m"),Z9=fs("bu"),Q9=fs("u"),S1=fs("bum"),qr=fs("um"),Y9=fs("sp"),ex=fs("rtg"),tx=fs("rtc");function nx(n,e=Kt){yh("ec",n,e)}let pp=!0;function ix(n){const e=o3(n),t=n.proxy,i=n.ctx;pp=!1,e.beforeCreate&&Zm(e.beforeCreate,n,"bc");const{data:s,computed:r,methods:o,watch:a,provide:c,inject:u,created:h,beforeMount:f,mounted:m,beforeUpdate:_,updated:y,activated:w,deactivated:x,beforeDestroy:M,beforeUnmount:P,destroyed:F,unmounted:E,render:D,renderTracked:B,renderTriggered:I,errorCaptured:L,serverPrefetch:k,expose:W,inheritAttrs:K,components:R,directives:G,filters:O}=e;if(u&&sx(u,i,null,n.appContext.config.unwrapInjectedRef),o)for(const se in o){const X=o[se];Ze(X)&&(i[se]=X.bind(t))}if(s){const se=s.call(t,t);Nt(se)&&(n.data=ha(se))}if(pp=!0,r)for(const se in r){const X=r[se],Le=Ze(X)?X.bind(t,t):Ze(X.get)?X.get.bind(t,t):Ei,Pe=!Ze(X)&&Ze(X.set)?X.set.bind(t):Ei,He=pt({get:Le,set:Pe});Object.defineProperty(i,se,{enumerable:!0,configurable:!0,get:()=>He.value,set:De=>He.value=De})}if(a)for(const se in a)r3(a[se],i,t,se);if(c){const se=Ze(c)?c.call(t):c;Reflect.ownKeys(se).forEach(X=>{mu(X,se[X])})}h&&Zm(h,n,"c");function $(se,X){je(X)?X.forEach(Le=>se(Le.bind(t))):X&&se(X.bind(t))}if($(X9,f),$(Vt,m),$(Z9,_),$(Q9,y),$(q9,w),$(K9,x),$(nx,L),$(tx,B),$(ex,I),$(S1,P),$(qr,E),$(Y9,k),je(W))if(W.length){const se=n.exposed||(n.exposed={});W.forEach(X=>{Object.defineProperty(se,X,{get:()=>t[X],set:Le=>t[X]=Le})})}else n.exposed||(n.exposed={});D&&n.render===Ei&&(n.render=D),K!=null&&(n.inheritAttrs=K),R&&(n.components=R),G&&(n.directives=G)}function sx(n,e,t=Ei,i=!1){je(n)&&(n=mp(n));for(const s in n){const r=n[s];let o;Nt(r)?"default"in r?o=Us(r.from||s,r.default,!0):o=Us(r.from||s):o=Us(r),nn(o)&&i?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[s]=o}}function Zm(n,e,t){ri(je(n)?n.map(i=>i.bind(e.proxy)):n.bind(e.proxy),e,t)}function r3(n,e,t,i){const s=i.includes(".")?Y2(t,i):()=>t[i];if(Ut(n)){const r=e[n];Ze(r)&&_u(s,r)}else if(Ze(n))_u(s,n.bind(t));else if(Nt(n))if(je(n))n.forEach(r=>r3(r,e,t,i));else{const r=Ze(n.handler)?n.handler.bind(t):e[n.handler];Ze(r)&&_u(s,r,n)}}function o3(n){const e=n.type,{mixins:t,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=n.appContext,a=r.get(e);let c;return a?c=a:!s.length&&!t&&!i?c=e:(c={},s.length&&s.forEach(u=>Du(c,u,o,!0)),Du(c,e,o)),r.set(e,c),c}function Du(n,e,t,i=!1){const{mixins:s,extends:r}=e;r&&Du(n,r,t,!0),s&&s.forEach(o=>Du(n,o,t,!0));for(const o in e)if(!(i&&o==="expose")){const a=rx[o]||t&&t[o];n[o]=a?a(n[o],e[o]):e[o]}return n}const rx={data:Qm,props:_r,emits:_r,methods:_r,computed:_r,beforeCreate:_n,created:_n,beforeMount:_n,mounted:_n,beforeUpdate:_n,updated:_n,beforeDestroy:_n,beforeUnmount:_n,destroyed:_n,unmounted:_n,activated:_n,deactivated:_n,errorCaptured:_n,serverPrefetch:_n,components:_r,directives:_r,watch:ax,provide:Qm,inject:ox};function Qm(n,e){return e?n?function(){return rn(Ze(n)?n.call(this,this):n,Ze(e)?e.call(this,this):e)}:e:n}function ox(n,e){return _r(mp(n),mp(e))}function mp(n){if(je(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function _n(n,e){return n?[...new Set([].concat(n,e))]:e}function _r(n,e){return n?rn(rn(Object.create(null),n),e):e}function ax(n,e){if(!n)return e;if(!e)return n;const t=rn(Object.create(null),n);for(const i in e)t[i]=_n(n[i],e[i]);return t}function lx(n,e,t,i=!1){const s={},r={};xu(r,wh,1),n.propsDefaults=Object.create(null),a3(n,e,s,r);for(const o in n.propsOptions[0])o in s||(s[o]=void 0);t?n.props=i?s:x9(s):n.type.props?n.props=s:n.props=r,n.attrs=r}function cx(n,e,t,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=n,a=ft(s),[c]=n.propsOptions;let u=!1;if((i||o>0)&&!(o&16)){if(o&8){const h=n.vnode.dynamicProps;for(let f=0;f<h.length;f++){let m=h[f];const _=e[m];if(c)if(ct(r,m))_!==r[m]&&(r[m]=_,u=!0);else{const y=Wi(m);s[y]=_p(c,a,y,_,n,!1)}else _!==r[m]&&(r[m]=_,u=!0)}}}else{a3(n,e,s,r)&&(u=!0);let h;for(const f in a)(!e||!ct(e,f)&&((h=la(f))===f||!ct(e,h)))&&(c?t&&(t[f]!==void 0||t[h]!==void 0)&&(s[f]=_p(c,a,f,void 0,n,!0)):delete s[f]);if(r!==a)for(const f in r)(!e||!ct(e,f)&&!0)&&(delete r[f],u=!0)}u&&os(n,"set","$attrs")}function a3(n,e,t,i){const[s,r]=n.propsOptions;let o=!1,a;if(e)for(let c in e){if(pu(c))continue;const u=e[c];let h;s&&ct(s,h=Wi(c))?!r||!r.includes(h)?t[h]=u:(a||(a={}))[h]=u:A1(n.emitsOptions,c)||(!(c in i)||u!==i[c])&&(i[c]=u,o=!0)}if(r){const c=ft(t),u=a||Ct;for(let h=0;h<r.length;h++){const f=r[h];t[f]=_p(s,c,f,u[f],n,!ct(u,f))}}return o}function _p(n,e,t,i,s,r){const o=n[t];if(o!=null){const a=ct(o,"default");if(a&&i===void 0){const c=o.default;if(o.type!==Function&&Ze(c)){const{propsDefaults:u}=s;t in u?i=u[t]:(jo(s),i=u[t]=c.call(null,e),Lr())}else i=c}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===la(t))&&(i=!0))}return i}function l3(n,e,t=!1){const i=e.propsCache,s=i.get(n);if(s)return s;const r=n.props,o={},a=[];let c=!1;if(!Ze(n)){const h=f=>{c=!0;const[m,_]=l3(f,e,!0);rn(o,m),_&&a.push(..._)};!t&&e.mixins.length&&e.mixins.forEach(h),n.extends&&h(n.extends),n.mixins&&n.mixins.forEach(h)}if(!r&&!c)return i.set(n,Lo),Lo;if(je(r))for(let h=0;h<r.length;h++){const f=Wi(r[h]);Ym(f)&&(o[f]=Ct)}else if(r)for(const h in r){const f=Wi(h);if(Ym(f)){const m=r[h],_=o[f]=je(m)||Ze(m)?{type:m}:m;if(_){const y=n_(Boolean,_.type),w=n_(String,_.type);_[0]=y>-1,_[1]=w<0||y<w,(y>-1||ct(_,"default"))&&a.push(f)}}}const u=[o,a];return i.set(n,u),u}function Ym(n){return n[0]!=="$"}function e_(n){const e=n&&n.toString().match(/^\s*function (\w+)/);return e?e[1]:n===null?"null":""}function t_(n,e){return e_(n)===e_(e)}function n_(n,e){return je(e)?e.findIndex(t=>t_(t,n)):Ze(e)&&t_(e,n)?0:-1}const c3=n=>n[0]==="_"||n==="$stable",T1=n=>je(n)?n.map(Ni):[Ni(n)],ux=(n,e,t)=>{const i=ge((...s)=>T1(e(...s)),t);return i._c=!1,i},u3=(n,e,t)=>{const i=n._ctx;for(const s in n){if(c3(s))continue;const r=n[s];if(Ze(r))e[s]=ux(s,r,i);else if(r!=null){const o=T1(r);e[s]=()=>o}}},h3=(n,e)=>{const t=T1(e);n.slots.default=()=>t},hx=(n,e)=>{if(n.vnode.shapeFlag&32){const t=e._;t?(n.slots=ft(e),xu(e,"_",t)):u3(e,n.slots={})}else n.slots={},e&&h3(n,e);xu(n.slots,wh,1)},dx=(n,e,t)=>{const{vnode:i,slots:s}=n;let r=!0,o=Ct;if(i.shapeFlag&32){const a=e._;a?t&&a===1?r=!1:(rn(s,e),!t&&a===1&&delete s._):(r=!e.$stable,u3(e,s)),o=e}else e&&(h3(n,e),o={default:1});if(r)for(const a in s)!c3(a)&&!(a in o)&&delete s[a]};function Ke(n,e){const t=zn;if(t===null)return n;const i=t.proxy,s=n.dirs||(n.dirs=[]);for(let r=0;r<e.length;r++){let[o,a,c,u=Ct]=e[r];Ze(o)&&(o={mounted:o,updated:o}),o.deep&&Cr(a),s.push({dir:o,instance:i,value:a,oldValue:void 0,arg:c,modifiers:u})}return n}function ur(n,e,t,i){const s=n.dirs,r=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let c=a.dir[i];c&&(ca(),ri(c,t,8,[n.el,a,n,e]),ua())}}function d3(){return{app:null,config:{isNativeTag:GC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fx=0;function px(n,e){return function(i,s=null){s!=null&&!Nt(s)&&(s=null);const r=d3(),o=new Set;let a=!1;const c=r.app={_uid:fx++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:Rx,get config(){return r.config},set config(u){},use(u,...h){return o.has(u)||(u&&Ze(u.install)?(o.add(u),u.install(c,...h)):Ze(u)&&(o.add(u),u(c,...h))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,h){return h?(r.components[u]=h,c):r.components[u]},directive(u,h){return h?(r.directives[u]=h,c):r.directives[u]},mount(u,h,f){if(!a){const m=H(i,s);return m.appContext=r,h&&e?e(m,u):n(m,u,f),a=!0,c._container=u,u.__vue_app__=c,L1(m.component)||m.component.proxy}},unmount(){a&&(n(null,c._container),delete c._container.__vue_app__)},provide(u,h){return r.provides[u]=h,c}};return c}}function gp(n,e,t,i,s=!1){if(je(n)){n.forEach((m,_)=>gp(m,e&&(je(e)?e[_]:e),t,i,s));return}if(fp(i)&&!s)return;const r=i.shapeFlag&4?L1(i.component)||i.component.proxy:i.el,o=s?null:r,{i:a,r:c}=n,u=e&&e.r,h=a.refs===Ct?a.refs={}:a.refs,f=a.setupState;if(u!=null&&u!==c&&(Ut(u)?(h[u]=null,ct(f,u)&&(f[u]=null)):nn(u)&&(u.value=null)),Ze(c))zs(c,a,12,[o,h]);else{const m=Ut(c),_=nn(c);if(m||_){const y=()=>{if(n.f){const w=m?h[c]:c.value;s?je(w)&&f1(w,r):je(w)?w.includes(r)||w.push(r):m?h[c]=[r]:(c.value=[r],n.k&&(h[n.k]=c.value))}else m?(h[c]=o,ct(f,c)&&(f[c]=o)):nn(c)&&(c.value=o,n.k&&(h[n.k]=o))};o?(y.id=-1,An(y,t)):y()}}}const An=U9;function mx(n){return _x(n)}function _x(n,e){const t=JC();t.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:c,setText:u,setElementText:h,parentNode:f,nextSibling:m,setScopeId:_=Ei,cloneNode:y,insertStaticContent:w}=n,x=(N,U,ee,le=null,ae=null,_e=null,be=!1,de=null,ye=!!U.dynamicChildren)=>{if(N===U)return;N&&!yr(N,U)&&(le=Me(N),ce(N,ae,_e,!0),N=null),U.patchFlag===-2&&(ye=!1,U.dynamicChildren=null);const{type:te,ref:pe,shapeFlag:he}=U;switch(te){case B1:M(N,U,ee,le);break;case Di:P(N,U,ee,le);break;case gu:N==null&&F(U,ee,le,be);break;case gn:G(N,U,ee,le,ae,_e,be,de,ye);break;default:he&1?B(N,U,ee,le,ae,_e,be,de,ye):he&6?O(N,U,ee,le,ae,_e,be,de,ye):(he&64||he&128)&&te.process(N,U,ee,le,ae,_e,be,de,ye,Qe)}pe!=null&&ae&&gp(pe,N&&N.ref,_e,U||N,!U)},M=(N,U,ee,le)=>{if(N==null)i(U.el=a(U.children),ee,le);else{const ae=U.el=N.el;U.children!==N.children&&u(ae,U.children)}},P=(N,U,ee,le)=>{N==null?i(U.el=c(U.children||""),ee,le):U.el=N.el},F=(N,U,ee,le)=>{[N.el,N.anchor]=w(N.children,U,ee,le,N.el,N.anchor)},E=({el:N,anchor:U},ee,le)=>{let ae;for(;N&&N!==U;)ae=m(N),i(N,ee,le),N=ae;i(U,ee,le)},D=({el:N,anchor:U})=>{let ee;for(;N&&N!==U;)ee=m(N),s(N),N=ee;s(U)},B=(N,U,ee,le,ae,_e,be,de,ye)=>{be=be||U.type==="svg",N==null?I(U,ee,le,ae,_e,be,de,ye):W(N,U,ae,_e,be,de,ye)},I=(N,U,ee,le,ae,_e,be,de)=>{let ye,te;const{type:pe,props:he,shapeFlag:Ae,transition:we,patchFlag:Ge,dirs:Fe}=N;if(N.el&&y!==void 0&&Ge===-1)ye=N.el=y(N.el);else{if(ye=N.el=o(N.type,_e,he&&he.is,he),Ae&8?h(ye,N.children):Ae&16&&k(N.children,ye,null,le,ae,_e&&pe!=="foreignObject",be,de),Fe&&ur(N,null,le,"created"),he){for(const $e in he)$e!=="value"&&!pu($e)&&r(ye,$e,null,he[$e],_e,N.children,le,ae,ve);"value"in he&&r(ye,"value",null,he.value),(te=he.onVnodeBeforeMount)&&Ri(te,le,N)}L(ye,N,N.scopeId,be,le)}Fe&&ur(N,null,le,"beforeMount");const qe=(!ae||ae&&!ae.pendingBranch)&&we&&!we.persisted;qe&&we.beforeEnter(ye),i(ye,U,ee),((te=he&&he.onVnodeMounted)||qe||Fe)&&An(()=>{te&&Ri(te,le,N),qe&&we.enter(ye),Fe&&ur(N,null,le,"mounted")},ae)},L=(N,U,ee,le,ae)=>{if(ee&&_(N,ee),le)for(let _e=0;_e<le.length;_e++)_(N,le[_e]);if(ae){let _e=ae.subTree;if(U===_e){const be=ae.vnode;L(N,be,be.scopeId,be.slotScopeIds,ae.parent)}}},k=(N,U,ee,le,ae,_e,be,de,ye=0)=>{for(let te=ye;te<N.length;te++){const pe=N[te]=de?Fs(N[te]):Ni(N[te]);x(null,pe,U,ee,le,ae,_e,be,de)}},W=(N,U,ee,le,ae,_e,be)=>{const de=U.el=N.el;let{patchFlag:ye,dynamicChildren:te,dirs:pe}=U;ye|=N.patchFlag&16;const he=N.props||Ct,Ae=U.props||Ct;let we;ee&&hr(ee,!1),(we=Ae.onVnodeBeforeUpdate)&&Ri(we,ee,U,N),pe&&ur(U,N,ee,"beforeUpdate"),ee&&hr(ee,!0);const Ge=ae&&U.type!=="foreignObject";if(te?K(N.dynamicChildren,te,de,ee,le,Ge,_e):be||Le(N,U,de,null,ee,le,Ge,_e,!1),ye>0){if(ye&16)R(de,U,he,Ae,ee,le,ae);else if(ye&2&&he.class!==Ae.class&&r(de,"class",null,Ae.class,ae),ye&4&&r(de,"style",he.style,Ae.style,ae),ye&8){const Fe=U.dynamicProps;for(let qe=0;qe<Fe.length;qe++){const $e=Fe[qe],$t=he[$e],yn=Ae[$e];(yn!==$t||$e==="value")&&r(de,$e,$t,yn,ae,N.children,ee,le,ve)}}ye&1&&N.children!==U.children&&h(de,U.children)}else!be&&te==null&&R(de,U,he,Ae,ee,le,ae);((we=Ae.onVnodeUpdated)||pe)&&An(()=>{we&&Ri(we,ee,U,N),pe&&ur(U,N,ee,"updated")},le)},K=(N,U,ee,le,ae,_e,be)=>{for(let de=0;de<U.length;de++){const ye=N[de],te=U[de],pe=ye.el&&(ye.type===gn||!yr(ye,te)||ye.shapeFlag&70)?f(ye.el):ee;x(ye,te,pe,null,le,ae,_e,be,!0)}},R=(N,U,ee,le,ae,_e,be)=>{if(ee!==le){for(const de in le){if(pu(de))continue;const ye=le[de],te=ee[de];ye!==te&&de!=="value"&&r(N,de,te,ye,be,U.children,ae,_e,ve)}if(ee!==Ct)for(const de in ee)!pu(de)&&!(de in le)&&r(N,de,ee[de],null,be,U.children,ae,_e,ve);"value"in le&&r(N,"value",ee.value,le.value)}},G=(N,U,ee,le,ae,_e,be,de,ye)=>{const te=U.el=N?N.el:a(""),pe=U.anchor=N?N.anchor:a("");let{patchFlag:he,dynamicChildren:Ae,slotScopeIds:we}=U;we&&(de=de?de.concat(we):we),N==null?(i(te,ee,le),i(pe,ee,le),k(U.children,ee,pe,ae,_e,be,de,ye)):he>0&&he&64&&Ae&&N.dynamicChildren?(K(N.dynamicChildren,Ae,ee,ae,_e,be,de),(U.key!=null||ae&&U===ae.subTree)&&f3(N,U,!0)):Le(N,U,ee,pe,ae,_e,be,de,ye)},O=(N,U,ee,le,ae,_e,be,de,ye)=>{U.slotScopeIds=de,N==null?U.shapeFlag&512?ae.ctx.activate(U,ee,le,be,ye):j(U,ee,le,ae,_e,be,ye):$(N,U,ye)},j=(N,U,ee,le,ae,_e,be)=>{const de=N.component=Sx(N,le,ae);if(bh(N)&&(de.ctx.renderer=Qe),Mx(de),de.asyncDep){if(ae&&ae.registerDep(de,se),!N.el){const ye=de.subTree=H(Di);P(null,ye,U,ee)}return}se(de,N,U,ee,ae,_e,be)},$=(N,U,ee)=>{const le=U.component=N.component;if(V9(N,U,ee))if(le.asyncDep&&!le.asyncResolved){X(le,U,ee);return}else le.next=U,P9(le.update),le.update();else U.component=N.component,U.el=N.el,le.vnode=U},se=(N,U,ee,le,ae,_e,be)=>{const de=()=>{if(N.isMounted){let{next:pe,bu:he,u:Ae,parent:we,vnode:Ge}=N,Fe=pe,qe;hr(N,!1),pe?(pe.el=Ge.el,X(N,pe,be)):pe=Ge,he&&jd(he),(qe=pe.props&&pe.props.onVnodeBeforeUpdate)&&Ri(qe,we,pe,Ge),hr(N,!0);const $e=qd(N),$t=N.subTree;N.subTree=$e,x($t,$e,f($t.el),Me($t),N,ae,_e),pe.el=$e.el,Fe===null&&H9(N,$e.el),Ae&&An(Ae,ae),(qe=pe.props&&pe.props.onVnodeUpdated)&&An(()=>Ri(qe,we,pe,Ge),ae)}else{let pe;const{el:he,props:Ae}=U,{bm:we,m:Ge,parent:Fe}=N,qe=fp(U);if(hr(N,!1),we&&jd(we),!qe&&(pe=Ae&&Ae.onVnodeBeforeMount)&&Ri(pe,Fe,U),hr(N,!0),he&&ke){const $e=()=>{N.subTree=qd(N),ke(he,N.subTree,N,ae,null)};qe?U.type.__asyncLoader().then(()=>!N.isUnmounted&&$e()):$e()}else{const $e=N.subTree=qd(N);x(null,$e,ee,le,N,ae,_e),U.el=$e.el}if(Ge&&An(Ge,ae),!qe&&(pe=Ae&&Ae.onVnodeMounted)){const $e=U;An(()=>Ri(pe,Fe,$e),ae)}U.shapeFlag&256&&N.a&&An(N.a,ae),N.isMounted=!0,U=ee=le=null}},ye=N.effect=new g1(de,()=>q2(N.update),N.scope),te=N.update=ye.run.bind(ye);te.id=N.uid,hr(N,!0),te()},X=(N,U,ee)=>{U.component=N;const le=N.vnode.props;N.vnode=U,N.next=null,cx(N,U.props,le,ee),dx(N,U.children,ee),ca(),E1(void 0,N.update),ua()},Le=(N,U,ee,le,ae,_e,be,de,ye=!1)=>{const te=N&&N.children,pe=N?N.shapeFlag:0,he=U.children,{patchFlag:Ae,shapeFlag:we}=U;if(Ae>0){if(Ae&128){He(te,he,ee,le,ae,_e,be,de,ye);return}else if(Ae&256){Pe(te,he,ee,le,ae,_e,be,de,ye);return}}we&8?(pe&16&&ve(te,ae,_e),he!==te&&h(ee,he)):pe&16?we&16?He(te,he,ee,le,ae,_e,be,de,ye):ve(te,ae,_e,!0):(pe&8&&h(ee,""),we&16&&k(he,ee,le,ae,_e,be,de,ye))},Pe=(N,U,ee,le,ae,_e,be,de,ye)=>{N=N||Lo,U=U||Lo;const te=N.length,pe=U.length,he=Math.min(te,pe);let Ae;for(Ae=0;Ae<he;Ae++){const we=U[Ae]=ye?Fs(U[Ae]):Ni(U[Ae]);x(N[Ae],we,ee,null,ae,_e,be,de,ye)}te>pe?ve(N,ae,_e,!0,!1,he):k(U,ee,le,ae,_e,be,de,ye,he)},He=(N,U,ee,le,ae,_e,be,de,ye)=>{let te=0;const pe=U.length;let he=N.length-1,Ae=pe-1;for(;te<=he&&te<=Ae;){const we=N[te],Ge=U[te]=ye?Fs(U[te]):Ni(U[te]);if(yr(we,Ge))x(we,Ge,ee,null,ae,_e,be,de,ye);else break;te++}for(;te<=he&&te<=Ae;){const we=N[he],Ge=U[Ae]=ye?Fs(U[Ae]):Ni(U[Ae]);if(yr(we,Ge))x(we,Ge,ee,null,ae,_e,be,de,ye);else break;he--,Ae--}if(te>he){if(te<=Ae){const we=Ae+1,Ge=we<pe?U[we].el:le;for(;te<=Ae;)x(null,U[te]=ye?Fs(U[te]):Ni(U[te]),ee,Ge,ae,_e,be,de,ye),te++}}else if(te>Ae)for(;te<=he;)ce(N[te],ae,_e,!0),te++;else{const we=te,Ge=te,Fe=new Map;for(te=Ge;te<=Ae;te++){const Yt=U[te]=ye?Fs(U[te]):Ni(U[te]);Yt.key!=null&&Fe.set(Yt.key,te)}let qe,$e=0;const $t=Ae-Ge+1;let yn=!1,Ki=0;const hi=new Array($t);for(te=0;te<$t;te++)hi[te]=0;for(te=we;te<=he;te++){const Yt=N[te];if($e>=$t){ce(Yt,ae,_e,!0);continue}let wn;if(Yt.key!=null)wn=Fe.get(Yt.key);else for(qe=Ge;qe<=Ae;qe++)if(hi[qe-Ge]===0&&yr(Yt,U[qe])){wn=qe;break}wn===void 0?ce(Yt,ae,_e,!0):(hi[wn-Ge]=te+1,wn>=Ki?Ki=wn:yn=!0,x(Yt,U[wn],ee,null,ae,_e,be,de,ye),$e++)}const Qr=yn?gx(hi):Lo;for(qe=Qr.length-1,te=$t-1;te>=0;te--){const Yt=Ge+te,wn=U[Yt],Yr=Yt+1<pe?U[Yt+1].el:le;hi[te]===0?x(null,wn,ee,Yr,ae,_e,be,de,ye):yn&&(qe<0||te!==Qr[qe]?De(wn,ee,Yr,2):qe--)}}},De=(N,U,ee,le,ae=null)=>{const{el:_e,type:be,transition:de,children:ye,shapeFlag:te}=N;if(te&6){De(N.component.subTree,U,ee,le);return}if(te&128){N.suspense.move(U,ee,le);return}if(te&64){be.move(N,U,ee,Qe);return}if(be===gn){i(_e,U,ee);for(let he=0;he<ye.length;he++)De(ye[he],U,ee,le);i(N.anchor,U,ee);return}if(be===gu){E(N,U,ee);return}if(le!==2&&te&1&&de)if(le===0)de.beforeEnter(_e),i(_e,U,ee),An(()=>de.enter(_e),ae);else{const{leave:he,delayLeave:Ae,afterLeave:we}=de,Ge=()=>i(_e,U,ee),Fe=()=>{he(_e,()=>{Ge(),we&&we()})};Ae?Ae(_e,Ge,Fe):Fe()}else i(_e,U,ee)},ce=(N,U,ee,le=!1,ae=!1)=>{const{type:_e,props:be,ref:de,children:ye,dynamicChildren:te,shapeFlag:pe,patchFlag:he,dirs:Ae}=N;if(de!=null&&gp(de,null,ee,N,!0),pe&256){U.ctx.deactivate(N);return}const we=pe&1&&Ae,Ge=!fp(N);let Fe;if(Ge&&(Fe=be&&be.onVnodeBeforeUnmount)&&Ri(Fe,U,N),pe&6)fe(N.component,ee,le);else{if(pe&128){N.suspense.unmount(ee,le);return}we&&ur(N,null,U,"beforeUnmount"),pe&64?N.type.remove(N,U,ee,ae,Qe,le):te&&(_e!==gn||he>0&&he&64)?ve(te,U,ee,!1,!0):(_e===gn&&he&384||!ae&&pe&16)&&ve(ye,U,ee),le&&Te(N)}(Ge&&(Fe=be&&be.onVnodeUnmounted)||we)&&An(()=>{Fe&&Ri(Fe,U,N),we&&ur(N,null,U,"unmounted")},ee)},Te=N=>{const{type:U,el:ee,anchor:le,transition:ae}=N;if(U===gn){re(ee,le);return}if(U===gu){D(N);return}const _e=()=>{s(ee),ae&&!ae.persisted&&ae.afterLeave&&ae.afterLeave()};if(N.shapeFlag&1&&ae&&!ae.persisted){const{leave:be,delayLeave:de}=ae,ye=()=>be(ee,_e);de?de(N.el,_e,ye):ye()}else _e()},re=(N,U)=>{let ee;for(;N!==U;)ee=m(N),s(N),N=ee;s(U)},fe=(N,U,ee)=>{const{bum:le,scope:ae,update:_e,subTree:be,um:de}=N;le&&jd(le),ae.stop(),_e&&(_e.active=!1,ce(be,N,U,ee)),de&&An(de,U),An(()=>{N.isUnmounted=!0},U),U&&U.pendingBranch&&!U.isUnmounted&&N.asyncDep&&!N.asyncResolved&&N.suspenseId===U.pendingId&&(U.deps--,U.deps===0&&U.resolve())},ve=(N,U,ee,le=!1,ae=!1,_e=0)=>{for(let be=_e;be<N.length;be++)ce(N[be],U,ee,le,ae)},Me=N=>N.shapeFlag&6?Me(N.component.subTree):N.shapeFlag&128?N.suspense.next():m(N.anchor||N.el),Re=(N,U,ee)=>{N==null?U._vnode&&ce(U._vnode,null,null,!0):x(U._vnode||null,N,U,null,null,null,ee),X2(),U._vnode=N},Qe={p:x,um:ce,m:De,r:Te,mt:j,mc:k,pc:Le,pbc:K,n:Me,o:n};let Ie,ke;return e&&([Ie,ke]=e(Qe)),{render:Re,hydrate:Ie,createApp:px(Re,Ie)}}function hr({effect:n,update:e},t){n.allowRecurse=e.allowRecurse=t}function f3(n,e,t=!1){const i=n.children,s=e.children;if(je(i)&&je(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=Fs(s[r]),a.el=o.el),t||f3(o,a))}}function gx(n){const e=n.slice(),t=[0];let i,s,r,o,a;const c=n.length;for(i=0;i<c;i++){const u=n[i];if(u!==0){if(s=t[t.length-1],n[s]<u){e[i]=s,t.push(i);continue}for(r=0,o=t.length-1;r<o;)a=r+o>>1,n[t[a]]<u?r=a+1:o=a;u<n[t[r]]&&(r>0&&(e[i]=t[r-1]),t[r]=i)}}for(r=t.length,o=t[r-1];r-- >0;)t[r]=o,o=e[o];return t}const vx=n=>n.__isTeleport,M1="components";function q(n,e){return _3(M1,n,!0,e)||n}const p3=Symbol();function m3(n){return Ut(n)?_3(M1,n,!1)||n:n||p3}function _3(n,e,t=!0,i=!1){const s=zn||Kt;if(s){const r=s.type;if(n===M1){const a=Lx(r);if(a&&(a===e||a===Wi(e)||a===mh(Wi(e))))return r}const o=i_(s[n]||r[n],e)||i_(s.appContext[n],e);return!o&&i?r:o}}function i_(n,e){return n&&(n[e]||n[Wi(e)]||n[mh(Wi(e))])}const gn=Symbol(void 0),B1=Symbol(void 0),Di=Symbol(void 0),gu=Symbol(void 0),vl=[];let Fr=null;function ne(n=!1){vl.push(Fr=n?null:[])}function bx(){vl.pop(),Fr=vl[vl.length-1]||null}let Su=1;function s_(n){Su+=n}function g3(n){return n.dynamicChildren=Su>0?Fr||Lo:null,bx(),Su>0&&Fr&&Fr.push(n),n}function Ee(n,e,t,i,s,r){return g3(b(n,e,t,i,s,r,!0))}function Ve(n,e,t,i,s){return g3(H(n,e,t,i,s,!0))}function Tu(n){return n?n.__v_isVNode===!0:!1}function yr(n,e){return n.type===e.type&&n.key===e.key}const wh="__vInternal",v3=({key:n})=>n!=null?n:null,vu=({ref:n,ref_key:e,ref_for:t})=>n!=null?Ut(n)||nn(n)||Ze(n)?{i:zn,r:n,k:e,f:!!t}:n:null;function b(n,e=null,t=null,i=0,s=null,r=n===gn?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&v3(e),ref:e&&vu(e),scopeId:vh,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null};return a?(P1(c,t),r&128&&n.normalize(c)):t&&(c.shapeFlag|=Ut(t)?8:16),Su>0&&!o&&Fr&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&Fr.push(c),c}const H=yx;function yx(n,e=null,t=null,i=0,s=null,r=!1){if((!n||n===p3)&&(n=Di),Tu(n)){const a=Wo(n,e,!0);return t&&P1(a,t),a}if(Ix(n)&&(n=n.__vccOpts),e){e=wx(e);let{class:a,style:c}=e;a&&!Ut(a)&&(e.class=Ft(a)),Nt(c)&&(H2(c)&&!je(c)&&(c=rn({},c)),e.style=hh(c))}const o=Ut(n)?1:z9(n)?128:vx(n)?64:Nt(n)?4:Ze(n)?2:0;return b(n,e,t,i,s,o,r,!0)}function wx(n){return n?H2(n)||wh in n?rn({},n):n:null}function Wo(n,e,t=!1){const{props:i,ref:s,patchFlag:r,children:o}=n,a=e?Cx(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:a,key:a&&v3(a),ref:e&&e.ref?t&&s?je(s)?s.concat(vu(e)):[s,vu(e)]:vu(e):s,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:o,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==gn?r===-1?16:r|16:r,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Wo(n.ssContent),ssFallback:n.ssFallback&&Wo(n.ssFallback),el:n.el,anchor:n.anchor}}function Ht(n=" ",e=0){return H(B1,null,n,e)}function qi(n,e){const t=H(gu,null,n);return t.staticCount=e,t}function Si(n="",e=!1){return e?(ne(),Ve(Di,null,n)):H(Di,null,n)}function Ni(n){return n==null||typeof n=="boolean"?H(Di):je(n)?H(gn,null,n.slice()):typeof n=="object"?Fs(n):H(B1,null,String(n))}function Fs(n){return n.el===null||n.memo?n:Wo(n)}function P1(n,e){let t=0;const{shapeFlag:i}=n;if(e==null)e=null;else if(je(e))t=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),P1(n,s()),s._c&&(s._d=!0));return}else{t=32;const s=e._;!s&&!(wh in e)?e._ctx=zn:s===3&&zn&&(zn.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else Ze(e)?(e={default:e,_ctx:zn},t=32):(e=String(e),i&64?(t=16,e=[Ht(e)]):t=8);n.children=e,n.shapeFlag|=t}function Cx(...n){const e={};for(let t=0;t<n.length;t++){const i=n[t];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=Ft([e.class,i.class]));else if(s==="style")e.style=hh([e.style,i.style]);else if(dh(s)){const r=e[s],o=i[s];o&&r!==o&&!(je(r)&&r.includes(o))&&(e[s]=r?[].concat(r,o):o)}else s!==""&&(e[s]=i[s])}return e}function Ri(n,e,t,i=null){ri(n,e,7,[t,i])}function F1(n,e,t,i){let s;const r=t&&t[i];if(je(n)||Ut(n)){s=new Array(n.length);for(let o=0,a=n.length;o<a;o++)s[o]=e(n[o],o,void 0,r&&r[o])}else if(typeof n=="number"){s=new Array(n);for(let o=0;o<n;o++)s[o]=e(o+1,o,void 0,r&&r[o])}else if(Nt(n))if(n[Symbol.iterator])s=Array.from(n,(o,a)=>e(o,a,void 0,r&&r[a]));else{const o=Object.keys(n);s=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const u=o[a];s[a]=e(n[u],u,a,r&&r[a])}}else s=[];return t&&(t[i]=s),s}function xx(n,e){for(let t=0;t<e.length;t++){const i=e[t];if(je(i))for(let s=0;s<i.length;s++)n[i[s].name]=i[s].fn;else i&&(n[i.name]=i.fn)}return n}function pn(n,e,t={},i,s){if(zn.isCE)return H("slot",e==="default"?null:{name:e},i&&i());let r=n[e];r&&r._c&&(r._d=!1),ne();const o=r&&b3(r(t)),a=Ve(gn,{key:t.key||`_${e}`},o||(i?i():[]),o&&n._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function b3(n){return n.some(e=>Tu(e)?!(e.type===Di||e.type===gn&&!b3(e.children)):!0)?n:null}const vp=n=>n?y3(n)?L1(n)||n.proxy:vp(n.parent):null,Mu=rn(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>vp(n.parent),$root:n=>vp(n.root),$emit:n=>n.emit,$options:n=>o3(n),$forceUpdate:n=>()=>q2(n.update),$nextTick:n=>Pr.bind(n.proxy),$watch:n=>$9.bind(n)}),Ex={get({_:n},e){const{ctx:t,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:c}=n;let u;if(e[0]!=="$"){const _=o[e];if(_!==void 0)switch(_){case 1:return i[e];case 2:return s[e];case 4:return t[e];case 3:return r[e]}else{if(i!==Ct&&ct(i,e))return o[e]=1,i[e];if(s!==Ct&&ct(s,e))return o[e]=2,s[e];if((u=n.propsOptions[0])&&ct(u,e))return o[e]=3,r[e];if(t!==Ct&&ct(t,e))return o[e]=4,t[e];pp&&(o[e]=0)}}const h=Mu[e];let f,m;if(h)return e==="$attrs"&&Wn(n,"get",e),h(n);if((f=a.__cssModules)&&(f=f[e]))return f;if(t!==Ct&&ct(t,e))return o[e]=4,t[e];if(m=c.config.globalProperties,ct(m,e))return m[e]},set({_:n},e,t){const{data:i,setupState:s,ctx:r}=n;return s!==Ct&&ct(s,e)?(s[e]=t,!0):i!==Ct&&ct(i,e)?(i[e]=t,!0):ct(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(r[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!t[o]||n!==Ct&&ct(n,o)||e!==Ct&&ct(e,o)||(a=r[0])&&ct(a,o)||ct(i,o)||ct(Mu,o)||ct(s.config.globalProperties,o)},defineProperty(n,e,t){return t.get!=null?this.set(n,e,t.get(),null):t.value!=null&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}},Ax=d3();let Dx=0;function Sx(n,e,t){const i=n.type,s=(e?e.appContext:n.appContext)||Ax,r={uid:Dx++,vnode:n,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new XC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:l3(i,s),emitsOptions:Q2(i,s),emit:null,emitted:null,propsDefaults:Ct,inheritAttrs:i.inheritAttrs,ctx:Ct,data:Ct,props:Ct,attrs:Ct,slots:Ct,refs:Ct,setupState:Ct,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=I9.bind(null,r),n.ce&&n.ce(r),r}let Kt=null;const Tx=()=>Kt||zn,jo=n=>{Kt=n,n.scope.on()},Lr=()=>{Kt&&Kt.scope.off(),Kt=null};function y3(n){return n.vnode.shapeFlag&4}let Ol=!1;function Mx(n,e=!1){Ol=e;const{props:t,children:i}=n.vnode,s=y3(n);lx(n,t,s,e),hx(n,i);const r=s?Bx(n,e):void 0;return Ol=!1,r}function Bx(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=z2(new Proxy(n.ctx,Ex));const{setup:i}=t;if(i){const s=n.setupContext=i.length>1?Fx(n):null;jo(n),ca();const r=zs(i,n,0,[n.props,s]);if(ua(),Lr(),E2(r)){if(r.then(Lr,Lr),e)return r.then(o=>{r_(n,o,e)}).catch(o=>{gh(o,n,0)});n.asyncDep=r}else r_(n,r,e)}else w3(n,e)}function r_(n,e,t){Ze(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:Nt(e)&&(n.setupState=W2(e)),w3(n,t)}let o_;function w3(n,e,t){const i=n.type;if(!n.render){if(!e&&o_&&!i.render){const s=i.template;if(s){const{isCustomElement:r,compilerOptions:o}=n.appContext.config,{delimiters:a,compilerOptions:c}=i,u=rn(rn({isCustomElement:r,delimiters:a},o),c);i.render=o_(s,u)}}n.render=i.render||Ei}jo(n),ca(),ix(n),ua(),Lr()}function Px(n){return new Proxy(n.attrs,{get(e,t){return Wn(n,"get","$attrs"),e[t]}})}function Fx(n){const e=i=>{n.exposed=i||{}};let t;return{get attrs(){return t||(t=Px(n))},slots:n.slots,emit:n.emit,expose:e}}function L1(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(W2(z2(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Mu)return Mu[t](n)}}))}function Lx(n){return Ze(n)&&n.displayName||n.name}function Ix(n){return Ze(n)&&"__vccOpts"in n}const pt=(n,e)=>T9(n,e,Ol);function I1(n,e,t){const i=arguments.length;return i===2?Nt(e)&&!je(e)?Tu(e)?H(n,null,[e]):H(n,e):H(n,null,e):(i>3?t=Array.prototype.slice.call(arguments,2):i===3&&Tu(t)&&(t=[t]),H(n,e,t))}const Rx="3.2.31",kx="http://www.w3.org/2000/svg",wr=typeof document!="undefined"?document:null,a_=wr&&wr.createElement("template"),Ox={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,i)=>{const s=e?wr.createElementNS(kx,n):wr.createElement(n,t?{is:t}:void 0);return n==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:n=>wr.createTextNode(n),createComment:n=>wr.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>wr.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},cloneNode(n){const e=n.cloneNode(!0);return"_value"in n&&(e._value=n._value),e},insertStaticContent(n,e,t,i,s,r){const o=t?t.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),t),!(s===r||!(s=s.nextSibling)););else{a_.innerHTML=i?`<svg>${n}</svg>`:n;const a=a_.content;if(i){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function Nx(n,e,t){const i=n._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}function Vx(n,e,t){const i=n.style,s=Ut(t);if(t&&!s){for(const r in t)bp(i,r,t[r]);if(e&&!Ut(e))for(const r in e)t[r]==null&&bp(i,r,"")}else{const r=i.display;s?e!==t&&(i.cssText=t):e&&n.removeAttribute("style"),"_vod"in n&&(i.display=r)}}const l_=/\s*!important$/;function bp(n,e,t){if(je(t))t.forEach(i=>bp(n,e,i));else if(e.startsWith("--"))n.setProperty(e,t);else{const i=Hx(n,e);l_.test(t)?n.setProperty(la(i),t.replace(l_,""),"important"):n[i]=t}}const c_=["Webkit","Moz","ms"],Jd={};function Hx(n,e){const t=Jd[e];if(t)return t;let i=Wi(e);if(i!=="filter"&&i in n)return Jd[e]=i;i=mh(i);for(let s=0;s<c_.length;s++){const r=c_[s]+i;if(r in n)return Jd[e]=r}return e}const u_="http://www.w3.org/1999/xlink";function zx(n,e,t,i,s){if(i&&e.startsWith("xlink:"))t==null?n.removeAttributeNS(u_,e.slice(6,e.length)):n.setAttributeNS(u_,e,t);else{const r=VC(e);t==null||r&&!w2(t)?n.removeAttribute(e):n.setAttribute(e,r?"":t)}}function Ux(n,e,t,i,s,r,o){if(e==="innerHTML"||e==="textContent"){i&&o(i,s,r),n[e]=t==null?"":t;return}if(e==="value"&&n.tagName!=="PROGRESS"&&!n.tagName.includes("-")){n._value=t;const a=t==null?"":t;(n.value!==a||n.tagName==="OPTION")&&(n.value=a),t==null&&n.removeAttribute(e);return}if(t===""||t==null){const a=typeof n[e];if(a==="boolean"){n[e]=w2(t);return}else if(t==null&&a==="string"){n[e]="",n.removeAttribute(e);return}else if(a==="number"){try{n[e]=0}catch{}n.removeAttribute(e);return}}try{n[e]=t}catch{}}let Bu=Date.now,C3=!1;if(typeof window!="undefined"){Bu()>document.createEvent("Event").timeStamp&&(Bu=()=>performance.now());const n=navigator.userAgent.match(/firefox\/(\d+)/i);C3=!!(n&&Number(n[1])<=53)}let yp=0;const Gx=Promise.resolve(),$x=()=>{yp=0},Wx=()=>yp||(Gx.then($x),yp=Bu());function jx(n,e,t,i){n.addEventListener(e,t,i)}function qx(n,e,t,i){n.removeEventListener(e,t,i)}function Kx(n,e,t,i,s=null){const r=n._vei||(n._vei={}),o=r[e];if(i&&o)o.value=i;else{const[a,c]=Jx(e);if(i){const u=r[e]=Xx(i,s);jx(n,a,u,c)}else o&&(qx(n,a,o,c),r[e]=void 0)}}const h_=/(?:Once|Passive|Capture)$/;function Jx(n){let e;if(h_.test(n)){e={};let t;for(;t=n.match(h_);)n=n.slice(0,n.length-t[0].length),e[t[0].toLowerCase()]=!0}return[la(n.slice(2)),e]}function Xx(n,e){const t=i=>{const s=i.timeStamp||Bu();(C3||s>=t.attached-1)&&ri(Zx(i,t.value),e,5,[i])};return t.value=n,t.attached=Wx(),t}function Zx(n,e){if(je(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const d_=/^on[a-z]/,Qx=(n,e,t,i,s=!1,r,o,a,c)=>{e==="class"?Nx(n,i,s):e==="style"?Vx(n,t,i):dh(e)?d1(e)||Kx(n,e,t,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Yx(n,e,i,s))?Ux(n,e,i,r,o,a,c):(e==="true-value"?n._trueValue=i:e==="false-value"&&(n._falseValue=i),zx(n,e,i,s))};function Yx(n,e,t,i){return i?!!(e==="innerHTML"||e==="textContent"||e in n&&d_.test(e)&&Ze(t)):e==="spellcheck"||e==="draggable"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||d_.test(e)&&Ut(t)?!1:e in n}const As="transition",Za="animation",ot=(n,{slots:e})=>I1(e3,e6(n),e);ot.displayName="Transition";const x3={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};ot.props=rn({},e3.props,x3);const dr=(n,e=[])=>{je(n)?n.forEach(t=>t(...e)):n&&n(...e)},f_=n=>n?je(n)?n.some(e=>e.length>1):n.length>1:!1;function e6(n){const e={};for(const R in n)R in x3||(e[R]=n[R]);if(n.css===!1)return e;const{name:t="v",type:i,duration:s,enterFromClass:r=`${t}-enter-from`,enterActiveClass:o=`${t}-enter-active`,enterToClass:a=`${t}-enter-to`,appearFromClass:c=r,appearActiveClass:u=o,appearToClass:h=a,leaveFromClass:f=`${t}-leave-from`,leaveActiveClass:m=`${t}-leave-active`,leaveToClass:_=`${t}-leave-to`}=n,y=t6(s),w=y&&y[0],x=y&&y[1],{onBeforeEnter:M,onEnter:P,onEnterCancelled:F,onLeave:E,onLeaveCancelled:D,onBeforeAppear:B=M,onAppear:I=P,onAppearCancelled:L=F}=e,k=(R,G,O)=>{mo(R,G?h:a),mo(R,G?u:o),O&&O()},W=(R,G)=>{mo(R,_),mo(R,m),G&&G()},K=R=>(G,O)=>{const j=R?I:P,$=()=>k(G,R,O);dr(j,[G,$]),p_(()=>{mo(G,R?c:r),Ds(G,R?h:a),f_(j)||m_(G,i,w,$)})};return rn(e,{onBeforeEnter(R){dr(M,[R]),Ds(R,r),Ds(R,o)},onBeforeAppear(R){dr(B,[R]),Ds(R,c),Ds(R,u)},onEnter:K(!1),onAppear:K(!0),onLeave(R,G){const O=()=>W(R,G);Ds(R,f),s6(),Ds(R,m),p_(()=>{mo(R,f),Ds(R,_),f_(E)||m_(R,i,x,O)}),dr(E,[R,O])},onEnterCancelled(R){k(R,!1),dr(F,[R])},onAppearCancelled(R){k(R,!0),dr(L,[R])},onLeaveCancelled(R){W(R),dr(D,[R])}})}function t6(n){if(n==null)return null;if(Nt(n))return[Xd(n.enter),Xd(n.leave)];{const e=Xd(n);return[e,e]}}function Xd(n){return S2(n)}function Ds(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n._vtc||(n._vtc=new Set)).add(e)}function mo(n,e){e.split(/\s+/).forEach(i=>i&&n.classList.remove(i));const{_vtc:t}=n;t&&(t.delete(e),t.size||(n._vtc=void 0))}function p_(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let n6=0;function m_(n,e,t,i){const s=n._endId=++n6,r=()=>{s===n._endId&&i()};if(t)return setTimeout(r,t);const{type:o,timeout:a,propCount:c}=i6(n,e);if(!o)return i();const u=o+"end";let h=0;const f=()=>{n.removeEventListener(u,m),r()},m=_=>{_.target===n&&++h>=c&&f()};setTimeout(()=>{h<c&&f()},a+1),n.addEventListener(u,m)}function i6(n,e){const t=window.getComputedStyle(n),i=y=>(t[y]||"").split(", "),s=i(As+"Delay"),r=i(As+"Duration"),o=__(s,r),a=i(Za+"Delay"),c=i(Za+"Duration"),u=__(a,c);let h=null,f=0,m=0;e===As?o>0&&(h=As,f=o,m=r.length):e===Za?u>0&&(h=Za,f=u,m=c.length):(f=Math.max(o,u),h=f>0?o>u?As:Za:null,m=h?h===As?r.length:c.length:0);const _=h===As&&/\b(transform|all)(,|$)/.test(t[As+"Property"]);return{type:h,timeout:f,propCount:m,hasTransform:_}}function __(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,i)=>g_(t)+g_(n[i])))}function g_(n){return Number(n.slice(0,-1).replace(",","."))*1e3}function s6(){return document.body.offsetHeight}const Je={beforeMount(n,{value:e},{transition:t}){n._vod=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):Qa(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:i}){!e!=!t&&(i?e?(i.beforeEnter(n),Qa(n,!0),i.enter(n)):i.leave(n,()=>{Qa(n,!1)}):Qa(n,e))},beforeUnmount(n,{value:e}){Qa(n,e)}};function Qa(n,e){n.style.display=e?n._vod:"none"}const r6=rn({patchProp:Qx},Ox);let v_;function o6(){return v_||(v_=mx(r6))}const a6=(...n)=>{const e=o6().createApp(...n),{mount:t}=e;return e.mount=i=>{const s=l6(i);if(!s)return;const r=e._component;!Ze(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const o=t(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function l6(n){return Ut(n)?document.querySelector(n):n}function c6(){if(navigator.userAgent.toLowerCase().includes("chrome")){const n=[`
 %c Made with \u2665 by Dogstudio %c %c %c http://www.dogstudio.co/ %c %c 
`,"color: #fff; background: #e43333; padding:5px 0;","background: #131419; padding:5px 0;","background: #131419; padding:5px 0;","color: #fff; background: #1c1c1c; padding:5px 0;","background: #fff; padding:5px 0;","color: #e43333; background: #fff; padding:5px 0;"];window.console.log.apply(console,n)}else window.console&&window.console.log("Made with love \u2665 Dogstudio - http://www.dogstudio.co/")}c6();/*!
  * vue-router v4.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const E3=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",da=n=>E3?Symbol(n):"_vr_"+n,u6=da("rvlm"),b_=da("rvd"),R1=da("r"),A3=da("rl"),wp=da("rvl"),Do=typeof window!="undefined";function h6(n){return n.__esModule||E3&&n[Symbol.toStringTag]==="Module"}const wt=Object.assign;function Zd(n,e){const t={};for(const i in e){const s=e[i];t[i]=Array.isArray(s)?s.map(n):n(s)}return t}const bl=()=>{},d6=/\/$/,f6=n=>n.replace(d6,"");function Qd(n,e,t="/"){let i,s={},r="",o="";const a=e.indexOf("?"),c=e.indexOf("#",a>-1?a:0);return a>-1&&(i=e.slice(0,a),r=e.slice(a+1,c>-1?c:e.length),s=n(r)),c>-1&&(i=i||e.slice(0,c),o=e.slice(c,e.length)),i=g6(i!=null?i:e,t),{fullPath:i+(r&&"?")+r+o,path:i,query:s,hash:o}}function p6(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function y_(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function m6(n,e,t){const i=e.matched.length-1,s=t.matched.length-1;return i>-1&&i===s&&qo(e.matched[i],t.matched[s])&&D3(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function qo(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function D3(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!_6(n[t],e[t]))return!1;return!0}function _6(n,e){return Array.isArray(n)?w_(n,e):Array.isArray(e)?w_(e,n):n===e}function w_(n,e){return Array.isArray(e)?n.length===e.length&&n.every((t,i)=>t===e[i]):n.length===1&&n[0]===e}function g6(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),i=n.split("/");let s=t.length-1,r,o;for(r=0;r<i.length;r++)if(o=i[r],!(s===1||o==="."))if(o==="..")s--;else break;return t.slice(0,s).join("/")+"/"+i.slice(r-(r===i.length?1:0)).join("/")}var Nl;(function(n){n.pop="pop",n.push="push"})(Nl||(Nl={}));var yl;(function(n){n.back="back",n.forward="forward",n.unknown=""})(yl||(yl={}));function v6(n){if(!n)if(Do){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),f6(n)}const b6=/^[^#]+#/;function y6(n,e){return n.replace(b6,"#")+e}function w6(n,e){const t=document.documentElement.getBoundingClientRect(),i=n.getBoundingClientRect();return{behavior:e.behavior,left:i.left-t.left-(e.left||0),top:i.top-t.top-(e.top||0)}}const Ch=()=>({left:window.pageXOffset,top:window.pageYOffset});function C6(n){let e;if("el"in n){const t=n.el,i=typeof t=="string"&&t.startsWith("#"),s=typeof t=="string"?i?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!s)return;e=w6(s,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function C_(n,e){return(history.state?history.state.position-e:-1)+n}const Cp=new Map;function x6(n,e){Cp.set(n,e)}function E6(n){const e=Cp.get(n);return Cp.delete(n),e}let A6=()=>location.protocol+"//"+location.host;function S3(n,e){const{pathname:t,search:i,hash:s}=e,r=n.indexOf("#");if(r>-1){let a=s.includes(n.slice(r))?n.slice(r).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),y_(c,"")}return y_(t,n)+i+s}function D6(n,e,t,i){let s=[],r=[],o=null;const a=({state:m})=>{const _=S3(n,location),y=t.value,w=e.value;let x=0;if(m){if(t.value=_,e.value=m,o&&o===y){o=null;return}x=w?m.position-w.position:0}else i(_);s.forEach(M=>{M(t.value,y,{delta:x,type:Nl.pop,direction:x?x>0?yl.forward:yl.back:yl.unknown})})};function c(){o=t.value}function u(m){s.push(m);const _=()=>{const y=s.indexOf(m);y>-1&&s.splice(y,1)};return r.push(_),_}function h(){const{history:m}=window;!m.state||m.replaceState(wt({},m.state,{scroll:Ch()}),"")}function f(){for(const m of r)m();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h),{pauseListeners:c,listen:u,destroy:f}}function x_(n,e,t,i=!1,s=!1){return{back:n,current:e,forward:t,replaced:i,position:window.history.length,scroll:s?Ch():null}}function S6(n){const{history:e,location:t}=window,i={value:S3(n,t)},s={value:e.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(c,u,h){const f=n.indexOf("#"),m=f>-1?(t.host&&document.querySelector("base")?n:n.slice(f))+c:A6()+n+c;try{e[h?"replaceState":"pushState"](u,"",m),s.value=u}catch(_){console.error(_),t[h?"replace":"assign"](m)}}function o(c,u){const h=wt({},e.state,x_(s.value.back,c,s.value.forward,!0),u,{position:s.value.position});r(c,h,!0),i.value=c}function a(c,u){const h=wt({},s.value,e.state,{forward:c,scroll:Ch()});r(h.current,h,!0);const f=wt({},x_(i.value,c,null),{position:h.position+1},u);r(c,f,!1),i.value=c}return{location:i,state:s,push:a,replace:o}}function T6(n){n=v6(n);const e=S6(n),t=D6(n,e.state,e.location,e.replace);function i(r,o=!0){o||t.pauseListeners(),history.go(r)}const s=wt({location:"",base:n,go:i,createHref:y6.bind(null,n)},e,t);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function M6(n){return typeof n=="string"||n&&typeof n=="object"}function T3(n){return typeof n=="string"||typeof n=="symbol"}const Ss={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},M3=da("nf");var E_;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(E_||(E_={}));function Ko(n,e){return wt(new Error,{type:n,[M3]:!0},e)}function Ts(n,e){return n instanceof Error&&M3 in n&&(e==null||!!(n.type&e))}const A_="[^/]+?",B6={sensitive:!1,strict:!1,start:!0,end:!0},P6=/[.+*?^${}()[\]/\\]/g;function F6(n,e){const t=wt({},B6,e),i=[];let s=t.start?"^":"";const r=[];for(const u of n){const h=u.length?[]:[90];t.strict&&!u.length&&(s+="/");for(let f=0;f<u.length;f++){const m=u[f];let _=40+(t.sensitive?.25:0);if(m.type===0)f||(s+="/"),s+=m.value.replace(P6,"\\$&"),_+=40;else if(m.type===1){const{value:y,repeatable:w,optional:x,regexp:M}=m;r.push({name:y,repeatable:w,optional:x});const P=M||A_;if(P!==A_){_+=10;try{new RegExp(`(${P})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${y}" (${P}): `+E.message)}}let F=w?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;f||(F=x&&u.length<2?`(?:/${F})`:"/"+F),x&&(F+="?"),s+=F,_+=20,x&&(_+=-8),w&&(_+=-20),P===".*"&&(_+=-50)}h.push(_)}i.push(h)}if(t.strict&&t.end){const u=i.length-1;i[u][i[u].length-1]+=.7000000000000001}t.strict||(s+="/?"),t.end?s+="$":t.strict&&(s+="(?:/|$)");const o=new RegExp(s,t.sensitive?"":"i");function a(u){const h=u.match(o),f={};if(!h)return null;for(let m=1;m<h.length;m++){const _=h[m]||"",y=r[m-1];f[y.name]=_&&y.repeatable?_.split("/"):_}return f}function c(u){let h="",f=!1;for(const m of n){(!f||!h.endsWith("/"))&&(h+="/"),f=!1;for(const _ of m)if(_.type===0)h+=_.value;else if(_.type===1){const{value:y,repeatable:w,optional:x}=_,M=y in u?u[y]:"";if(Array.isArray(M)&&!w)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const P=Array.isArray(M)?M.join("/"):M;if(!P)if(x)m.length<2&&(h.endsWith("/")?h=h.slice(0,-1):f=!0);else throw new Error(`Missing required param "${y}"`);h+=P}}return h}return{re:o,score:i,keys:r,parse:a,stringify:c}}function L6(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=e[t]-n[t];if(i)return i;t++}return n.length<e.length?n.length===1&&n[0]===40+40?-1:1:n.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function I6(n,e){let t=0;const i=n.score,s=e.score;for(;t<i.length&&t<s.length;){const r=L6(i[t],s[t]);if(r)return r;t++}return s.length-i.length}const R6={type:0,value:""},k6=/[a-zA-Z0-9_]/;function O6(n){if(!n)return[[]];if(n==="/")return[[R6]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(_){throw new Error(`ERR (${t})/"${u}": ${_}`)}let t=0,i=t;const s=[];let r;function o(){r&&s.push(r),r=[]}let a=0,c,u="",h="";function f(){!u||(t===0?r.push({type:0,value:u}):t===1||t===2||t===3?(r.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:u,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),u="")}function m(){u+=c}for(;a<n.length;){if(c=n[a++],c==="\\"&&t!==2){i=t,t=4;continue}switch(t){case 0:c==="/"?(u&&f(),o()):c===":"?(f(),t=1):m();break;case 4:m(),t=i;break;case 1:c==="("?t=2:k6.test(c)?m():(f(),t=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:t=3:h+=c;break;case 3:f(),t=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,h="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),o(),s}function N6(n,e,t){const i=F6(O6(n.path),t),s=wt(i,{record:n,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function V6(n,e){const t=[],i=new Map;e=S_({strict:!1,end:!0,sensitive:!1},e);function s(h){return i.get(h)}function r(h,f,m){const _=!m,y=z6(h);y.aliasOf=m&&m.record;const w=S_(e,h),x=[y];if("alias"in h){const F=typeof h.alias=="string"?[h.alias]:h.alias;for(const E of F)x.push(wt({},y,{components:m?m.record.components:y.components,path:E,aliasOf:m?m.record:y}))}let M,P;for(const F of x){const{path:E}=F;if(f&&E[0]!=="/"){const D=f.record.path,B=D[D.length-1]==="/"?"":"/";F.path=f.record.path+(E&&B+E)}if(M=N6(F,f,w),m?m.alias.push(M):(P=P||M,P!==M&&P.alias.push(M),_&&h.name&&!D_(M)&&o(h.name)),"children"in y){const D=y.children;for(let B=0;B<D.length;B++)r(D[B],M,m&&m.children[B])}m=m||M,c(M)}return P?()=>{o(P)}:bl}function o(h){if(T3(h)){const f=i.get(h);f&&(i.delete(h),t.splice(t.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=t.indexOf(h);f>-1&&(t.splice(f,1),h.record.name&&i.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return t}function c(h){let f=0;for(;f<t.length&&I6(h,t[f])>=0&&(h.record.path!==t[f].record.path||!B3(h,t[f]));)f++;t.splice(f,0,h),h.record.name&&!D_(h)&&i.set(h.record.name,h)}function u(h,f){let m,_={},y,w;if("name"in h&&h.name){if(m=i.get(h.name),!m)throw Ko(1,{location:h});w=m.record.name,_=wt(H6(f.params,m.keys.filter(P=>!P.optional).map(P=>P.name)),h.params),y=m.stringify(_)}else if("path"in h)y=h.path,m=t.find(P=>P.re.test(y)),m&&(_=m.parse(y),w=m.record.name);else{if(m=f.name?i.get(f.name):t.find(P=>P.re.test(f.path)),!m)throw Ko(1,{location:h,currentLocation:f});w=m.record.name,_=wt({},f.params,h.params),y=m.stringify(_)}const x=[];let M=m;for(;M;)x.unshift(M.record),M=M.parent;return{name:w,path:y,params:_,matched:x,meta:G6(x)}}return n.forEach(h=>r(h)),{addRoute:r,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function H6(n,e){const t={};for(const i of e)i in n&&(t[i]=n[i]);return t}function z6(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:U6(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||{}:{default:n.component}}}function U6(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const i in n.components)e[i]=typeof t=="boolean"?t:t[i];return e}function D_(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function G6(n){return n.reduce((e,t)=>wt(e,t.meta),{})}function S_(n,e){const t={};for(const i in n)t[i]=i in e?e[i]:n[i];return t}function B3(n,e){return e.children.some(t=>t===n||B3(n,t))}const P3=/#/g,$6=/&/g,W6=/\//g,j6=/=/g,q6=/\?/g,F3=/\+/g,K6=/%5B/g,J6=/%5D/g,L3=/%5E/g,X6=/%60/g,I3=/%7B/g,Z6=/%7C/g,R3=/%7D/g,Q6=/%20/g;function k1(n){return encodeURI(""+n).replace(Z6,"|").replace(K6,"[").replace(J6,"]")}function Y6(n){return k1(n).replace(I3,"{").replace(R3,"}").replace(L3,"^")}function xp(n){return k1(n).replace(F3,"%2B").replace(Q6,"+").replace(P3,"%23").replace($6,"%26").replace(X6,"`").replace(I3,"{").replace(R3,"}").replace(L3,"^")}function e8(n){return xp(n).replace(j6,"%3D")}function t8(n){return k1(n).replace(P3,"%23").replace(q6,"%3F")}function n8(n){return n==null?"":t8(n).replace(W6,"%2F")}function Pu(n){try{return decodeURIComponent(""+n)}catch{}return""+n}function i8(n){const e={};if(n===""||n==="?")return e;const i=(n[0]==="?"?n.slice(1):n).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(F3," "),o=r.indexOf("="),a=Pu(o<0?r:r.slice(0,o)),c=o<0?null:Pu(r.slice(o+1));if(a in e){let u=e[a];Array.isArray(u)||(u=e[a]=[u]),u.push(c)}else e[a]=c}return e}function T_(n){let e="";for(let t in n){const i=n[t];if(t=e8(t),i==null){i!==void 0&&(e+=(e.length?"&":"")+t);continue}(Array.isArray(i)?i.map(r=>r&&xp(r)):[i&&xp(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+t,r!=null&&(e+="="+r))})}return e}function s8(n){const e={};for(const t in n){const i=n[t];i!==void 0&&(e[t]=Array.isArray(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}function Ya(){let n=[];function e(i){return n.push(i),()=>{const s=n.indexOf(i);s>-1&&n.splice(s,1)}}function t(){n=[]}return{add:e,list:()=>n,reset:t}}function Ls(n,e,t,i,s){const r=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const c=f=>{f===!1?a(Ko(4,{from:t,to:e})):f instanceof Error?a(f):M6(f)?a(Ko(2,{from:e,to:f})):(r&&i.enterCallbacks[s]===r&&typeof f=="function"&&r.push(f),o())},u=n.call(i&&i.instances[s],e,t,c);let h=Promise.resolve(u);n.length<3&&(h=h.then(c)),h.catch(f=>a(f))})}function Yd(n,e,t,i){const s=[];for(const r of n)for(const o in r.components){let a=r.components[o];if(!(e!=="beforeRouteEnter"&&!r.instances[o]))if(r8(a)){const u=(a.__vccOpts||a)[e];u&&s.push(Ls(u,t,i,r,o))}else{let c=a();s.push(()=>c.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${r.path}"`));const h=h6(u)?u.default:u;r.components[o]=h;const m=(h.__vccOpts||h)[e];return m&&Ls(m,t,i,r,o)()}))}}return s}function r8(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function M_(n){const e=Us(R1),t=Us(A3),i=pt(()=>e.resolve(ml(n.to))),s=pt(()=>{const{matched:c}=i.value,{length:u}=c,h=c[u-1],f=t.matched;if(!h||!f.length)return-1;const m=f.findIndex(qo.bind(null,h));if(m>-1)return m;const _=B_(c[u-2]);return u>1&&B_(h)===_&&f[f.length-1].path!==_?f.findIndex(qo.bind(null,c[u-2])):m}),r=pt(()=>s.value>-1&&c8(t.params,i.value.params)),o=pt(()=>s.value>-1&&s.value===t.matched.length-1&&D3(t.params,i.value.params));function a(c={}){return l8(c)?e[ml(n.replace)?"replace":"push"](ml(n.to)).catch(bl):Promise.resolve()}return{route:i,href:pt(()=>i.value.href),isActive:r,isExactActive:o,navigate:a}}const o8=i3({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:M_,setup(n,{slots:e}){const t=ha(M_(n)),{options:i}=Us(R1),s=pt(()=>({[P_(n.activeClass,i.linkActiveClass,"router-link-active")]:t.isActive,[P_(n.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const r=e.default&&e.default(t);return n.custom?r:I1("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:s.value},r)}}}),a8=o8;function l8(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function c8(n,e){for(const t in e){const i=e[t],s=n[t];if(typeof i=="string"){if(i!==s)return!1}else if(!Array.isArray(s)||s.length!==i.length||i.some((r,o)=>r!==s[o]))return!1}return!0}function B_(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const P_=(n,e,t)=>n!=null?n:e!=null?e:t,u8=i3({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(n,{attrs:e,slots:t}){const i=Us(wp),s=pt(()=>n.route||i.value),r=Us(b_,0),o=pt(()=>s.value.matched[r]);mu(b_,r+1),mu(u6,o),mu(wp,s);const a=J();return _u(()=>[a.value,o.value,n.name],([c,u,h],[f,m,_])=>{u&&(u.instances[h]=c,m&&m!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=m.leaveGuards),u.updateGuards.size||(u.updateGuards=m.updateGuards))),c&&u&&(!m||!qo(u,m)||!f)&&(u.enterCallbacks[h]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=s.value,u=o.value,h=u&&u.components[n.name],f=n.name;if(!h)return F_(t.default,{Component:h,route:c});const m=u.props[n.name],_=m?m===!0?c.params:typeof m=="function"?m(c):m:null,w=I1(h,wt({},_,e,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(u.instances[f]=null)},ref:a}));return F_(t.default,{Component:w,route:c})||w}}});function F_(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const h8=u8;function d8(n){const e=V6(n.routes,n),t=n.parseQuery||i8,i=n.stringifyQuery||T_,s=n.history,r=Ya(),o=Ya(),a=Ya(),c=E9(Ss);let u=Ss;Do&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Zd.bind(null,re=>""+re),f=Zd.bind(null,n8),m=Zd.bind(null,Pu);function _(re,fe){let ve,Me;return T3(re)?(ve=e.getRecordMatcher(re),Me=fe):Me=re,e.addRoute(Me,ve)}function y(re){const fe=e.getRecordMatcher(re);fe&&e.removeRoute(fe)}function w(){return e.getRoutes().map(re=>re.record)}function x(re){return!!e.getRecordMatcher(re)}function M(re,fe){if(fe=wt({},fe||c.value),typeof re=="string"){const ke=Qd(t,re,fe.path),N=e.resolve({path:ke.path},fe),U=s.createHref(ke.fullPath);return wt(ke,N,{params:m(N.params),hash:Pu(ke.hash),redirectedFrom:void 0,href:U})}let ve;if("path"in re)ve=wt({},re,{path:Qd(t,re.path,fe.path).path});else{const ke=wt({},re.params);for(const N in ke)ke[N]==null&&delete ke[N];ve=wt({},re,{params:f(re.params)}),fe.params=f(fe.params)}const Me=e.resolve(ve,fe),Re=re.hash||"";Me.params=h(m(Me.params));const Qe=p6(i,wt({},re,{hash:Y6(Re),path:Me.path})),Ie=s.createHref(Qe);return wt({fullPath:Qe,hash:Re,query:i===T_?s8(re.query):re.query||{}},Me,{redirectedFrom:void 0,href:Ie})}function P(re){return typeof re=="string"?Qd(t,re,c.value.path):wt({},re)}function F(re,fe){if(u!==re)return Ko(8,{from:fe,to:re})}function E(re){return I(re)}function D(re){return E(wt(P(re),{replace:!0}))}function B(re){const fe=re.matched[re.matched.length-1];if(fe&&fe.redirect){const{redirect:ve}=fe;let Me=typeof ve=="function"?ve(re):ve;return typeof Me=="string"&&(Me=Me.includes("?")||Me.includes("#")?Me=P(Me):{path:Me},Me.params={}),wt({query:re.query,hash:re.hash,params:re.params},Me)}}function I(re,fe){const ve=u=M(re),Me=c.value,Re=re.state,Qe=re.force,Ie=re.replace===!0,ke=B(ve);if(ke)return I(wt(P(ke),{state:Re,force:Qe,replace:Ie}),fe||ve);const N=ve;N.redirectedFrom=fe;let U;return!Qe&&m6(i,Me,ve)&&(U=Ko(16,{to:N,from:Me}),Pe(Me,Me,!0,!1)),(U?Promise.resolve(U):k(N,Me)).catch(ee=>Ts(ee)?Ts(ee,2)?ee:Le(ee):se(ee,N,Me)).then(ee=>{if(ee){if(Ts(ee,2))return I(wt(P(ee.to),{state:Re,force:Qe,replace:Ie}),fe||N)}else ee=K(N,Me,!0,Ie,Re);return W(N,Me,ee),ee})}function L(re,fe){const ve=F(re,fe);return ve?Promise.reject(ve):Promise.resolve()}function k(re,fe){let ve;const[Me,Re,Qe]=f8(re,fe);ve=Yd(Me.reverse(),"beforeRouteLeave",re,fe);for(const ke of Me)ke.leaveGuards.forEach(N=>{ve.push(Ls(N,re,fe))});const Ie=L.bind(null,re,fe);return ve.push(Ie),_o(ve).then(()=>{ve=[];for(const ke of r.list())ve.push(Ls(ke,re,fe));return ve.push(Ie),_o(ve)}).then(()=>{ve=Yd(Re,"beforeRouteUpdate",re,fe);for(const ke of Re)ke.updateGuards.forEach(N=>{ve.push(Ls(N,re,fe))});return ve.push(Ie),_o(ve)}).then(()=>{ve=[];for(const ke of re.matched)if(ke.beforeEnter&&!fe.matched.includes(ke))if(Array.isArray(ke.beforeEnter))for(const N of ke.beforeEnter)ve.push(Ls(N,re,fe));else ve.push(Ls(ke.beforeEnter,re,fe));return ve.push(Ie),_o(ve)}).then(()=>(re.matched.forEach(ke=>ke.enterCallbacks={}),ve=Yd(Qe,"beforeRouteEnter",re,fe),ve.push(Ie),_o(ve))).then(()=>{ve=[];for(const ke of o.list())ve.push(Ls(ke,re,fe));return ve.push(Ie),_o(ve)}).catch(ke=>Ts(ke,8)?ke:Promise.reject(ke))}function W(re,fe,ve){for(const Me of a.list())Me(re,fe,ve)}function K(re,fe,ve,Me,Re){const Qe=F(re,fe);if(Qe)return Qe;const Ie=fe===Ss,ke=Do?history.state:{};ve&&(Me||Ie?s.replace(re.fullPath,wt({scroll:Ie&&ke&&ke.scroll},Re)):s.push(re.fullPath,Re)),c.value=re,Pe(re,fe,ve,Ie),Le()}let R;function G(){R=s.listen((re,fe,ve)=>{const Me=M(re),Re=B(Me);if(Re){I(wt(Re,{replace:!0}),Me).catch(bl);return}u=Me;const Qe=c.value;Do&&x6(C_(Qe.fullPath,ve.delta),Ch()),k(Me,Qe).catch(Ie=>Ts(Ie,12)?Ie:Ts(Ie,2)?(I(Ie.to,Me).then(ke=>{Ts(ke,20)&&!ve.delta&&ve.type===Nl.pop&&s.go(-1,!1)}).catch(bl),Promise.reject()):(ve.delta&&s.go(-ve.delta,!1),se(Ie,Me,Qe))).then(Ie=>{Ie=Ie||K(Me,Qe,!1),Ie&&(ve.delta?s.go(-ve.delta,!1):ve.type===Nl.pop&&Ts(Ie,20)&&s.go(-1,!1)),W(Me,Qe,Ie)}).catch(bl)})}let O=Ya(),j=Ya(),$;function se(re,fe,ve){Le(re);const Me=j.list();return Me.length?Me.forEach(Re=>Re(re,fe,ve)):console.error(re),Promise.reject(re)}function X(){return $&&c.value!==Ss?Promise.resolve():new Promise((re,fe)=>{O.add([re,fe])})}function Le(re){return $||($=!re,G(),O.list().forEach(([fe,ve])=>re?ve(re):fe()),O.reset()),re}function Pe(re,fe,ve,Me){const{scrollBehavior:Re}=n;if(!Do||!Re)return Promise.resolve();const Qe=!ve&&E6(C_(re.fullPath,0))||(Me||!ve)&&history.state&&history.state.scroll||null;return Pr().then(()=>Re(re,fe,Qe)).then(Ie=>Ie&&C6(Ie)).catch(Ie=>se(Ie,re,fe))}const He=re=>s.go(re);let De;const ce=new Set;return{currentRoute:c,addRoute:_,removeRoute:y,hasRoute:x,getRoutes:w,resolve:M,options:n,push:E,replace:D,go:He,back:()=>He(-1),forward:()=>He(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:j.add,isReady:X,install(re){const fe=this;re.component("RouterLink",a8),re.component("RouterView",h8),re.config.globalProperties.$router=fe,Object.defineProperty(re.config.globalProperties,"$route",{enumerable:!0,get:()=>ml(c)}),Do&&!De&&c.value===Ss&&(De=!0,E(s.location).catch(Re=>{}));const ve={};for(const Re in Ss)ve[Re]=pt(()=>c.value[Re]);re.provide(R1,fe),re.provide(A3,ha(ve)),re.provide(wp,c);const Me=re.unmount;ce.add(re),re.unmount=function(){ce.delete(re),ce.size<1&&(u=Ss,R&&R(),c.value=Ss,De=!1,$=!1),Me()}}}}function _o(n){return n.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function f8(n,e){const t=[],i=[],s=[],r=Math.max(e.matched.length,n.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(n.matched.find(u=>qo(u,a))?i.push(a):t.push(a));const c=n.matched[o];c&&(e.matched.find(u=>qo(u,c))||s.push(c))}return[t,i,s]}var me=(n,e)=>{const t=n.__vccOpts||n;for(const[i,s]of e)t[i]=s;return t};const p8={name:"IndexPage"},m8={class:"home"},_8=b("h1",null,"Hello World!",-1),g8=[_8];function v8(n,e,t,i,s,r){return ne(),Ee("article",m8,g8)}var b8=me(p8,[["render",v8]]);const y8={name:"ErrorPage"},w8={class:"error"},C8=b("h1",null,"Error 404",-1),x8=[C8];function E8(n,e,t,i,s,r){return ne(),Ee("article",w8,x8)}var A8=me(y8,[["render",E8]]);const D8=[{path:"/",component:b8},{path:"/:route(.*)*",component:A8}],S8=d8({routes:D8,history:T6()}),T8=n=>{const e=J(!0);return G9(t=>{const i=window.matchMedia(n);i.matches!==e.value&&(e.value=i.matches);const s=()=>{e.value=i.matches};i.addEventListener("change",s),t(()=>{i.removeEventListener("change",s)})}),e};var Gt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function k3(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function ru(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ep={exports:{}};(function(n,e){(function(t,i){var s="1.0.2",r="",o="?",a="function",c="undefined",u="object",h="string",f="major",m="model",_="name",y="type",w="vendor",x="version",M="architecture",P="console",F="mobile",E="tablet",D="smarttv",B="wearable",I="embedded",L=255,k="Amazon",W="Apple",K="ASUS",R="BlackBerry",G="Browser",O="Chrome",j="Edge",$="Firefox",se="Google",X="Huawei",Le="LG",Pe="Microsoft",He="Motorola",De="Opera",ce="Samsung",Te="Sony",re="Xiaomi",fe="Zebra",ve="Facebook",Me=function(te,pe){var he={};for(var Ae in te)pe[Ae]&&pe[Ae].length%2===0?he[Ae]=pe[Ae].concat(te[Ae]):he[Ae]=te[Ae];return he},Re=function(te){for(var pe={},he=0;he<te.length;he++)pe[te[he].toUpperCase()]=te[he];return pe},Qe=function(te,pe){return typeof te===h?Ie(pe).indexOf(Ie(te))!==-1:!1},Ie=function(te){return te.toLowerCase()},ke=function(te){return typeof te===h?te.replace(/[^\d\.]/g,r).split(".")[0]:i},N=function(te,pe){if(typeof te===h)return te=te.replace(/^\s\s*/,r).replace(/\s\s*$/,r),typeof pe===c?te:te.substring(0,L)},U=function(te,pe){for(var he=0,Ae,we,Ge,Fe,qe,$e;he<pe.length&&!qe;){var $t=pe[he],yn=pe[he+1];for(Ae=we=0;Ae<$t.length&&!qe;)if(qe=$t[Ae++].exec(te),qe)for(Ge=0;Ge<yn.length;Ge++)$e=qe[++we],Fe=yn[Ge],typeof Fe===u&&Fe.length>0?Fe.length===2?typeof Fe[1]==a?this[Fe[0]]=Fe[1].call(this,$e):this[Fe[0]]=Fe[1]:Fe.length===3?typeof Fe[1]===a&&!(Fe[1].exec&&Fe[1].test)?this[Fe[0]]=$e?Fe[1].call(this,$e,Fe[2]):i:this[Fe[0]]=$e?$e.replace(Fe[1],Fe[2]):i:Fe.length===4&&(this[Fe[0]]=$e?Fe[3].call(this,$e.replace(Fe[1],Fe[2])):i):this[Fe]=$e||i;he+=2}},ee=function(te,pe){for(var he in pe)if(typeof pe[he]===u&&pe[he].length>0){for(var Ae=0;Ae<pe[he].length;Ae++)if(Qe(pe[he][Ae],te))return he===o?i:he}else if(Qe(pe[he],te))return he===o?i:he;return te},le={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ae={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0","2000":"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0","7":"NT 6.1","8":"NT 6.2","8.1":"NT 6.3","10":["NT 6.4","NT 10.0"],RT:"ARM"},_e={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[x,[_,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[x,[_,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[_,x],[/opios[\/ ]+([\w\.]+)/i],[x,[_,De+" Mini"]],[/\bopr\/([\w\.]+)/i],[x,[_,De]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[_,x],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[x,[_,"UC"+G]],[/\bqbcore\/([\w\.]+)/i],[x,[_,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[x,[_,"WeChat"]],[/konqueror\/([\w\.]+)/i],[x,[_,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[x,[_,"IE"]],[/yabrowser\/([\w\.]+)/i],[x,[_,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[_,/(.+)/,"$1 Secure "+G],x],[/\bfocus\/([\w\.]+)/i],[x,[_,$+" Focus"]],[/\bopt\/([\w\.]+)/i],[x,[_,De+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[x,[_,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[x,[_,"Dolphin"]],[/coast\/([\w\.]+)/i],[x,[_,De+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[x,[_,"MIUI "+G]],[/fxios\/([-\w\.]+)/i],[x,[_,$]],[/\bqihu|(qi?ho?o?|360)browser/i],[[_,"360 "+G]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[_,/(.+)/,"$1 "+G],x],[/(comodo_dragon)\/([\w\.]+)/i],[[_,/_/g," "],x],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[_,x],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[_],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[_,ve],x],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[_,x],[/\bgsa\/([\w\.]+) .*safari\//i],[x,[_,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[x,[_,O+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[_,O+" WebView"],x],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[x,[_,"Android "+G]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[_,x],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[x,[_,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[x,_],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[_,[x,ee,le]],[/(webkit|khtml)\/([\w\.]+)/i],[_,x],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[_,"Netscape"],x],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[x,[_,$+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[_,x]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[M,"amd64"]],[/(ia32(?=;))/i],[[M,Ie]],[/((?:i[346]|x)86)[;\)]/i],[[M,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[M,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[M,"armhf"]],[/windows (ce|mobile); ppc;/i],[[M,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[M,/ower/,r,Ie]],[/(sun4\w)[;\)]/i],[[M,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[M,Ie]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[m,[w,ce],[y,E]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[m,[w,ce],[y,F]],[/\((ip(?:hone|od)[\w ]*);/i],[m,[w,W],[y,F]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[m,[w,W],[y,E]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[m,[w,X],[y,E]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[m,[w,X],[y,F]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[m,/_/g," "],[w,re],[y,F]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[m,/_/g," "],[w,re],[y,E]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[m,[w,"OPPO"],[y,F]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[m,[w,"Vivo"],[y,F]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[m,[w,"Realme"],[y,F]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[m,[w,He],[y,F]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[m,[w,He],[y,E]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[m,[w,Le],[y,E]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[m,[w,Le],[y,F]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[m,[w,"Lenovo"],[y,E]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[m,/_/g," "],[w,"Nokia"],[y,F]],[/(pixel c)\b/i],[m,[w,se],[y,E]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[m,[w,se],[y,F]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[m,[w,Te],[y,F]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[m,"Xperia Tablet"],[w,Te],[y,E]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[m,[w,"OnePlus"],[y,F]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[m,[w,k],[y,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[m,/(.+)/g,"Fire Phone $1"],[w,k],[y,F]],[/(playbook);[-\w\),; ]+(rim)/i],[m,w,[y,E]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[m,[w,R],[y,F]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[m,[w,K],[y,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[m,[w,K],[y,F]],[/(nexus 9)/i],[m,[w,"HTC"],[y,E]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[w,[m,/_/g," "],[y,F]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[m,[w,"Acer"],[y,E]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[m,[w,"Meizu"],[y,F]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[m,[w,"Sharp"],[y,F]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[w,m,[y,F]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[w,m,[y,E]],[/(surface duo)/i],[m,[w,Pe],[y,E]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[m,[w,"Fairphone"],[y,F]],[/(u304aa)/i],[m,[w,"AT&T"],[y,F]],[/\bsie-(\w*)/i],[m,[w,"Siemens"],[y,F]],[/\b(rct\w+) b/i],[m,[w,"RCA"],[y,E]],[/\b(venue[\d ]{2,7}) b/i],[m,[w,"Dell"],[y,E]],[/\b(q(?:mv|ta)\w+) b/i],[m,[w,"Verizon"],[y,E]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[m,[w,"Barnes & Noble"],[y,E]],[/\b(tm\d{3}\w+) b/i],[m,[w,"NuVision"],[y,E]],[/\b(k88) b/i],[m,[w,"ZTE"],[y,E]],[/\b(nx\d{3}j) b/i],[m,[w,"ZTE"],[y,F]],[/\b(gen\d{3}) b.+49h/i],[m,[w,"Swiss"],[y,F]],[/\b(zur\d{3}) b/i],[m,[w,"Swiss"],[y,E]],[/\b((zeki)?tb.*\b) b/i],[m,[w,"Zeki"],[y,E]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[w,"Dragon Touch"],m,[y,E]],[/\b(ns-?\w{0,9}) b/i],[m,[w,"Insignia"],[y,E]],[/\b((nxa|next)-?\w{0,9}) b/i],[m,[w,"NextBook"],[y,E]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[w,"Voice"],m,[y,F]],[/\b(lvtel\-)?(v1[12]) b/i],[[w,"LvTel"],m,[y,F]],[/\b(ph-1) /i],[m,[w,"Essential"],[y,F]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[m,[w,"Envizen"],[y,E]],[/\b(trio[-\w\. ]+) b/i],[m,[w,"MachSpeed"],[y,E]],[/\btu_(1491) b/i],[m,[w,"Rotor"],[y,E]],[/(shield[\w ]+) b/i],[m,[w,"Nvidia"],[y,E]],[/(sprint) (\w+)/i],[w,m,[y,F]],[/(kin\.[onetw]{3})/i],[[m,/\./g," "],[w,Pe],[y,F]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[m,[w,fe],[y,E]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[m,[w,fe],[y,F]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[w,m,[y,P]],[/droid.+; (shield) bui/i],[m,[w,"Nvidia"],[y,P]],[/(playstation [345portablevi]+)/i],[m,[w,Te],[y,P]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[m,[w,Pe],[y,P]],[/smart-tv.+(samsung)/i],[w,[y,D]],[/hbbtv.+maple;(\d+)/i],[[m,/^/,"SmartTV"],[w,ce],[y,D]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[w,Le],[y,D]],[/(apple) ?tv/i],[w,[m,W+" TV"],[y,D]],[/crkey/i],[[m,O+"cast"],[w,se],[y,D]],[/droid.+aft(\w)( bui|\))/i],[m,[w,k],[y,D]],[/\(dtv[\);].+(aquos)/i],[m,[w,"Sharp"],[y,D]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[w,N],[m,N],[y,D]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[y,D]],[/((pebble))app/i],[w,m,[y,B]],[/droid.+; (glass) \d/i],[m,[w,se],[y,B]],[/droid.+; (wt63?0{2,3})\)/i],[m,[w,fe],[y,B]],[/(quest( 2)?)/i],[m,[w,ve],[y,B]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[w,[y,I]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[m,[y,F]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[m,[y,E]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[y,E]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[y,F]],[/(android[-\w\. ]{0,9});.+buil/i],[m,[w,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[x,[_,j+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[x,[_,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[_,x],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[x,_]],os:[[/microsoft (windows) (vista|xp)/i],[_,x],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[_,[x,ee,ae]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[_,"Windows"],[x,ee,ae]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[x,/_/g,"."],[_,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[_,"Mac OS"],[x,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[x,_],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[_,x],[/\(bb(10);/i],[x,[_,R]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[x,[_,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[x,[_,$+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[x,[_,"webOS"]],[/crkey\/([\d\.]+)/i],[x,[_,O+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[_,"Chromium OS"],x],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[_,x],[/(sunos) ?([\w\.\d]*)/i],[[_,"Solaris"],x],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[_,x]]},be=function(te,pe){if(typeof te===u&&(pe=te,te=i),!(this instanceof be))return new be(te,pe).getResult();var he=te||(typeof t!==c&&t.navigator&&t.navigator.userAgent?t.navigator.userAgent:r),Ae=pe?Me(_e,pe):_e;return this.getBrowser=function(){var we={};return we[_]=i,we[x]=i,U.call(we,he,Ae.browser),we.major=ke(we.version),we},this.getCPU=function(){var we={};return we[M]=i,U.call(we,he,Ae.cpu),we},this.getDevice=function(){var we={};return we[w]=i,we[m]=i,we[y]=i,U.call(we,he,Ae.device),we},this.getEngine=function(){var we={};return we[_]=i,we[x]=i,U.call(we,he,Ae.engine),we},this.getOS=function(){var we={};return we[_]=i,we[x]=i,U.call(we,he,Ae.os),we},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return he},this.setUA=function(we){return he=typeof we===h&&we.length>L?N(we,L):we,this},this.setUA(he),this};be.VERSION=s,be.BROWSER=Re([_,x,f]),be.CPU=Re([M]),be.DEVICE=Re([m,w,y,P,F,D,E,B,I]),be.ENGINE=be.OS=Re([_,x]),n.exports&&(e=n.exports=be),e.UAParser=be;var de=typeof t!==c&&(t.jQuery||t.Zepto);if(de&&!de.ua){var ye=new be;de.ua=ye.getResult(),de.ua.get=function(){return ye.getUA()},de.ua.set=function(te){ye.setUA(te);var pe=ye.getResult();for(var he in pe)de.ua[he]=pe[he]}}})(typeof window=="object"?window:Gt)})(Ep,Ep.exports);var M8=Ep.exports;const B8={xs:0,sm:376,md:851,lg:1048,xl:2e3},xh=new M8;xh.setUA(navigator.userAgent);xh.getOS();const O3=xh.getDevice();xh.getBrowser();O3.type;O3.type;const Zt=T8(`(max-width: ${B8.md}px)`),Gi="/zerolimits/",Ne=ha({idle:{on:!1,off:!0,hidden:!1,active:!1,keepHidden:!1},debug:!1,endScreenActive:!1,complete:!1,progress:{welcome:!1,originStories:!1,inspirationGarden:!1,trailer:!1,quiz:!1,library:!1},setIdleOn(n){this.idle.on=n},setIdleOff(n){this.idle.off=n},setIdleHidden(n){this.idle.hidden=n},setIdleActive(n){this.idle.active=n},setIdleKeepHidden(n){this.idle.keepHidden=n},setEndScreenActive(n){this.endScreenActive=n},setComplete(){this.complete=!0},setProgress(n,e){this.progress[n]=e},setDebug(n){this.debug=n}});var Ap={exports:{}},N3={exports:{}},P8=void 0,V3=function(n){return n!==P8&&n!==null},F8=V3,L8={object:!0,function:!0,undefined:!0},I8=function(n){return F8(n)?hasOwnProperty.call(L8,typeof n):!1},R8=I8,k8=function(n){if(!R8(n))return!1;try{return n.constructor?n.constructor.prototype===n:!1}catch{return!1}},O8=k8,N8=function(n){if(typeof n!="function"||!hasOwnProperty.call(n,"length"))return!1;try{if(typeof n.length!="number"||typeof n.call!="function"||typeof n.apply!="function")return!1}catch{return!1}return!O8(n)},V8=N8,H8=/^\s*class[\s{/}]/,z8=Function.prototype.toString,U8=function(n){return!(!V8(n)||H8.test(z8.call(n)))},G8=function(){var n=Object.assign,e;return typeof n!="function"?!1:(e={foo:"raz"},n(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")},$8=function(){try{return Object.keys("primitive"),!0}catch{return!1}},W8=function(){},j8=W8(),O1=function(n){return n!==j8&&n!==null},q8=O1,K8=Object.keys,J8=function(n){return K8(q8(n)?Object(n):n)},X8=$8()?Object.keys:J8,Z8=O1,Q8=function(n){if(!Z8(n))throw new TypeError("Cannot use null or undefined");return n},Y8=X8,e7=Q8,t7=Math.max,n7=function(n,e){var t,i,s=t7(arguments.length,2),r;for(n=Object(e7(n)),r=function(o){try{n[o]=e[o]}catch(a){t||(t=a)}},i=1;i<s;++i)e=arguments[i],Y8(e).forEach(r);if(t!==void 0)throw t;return n},i7=G8()?Object.assign:n7,s7=O1,r7=Array.prototype.forEach,o7=Object.create,a7=function(n,e){var t;for(t in n)e[t]=n[t]},l7=function(n){var e=o7(null);return r7.call(arguments,function(t){!s7(t)||a7(Object(t),e)}),e},ef="razdwatrzy",c7=function(){return typeof ef.contains!="function"?!1:ef.contains("dwa")===!0&&ef.contains("foo")===!1},u7=String.prototype.indexOf,h7=function(n){return u7.call(this,n,arguments[1])>-1},d7=c7()?String.prototype.contains:h7,bu=V3,L_=U8,H3=i7,z3=l7,wl=d7,f7=N3.exports=function(n,e){var t,i,s,r,o;return arguments.length<2||typeof n!="string"?(r=e,e=n,n=null):r=arguments[2],bu(n)?(t=wl.call(n,"c"),i=wl.call(n,"e"),s=wl.call(n,"w")):(t=s=!0,i=!1),o={value:e,configurable:t,enumerable:i,writable:s},r?H3(z3(r),o):o};f7.gs=function(n,e,t){var i,s,r,o;return typeof n!="string"?(r=t,t=e,e=n,n=null):r=arguments[3],bu(e)?L_(e)?bu(t)?L_(t)||(r=t,t=void 0):t=void 0:(r=e,e=t=void 0):e=void 0,bu(n)?(i=wl.call(n,"c"),s=wl.call(n,"e")):(i=!0,s=!1),o={get:e,set:t,configurable:i,enumerable:s},r?H3(z3(r),o):o};var p7=function(n){if(typeof n!="function")throw new TypeError(n+" is not a function");return n};(function(n,e){var t=N3.exports,i=p7,s=Function.prototype.apply,r=Function.prototype.call,o=Object.create,a=Object.defineProperty,c=Object.defineProperties,u=Object.prototype.hasOwnProperty,h={configurable:!0,enumerable:!1,writable:!0},f,m,_,y,w,x,M;f=function(P,F){var E;return i(F),u.call(this,"__ee__")?E=this.__ee__:(E=h.value=o(null),a(this,"__ee__",h),h.value=null),E[P]?typeof E[P]=="object"?E[P].push(F):E[P]=[E[P],F]:E[P]=F,this},m=function(P,F){var E,D;return i(F),D=this,f.call(this,P,E=function(){_.call(D,P,E),s.call(F,this,arguments)}),E.__eeOnceListener__=F,this},_=function(P,F){var E,D,B,I;if(i(F),!u.call(this,"__ee__"))return this;if(E=this.__ee__,!E[P])return this;if(D=E[P],typeof D=="object")for(I=0;B=D[I];++I)(B===F||B.__eeOnceListener__===F)&&(D.length===2?E[P]=D[I?0:1]:D.splice(I,1));else(D===F||D.__eeOnceListener__===F)&&delete E[P];return this},y=function(P){var F,E,D,B,I;if(!!u.call(this,"__ee__")&&(B=this.__ee__[P],!!B))if(typeof B=="object"){for(E=arguments.length,I=new Array(E-1),F=1;F<E;++F)I[F-1]=arguments[F];for(B=B.slice(),F=0;D=B[F];++F)s.call(D,this,I)}else switch(arguments.length){case 1:r.call(B,this);break;case 2:r.call(B,this,arguments[1]);break;case 3:r.call(B,this,arguments[1],arguments[2]);break;default:for(E=arguments.length,I=new Array(E-1),F=1;F<E;++F)I[F-1]=arguments[F];s.call(B,this,I)}},w={on:f,once:m,off:_,emit:y},x={on:t(f),once:t(m),off:t(_),emit:t(y)},M=c({},x),n.exports=e=function(P){return P==null?o(M):c(Object(P),x)},e.methods=w})(Ap,Ap.exports);var sc=Ap.exports;class m7{constructor(){this._emitter={},sc(this._emitter),this.on=this._emitter.on.bind(this._emitter),this.off=this._emitter.off.bind(this._emitter),this.emit=this._emitter.emit.bind(this._emitter)}}var ue=new m7;Date.now=Date.now||function(){return new Date().getTime()};if(typeof window!="undefined"&&("performance"in window||(window.performance={}),!("now"in window.performance))){var I_=Date.now();performance.timing&&performance.timing.navigationStart&&(I_=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-I_}}class _7{constructor(){this.funcs={},this.lastPass={},this.framerates={},this.nextFramePendingFuncs=[],this.nextFrameFuncs=[],this.postFrameFuncs=[],this.dt=1/0,this.timeElapsed=0,this.frame=0,this.dictonary=[],this.last=performance.now(),this.initTime=performance.now(),this.onBefore=function(){},this.onAfter=function(){},typeof window!="undefined"&&(this.init(),this.isIOS=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}subscribe(e,t,i=null){this.dictonary.push(e),this.funcs[e]=t,this.lastPass[e]=Date.now(),i!==null?this.framerates[e]=1/i:this.framerates[e]=i}unsubscribe(e){this.funcs[e]&&(this.dictonary.splice(this.dictonary.indexOf(e),1),delete this.funcs[e])}init(){window.addEventListener("focus",()=>{this.last=performance.now()}),this.update=this.update.bind(this),this.update()}nextFrame(e){this.nextFramePendingFuncs.push(e)}postFrame(e){this.postFrameFuncs.push(e)}update(){for(requestAnimationFrame(this.update),this.onBefore(),this.frame++,this.dt=performance.now()-this.last,this.dt=Math.min(this.dt,30),this.timeElapsed+=this.dt,this.last=performance.now();this.nextFrameFuncs.length>0;)this.nextFrameFuncs.splice(0,1)[0]();for(;this.nextFramePendingFuncs.length>0;)this.nextFrameFuncs.push(this.nextFramePendingFuncs.splice(0,1)[0]);let e=Date.now();for(let t=0;t<this.dictonary.length;t++)this.framerates[this.dictonary[t]]!==null&&e-this.lastPass[this.dictonary[t]]<this.framerates[this.dictonary[t]]*1e3||typeof this.funcs[this.dictonary[t]]=="function"&&(this.lastPass[this.dictonary[t]]=e,this.funcs[this.dictonary[t]]());for(;this.postFrameFuncs.length>0;)this.postFrameFuncs.splice(0,1)[0]();this.onAfter()}}const oi=new _7;function Yi(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function U3(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.10.3
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var $n={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Jo={duration:.5,overwrite:!1,delay:0},N1,ni=1e8,xt=1/ni,Dp=Math.PI*2,g7=Dp/4,v7=0,G3=Math.sqrt,b7=Math.cos,y7=Math.sin,Qt=function(e){return typeof e=="string"},Xt=function(e){return typeof e=="function"},as=function(e){return typeof e=="number"},V1=function(e){return typeof e=="undefined"},ls=function(e){return typeof e=="object"},Pn=function(e){return e!==!1},$3=function(){return typeof window!="undefined"},ou=function(e){return Xt(e)||Qt(e)},W3=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},dn=Array.isArray,Sp=/(?:-?\.?\d|\.)+/gi,j3=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,To=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,tf=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,q3=/[+-]=-?[.\d]+/,K3=/[^,'"\[\]\s]+/gi,w7=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Pt,Oi,Tp,H1,jn={},Fu={},J3,X3=function(e){return(Fu=Hr(e,jn))&&Ti},z1=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Lu=function(e,t){return!t&&console.warn(e)},Z3=function(e,t){return e&&(jn[e]=t)&&Fu&&(Fu[e]=t)||jn},Vl=function(){return 0},U1={},Gs=[],Mp={},Q3,Nn={},nf={},R_=30,yu=[],G1="",$1=function(e){var t=e[0],i,s;if(ls(t)||Xt(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(s=yu.length;s--&&!yu[s].targetTest(t););i=yu[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new yb(e[s],i)))||e.splice(s,1);return e},Ir=function(e){return e._gsap||$1(ii(e))[0]._gsap},Y3=function(e,t,i){return(i=e[t])&&Xt(i)?e[t]():V1(i)&&e.getAttribute&&e.getAttribute(t)||i},Fn=function(e,t){return(e=e.split(",")).forEach(t)||e},It=function(e){return Math.round(e*1e5)/1e5||0},cn=function(e){return Math.round(e*1e7)/1e7||0},ko=function(e,t){var i=t.charAt(0),s=parseFloat(t.substr(2));return e=parseFloat(e),i==="+"?e+s:i==="-"?e-s:i==="*"?e*s:e/s},C7=function(e,t){for(var i=t.length,s=0;e.indexOf(t[s])<0&&++s<i;);return s<i},Iu=function(){var e=Gs.length,t=Gs.slice(0),i,s;for(Mp={},Gs.length=0,i=0;i<e;i++)s=t[i],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},eb=function(e,t,i,s){Gs.length&&Iu(),e.render(t,i,s),Gs.length&&Iu()},tb=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(K3).length<2?t:Qt(e)?e.trim():e},nb=function(e){return e},ai=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},x7=function(e){return function(t,i){for(var s in i)s in t||s==="duration"&&e||s==="ease"||(t[s]=i[s])}},Hr=function(e,t){for(var i in t)e[i]=t[i];return e},k_=function n(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=ls(t[i])?n(e[i]||(e[i]={}),t[i]):t[i]);return e},Ru=function(e,t){var i={},s;for(s in e)s in t||(i[s]=e[s]);return i},Cl=function(e){var t=e.parent||Pt,i=e.keyframes?x7(dn(e.keyframes)):ai;if(Pn(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},E7=function(e,t){for(var i=e.length,s=i===t.length;s&&i--&&e[i]===t[i];);return i<0},ib=function(e,t,i,s,r){i===void 0&&(i="_first"),s===void 0&&(s="_last");var o=e[s],a;if(r)for(a=t[r];o&&o[r]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[s]=t,t._prev=o,t.parent=t._dp=e,t},Eh=function(e,t,i,s){i===void 0&&(i="_first"),s===void 0&&(s="_last");var r=t._prev,o=t._next;r?r._next=o:e[i]===t&&(e[i]=o),o?o._prev=r:e[s]===t&&(e[s]=r),t._next=t._prev=t.parent=null},is=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},Rr=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},A7=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},D7=function n(e){return!e||e._ts&&n(e.parent)},O_=function(e){return e._repeat?Xo(e._tTime,e=e.duration()+e._rDelay)*e:0},Xo=function(e,t){var i=Math.floor(e/=t);return e&&i===e?i-1:i},ku=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Ah=function(e){return e._end=cn(e._start+(e._tDur/Math.abs(e._ts||e._rts||xt)||0))},W1=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=cn(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Ah(e),i._dirty||Rr(i,e)),e},sb=function(e,t){var i;if((t._time||t._initted&&!t._dur)&&(i=ku(e.rawTime(),t),(!t._dur||rc(0,t.totalDuration(),i)-t._tTime>xt)&&t.render(i,!0)),Rr(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-xt}},Vi=function(e,t,i,s){return t.parent&&is(t),t._start=cn((as(i)?i:i||e!==Pt?Yn(e,i,t):e._time)+t._delay),t._end=cn(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),ib(e,t,"_first","_last",e._sort?"_start":0),Bp(t)||(e._recent=t),s||sb(e,t),e},rb=function(e,t){return(jn.ScrollTrigger||z1("scrollTrigger",t))&&jn.ScrollTrigger.create(t,e)},ob=function(e,t,i,s){if(q1(e,t),!e._initted)return 1;if(!i&&e._pt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Q3!==Hn.frame)return Gs.push(e),e._lazy=[t,s],1},S7=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},Bp=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},T7=function(e,t,i,s){var r=e.ratio,o=t<0||!t&&(!e._start&&S7(e)&&!(!e._initted&&Bp(e))||(e._ts<0||e._dp._ts<0)&&!Bp(e))?0:1,a=e._rDelay,c=0,u,h,f;if(a&&e._repeat&&(c=rc(0,e._tDur,t),h=Xo(c,a),e._yoyo&&h&1&&(o=1-o),h!==Xo(e._tTime,a)&&(r=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==r||s||e._zTime===xt||!t&&e._zTime){if(!e._initted&&ob(e,t,s,i))return;for(f=e._zTime,e._zTime=t||(i?xt:0),i||(i=t&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=c,u=e._pt;u;)u.r(o,u.d),u=u._next;e._startAt&&t<0&&e._startAt.render(t,!0,!0),e._onUpdate&&!i&&si(e,"onUpdate"),c&&e._repeat&&!i&&e.parent&&si(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&is(e,1),i||(si(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},M7=function(e,t,i){var s;if(i>t)for(s=e._first;s&&s._start<=i;){if(s.data==="isPause"&&s._start>t)return s;s=s._next}else for(s=e._last;s&&s._start>=i;){if(s.data==="isPause"&&s._start<t)return s;s=s._prev}},Zo=function(e,t,i,s){var r=e._repeat,o=cn(t)||0,a=e._tTime/e._tDur;return a&&!s&&(e._time*=o/e._dur),e._dur=o,e._tDur=r?r<0?1e10:cn(o*(r+1)+e._rDelay*r):o,a>0&&!s?W1(e,e._tTime=e._tDur*a):e.parent&&Ah(e),i||Rr(e.parent,e),e},N_=function(e){return e instanceof Dn?Rr(e):Zo(e,e._dur)},B7={_start:0,endTime:Vl,totalDuration:Vl},Yn=function n(e,t,i){var s=e.labels,r=e._recent||B7,o=e.duration()>=ni?r.endTime(!1):e._dur,a,c,u;return Qt(t)&&(isNaN(t)||t in s)?(c=t.charAt(0),u=t.substr(-1)==="%",a=t.indexOf("="),c==="<"||c===">"?(a>=0&&(t=t.replace(/=/,"")),(c==="<"?r._start:r.endTime(r._repeat>=0))+(parseFloat(t.substr(1))||0)*(u?(a<0?r:i).totalDuration()/100:1)):a<0?(t in s||(s[t]=o),s[t]):(c=parseFloat(t.charAt(a-1)+t.substr(a+1)),u&&i&&(c=c/100*(dn(i)?i[0]:i).totalDuration()),a>1?n(e,t.substr(0,a-1),i)+c:o+c)):t==null?o:+t},xl=function(e,t,i){var s=as(t[1]),r=(s?2:1)+(e<2?0:1),o=t[r],a,c;if(s&&(o.duration=t[1]),o.parent=i,e){for(a=o,c=i;c&&!("immediateRender"in a);)a=c.vars.defaults||{},c=Pn(c.vars.inherit)&&c.parent;o.immediateRender=Pn(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[r-1]}return new jt(t[0],o,t[r+1])},Qs=function(e,t){return e||e===0?t(e):t},rc=function(e,t,i){return i<e?e:i>t?t:i},hn=function(e,t){return!Qt(e)||!(t=w7.exec(e))?"":t[1]},P7=function(e,t,i){return Qs(i,function(s){return rc(e,t,s)})},Pp=[].slice,ab=function(e,t){return e&&ls(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&ls(e[0]))&&!e.nodeType&&e!==Oi},F7=function(e,t,i){return i===void 0&&(i=[]),e.forEach(function(s){var r;return Qt(s)&&!t||ab(s,1)?(r=i).push.apply(r,ii(s)):i.push(s)})||i},ii=function(e,t,i){return Qt(e)&&!i&&(Tp||!Qo())?Pp.call((t||H1).querySelectorAll(e),0):dn(e)?F7(e,i):ab(e)?Pp.call(e,0):e?[e]:[]},L7=function(e){return e=ii(e)[0]||Lu("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return ii(t,i.querySelectorAll?i:i===e?Lu("Invalid scope")||H1.createElement("div"):e)}},lb=function(e){return e.sort(function(){return .5-Math.random()})},cb=function(e){if(Xt(e))return e;var t=ls(e)?e:{each:e},i=kr(t.ease),s=t.from||0,r=parseFloat(t.base)||0,o={},a=s>0&&s<1,c=isNaN(s)||a,u=t.axis,h=s,f=s;return Qt(s)?h=f={center:.5,edges:.5,end:1}[s]||0:!a&&c&&(h=s[0],f=s[1]),function(m,_,y){var w=(y||t).length,x=o[w],M,P,F,E,D,B,I,L,k;if(!x){if(k=t.grid==="auto"?0:(t.grid||[1,ni])[1],!k){for(I=-ni;I<(I=y[k++].getBoundingClientRect().left)&&k<w;);k--}for(x=o[w]=[],M=c?Math.min(k,w)*h-.5:s%k,P=k===ni?0:c?w*f/k-.5:s/k|0,I=0,L=ni,B=0;B<w;B++)F=B%k-M,E=P-(B/k|0),x[B]=D=u?Math.abs(u==="y"?E:F):G3(F*F+E*E),D>I&&(I=D),D<L&&(L=D);s==="random"&&lb(x),x.max=I-L,x.min=L,x.v=w=(parseFloat(t.amount)||parseFloat(t.each)*(k>w?w-1:u?u==="y"?w/k:k:Math.max(k,w/k))||0)*(s==="edges"?-1:1),x.b=w<0?r-w:r,x.u=hn(t.amount||t.each)||0,i=i&&w<0?gb(i):i}return w=(x[m]-x.min)/x.max||0,cn(x.b+(i?i(w):w)*x.v)+x.u}},Fp=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var s=Math.round(parseFloat(i)/e)*e*t;return(s-s%1)/t+(as(i)?0:hn(i))}},ub=function(e,t){var i=dn(e),s,r;return!i&&ls(e)&&(s=i=e.radius||ni,e.values?(e=ii(e.values),(r=!as(e[0]))&&(s*=s)):e=Fp(e.increment)),Qs(t,i?Xt(e)?function(o){return r=e(o),Math.abs(r-o)<=s?r:o}:function(o){for(var a=parseFloat(r?o.x:o),c=parseFloat(r?o.y:0),u=ni,h=0,f=e.length,m,_;f--;)r?(m=e[f].x-a,_=e[f].y-c,m=m*m+_*_):m=Math.abs(e[f]-a),m<u&&(u=m,h=f);return h=!s||u<=s?e[h]:o,r||h===o||as(o)?h:h+hn(o)}:Fp(e))},hb=function(e,t,i,s){return Qs(dn(e)?!t:i===!0?!!(i=0):!s,function(){return dn(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(s=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+i*.99))/i)*i*s)/s})},I7=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(s){return t.reduce(function(r,o){return o(r)},s)}},R7=function(e,t){return function(i){return e(parseFloat(i))+(t||hn(i))}},k7=function(e,t,i){return fb(e,t,0,1,i)},db=function(e,t,i){return Qs(i,function(s){return e[~~t(s)]})},O7=function n(e,t,i){var s=t-e;return dn(e)?db(e,n(0,e.length),t):Qs(i,function(r){return(s+(r-e)%s)%s+e})},N7=function n(e,t,i){var s=t-e,r=s*2;return dn(e)?db(e,n(0,e.length-1),t):Qs(i,function(o){return o=(r+(o-e)%r)%r||0,e+(o>s?r-o:o)})},Hl=function(e){for(var t=0,i="",s,r,o,a;~(s=e.indexOf("random(",t));)o=e.indexOf(")",s),a=e.charAt(s+7)==="[",r=e.substr(s+7,o-s-7).match(a?K3:Sp),i+=e.substr(t,s-t)+hb(a?r:+r[0],a?0:+r[1],+r[2]||1e-5),t=o+1;return i+e.substr(t,e.length-t)},fb=function(e,t,i,s,r){var o=t-e,a=s-i;return Qs(r,function(c){return i+((c-e)/o*a||0)})},V7=function n(e,t,i,s){var r=isNaN(e+t)?0:function(_){return(1-_)*e+_*t};if(!r){var o=Qt(e),a={},c,u,h,f,m;if(i===!0&&(s=1)&&(i=null),o)e={p:e},t={p:t};else if(dn(e)&&!dn(t)){for(h=[],f=e.length,m=f-2,u=1;u<f;u++)h.push(n(e[u-1],e[u]));f--,r=function(y){y*=f;var w=Math.min(m,~~y);return h[w](y-w)},i=t}else s||(e=Hr(dn(e)?[]:{},e));if(!h){for(c in t)j1.call(a,e,c,"get",t[c]);r=function(y){return X1(y,a)||(o?e.p:e)}}}return Qs(i,r)},V_=function(e,t,i){var s=e.labels,r=ni,o,a,c;for(o in s)a=s[o]-t,a<0==!!i&&a&&r>(a=Math.abs(a))&&(c=o,r=a);return c},si=function(e,t,i){var s=e.vars,r=s[t],o,a;if(!!r)return o=s[t+"Params"],a=s.callbackScope||e,i&&Gs.length&&Iu(),o?r.apply(a,o):r.call(a)},ul=function(e){return is(e),e.scrollTrigger&&e.scrollTrigger.kill(!1),e.progress()<1&&si(e,"onInterrupt"),e},Mo,H7=function(e){e=!e.name&&e.default||e;var t=e.name,i=Xt(e),s=t&&!i&&e.init?function(){this._props=[]}:e,r={init:Vl,render:X1,add:j1,kill:nE,modifier:tE,rawVars:0},o={targetTest:0,get:0,getSetter:J1,aliases:{},register:0};if(Qo(),e!==s){if(Nn[t])return;ai(s,ai(Ru(e,r),o)),Hr(s.prototype,Hr(r,Ru(e,o))),Nn[s.prop=t]=s,e.targetTest&&(yu.push(s),U1[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}Z3(t,s),e.register&&e.register(Ti,s,Ln)},yt=255,hl={aqua:[0,yt,yt],lime:[0,yt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,yt],navy:[0,0,128],white:[yt,yt,yt],olive:[128,128,0],yellow:[yt,yt,0],orange:[yt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[yt,0,0],pink:[yt,192,203],cyan:[0,yt,yt],transparent:[yt,yt,yt,0]},sf=function(e,t,i){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(i-t)*e*6:e<.5?i:e*3<2?t+(i-t)*(2/3-e)*6:t)*yt+.5|0},pb=function(e,t,i){var s=e?as(e)?[e>>16,e>>8&yt,e&yt]:0:hl.black,r,o,a,c,u,h,f,m,_,y;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),hl[e])s=hl[e];else if(e.charAt(0)==="#"){if(e.length<6&&(r=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+r+r+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&yt,s&yt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&yt,e&yt]}else if(e.substr(0,3)==="hsl"){if(s=y=e.match(Sp),!t)c=+s[0]%360/360,u=+s[1]/100,h=+s[2]/100,o=h<=.5?h*(u+1):h+u-h*u,r=h*2-o,s.length>3&&(s[3]*=1),s[0]=sf(c+1/3,r,o),s[1]=sf(c,r,o),s[2]=sf(c-1/3,r,o);else if(~e.indexOf("="))return s=e.match(j3),i&&s.length<4&&(s[3]=1),s}else s=e.match(Sp)||hl.transparent;s=s.map(Number)}return t&&!y&&(r=s[0]/yt,o=s[1]/yt,a=s[2]/yt,f=Math.max(r,o,a),m=Math.min(r,o,a),h=(f+m)/2,f===m?c=u=0:(_=f-m,u=h>.5?_/(2-f-m):_/(f+m),c=f===r?(o-a)/_+(o<a?6:0):f===o?(a-r)/_+2:(r-o)/_+4,c*=60),s[0]=~~(c+.5),s[1]=~~(u*100+.5),s[2]=~~(h*100+.5)),i&&s.length<4&&(s[3]=1),s},mb=function(e){var t=[],i=[],s=-1;return e.split($s).forEach(function(r){var o=r.match(To)||[];t.push.apply(t,o),i.push(s+=o.length+1)}),t.c=i,t},H_=function(e,t,i){var s="",r=(e+s).match($s),o=t?"hsla(":"rgba(",a=0,c,u,h,f;if(!r)return e;if(r=r.map(function(m){return(m=pb(m,t,1))&&o+(t?m[0]+","+m[1]+"%,"+m[2]+"%,"+m[3]:m.join(","))+")"}),i&&(h=mb(e),c=i.c,c.join(s)!==h.c.join(s)))for(u=e.replace($s,"1").split(To),f=u.length-1;a<f;a++)s+=u[a]+(~c.indexOf(a)?r.shift()||o+"0,0,0,0)":(h.length?h:r.length?r:i).shift());if(!u)for(u=e.split($s),f=u.length-1;a<f;a++)s+=u[a]+r[a];return s+u[f]},$s=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in hl)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),z7=/hsl[a]?\(/,_b=function(e){var t=e.join(" "),i;if($s.lastIndex=0,$s.test(t))return i=z7.test(t),e[1]=H_(e[1],i),e[0]=H_(e[0],i,mb(e[1])),!0},zl,Hn=function(){var n=Date.now,e=500,t=33,i=n(),s=i,r=1e3/240,o=r,a=[],c,u,h,f,m,_,y=function w(x){var M=n()-s,P=x===!0,F,E,D,B;if(M>e&&(i+=M-t),s+=M,D=s-i,F=D-o,(F>0||P)&&(B=++f.frame,m=D-f.time*1e3,f.time=D=D/1e3,o+=F+(F>=r?4:r-F),E=1),P||(c=u(w)),E)for(_=0;_<a.length;_++)a[_](D,m,B,x)};return f={time:0,frame:0,tick:function(){y(!0)},deltaRatio:function(x){return m/(1e3/(x||60))},wake:function(){J3&&(!Tp&&$3()&&(Oi=Tp=window,H1=Oi.document||{},jn.gsap=Ti,(Oi.gsapVersions||(Oi.gsapVersions=[])).push(Ti.version),X3(Fu||Oi.GreenSockGlobals||!Oi.gsap&&Oi||{}),h=Oi.requestAnimationFrame),c&&f.sleep(),u=h||function(x){return setTimeout(x,o-f.time*1e3+1|0)},zl=1,y(2))},sleep:function(){(h?Oi.cancelAnimationFrame:clearTimeout)(c),zl=0,u=Vl},lagSmoothing:function(x,M){e=x||1/xt,t=Math.min(M,e,0)},fps:function(x){r=1e3/(x||240),o=f.time*1e3+r},add:function(x,M,P){var F=M?function(E,D,B,I){x(E,D,B,I),f.remove(F)}:x;return f.remove(x),a[P?"unshift":"push"](F),Qo(),F},remove:function(x,M){~(M=a.indexOf(x))&&a.splice(M,1)&&_>=M&&_--},_listeners:a},f}(),Qo=function(){return!zl&&Hn.wake()},rt={},U7=/^[\d.\-M][\d.\-,\s]/,G7=/["']/g,$7=function(e){for(var t={},i=e.substr(1,e.length-3).split(":"),s=i[0],r=1,o=i.length,a,c,u;r<o;r++)c=i[r],a=r!==o-1?c.lastIndexOf(","):c.length,u=c.substr(0,a),t[s]=isNaN(u)?u.replace(G7,"").trim():+u,s=c.substr(a+1).trim();return t},W7=function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),s=e.indexOf("(",t);return e.substring(t,~s&&s<i?e.indexOf(")",i+1):i)},j7=function(e){var t=(e+"").split("("),i=rt[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[$7(t[1])]:W7(e).split(",").map(tb)):rt._CE&&U7.test(e)?rt._CE("",e):i},gb=function(e){return function(t){return 1-e(1-t)}},vb=function n(e,t){for(var i=e._first,s;i;)i instanceof Dn?n(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?n(i.timeline,t):(s=i._ease,i._ease=i._yEase,i._yEase=s,i._yoyo=t)),i=i._next},kr=function(e,t){return e&&(Xt(e)?e:rt[e]||j7(e))||t},Kr=function(e,t,i,s){i===void 0&&(i=function(c){return 1-t(1-c)}),s===void 0&&(s=function(c){return c<.5?t(c*2)/2:1-t((1-c)*2)/2});var r={easeIn:t,easeOut:i,easeInOut:s},o;return Fn(e,function(a){rt[a]=jn[a]=r,rt[o=a.toLowerCase()]=i;for(var c in r)rt[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=rt[a+"."+c]=r[c]}),r},bb=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},rf=function n(e,t,i){var s=t>=1?t:1,r=(i||(e?.3:.45))/(t<1?t:1),o=r/Dp*(Math.asin(1/s)||0),a=function(h){return h===1?1:s*Math.pow(2,-10*h)*y7((h-o)*r)+1},c=e==="out"?a:e==="in"?function(u){return 1-a(1-u)}:bb(a);return r=Dp/r,c.config=function(u,h){return n(e,u,h)},c},of=function n(e,t){t===void 0&&(t=1.70158);var i=function(o){return o?--o*o*((t+1)*o+t)+1:0},s=e==="out"?i:e==="in"?function(r){return 1-i(1-r)}:bb(i);return s.config=function(r){return n(e,r)},s};Fn("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;Kr(n+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});rt.Linear.easeNone=rt.none=rt.Linear.easeIn;Kr("Elastic",rf("in"),rf("out"),rf());(function(n,e){var t=1/e,i=2*t,s=2.5*t,r=function(a){return a<t?n*a*a:a<i?n*Math.pow(a-1.5/e,2)+.75:a<s?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};Kr("Bounce",function(o){return 1-r(1-o)},r)})(7.5625,2.75);Kr("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});Kr("Circ",function(n){return-(G3(1-n*n)-1)});Kr("Sine",function(n){return n===1?1:-b7(n*g7)+1});Kr("Back",of("in"),of("out"),of());rt.SteppedEase=rt.steps=jn.SteppedEase={config:function(e,t){e===void 0&&(e=1);var i=1/e,s=e+(t?0:1),r=t?1:0,o=1-xt;return function(a){return((s*rc(0,o,a)|0)+r)*i}}};Jo.ease=rt["quad.out"];Fn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return G1+=n+","+n+"Params,"});var yb=function(e,t){this.id=v7++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:Y3,this.set=t?t.getSetter:J1},Ul=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Zo(this,+t.duration,1,1),this.data=t.data,zl||Hn.wake()}var e=n.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,Zo(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,s){if(Qo(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(W1(this,i),!r._dp||r.parent||sb(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&Vi(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===xt||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),eb(this,i,s)),this},e.time=function(i,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+O_(this))%(this._dur+this._rDelay)||(i?this._dur:0),s):this._time},e.totalProgress=function(i,s){return arguments.length?this.totalTime(this.totalDuration()*i,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(i,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+O_(this),s):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(i,s){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*r,s):this._repeat?Xo(this._tTime,r)+1:1},e.timeScale=function(i){if(!arguments.length)return this._rts===-xt?0:this._rts;if(this._rts===i)return this;var s=this.parent&&this._ts?ku(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-xt?0:this._rts,this.totalTime(rc(-this._delay,this._tDur,s),!0),Ah(this),A7(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Qo(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==xt&&(this._tTime-=xt)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&Vi(s,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(Pn(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var s=this.parent||this._dp;return s?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?ku(s.rawTime(i),this):this._tTime:this._tTime},e.globalTime=function(i){for(var s=this,r=arguments.length?i:s.rawTime();s;)r=s._start+r/(s._ts||1),s=s._dp;return r},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,N_(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var s=this._time;return this._rDelay=i,N_(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,s){return this.totalTime(Yn(this,i),Pn(s))},e.restart=function(i,s){return this.play().totalTime(i?-this._delay:0,Pn(s))},e.play=function(i,s){return i!=null&&this.seek(i,s),this.reversed(!1).paused(!1)},e.reverse=function(i,s){return i!=null&&this.seek(i||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(i,s){return i!=null&&this.seek(i,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-xt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-xt,this},e.isActive=function(){var i=this.parent||this._dp,s=this._start,r;return!!(!i||this._ts&&this._initted&&i.isActive()&&(r=i.rawTime(!0))>=s&&r<this.endTime(!0)-xt)},e.eventCallback=function(i,s,r){var o=this.vars;return arguments.length>1?(s?(o[i]=s,r&&(o[i+"Params"]=r),i==="onUpdate"&&(this._onUpdate=s)):delete o[i],this):o[i]},e.then=function(i){var s=this;return new Promise(function(r){var o=Xt(i)?i:nb,a=function(){var u=s.then;s.then=null,Xt(o)&&(o=o(s))&&(o.then||o===s)&&(s.then=u),r(o),s.then=u};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?a():s._prom=a})},e.kill=function(){ul(this)},n}();ai(Ul.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-xt,_prom:0,_ps:!1,_rts:1});var Dn=function(n){U3(e,n);function e(i,s){var r;return i===void 0&&(i={}),r=n.call(this,i)||this,r.labels={},r.smoothChildTiming=!!i.smoothChildTiming,r.autoRemoveChildren=!!i.autoRemoveChildren,r._sort=Pn(i.sortChildren),Pt&&Vi(i.parent||Pt,Yi(r),s),i.reversed&&r.reverse(),i.paused&&r.paused(!0),i.scrollTrigger&&rb(Yi(r),i.scrollTrigger),r}var t=e.prototype;return t.to=function(s,r,o){return xl(0,arguments,this),this},t.from=function(s,r,o){return xl(1,arguments,this),this},t.fromTo=function(s,r,o,a){return xl(2,arguments,this),this},t.set=function(s,r,o){return r.duration=0,r.parent=this,Cl(r).repeatDelay||(r.repeat=0),r.immediateRender=!!r.immediateRender,new jt(s,r,Yn(this,o),1),this},t.call=function(s,r,o){return Vi(this,jt.delayedCall(0,s,r),o)},t.staggerTo=function(s,r,o,a,c,u,h){return o.duration=r,o.stagger=o.stagger||a,o.onComplete=u,o.onCompleteParams=h,o.parent=this,new jt(s,o,Yn(this,c)),this},t.staggerFrom=function(s,r,o,a,c,u,h){return o.runBackwards=1,Cl(o).immediateRender=Pn(o.immediateRender),this.staggerTo(s,r,o,a,c,u,h)},t.staggerFromTo=function(s,r,o,a,c,u,h,f){return a.startAt=o,Cl(a).immediateRender=Pn(a.immediateRender),this.staggerTo(s,r,a,c,u,h,f)},t.render=function(s,r,o){var a=this._time,c=this._dirty?this.totalDuration():this._tDur,u=this._dur,h=s<=0?0:cn(s),f=this._zTime<0!=s<0&&(this._initted||!u),m,_,y,w,x,M,P,F,E,D,B,I;if(this!==Pt&&h>c&&s>=0&&(h=c),h!==this._tTime||o||f){if(a!==this._time&&u&&(h+=this._time-a,s+=this._time-a),m=h,E=this._start,F=this._ts,M=!F,f&&(u||(a=this._zTime),(s||!r)&&(this._zTime=s)),this._repeat){if(B=this._yoyo,x=u+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(x*100+s,r,o);if(m=cn(h%x),h===c?(w=this._repeat,m=u):(w=~~(h/x),w&&w===h/x&&(m=u,w--),m>u&&(m=u)),D=Xo(this._tTime,x),!a&&this._tTime&&D!==w&&(D=w),B&&w&1&&(m=u-m,I=1),w!==D&&!this._lock){var L=B&&D&1,k=L===(B&&w&1);if(w<D&&(L=!L),a=L?0:u,this._lock=1,this.render(a||(I?0:cn(w*x)),r,!u)._lock=0,this._tTime=h,!r&&this.parent&&si(this,"onRepeat"),this.vars.repeatRefresh&&!I&&(this.invalidate()._lock=1),a&&a!==this._time||M!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,c=this._tDur,k&&(this._lock=2,a=L?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!I&&this.invalidate()),this._lock=0,!this._ts&&!M)return this;vb(this,I)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(P=M7(this,cn(a),cn(m)),P&&(h-=m-(m=P._start))),this._tTime=h,this._time=m,this._act=!F,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,a=0),!a&&m&&!r&&(si(this,"onStart"),this._tTime!==h))return this;if(m>=a&&s>=0)for(_=this._first;_;){if(y=_._next,(_._act||m>=_._start)&&_._ts&&P!==_){if(_.parent!==this)return this.render(s,r,o);if(_.render(_._ts>0?(m-_._start)*_._ts:(_._dirty?_.totalDuration():_._tDur)+(m-_._start)*_._ts,r,o),m!==this._time||!this._ts&&!M){P=0,y&&(h+=this._zTime=-xt);break}}_=y}else{_=this._last;for(var W=s<0?s:m;_;){if(y=_._prev,(_._act||W<=_._end)&&_._ts&&P!==_){if(_.parent!==this)return this.render(s,r,o);if(_.render(_._ts>0?(W-_._start)*_._ts:(_._dirty?_.totalDuration():_._tDur)+(W-_._start)*_._ts,r,o),m!==this._time||!this._ts&&!M){P=0,y&&(h+=this._zTime=W?-xt:xt);break}}_=y}}if(P&&!r&&(this.pause(),P.render(m>=a?0:-xt)._zTime=m>=a?1:-1,this._ts))return this._start=E,Ah(this),this.render(s,r,o);this._onUpdate&&!r&&si(this,"onUpdate",!0),(h===c&&this._tTime>=this.totalDuration()||!h&&a)&&(E===this._start||Math.abs(F)!==Math.abs(this._ts))&&(this._lock||((s||!u)&&(h===c&&this._ts>0||!h&&this._ts<0)&&is(this,1),!r&&!(s<0&&!a)&&(h||a||!c)&&(si(this,h===c&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<c&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(s,r){var o=this;if(as(r)||(r=Yn(this,r,s)),!(s instanceof Ul)){if(dn(s))return s.forEach(function(a){return o.add(a,r)}),this;if(Qt(s))return this.addLabel(s,r);if(Xt(s))s=jt.delayedCall(0,s);else return this}return this!==s?Vi(this,s,r):this},t.getChildren=function(s,r,o,a){s===void 0&&(s=!0),r===void 0&&(r=!0),o===void 0&&(o=!0),a===void 0&&(a=-ni);for(var c=[],u=this._first;u;)u._start>=a&&(u instanceof jt?r&&c.push(u):(o&&c.push(u),s&&c.push.apply(c,u.getChildren(!0,r,o)))),u=u._next;return c},t.getById=function(s){for(var r=this.getChildren(1,1,1),o=r.length;o--;)if(r[o].vars.id===s)return r[o]},t.remove=function(s){return Qt(s)?this.removeLabel(s):Xt(s)?this.killTweensOf(s):(Eh(this,s),s===this._recent&&(this._recent=this._last),Rr(this))},t.totalTime=function(s,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=cn(Hn.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),n.prototype.totalTime.call(this,s,r),this._forcing=0,this):this._tTime},t.addLabel=function(s,r){return this.labels[s]=Yn(this,r),this},t.removeLabel=function(s){return delete this.labels[s],this},t.addPause=function(s,r,o){var a=jt.delayedCall(0,r||Vl,o);return a.data="isPause",this._hasPause=1,Vi(this,a,Yn(this,s))},t.removePause=function(s){var r=this._first;for(s=Yn(this,s);r;)r._start===s&&r.data==="isPause"&&is(r),r=r._next},t.killTweensOf=function(s,r,o){for(var a=this.getTweensOf(s,o),c=a.length;c--;)Rs!==a[c]&&a[c].kill(s,r);return this},t.getTweensOf=function(s,r){for(var o=[],a=ii(s),c=this._first,u=as(r),h;c;)c instanceof jt?C7(c._targets,a)&&(u?(!Rs||c._initted&&c._ts)&&c.globalTime(0)<=r&&c.globalTime(c.totalDuration())>r:!r||c.isActive())&&o.push(c):(h=c.getTweensOf(a,r)).length&&o.push.apply(o,h),c=c._next;return o},t.tweenTo=function(s,r){r=r||{};var o=this,a=Yn(o,s),c=r,u=c.startAt,h=c.onStart,f=c.onStartParams,m=c.immediateRender,_,y=jt.to(o,ai({ease:r.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:r.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale())||xt,onStart:function(){if(o.pause(),!_){var x=r.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale());y._dur!==x&&Zo(y,x,0,1).render(y._time,!0,!0),_=1}h&&h.apply(y,f||[])}},r));return m?y.render(0):y},t.tweenFromTo=function(s,r,o){return this.tweenTo(r,ai({startAt:{time:Yn(this,s)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(s){return s===void 0&&(s=this._time),V_(this,Yn(this,s))},t.previousLabel=function(s){return s===void 0&&(s=this._time),V_(this,Yn(this,s),1)},t.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+xt)},t.shiftChildren=function(s,r,o){o===void 0&&(o=0);for(var a=this._first,c=this.labels,u;a;)a._start>=o&&(a._start+=s,a._end+=s),a=a._next;if(r)for(u in c)c[u]>=o&&(c[u]+=s);return Rr(this)},t.invalidate=function(){var s=this._first;for(this._lock=0;s;)s.invalidate(),s=s._next;return n.prototype.invalidate.call(this)},t.clear=function(s){s===void 0&&(s=!0);for(var r=this._first,o;r;)o=r._next,this.remove(r),r=o;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),Rr(this)},t.totalDuration=function(s){var r=0,o=this,a=o._last,c=ni,u,h,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-s:s));if(o._dirty){for(f=o.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),h=a._start,h>c&&o._sort&&a._ts&&!o._lock?(o._lock=1,Vi(o,a,h-a._delay,1)._lock=0):c=h,h<0&&a._ts&&(r-=h,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=h/o._ts,o._time-=h,o._tTime-=h),o.shiftChildren(-h,!1,-1/0),c=0),a._end>r&&a._ts&&(r=a._end),a=u;Zo(o,o===Pt&&o._time>r?o._time:r,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(s){if(Pt._ts&&(eb(Pt,ku(s,Pt)),Q3=Hn.frame),Hn.frame>=R_){R_+=$n.autoSleep||120;var r=Pt._first;if((!r||!r._ts)&&$n.autoSleep&&Hn._listeners.length<2){for(;r&&!r._ts;)r=r._next;r||Hn.sleep()}}},e}(Ul);ai(Dn.prototype,{_lock:0,_hasPause:0,_forcing:0});var q7=function(e,t,i,s,r,o,a){var c=new Ln(this._pt,e,t,0,1,Db,null,r),u=0,h=0,f,m,_,y,w,x,M,P;for(c.b=i,c.e=s,i+="",s+="",(M=~s.indexOf("random("))&&(s=Hl(s)),o&&(P=[i,s],o(P,e,t),i=P[0],s=P[1]),m=i.match(tf)||[];f=tf.exec(s);)y=f[0],w=s.substring(u,f.index),_?_=(_+1)%5:w.substr(-5)==="rgba("&&(_=1),y!==m[h++]&&(x=parseFloat(m[h-1])||0,c._pt={_next:c._pt,p:w||h===1?w:",",s:x,c:y.charAt(1)==="="?ko(x,y)-x:parseFloat(y)-x,m:_&&_<4?Math.round:0},u=tf.lastIndex);return c.c=u<s.length?s.substring(u,s.length):"",c.fp=a,(q3.test(s)||M)&&(c.e=0),this._pt=c,c},j1=function(e,t,i,s,r,o,a,c,u){Xt(s)&&(s=s(r||0,e,o));var h=e[t],f=i!=="get"?i:Xt(h)?u?e[t.indexOf("set")||!Xt(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():h,m=Xt(h)?u?Q7:Eb:K1,_;if(Qt(s)&&(~s.indexOf("random(")&&(s=Hl(s)),s.charAt(1)==="="&&(_=ko(f,s)+(hn(f)||0),(_||_===0)&&(s=_))),f!==s||Lp)return!isNaN(f*s)&&s!==""?(_=new Ln(this._pt,e,t,+f||0,s-(f||0),typeof h=="boolean"?eE:Ab,0,m),u&&(_.fp=u),a&&_.modifier(a,this,e),this._pt=_):(!h&&!(t in e)&&z1(t,s),q7.call(this,e,t,f,s,m,c||$n.stringFilter,u))},K7=function(e,t,i,s,r){if(Xt(e)&&(e=El(e,r,t,i,s)),!ls(e)||e.style&&e.nodeType||dn(e)||W3(e))return Qt(e)?El(e,r,t,i,s):e;var o={},a;for(a in e)o[a]=El(e[a],r,t,i,s);return o},wb=function(e,t,i,s,r,o){var a,c,u,h;if(Nn[e]&&(a=new Nn[e]).init(r,a.rawVars?t[e]:K7(t[e],s,r,o,i),i,s,o)!==!1&&(i._pt=c=new Ln(i._pt,r,e,0,1,a.render,a,0,a.priority),i!==Mo))for(u=i._ptLookup[i._targets.indexOf(r)],h=a._props.length;h--;)u[a._props[h]]=c;return a},Rs,Lp,q1=function n(e,t){var i=e.vars,s=i.ease,r=i.startAt,o=i.immediateRender,a=i.lazy,c=i.onUpdate,u=i.onUpdateParams,h=i.callbackScope,f=i.runBackwards,m=i.yoyoEase,_=i.keyframes,y=i.autoRevert,w=e._dur,x=e._startAt,M=e._targets,P=e.parent,F=P&&P.data==="nested"?P.parent._targets:M,E=e._overwrite==="auto"&&!N1,D=e.timeline,B,I,L,k,W,K,R,G,O,j,$,se,X;if(D&&(!_||!s)&&(s="none"),e._ease=kr(s,Jo.ease),e._yEase=m?gb(kr(m===!0?s:m,Jo.ease)):0,m&&e._yoyo&&!e._repeat&&(m=e._yEase,e._yEase=e._ease,e._ease=m),e._from=!D&&!!i.runBackwards,!D||_&&!i.stagger){if(G=M[0]?Ir(M[0]).harness:0,se=G&&i[G.prop],B=Ru(i,U1),x&&(is(x.render(-1,!0)),x._lazy=0),r)if(is(e._startAt=jt.set(M,ai({data:"isStart",overwrite:!1,parent:P,immediateRender:!0,lazy:Pn(a),startAt:null,delay:0,onUpdate:c,onUpdateParams:u,callbackScope:h,stagger:0},r))),t<0&&!o&&!y&&e._startAt.render(-1,!0),o){if(t>0&&!y&&(e._startAt=0),w&&t<=0){t&&(e._zTime=t);return}}else y===!1&&(e._startAt=0);else if(f&&w){if(x)!y&&(e._startAt=0);else if(t&&(o=!1),L=ai({overwrite:!1,data:"isFromStart",lazy:o&&Pn(a),immediateRender:o,stagger:0,parent:P},B),se&&(L[G.prop]=se),is(e._startAt=jt.set(M,L)),t<0&&e._startAt.render(-1,!0),e._zTime=t,!o)n(e._startAt,xt);else if(!t)return}for(e._pt=e._ptCache=0,a=w&&Pn(a)||a&&!w,I=0;I<M.length;I++){if(W=M[I],R=W._gsap||$1(M)[I]._gsap,e._ptLookup[I]=j={},Mp[R.id]&&Gs.length&&Iu(),$=F===M?I:F.indexOf(W),G&&(O=new G).init(W,se||B,e,$,F)!==!1&&(e._pt=k=new Ln(e._pt,W,O.name,0,1,O.render,O,0,O.priority),O._props.forEach(function(Le){j[Le]=k}),O.priority&&(K=1)),!G||se)for(L in B)Nn[L]&&(O=wb(L,B,e,$,W,F))?O.priority&&(K=1):j[L]=k=j1.call(e,W,L,"get",B[L],$,F,0,i.stringFilter);e._op&&e._op[I]&&e.kill(W,e._op[I]),E&&e._pt&&(Rs=e,Pt.killTweensOf(W,j,e.globalTime(t)),X=!e.parent,Rs=0),e._pt&&a&&(Mp[R.id]=1)}K&&Sb(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!X,_&&t<=0&&D.render(ni,!0,!0)},J7=function(e,t,i,s,r,o,a){var c=(e._pt&&e._ptCache||(e._ptCache={}))[t],u,h,f;if(!c)for(c=e._ptCache[t]=[],h=e._ptLookup,f=e._targets.length;f--;){if(u=h[f][t],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==t;)u=u._next;if(!u)return Lp=1,e.vars[t]="+=0",q1(e,a),Lp=0,1;c.push(u)}for(f=c.length;f--;)u=c[f],u.s=(s||s===0)&&!r?s:u.s+(s||0)+o*u.c,u.c=i-u.s,u.e&&(u.e=It(i)+hn(u.e)),u.b&&(u.b=u.s+hn(u.b))},X7=function(e,t){var i=e[0]?Ir(e[0]).harness:0,s=i&&i.aliases,r,o,a,c;if(!s)return t;r=Hr({},t);for(o in s)if(o in r)for(c=s[o].split(","),a=c.length;a--;)r[c[a]]=r[o];return r},Z7=function(e,t,i,s){var r=t.ease||s||"power1.inOut",o,a;if(dn(t))a=i[e]||(i[e]=[]),t.forEach(function(c,u){return a.push({t:u/(t.length-1)*100,v:c,e:r})});else for(o in t)a=i[o]||(i[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:r})},El=function(e,t,i,s,r){return Xt(e)?e.call(t,i,s,r):Qt(e)&&~e.indexOf("random(")?Hl(e):e},Cb=G1+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",xb={};Fn(Cb+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return xb[n]=1});var jt=function(n){U3(e,n);function e(i,s,r,o){var a;typeof s=="number"&&(r.duration=s,s=r,r=null),a=n.call(this,o?s:Cl(s))||this;var c=a.vars,u=c.duration,h=c.delay,f=c.immediateRender,m=c.stagger,_=c.overwrite,y=c.keyframes,w=c.defaults,x=c.scrollTrigger,M=c.yoyoEase,P=s.parent||Pt,F=(dn(i)||W3(i)?as(i[0]):"length"in s)?[i]:ii(i),E,D,B,I,L,k,W,K;if(a._targets=F.length?$1(F):Lu("GSAP target "+i+" not found. https://greensock.com",!$n.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=_,y||m||ou(u)||ou(h)){if(s=a.vars,E=a.timeline=new Dn({data:"nested",defaults:w||{}}),E.kill(),E.parent=E._dp=Yi(a),E._start=0,m||ou(u)||ou(h)){if(I=F.length,W=m&&cb(m),ls(m))for(L in m)~Cb.indexOf(L)&&(K||(K={}),K[L]=m[L]);for(D=0;D<I;D++)B=Ru(s,xb),B.stagger=0,M&&(B.yoyoEase=M),K&&Hr(B,K),k=F[D],B.duration=+El(u,Yi(a),D,k,F),B.delay=(+El(h,Yi(a),D,k,F)||0)-a._delay,!m&&I===1&&B.delay&&(a._delay=h=B.delay,a._start+=h,B.delay=0),E.to(k,B,W?W(D,k,F):0),E._ease=rt.none;E.duration()?u=h=0:a.timeline=0}else if(y){Cl(ai(E.vars.defaults,{ease:"none"})),E._ease=kr(y.ease||s.ease||"none");var R=0,G,O,j;if(dn(y))y.forEach(function($){return E.to(F,$,">")});else{B={};for(L in y)L==="ease"||L==="easeEach"||Z7(L,y[L],B,y.easeEach);for(L in B)for(G=B[L].sort(function($,se){return $.t-se.t}),R=0,D=0;D<G.length;D++)O=G[D],j={ease:O.e,duration:(O.t-(D?G[D-1].t:0))/100*u},j[L]=O.v,E.to(F,j,R),R+=j.duration;E.duration()<u&&E.to({},{duration:u-E.duration()})}}u||a.duration(u=E.duration())}else a.timeline=0;return _===!0&&!N1&&(Rs=Yi(a),Pt.killTweensOf(F),Rs=0),Vi(P,Yi(a),r),s.reversed&&a.reverse(),s.paused&&a.paused(!0),(f||!u&&!y&&a._start===cn(P._time)&&Pn(f)&&D7(Yi(a))&&P.data!=="nested")&&(a._tTime=-xt,a.render(Math.max(0,-h))),x&&rb(Yi(a),x),a}var t=e.prototype;return t.render=function(s,r,o){var a=this._time,c=this._tDur,u=this._dur,h=s>c-xt&&s>=0?c:s<xt?0:s,f,m,_,y,w,x,M,P,F;if(!u)T7(this,s,r,o);else if(h!==this._tTime||!s||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=s<0){if(f=h,P=this.timeline,this._repeat){if(y=u+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(y*100+s,r,o);if(f=cn(h%y),h===c?(_=this._repeat,f=u):(_=~~(h/y),_&&_===h/y&&(f=u,_--),f>u&&(f=u)),x=this._yoyo&&_&1,x&&(F=this._yEase,f=u-f),w=Xo(this._tTime,y),f===a&&!o&&this._initted)return this._tTime=h,this;_!==w&&(P&&this._yEase&&vb(P,x),this.vars.repeatRefresh&&!x&&!this._lock&&(this._lock=o=1,this.render(cn(y*_),!0).invalidate()._lock=0))}if(!this._initted){if(ob(this,s<0?s:f,o,r))return this._tTime=0,this;if(a!==this._time)return this;if(u!==this._dur)return this.render(s,r,o)}if(this._tTime=h,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=M=(F||this._ease)(f/u),this._from&&(this.ratio=M=1-M),f&&!a&&!r&&(si(this,"onStart"),this._tTime!==h))return this;for(m=this._pt;m;)m.r(M,m.d),m=m._next;P&&P.render(s<0?s:!f&&x?-xt:P._dur*P._ease(f/this._dur),r,o)||this._startAt&&(this._zTime=s),this._onUpdate&&!r&&(s<0&&this._startAt&&this._startAt.render(s,!0,o),si(this,"onUpdate")),this._repeat&&_!==w&&this.vars.onRepeat&&!r&&this.parent&&si(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(s<0&&this._startAt&&!this._onUpdate&&this._startAt.render(s,!0,!0),(s||!u)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&is(this,1),!r&&!(s<0&&!a)&&(h||a)&&(si(this,h===c?"onComplete":"onReverseComplete",!0),this._prom&&!(h<c&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),n.prototype.invalidate.call(this)},t.resetTo=function(s,r,o,a){zl||Hn.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||q1(this,c),u=this._ease(c/this._dur),J7(this,s,r,o,a,u,c)?this.resetTo(s,r,o,a):(W1(this,0),this.parent||ib(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(s,r){if(r===void 0&&(r="all"),!s&&(!r||r==="all"))return this._lazy=this._pt=0,this.parent?ul(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(s,r,Rs&&Rs.vars.overwrite!==!0)._first||ul(this),this.parent&&o!==this.timeline.totalDuration()&&Zo(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,c=s?ii(s):a,u=this._ptLookup,h=this._pt,f,m,_,y,w,x,M;if((!r||r==="all")&&E7(a,c))return r==="all"&&(this._pt=0),ul(this);for(f=this._op=this._op||[],r!=="all"&&(Qt(r)&&(w={},Fn(r,function(P){return w[P]=1}),r=w),r=X7(a,r)),M=a.length;M--;)if(~c.indexOf(a[M])){m=u[M],r==="all"?(f[M]=r,y=m,_={}):(_=f[M]=f[M]||{},y=r);for(w in y)x=m&&m[w],x&&((!("kill"in x.d)||x.d.kill(w)===!0)&&Eh(this,x,"_pt"),delete m[w]),_!=="all"&&(_[w]=1)}return this._initted&&!this._pt&&h&&ul(this),this},e.to=function(s,r){return new e(s,r,arguments[2])},e.from=function(s,r){return xl(1,arguments)},e.delayedCall=function(s,r,o,a){return new e(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:r,onReverseComplete:r,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(s,r,o){return xl(2,arguments)},e.set=function(s,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new e(s,r)},e.killTweensOf=function(s,r,o){return Pt.killTweensOf(s,r,o)},e}(Ul);ai(jt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Fn("staggerTo,staggerFrom,staggerFromTo",function(n){jt[n]=function(){var e=new Dn,t=Pp.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var K1=function(e,t,i){return e[t]=i},Eb=function(e,t,i){return e[t](i)},Q7=function(e,t,i,s){return e[t](s.fp,i)},Y7=function(e,t,i){return e.setAttribute(t,i)},J1=function(e,t){return Xt(e[t])?Eb:V1(e[t])&&e.setAttribute?Y7:K1},Ab=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},eE=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Db=function(e,t){var i=t._pt,s="";if(!e&&t.b)s=t.b;else if(e===1&&t.e)s=t.e;else{for(;i;)s=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+s,i=i._next;s+=t.c}t.set(t.t,t.p,s,t)},X1=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},tE=function(e,t,i,s){for(var r=this._pt,o;r;)o=r._next,r.p===s&&r.modifier(e,t,i),r=o},nE=function(e){for(var t=this._pt,i,s;t;)s=t._next,t.p===e&&!t.op||t.op===e?Eh(this,t,"_pt"):t.dep||(i=1),t=s;return!i},iE=function(e,t,i,s){s.mSet(e,t,s.m.call(s.tween,i,s.mt),s)},Sb=function(e){for(var t=e._pt,i,s,r,o;t;){for(i=t._next,s=r;s&&s.pr>t.pr;)s=s._next;(t._prev=s?s._prev:o)?t._prev._next=t:r=t,(t._next=s)?s._prev=t:o=t,t=i}e._pt=r},Ln=function(){function n(t,i,s,r,o,a,c,u,h){this.t=i,this.s=r,this.c=o,this.p=s,this.r=a||Ab,this.d=c||this,this.set=u||K1,this.pr=h||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(i,s,r){this.mSet=this.mSet||this.set,this.set=iE,this.m=i,this.mt=r,this.tween=s},n}();Fn(G1+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return U1[n]=1});jn.TweenMax=jn.TweenLite=jt;jn.TimelineLite=jn.TimelineMax=Dn;Pt=new Dn({sortChildren:!1,defaults:Jo,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});$n.stringFilter=_b;var Ou={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(s){return H7(s)})},timeline:function(e){return new Dn(e)},getTweensOf:function(e,t){return Pt.getTweensOf(e,t)},getProperty:function(e,t,i,s){Qt(e)&&(e=ii(e)[0]);var r=Ir(e||{}).get,o=i?nb:tb;return i==="native"&&(i=""),e&&(t?o((Nn[t]&&Nn[t].get||r)(e,t,i,s)):function(a,c,u){return o((Nn[a]&&Nn[a].get||r)(e,a,c,u))})},quickSetter:function(e,t,i){if(e=ii(e),e.length>1){var s=e.map(function(h){return Ti.quickSetter(h,t,i)}),r=s.length;return function(h){for(var f=r;f--;)s[f](h)}}e=e[0]||{};var o=Nn[t],a=Ir(e),c=a.harness&&(a.harness.aliases||{})[t]||t,u=o?function(h){var f=new o;Mo._pt=0,f.init(e,i?h+i:h,Mo,0,[e]),f.render(1,f),Mo._pt&&X1(1,Mo)}:a.set(e,c);return o?u:function(h){return u(e,c,i?h+i:h,a,1)}},quickTo:function(e,t,i){var s,r=Ti.to(e,Hr((s={},s[t]="+=0.1",s.paused=!0,s),i||{})),o=function(c,u,h){return r.resetTo(t,c,u,h)};return o.tween=r,o},isTweening:function(e){return Pt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=kr(e.ease,Jo.ease)),k_(Jo,e||{})},config:function(e){return k_($n,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,s=e.plugins,r=e.defaults,o=e.extendTimeline;(s||"").split(",").forEach(function(a){return a&&!Nn[a]&&!jn[a]&&Lu(t+" effect requires "+a+" plugin.")}),nf[t]=function(a,c,u){return i(ii(a),ai(c||{},r),u)},o&&(Dn.prototype[t]=function(a,c,u){return this.add(nf[t](a,ls(c)?c:(u=c)&&{},this),u)})},registerEase:function(e,t){rt[e]=kr(t)},parseEase:function(e,t){return arguments.length?kr(e,t):rt},getById:function(e){return Pt.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var i=new Dn(e),s,r;for(i.smoothChildTiming=Pn(e.smoothChildTiming),Pt.remove(i),i._dp=0,i._time=i._tTime=Pt._time,s=Pt._first;s;)r=s._next,(t||!(!s._dur&&s instanceof jt&&s.vars.onComplete===s._targets[0]))&&Vi(i,s,s._start-s._delay),s=r;return Vi(Pt,i,0),i},utils:{wrap:O7,wrapYoyo:N7,distribute:cb,random:hb,snap:ub,normalize:k7,getUnit:hn,clamp:P7,splitColor:pb,toArray:ii,selector:L7,mapRange:fb,pipe:I7,unitize:R7,interpolate:V7,shuffle:lb},install:X3,effects:nf,ticker:Hn,updateRoot:Dn.updateRoot,plugins:Nn,globalTimeline:Pt,core:{PropTween:Ln,globals:Z3,Tween:jt,Timeline:Dn,Animation:Ul,getCache:Ir,_removeLinkedListItem:Eh,suppressOverwrites:function(e){return N1=e}}};Fn("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return Ou[n]=jt[n]});Hn.add(Dn.updateRoot);Mo=Ou.to({},{duration:0});var sE=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},rE=function(e,t){var i=e._targets,s,r,o;for(s in t)for(r=i.length;r--;)o=e._ptLookup[r][s],o&&(o=o.d)&&(o._pt&&(o=sE(o,s)),o&&o.modifier&&o.modifier(t[s],e,i[r],s))},af=function(e,t){return{name:e,rawVars:1,init:function(s,r,o){o._onInit=function(a){var c,u;if(Qt(r)&&(c={},Fn(r,function(h){return c[h]=1}),r=c),t){c={};for(u in r)c[u]=t(r[u]);r=c}rE(a,r)}}}},Ti=Ou.registerPlugin({name:"attr",init:function(e,t,i,s,r){var o,a;for(o in t)a=this.add(e,"setAttribute",(e.getAttribute(o)||0)+"",t[o],s,r,0,0,o),a&&(a.op=o),this._props.push(o)}},{name:"endArray",init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i])}},af("roundProps",Fp),af("modifiers"),af("snap",ub))||Ou;jt.version=Dn.version=Ti.version="3.10.3";J3=1;$3()&&Qo();rt.Power0;rt.Power1;rt.Power2;rt.Power3;rt.Power4;rt.Linear;rt.Quad;rt.Cubic;rt.Quart;rt.Quint;rt.Strong;rt.Elastic;rt.Back;rt.SteppedEase;rt.Bounce;rt.Sine;rt.Expo;rt.Circ;/*!
 * CSSPlugin 3.10.3
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var z_,ks,Oo,Z1,xr,U_,oE=function(){return typeof window!="undefined"},qs={},gr=180/Math.PI,No=Math.PI/180,go=Math.atan2,G_=1e8,Tb=/([A-Z])/g,aE=/(left|right|width|margin|padding|x)/i,lE=/[\s,\(]\S/,Os={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Mb=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},cE=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},uE=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},hE=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},Bb=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Pb=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},dE=function(e,t,i){return e.style[t]=i},fE=function(e,t,i){return e.style.setProperty(t,i)},pE=function(e,t,i){return e._gsap[t]=i},mE=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},_E=function(e,t,i,s,r){var o=e._gsap;o.scaleX=o.scaleY=i,o.renderTransform(r,o)},gE=function(e,t,i,s,r){var o=e._gsap;o[t]=i,o.renderTransform(r,o)},tn="transform",Ks=tn+"Origin",Fb,Ip=function(e,t){var i=ks.createElementNS?ks.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):ks.createElement(e);return i.style?i:ks.createElement(e)},ss=function n(e,t,i){var s=getComputedStyle(e);return s[t]||s.getPropertyValue(t.replace(Tb,"-$1").toLowerCase())||s.getPropertyValue(t)||!i&&n(e,Yo(t)||t,1)||""},$_="O,Moz,ms,Ms,Webkit".split(","),Yo=function(e,t,i){var s=t||xr,r=s.style,o=5;if(e in r&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!($_[o]+e in r););return o<0?null:(o===3?"ms":o>=0?$_[o]:"")+e},Rp=function(){oE()&&window.document&&(z_=window,ks=z_.document,Oo=ks.documentElement,xr=Ip("div")||{style:{}},Ip("div"),tn=Yo(tn),Ks=tn+"Origin",xr.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Fb=!!Yo("perspective"),Z1=1)},lf=function n(e){var t=Ip("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,s=this.nextSibling,r=this.style.cssText,o;if(Oo.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return i&&(s?i.insertBefore(this,s):i.appendChild(this)),Oo.removeChild(t),this.style.cssText=r,o},W_=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},Lb=function(e){var t;try{t=e.getBBox()}catch{t=lf.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===lf||(t=lf.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+W_(e,["x","cx","x1"])||0,y:+W_(e,["y","cy","y1"])||0,width:0,height:0}:t},Ib=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Lb(e))},Gl=function(e,t){if(t){var i=e.style;t in qs&&t!==Ks&&(t=tn),i.removeProperty?((t.substr(0,2)==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(t.replace(Tb,"-$1").toLowerCase())):i.removeAttribute(t)}},Ns=function(e,t,i,s,r,o){var a=new Ln(e._pt,t,i,0,1,o?Pb:Bb);return e._pt=a,a.b=s,a.e=r,e._props.push(i),a},j_={deg:1,rad:1,turn:1},Js=function n(e,t,i,s){var r=parseFloat(i)||0,o=(i+"").trim().substr((r+"").length)||"px",a=xr.style,c=aE.test(t),u=e.tagName.toLowerCase()==="svg",h=(u?"client":"offset")+(c?"Width":"Height"),f=100,m=s==="px",_=s==="%",y,w,x,M;return s===o||!r||j_[s]||j_[o]?r:(o!=="px"&&!m&&(r=n(e,t,i,"px")),M=e.getCTM&&Ib(e),(_||o==="%")&&(qs[t]||~t.indexOf("adius"))?(y=M?e.getBBox()[c?"width":"height"]:e[h],It(_?r/y*f:r/100*y)):(a[c?"width":"height"]=f+(m?o:s),w=~t.indexOf("adius")||s==="em"&&e.appendChild&&!u?e:e.parentNode,M&&(w=(e.ownerSVGElement||{}).parentNode),(!w||w===ks||!w.appendChild)&&(w=ks.body),x=w._gsap,x&&_&&x.width&&c&&x.time===Hn.time?It(r/x.width*f):((_||o==="%")&&(a.position=ss(e,"position")),w===e&&(a.position="static"),w.appendChild(xr),y=xr[h],w.removeChild(xr),a.position="absolute",c&&_&&(x=Ir(w),x.time=Hn.time,x.width=w[h]),It(m?y*r/f:y&&r?f/y*r:0))))},vr=function(e,t,i,s){var r;return Z1||Rp(),t in Os&&t!=="transform"&&(t=Os[t],~t.indexOf(",")&&(t=t.split(",")[0])),qs[t]&&t!=="transform"?(r=Wl(e,s),r=t!=="transformOrigin"?r[t]:r.svg?r.origin:Vu(ss(e,Ks))+" "+r.zOrigin+"px"):(r=e.style[t],(!r||r==="auto"||s||~(r+"").indexOf("calc("))&&(r=Nu[t]&&Nu[t](e,t,i)||ss(e,t)||Y3(e,t)||(t==="opacity"?1:0))),i&&!~(r+"").trim().indexOf(" ")?Js(e,t,r,i)+i:r},vE=function(e,t,i,s){if(!i||i==="none"){var r=Yo(t,e,1),o=r&&ss(e,r,1);o&&o!==i?(t=r,i=o):t==="borderColor"&&(i=ss(e,"borderTopColor"))}var a=new Ln(this._pt,e.style,t,0,1,Db),c=0,u=0,h,f,m,_,y,w,x,M,P,F,E,D;if(a.b=i,a.e=s,i+="",s+="",s==="auto"&&(e.style[t]=s,s=ss(e,t)||s,e.style[t]=i),h=[i,s],_b(h),i=h[0],s=h[1],m=i.match(To)||[],D=s.match(To)||[],D.length){for(;f=To.exec(s);)x=f[0],P=s.substring(c,f.index),y?y=(y+1)%5:(P.substr(-5)==="rgba("||P.substr(-5)==="hsla(")&&(y=1),x!==(w=m[u++]||"")&&(_=parseFloat(w)||0,E=w.substr((_+"").length),x.charAt(1)==="="&&(x=ko(_,x)+E),M=parseFloat(x),F=x.substr((M+"").length),c=To.lastIndex-F.length,F||(F=F||$n.units[t]||E,c===s.length&&(s+=F,a.e+=F)),E!==F&&(_=Js(e,t,w,F)||0),a._pt={_next:a._pt,p:P||u===1?P:",",s:_,c:M-_,m:y&&y<4||t==="zIndex"?Math.round:0});a.c=c<s.length?s.substring(c,s.length):""}else a.r=t==="display"&&s==="none"?Pb:Bb;return q3.test(s)&&(a.e=0),this._pt=a,a},q_={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},bE=function(e){var t=e.split(" "),i=t[0],s=t[1]||"50%";return(i==="top"||i==="bottom"||s==="left"||s==="right")&&(e=i,i=s,s=e),t[0]=q_[i]||i,t[1]=q_[s]||s,t.join(" ")},yE=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,s=i.style,r=t.u,o=i._gsap,a,c,u;if(r==="all"||r===!0)s.cssText="",c=1;else for(r=r.split(","),u=r.length;--u>-1;)a=r[u],qs[a]&&(c=1,a=a==="transformOrigin"?Ks:tn),Gl(i,a);c&&(Gl(i,tn),o&&(o.svg&&i.removeAttribute("transform"),Wl(i,1),o.uncache=1))}},Nu={clearProps:function(e,t,i,s,r){if(r.data!=="isFromStart"){var o=e._pt=new Ln(e._pt,t,i,0,0,yE);return o.u=s,o.pr=-10,o.tween=r,e._props.push(i),1}}},$l=[1,0,0,1,0,0],Rb={},kb=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},K_=function(e){var t=ss(e,tn);return kb(t)?$l:t.substr(7).match(j3).map(It)},Q1=function(e,t){var i=e._gsap||Ir(e),s=e.style,r=K_(e),o,a,c,u;return i.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,r=[c.a,c.b,c.c,c.d,c.e,c.f],r.join(",")==="1,0,0,1,0,0"?$l:r):(r===$l&&!e.offsetParent&&e!==Oo&&!i.svg&&(c=s.display,s.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(u=1,a=e.nextSibling,Oo.appendChild(e)),r=K_(e),c?s.display=c:Gl(e,"display"),u&&(a?o.insertBefore(e,a):o?o.appendChild(e):Oo.removeChild(e))),t&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r)},kp=function(e,t,i,s,r,o){var a=e._gsap,c=r||Q1(e,!0),u=a.xOrigin||0,h=a.yOrigin||0,f=a.xOffset||0,m=a.yOffset||0,_=c[0],y=c[1],w=c[2],x=c[3],M=c[4],P=c[5],F=t.split(" "),E=parseFloat(F[0])||0,D=parseFloat(F[1])||0,B,I,L,k;i?c!==$l&&(I=_*x-y*w)&&(L=E*(x/I)+D*(-w/I)+(w*P-x*M)/I,k=E*(-y/I)+D*(_/I)-(_*P-y*M)/I,E=L,D=k):(B=Lb(e),E=B.x+(~F[0].indexOf("%")?E/100*B.width:E),D=B.y+(~(F[1]||F[0]).indexOf("%")?D/100*B.height:D)),s||s!==!1&&a.smooth?(M=E-u,P=D-h,a.xOffset=f+(M*_+P*w)-M,a.yOffset=m+(M*y+P*x)-P):a.xOffset=a.yOffset=0,a.xOrigin=E,a.yOrigin=D,a.smooth=!!s,a.origin=t,a.originIsAbsolute=!!i,e.style[Ks]="0px 0px",o&&(Ns(o,a,"xOrigin",u,E),Ns(o,a,"yOrigin",h,D),Ns(o,a,"xOffset",f,a.xOffset),Ns(o,a,"yOffset",m,a.yOffset)),e.setAttribute("data-svg-origin",E+" "+D)},Wl=function(e,t){var i=e._gsap||new yb(e);if("x"in i&&!t&&!i.uncache)return i;var s=e.style,r=i.scaleX<0,o="px",a="deg",c=ss(e,Ks)||"0",u,h,f,m,_,y,w,x,M,P,F,E,D,B,I,L,k,W,K,R,G,O,j,$,se,X,Le,Pe,He,De,ce,Te;return u=h=f=y=w=x=M=P=F=0,m=_=1,i.svg=!!(e.getCTM&&Ib(e)),B=Q1(e,i.svg),i.svg&&($=(!i.uncache||c==="0px 0px")&&!t&&e.getAttribute("data-svg-origin"),kp(e,$||c,!!$||i.originIsAbsolute,i.smooth!==!1,B)),E=i.xOrigin||0,D=i.yOrigin||0,B!==$l&&(W=B[0],K=B[1],R=B[2],G=B[3],u=O=B[4],h=j=B[5],B.length===6?(m=Math.sqrt(W*W+K*K),_=Math.sqrt(G*G+R*R),y=W||K?go(K,W)*gr:0,M=R||G?go(R,G)*gr+y:0,M&&(_*=Math.abs(Math.cos(M*No))),i.svg&&(u-=E-(E*W+D*R),h-=D-(E*K+D*G))):(Te=B[6],De=B[7],Le=B[8],Pe=B[9],He=B[10],ce=B[11],u=B[12],h=B[13],f=B[14],I=go(Te,He),w=I*gr,I&&(L=Math.cos(-I),k=Math.sin(-I),$=O*L+Le*k,se=j*L+Pe*k,X=Te*L+He*k,Le=O*-k+Le*L,Pe=j*-k+Pe*L,He=Te*-k+He*L,ce=De*-k+ce*L,O=$,j=se,Te=X),I=go(-R,He),x=I*gr,I&&(L=Math.cos(-I),k=Math.sin(-I),$=W*L-Le*k,se=K*L-Pe*k,X=R*L-He*k,ce=G*k+ce*L,W=$,K=se,R=X),I=go(K,W),y=I*gr,I&&(L=Math.cos(I),k=Math.sin(I),$=W*L+K*k,se=O*L+j*k,K=K*L-W*k,j=j*L-O*k,W=$,O=se),w&&Math.abs(w)+Math.abs(y)>359.9&&(w=y=0,x=180-x),m=It(Math.sqrt(W*W+K*K+R*R)),_=It(Math.sqrt(j*j+Te*Te)),I=go(O,j),M=Math.abs(I)>2e-4?I*gr:0,F=ce?1/(ce<0?-ce:ce):0),i.svg&&($=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!kb(ss(e,tn)),$&&e.setAttribute("transform",$))),Math.abs(M)>90&&Math.abs(M)<270&&(r?(m*=-1,M+=y<=0?180:-180,y+=y<=0?180:-180):(_*=-1,M+=M<=0?180:-180)),t=t||i.uncache,i.x=u-((i.xPercent=u&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+o,i.y=h-((i.yPercent=h&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-h)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+o,i.z=f+o,i.scaleX=It(m),i.scaleY=It(_),i.rotation=It(y)+a,i.rotationX=It(w)+a,i.rotationY=It(x)+a,i.skewX=M+a,i.skewY=P+a,i.transformPerspective=F+o,(i.zOrigin=parseFloat(c.split(" ")[2])||0)&&(s[Ks]=Vu(c)),i.xOffset=i.yOffset=0,i.force3D=$n.force3D,i.renderTransform=i.svg?CE:Fb?Ob:wE,i.uncache=0,i},Vu=function(e){return(e=e.split(" "))[0]+" "+e[1]},cf=function(e,t,i){var s=hn(t);return It(parseFloat(t)+parseFloat(Js(e,"x",i+"px",s)))+s},wE=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Ob(e,t)},fr="0deg",el="0px",pr=") ",Ob=function(e,t){var i=t||this,s=i.xPercent,r=i.yPercent,o=i.x,a=i.y,c=i.z,u=i.rotation,h=i.rotationY,f=i.rotationX,m=i.skewX,_=i.skewY,y=i.scaleX,w=i.scaleY,x=i.transformPerspective,M=i.force3D,P=i.target,F=i.zOrigin,E="",D=M==="auto"&&e&&e!==1||M===!0;if(F&&(f!==fr||h!==fr)){var B=parseFloat(h)*No,I=Math.sin(B),L=Math.cos(B),k;B=parseFloat(f)*No,k=Math.cos(B),o=cf(P,o,I*k*-F),a=cf(P,a,-Math.sin(B)*-F),c=cf(P,c,L*k*-F+F)}x!==el&&(E+="perspective("+x+pr),(s||r)&&(E+="translate("+s+"%, "+r+"%) "),(D||o!==el||a!==el||c!==el)&&(E+=c!==el||D?"translate3d("+o+", "+a+", "+c+") ":"translate("+o+", "+a+pr),u!==fr&&(E+="rotate("+u+pr),h!==fr&&(E+="rotateY("+h+pr),f!==fr&&(E+="rotateX("+f+pr),(m!==fr||_!==fr)&&(E+="skew("+m+", "+_+pr),(y!==1||w!==1)&&(E+="scale("+y+", "+w+pr),P.style[tn]=E||"translate(0, 0)"},CE=function(e,t){var i=t||this,s=i.xPercent,r=i.yPercent,o=i.x,a=i.y,c=i.rotation,u=i.skewX,h=i.skewY,f=i.scaleX,m=i.scaleY,_=i.target,y=i.xOrigin,w=i.yOrigin,x=i.xOffset,M=i.yOffset,P=i.forceCSS,F=parseFloat(o),E=parseFloat(a),D,B,I,L,k;c=parseFloat(c),u=parseFloat(u),h=parseFloat(h),h&&(h=parseFloat(h),u+=h,c+=h),c||u?(c*=No,u*=No,D=Math.cos(c)*f,B=Math.sin(c)*f,I=Math.sin(c-u)*-m,L=Math.cos(c-u)*m,u&&(h*=No,k=Math.tan(u-h),k=Math.sqrt(1+k*k),I*=k,L*=k,h&&(k=Math.tan(h),k=Math.sqrt(1+k*k),D*=k,B*=k)),D=It(D),B=It(B),I=It(I),L=It(L)):(D=f,L=m,B=I=0),(F&&!~(o+"").indexOf("px")||E&&!~(a+"").indexOf("px"))&&(F=Js(_,"x",o,"px"),E=Js(_,"y",a,"px")),(y||w||x||M)&&(F=It(F+y-(y*D+w*I)+x),E=It(E+w-(y*B+w*L)+M)),(s||r)&&(k=_.getBBox(),F=It(F+s/100*k.width),E=It(E+r/100*k.height)),k="matrix("+D+","+B+","+I+","+L+","+F+","+E+")",_.setAttribute("transform",k),P&&(_.style[tn]=k)},xE=function(e,t,i,s,r){var o=360,a=Qt(r),c=parseFloat(r)*(a&&~r.indexOf("rad")?gr:1),u=c-s,h=s+u+"deg",f,m;return a&&(f=r.split("_")[1],f==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),f==="cw"&&u<0?u=(u+o*G_)%o-~~(u/o)*o:f==="ccw"&&u>0&&(u=(u-o*G_)%o-~~(u/o)*o)),e._pt=m=new Ln(e._pt,t,i,s,u,cE),m.e=h,m.u="deg",e._props.push(i),m},J_=function(e,t){for(var i in t)e[i]=t[i];return e},EE=function(e,t,i){var s=J_({},i._gsap),r="perspective,force3D,transformOrigin,svgOrigin",o=i.style,a,c,u,h,f,m,_,y;s.svg?(u=i.getAttribute("transform"),i.setAttribute("transform",""),o[tn]=t,a=Wl(i,1),Gl(i,tn),i.setAttribute("transform",u)):(u=getComputedStyle(i)[tn],o[tn]=t,a=Wl(i,1),o[tn]=u);for(c in qs)u=s[c],h=a[c],u!==h&&r.indexOf(c)<0&&(_=hn(u),y=hn(h),f=_!==y?Js(i,c,u,y):parseFloat(u),m=parseFloat(h),e._pt=new Ln(e._pt,a,c,f,m-f,Mb),e._pt.u=y||0,e._props.push(c));J_(a,s)};Fn("padding,margin,Width,Radius",function(n,e){var t="Top",i="Right",s="Bottom",r="Left",o=(e<3?[t,i,s,r]:[t+r,t+i,s+i,s+r]).map(function(a){return e<2?n+a:"border"+a+n});Nu[e>1?"border"+n:n]=function(a,c,u,h,f){var m,_;if(arguments.length<4)return m=o.map(function(y){return vr(a,y,u)}),_=m.join(" "),_.split(m[0]).length===5?m[0]:_;m=(h+"").split(" "),_={},o.forEach(function(y,w){return _[y]=m[w]=m[w]||m[(w-1)/2|0]}),a.init(c,_,f)}});var Nb={name:"css",register:Rp,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,s,r){var o=this._props,a=e.style,c=i.vars.startAt,u,h,f,m,_,y,w,x,M,P,F,E,D,B,I;Z1||Rp();for(w in t)if(w!=="autoRound"&&(h=t[w],!(Nn[w]&&wb(w,t,i,s,e,r)))){if(_=typeof h,y=Nu[w],_==="function"&&(h=h.call(i,s,e,r),_=typeof h),_==="string"&&~h.indexOf("random(")&&(h=Hl(h)),y)y(this,e,w,h,i)&&(I=1);else if(w.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(w)+"").trim(),h+="",$s.lastIndex=0,$s.test(u)||(x=hn(u),M=hn(h)),M?x!==M&&(u=Js(e,w,u,M)+M):x&&(h+=x),this.add(a,"setProperty",u,h,s,r,0,0,w),o.push(w);else if(_!=="undefined"){if(c&&w in c?(u=typeof c[w]=="function"?c[w].call(i,s,e,r):c[w],Qt(u)&&~u.indexOf("random(")&&(u=Hl(u)),hn(u+"")||(u+=$n.units[w]||hn(vr(e,w))||""),(u+"").charAt(1)==="="&&(u=vr(e,w))):u=vr(e,w),m=parseFloat(u),P=_==="string"&&h.charAt(1)==="="&&h.substr(0,2),P&&(h=h.substr(2)),f=parseFloat(h),w in Os&&(w==="autoAlpha"&&(m===1&&vr(e,"visibility")==="hidden"&&f&&(m=0),Ns(this,a,"visibility",m?"inherit":"hidden",f?"inherit":"hidden",!f)),w!=="scale"&&w!=="transform"&&(w=Os[w],~w.indexOf(",")&&(w=w.split(",")[0]))),F=w in qs,F){if(E||(D=e._gsap,D.renderTransform&&!t.parseTransform||Wl(e,t.parseTransform),B=t.smoothOrigin!==!1&&D.smooth,E=this._pt=new Ln(this._pt,a,tn,0,1,D.renderTransform,D,0,-1),E.dep=1),w==="scale")this._pt=new Ln(this._pt,D,"scaleY",D.scaleY,(P?ko(D.scaleY,P+f):f)-D.scaleY||0),o.push("scaleY",w),w+="X";else if(w==="transformOrigin"){h=bE(h),D.svg?kp(e,h,0,B,0,this):(M=parseFloat(h.split(" ")[2])||0,M!==D.zOrigin&&Ns(this,D,"zOrigin",D.zOrigin,M),Ns(this,a,w,Vu(u),Vu(h)));continue}else if(w==="svgOrigin"){kp(e,h,1,B,0,this);continue}else if(w in Rb){xE(this,D,w,m,P?ko(m,P+h):h);continue}else if(w==="smoothOrigin"){Ns(this,D,"smooth",D.smooth,h);continue}else if(w==="force3D"){D[w]=h;continue}else if(w==="transform"){EE(this,h,e);continue}}else w in a||(w=Yo(w)||w);if(F||(f||f===0)&&(m||m===0)&&!lE.test(h)&&w in a)x=(u+"").substr((m+"").length),f||(f=0),M=hn(h)||(w in $n.units?$n.units[w]:x),x!==M&&(m=Js(e,w,u,M)),this._pt=new Ln(this._pt,F?D:a,w,m,(P?ko(m,P+f):f)-m,!F&&(M==="px"||w==="zIndex")&&t.autoRound!==!1?hE:Mb),this._pt.u=M||0,x!==M&&M!=="%"&&(this._pt.b=u,this._pt.r=uE);else if(w in a)vE.call(this,e,w,u,P?P+h:h);else if(w in e)this.add(e,w,u||e[w],P?P+h:h,s,r);else{z1(w,h);continue}o.push(w)}}I&&Sb(this)},get:vr,aliases:Os,getSetter:function(e,t,i){var s=Os[t];return s&&s.indexOf(",")<0&&(t=s),t in qs&&t!==Ks&&(e._gsap.x||vr(e,"x"))?i&&U_===i?t==="scale"?mE:pE:(U_=i||{})&&(t==="scale"?_E:gE):e.style&&!V1(e.style[t])?dE:~t.indexOf("-")?fE:J1(e,t)},core:{_removeProperty:Gl,_getMatrix:Q1}};Ti.utils.checkPrefix=Yo;(function(n,e,t,i){var s=Fn(n+","+e+","+t,function(r){qs[r]=1});Fn(e,function(r){$n.units[r]="deg",Rb[r]=1}),Os[s[13]]=n+","+e,Fn(i,function(r){var o=r.split(":");Os[o[1]]=s[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Fn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){$n.units[n]="px"});Ti.registerPlugin(Nb);var ut=Ti.registerPlugin(Nb)||Ti;ut.core.Tween;var AE=1e-6,bn=typeof Float32Array!="undefined"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var n=0,e=arguments.length;e--;)n+=arguments[e]*arguments[e];return Math.sqrt(n)});function Vb(){var n=new bn(9);return bn!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1,n}function cs(){var n=new bn(16);return bn!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0),n[0]=1,n[5]=1,n[10]=1,n[15]=1,n}function DE(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function SE(n,e,t){var i=e[0],s=e[1],r=e[2],o=e[3],a=e[4],c=e[5],u=e[6],h=e[7],f=e[8],m=e[9],_=e[10],y=e[11],w=e[12],x=e[13],M=e[14],P=e[15],F=t[0],E=t[1],D=t[2],B=t[3];return n[0]=F*i+E*a+D*f+B*w,n[1]=F*s+E*c+D*m+B*x,n[2]=F*r+E*u+D*_+B*M,n[3]=F*o+E*h+D*y+B*P,F=t[4],E=t[5],D=t[6],B=t[7],n[4]=F*i+E*a+D*f+B*w,n[5]=F*s+E*c+D*m+B*x,n[6]=F*r+E*u+D*_+B*M,n[7]=F*o+E*h+D*y+B*P,F=t[8],E=t[9],D=t[10],B=t[11],n[8]=F*i+E*a+D*f+B*w,n[9]=F*s+E*c+D*m+B*x,n[10]=F*r+E*u+D*_+B*M,n[11]=F*o+E*h+D*y+B*P,F=t[12],E=t[13],D=t[14],B=t[15],n[12]=F*i+E*a+D*f+B*w,n[13]=F*s+E*c+D*m+B*x,n[14]=F*r+E*u+D*_+B*M,n[15]=F*o+E*h+D*y+B*P,n}function au(n,e,t,i){var s=e[0],r=e[1],o=e[2],a=e[3],c=s+s,u=r+r,h=o+o,f=s*c,m=s*u,_=s*h,y=r*u,w=r*h,x=o*h,M=a*c,P=a*u,F=a*h,E=i[0],D=i[1],B=i[2];return n[0]=(1-(y+x))*E,n[1]=(m+F)*E,n[2]=(_-P)*E,n[3]=0,n[4]=(m-F)*D,n[5]=(1-(f+x))*D,n[6]=(w+M)*D,n[7]=0,n[8]=(_+P)*B,n[9]=(w-M)*B,n[10]=(1-(f+y))*B,n[11]=0,n[12]=t[0],n[13]=t[1],n[14]=t[2],n[15]=1,n}var X_=SE;function Tn(){var n=new bn(3);return bn!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n}function Er(n){var e=new bn(3);return e[0]=n[0],e[1]=n[1],e[2]=n[2],e}function TE(n){var e=n[0],t=n[1],i=n[2];return Math.hypot(e,t,i)}function Tt(n,e,t){var i=new bn(3);return i[0]=n,i[1]=e,i[2]=t,i}function Sn(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n}function Al(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n}function Op(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n}function ME(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n[2]=e[2]*t[2],n}function Vo(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n}function BE(n,e){var t=e[0]-n[0],i=e[1]-n[1],s=e[2]-n[2];return Math.hypot(t,i,s)}function jl(n,e){var t=e[0],i=e[1],s=e[2],r=t*t+i*i+s*s;return r>0&&(r=1/Math.sqrt(r)),n[0]=e[0]*r,n[1]=e[1]*r,n[2]=e[2]*r,n}function PE(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function Or(n,e,t){var i=e[0],s=e[1],r=e[2],o=t[0],a=t[1],c=t[2];return n[0]=s*c-r*a,n[1]=r*o-i*c,n[2]=i*a-s*o,n}function uf(n,e,t,i){var s=e[0],r=e[1],o=e[2];return n[0]=s+i*(t[0]-s),n[1]=r+i*(t[1]-r),n[2]=o+i*(t[2]-o),n}function FE(n,e,t){var i=e[0],s=e[1],r=e[2],o=t[3]*i+t[7]*s+t[11]*r+t[15];return o=o||1,n[0]=(t[0]*i+t[4]*s+t[8]*r+t[12])/o,n[1]=(t[1]*i+t[5]*s+t[9]*r+t[13])/o,n[2]=(t[2]*i+t[6]*s+t[10]*r+t[14])/o,n}var ql=Op,hf=ME,LE=TE;(function(){var n=Tn();return function(e,t,i,s,r,o){var a,c;for(t||(t=3),i||(i=0),s?c=Math.min(s*t+i,e.length):c=e.length,a=i;a<c;a+=t)n[0]=e[a],n[1]=e[a+1],n[2]=e[a+2],r(n,n,o),e[a]=n[0],e[a+1]=n[1],e[a+2]=n[2];return e}})();function IE(){var n=new bn(4);return bn!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0,n[3]=0),n}function RE(n,e){var t=e[0],i=e[1],s=e[2],r=e[3],o=t*t+i*i+s*s+r*r;return o>0&&(o=1/Math.sqrt(o)),n[0]=t*o,n[1]=i*o,n[2]=s*o,n[3]=r*o,n}(function(){var n=IE();return function(e,t,i,s,r,o){var a,c;for(t||(t=4),i||(i=0),s?c=Math.min(s*t+i,e.length):c=e.length,a=i;a<c;a+=t)n[0]=e[a],n[1]=e[a+1],n[2]=e[a+2],n[3]=e[a+3],r(n,n,o),e[a]=n[0],e[a+1]=n[1],e[a+2]=n[2],e[a+3]=n[3];return e}})();function us(){var n=new bn(4);return bn!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n[3]=1,n}function kE(n,e,t){t=t*.5;var i=Math.sin(t);return n[0]=i*e[0],n[1]=i*e[1],n[2]=i*e[2],n[3]=Math.cos(t),n}function Z_(n,e,t){t*=.5;var i=e[0],s=e[1],r=e[2],o=e[3],a=Math.sin(t),c=Math.cos(t);return n[0]=i*c+o*a,n[1]=s*c+r*a,n[2]=r*c-s*a,n[3]=o*c-i*a,n}function Q_(n,e,t){t*=.5;var i=e[0],s=e[1],r=e[2],o=e[3],a=Math.sin(t),c=Math.cos(t);return n[0]=i*c-r*a,n[1]=s*c+o*a,n[2]=r*c+i*a,n[3]=o*c-s*a,n}function Y_(n,e,t){t*=.5;var i=e[0],s=e[1],r=e[2],o=e[3],a=Math.sin(t),c=Math.cos(t);return n[0]=i*c+s*a,n[1]=s*c-i*a,n[2]=r*c+o*a,n[3]=o*c-r*a,n}function df(n,e,t,i){var s=e[0],r=e[1],o=e[2],a=e[3],c=t[0],u=t[1],h=t[2],f=t[3],m,_,y,w,x;return _=s*c+r*u+o*h+a*f,_<0&&(_=-_,c=-c,u=-u,h=-h,f=-f),1-_>AE?(m=Math.acos(_),y=Math.sin(m),w=Math.sin((1-i)*m)/y,x=Math.sin(i*m)/y):(w=1-i,x=i),n[0]=w*s+x*c,n[1]=w*r+x*u,n[2]=w*o+x*h,n[3]=w*a+x*f,n}function Hb(n,e){var t=e[0]+e[4]+e[8],i;if(t>0)i=Math.sqrt(t+1),n[3]=.5*i,i=.5/i,n[0]=(e[5]-e[7])*i,n[1]=(e[6]-e[2])*i,n[2]=(e[1]-e[3])*i;else{var s=0;e[4]>e[0]&&(s=1),e[8]>e[s*3+s]&&(s=2);var r=(s+1)%3,o=(s+2)%3;i=Math.sqrt(e[s*3+s]-e[r*3+r]-e[o*3+o]+1),n[s]=.5*i,i=.5/i,n[3]=(e[r*3+o]-e[o*3+r])*i,n[r]=(e[r*3+s]+e[s*3+r])*i,n[o]=(e[o*3+s]+e[s*3+o])*i}return n}var zb=RE;(function(){var n=Tn(),e=Tt(1,0,0),t=Tt(0,1,0);return function(i,s,r){var o=PE(s,r);return o<-.999999?(Or(n,e,s),LE(n)<1e-6&&Or(n,t,s),jl(n,n),kE(i,n,Math.PI),i):o>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(Or(n,s,r),i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=1+o,zb(i,i))}})();(function(){var n=us(),e=us();return function(t,i,s,r,o,a){return df(n,i,o,a),df(e,s,r,a),df(t,n,e,2*a*(1-a)),t}})();(function(){var n=Vb();return function(e,t,i,s){return n[0]=i[0],n[3]=i[1],n[6]=i[2],n[1]=s[0],n[4]=s[1],n[7]=s[2],n[2]=-t[0],n[5]=-t[1],n[8]=-t[2],zb(e,Hb(e,n))}})();function Ub(){var n=new bn(2);return bn!=Float32Array&&(n[0]=0,n[1]=0),n}function mr(n,e){var t=new bn(2);return t[0]=n,t[1]=e,t}function OE(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function NE(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}function VE(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n}var HE=NE;(function(){var n=Ub();return function(e,t,i,s,r,o){var a,c;for(t||(t=2),i||(i=0),s?c=Math.min(s*t+i,e.length):c=e.length,a=i;a<c;a+=t)n[0]=e[a],n[1]=e[a+1],r(n,n,o),e[a]=n[0],e[a+1]=n[1];return e}})();const Dh=Vb(),lu=new Float32Array(Dh.buffer,0*4,3),zE=new Float32Array(Dh.buffer,3*4,3),vo=new Float32Array(Dh.buffer,6*4,3),UE=Tt(0,1,0),ff=us(),Ms=Tn();class Sh{constructor(e=!1){return this.parent=null,this.children=[],this.position=Tt(0,0,0),this.positionDamped=Tt(0,0,0),this.scale=Tt(1,1,1),this.rotation=Tt(0,0,0),this.rotationDamped=Tt(0,0,0),this.quaternion=us(),this.matrix=cs(),this.lmatrix=cs(),this.damped=!1,this.dampedRot=!1,this.damping=.03,this.rotDamping=.03,this.lookAtNode=null,this.needUpdate=!0,this.forceUpdate=!1,this.manualRot=!1,this.isCamera=e,oi.nextFrame(()=>{this.getMatrix()}),this}setPosition(e,t,i){this.needUpdate=!0,this.position[0]=e,this.position[1]=t,this.position[2]=i}setRotation(e,t,i){this.needUpdate=!0,this.rotation[0]=e,this.rotation[1]=t,this.rotation[2]=i}setScale(e){this.needUpdate=!0,this.scale[0]=e,this.scale[1]=e,this.scale[2]=e}activateDamping(e){this.positionDamped=Er(this.position),this.damped=!0,this.damping=e,this.needUpdate=!0,this.getMatrix()}registerNodeToLookAt(e){this.lookAtNode=e,this.needUpdate=!0}lookAt(e){this.damped?Op(vo,this.positionDamped,e):Op(vo,this.position,e),jl(vo,vo),Or(lu,UE,vo),jl(lu,lu),Or(zE,vo,lu),Hb(ff,Dh),this.damped?au(this.matrix,ff,this.positionDamped,this.scale):au(this.matrix,ff,this.position,this.scale),this.parent!==null&&X_(this.matrix,this.parent.getMatrix(),this.matrix),this.needUpdate=!1}getMatrix(){return!this.forceUpdate&&!this.needUpdate&&!this.damped&&this.lookAtNode==null?this.matrix:(DE(this.matrix),this.manualRot==!1&&(this.quaternion=us(),this.dampedRot?(ql(Ms,this.rotation,this.rotationDamped),Vo(Ms,Ms,this.rotDamping),Al(this.rotationDamped,this.rotationDamped,Ms),Q_(this.quaternion,this.quaternion,this.rotationDamped[1]),Z_(this.quaternion,this.quaternion,this.rotationDamped[0]),Y_(this.quaternion,this.quaternion,this.rotationDamped[2])):(Q_(this.quaternion,this.quaternion,this.rotation[1]),Z_(this.quaternion,this.quaternion,this.rotation[0]),Y_(this.quaternion,this.quaternion,this.rotation[2]))),this.damped?(ql(Ms,this.position,this.positionDamped),Vo(Ms,Ms,this.damping),Al(this.positionDamped,this.positionDamped,Ms),au(this.matrix,this.quaternion,this.positionDamped,this.scale)):au(this.matrix,this.quaternion,this.position,this.scale),this.parent!==null&&X_(this.matrix,this.parent.getMatrix(),this.matrix),this.lookAtNode!==null&&(this.lookAtNode.getMatrix(),this.lookAtNode.damped?this.lookAt(this.lookAtNode.positionDamped):this.lookAt(this.lookAtNode.position),oi.postFrame(()=>{this.needUpdate=!0})),this.needUpdate=!1,this.matrix)}getChildByName(e){for(let t=0;t<this.children.length;t++){const i=this.children[t];if(i.name&&i.name===e)return i}}addChildNode(e){this.children.push(e),e.parent=this}fromPositionRotationScale(e,t,i){return this.position=Er(e),this.scale=Er(i),this.rotation=Er(t),this}}function GE(n,e){return n[0]=e[0],n[1]=e[1],n}function $E(n,e,t){return n[0]=e,n[1]=t,n}function eg(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function tg(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}function WE(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n}function jE(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n}function pf(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n}function qE(n,e){var t=e[0]-n[0],i=e[1]-n[1];return Math.sqrt(t*t+i*i)}function KE(n,e){var t=e[0]-n[0],i=e[1]-n[1];return t*t+i*i}function ng(n){var e=n[0],t=n[1];return Math.sqrt(e*e+t*t)}function JE(n){var e=n[0],t=n[1];return e*e+t*t}function XE(n,e){return n[0]=-e[0],n[1]=-e[1],n}function ZE(n,e){return n[0]=1/e[0],n[1]=1/e[1],n}function QE(n,e){var t=e[0],i=e[1],s=t*t+i*i;return s>0&&(s=1/Math.sqrt(s)),n[0]=e[0]*s,n[1]=e[1]*s,n}function YE(n,e){return n[0]*e[0]+n[1]*e[1]}function ig(n,e){return n[0]*e[1]-n[1]*e[0]}function eA(n,e,t,i){var s=e[0],r=e[1];return n[0]=s+i*(t[0]-s),n[1]=r+i*(t[1]-r),n}function tA(n,e,t){var i=e[0],s=e[1];return n[0]=t[0]*i+t[3]*s+t[6],n[1]=t[1]*i+t[4]*s+t[7],n}function nA(n,e,t){let i=e[0],s=e[1];return n[0]=t[0]*i+t[4]*s+t[12],n[1]=t[1]*i+t[5]*s+t[13],n}function iA(n,e){return n[0]===e[0]&&n[1]===e[1]}class Ot extends Array{constructor(e=0,t=e){return super(e,t),this}get x(){return this[0]}get y(){return this[1]}set x(e){this[0]=e}set y(e){this[1]=e}set(e,t=e){return e.length?this.copy(e):($E(this,e,t),this)}copy(e){return GE(this,e),this}add(e,t){return t?eg(this,e,t):eg(this,this,e),this}sub(e,t){return t?tg(this,e,t):tg(this,this,e),this}multiply(e){return e.length?WE(this,this,e):pf(this,this,e),this}divide(e){return e.length?jE(this,this,e):pf(this,this,1/e),this}inverse(e=this){return ZE(this,e),this}len(){return ng(this)}distance(e){return e?qE(this,e):ng(this)}squaredLen(){return this.squaredDistance()}squaredDistance(e){return e?KE(this,e):JE(this)}negate(e=this){return XE(this,e),this}cross(e,t){return t?ig(e,t):ig(this,e)}scale(e){return pf(this,this,e),this}normalize(){return QE(this,this),this}dot(e){return YE(this,e)}equals(e){return iA(this,e)}applyMatrix3(e){return tA(this,this,e),this}applyMatrix4(e){return nA(this,this,e),this}lerp(e,t){return eA(this,this,e,t),this}clone(){return new Ot(this[0],this[1])}fromArray(e,t=0){return this[0]=e[t],this[1]=e[t+1],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e}}function sg(n){let e=n[0],t=n[1],i=n[2];return Math.sqrt(e*e+t*t+i*i)}function Np(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n}function sA(n,e,t,i){return n[0]=e,n[1]=t,n[2]=i,n}function rg(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n}function og(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n}function rA(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n[2]=e[2]*t[2],n}function oA(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n[2]=e[2]/t[2],n}function mf(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n}function aA(n,e){let t=e[0]-n[0],i=e[1]-n[1],s=e[2]-n[2];return Math.sqrt(t*t+i*i+s*s)}function lA(n,e){let t=e[0]-n[0],i=e[1]-n[1],s=e[2]-n[2];return t*t+i*i+s*s}function ag(n){let e=n[0],t=n[1],i=n[2];return e*e+t*t+i*i}function cA(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n}function uA(n,e){return n[0]=1/e[0],n[1]=1/e[1],n[2]=1/e[2],n}function Vp(n,e){let t=e[0],i=e[1],s=e[2],r=t*t+i*i+s*s;return r>0&&(r=1/Math.sqrt(r)),n[0]=e[0]*r,n[1]=e[1]*r,n[2]=e[2]*r,n}function Gb(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function lg(n,e,t){let i=e[0],s=e[1],r=e[2],o=t[0],a=t[1],c=t[2];return n[0]=s*c-r*a,n[1]=r*o-i*c,n[2]=i*a-s*o,n}function hA(n,e,t,i){let s=e[0],r=e[1],o=e[2];return n[0]=s+i*(t[0]-s),n[1]=r+i*(t[1]-r),n[2]=o+i*(t[2]-o),n}function dA(n,e,t){let i=e[0],s=e[1],r=e[2],o=t[3]*i+t[7]*s+t[11]*r+t[15];return o=o||1,n[0]=(t[0]*i+t[4]*s+t[8]*r+t[12])/o,n[1]=(t[1]*i+t[5]*s+t[9]*r+t[13])/o,n[2]=(t[2]*i+t[6]*s+t[10]*r+t[14])/o,n}function fA(n,e,t){let i=e[0],s=e[1],r=e[2],o=t[3]*i+t[7]*s+t[11]*r+t[15];return o=o||1,n[0]=(t[0]*i+t[4]*s+t[8]*r)/o,n[1]=(t[1]*i+t[5]*s+t[9]*r)/o,n[2]=(t[2]*i+t[6]*s+t[10]*r)/o,n}function pA(n,e,t){let i=e[0],s=e[1],r=e[2],o=t[0],a=t[1],c=t[2],u=t[3],h=a*r-c*s,f=c*i-o*r,m=o*s-a*i,_=a*m-c*f,y=c*h-o*m,w=o*f-a*h,x=u*2;return h*=x,f*=x,m*=x,_*=2,y*=2,w*=2,n[0]=i+h+_,n[1]=s+f+y,n[2]=r+m+w,n}const mA=function(){const n=[0,0,0],e=[0,0,0];return function(t,i){Np(n,t),Np(e,i),Vp(n,n),Vp(e,e);let s=Gb(n,e);return s>1?0:s<-1?Math.PI:Math.acos(s)}}();function _A(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]}class oe extends Array{constructor(e=0,t=e,i=e){return super(e,t,i),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,t=e,i=e){return e.length?this.copy(e):(sA(this,e,t,i),this)}copy(e){return Np(this,e),this}add(e,t){return t?rg(this,e,t):rg(this,this,e),this}sub(e,t){return t?og(this,e,t):og(this,this,e),this}multiply(e){return e.length?rA(this,this,e):mf(this,this,e),this}divide(e){return e.length?oA(this,this,e):mf(this,this,1/e),this}inverse(e=this){return uA(this,e),this}len(){return sg(this)}distance(e){return e?aA(this,e):sg(this)}squaredLen(){return ag(this)}squaredDistance(e){return e?lA(this,e):ag(this)}negate(e=this){return cA(this,e),this}cross(e,t){return t?lg(this,e,t):lg(this,this,e),this}scale(e){return mf(this,this,e),this}normalize(){return Vp(this,this),this}dot(e){return Gb(this,e)}equals(e){return _A(this,e)}applyMatrix4(e){return dA(this,this,e),this}scaleRotateMatrix4(e){return fA(this,this,e),this}applyQuaternion(e){return pA(this,this,e),this}angle(e){return mA(this,e)}lerp(e,t){return hA(this,this,e,t),this}clone(){return new oe(this[0],this[1],this[2])}fromArray(e,t=0){return this[0]=e[t],this[1]=e[t+1],this[2]=e[t+2],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}transformDirection(e){const t=this[0],i=this[1],s=this[2];return this[0]=e[0]*t+e[4]*i+e[8]*s,this[1]=e[1]*t+e[5]*i+e[9]*s,this[2]=e[2]*t+e[6]*i+e[10]*s,this.normalize()}}const _f=new oe;let gA=1;class $b{constructor({canvas:e=document.createElement("canvas"),width:t=300,height:i=150,dpr:s=1,alpha:r=!1,depth:o=!0,stencil:a=!1,antialias:c=!1,premultipliedAlpha:u=!1,preserveDrawingBuffer:h=!1,powerPreference:f="high-performance",autoClear:m=!0,webgl:_=2}={}){const y={alpha:r,depth:o,stencil:a,antialias:c,premultipliedAlpha:u,preserveDrawingBuffer:h,powerPreference:f};this.dpr=s,this.alpha=r,this.color=!0,this.depth=o,this.stencil=a,this.premultipliedAlpha=u,this.autoClear=m,this.id=gA++,this.drawCalls=0,this.vpOffset=new Ot,this.vpOverwriteSize=null,_===2&&(this.gl=e.getContext("webgl2",y)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",y)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(t,i),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=null,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LESS,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,t){this.width=e,this.height=t,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=t*this.dpr,Object.assign(this.gl.canvas.style,{width:e+"px",height:t+"px"})}setViewport(e,t){this.state.viewport.width===e&&this.state.viewport.height===t||(this.state.viewport.width=e,this.state.viewport.height=t,this.gl.viewport(this.vpOffset.x,this.vpOffset.y,e,t))}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,t,i,s){this.state.blendFunc.src===e&&this.state.blendFunc.dst===t&&this.state.blendFunc.srcAlpha===i&&this.state.blendFunc.dstAlpha===s||(this.state.blendFunc.src=e,this.state.blendFunc.dst=t,this.state.blendFunc.srcAlpha=i,this.state.blendFunc.dstAlpha=s,i!==void 0?this.gl.blendFuncSeparate(e,t,i,s):this.gl.blendFunc(e,t))}setBlendEquation(e,t){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===t)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=t,t!==void 0?this.gl.blendEquationSeparate(e,t):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:t=null}={}){this.state.framebuffer!==t&&(this.state.framebuffer=t,this.gl.bindFramebuffer(e,t))}getExtension(e,t,i){return t&&this.gl[t]?this.gl[t].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),t?this.extensions[e]?this.extensions[e][i].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program.id!==t.program.id?e.program.id-t.program.id:e.zDepth!==t.zDepth?e.zDepth-t.zDepth:t.id-e.id}sortTransparent(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.zDepth!==t.zDepth?t.zDepth-e.zDepth:t.id-e.id}sortManual(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.zDepth!==t.zDepth?t.zDepth-e.zDepth:t.id-e.id}sortUI(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program.id!==t.program.id?e.program.id-t.program.id:t.id-e.id}getRenderList({scene:e,camera:t,frustumCull:i,sort:s}){let r=[];if(t&&i&&t.updateFrustum(),e.traverse(o=>{if(!o.visible)return!0;!o.draw||!o.forceRenderOrder&&i&&o.frustumCulled&&t&&!t.frustumIntersectsMesh(o)||r.push(o)}),s){const o=[],a=[],c=[],u=[],h=[];r.forEach(f=>{f.program.transparent?f.forceRenderOrder?f.renderOrder<0?u.push(f):h.push(f):f.program.depthTest?a.push(f):c.push(f):o.push(f),f.zDepth=0,!(f.renderOrder!==0||!f.program.depthTest||!t)&&(f.worldMatrix.getTranslation(_f),_f.applyMatrix4(t.projectionViewMatrix),f.zDepth=_f.z)}),o.sort(this.sortOpaque),a.sort(this.sortTransparent),u.sort(this.sortManual),h.sort(this.sortManual),c.sort(this.sortUI),r=u.concat(o,a,c,h)}return r}render({scene:e,camera:t,target:i=null,flip:s=!1,post:r=null,update:o=!0,sort:a=!0,frustumCull:c=!0,clear:u}){i===null&&r===null&&this.vpOverwriteSize===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):r!==null?(this.setViewport(r.rt.width,r.rt.height),this.bindFramebuffer({target:this.gl.FRAMEBUFFER,buffer:r.rt.fb})):this.vpOverwriteSize!==null?(this.bindFramebuffer(),this.setViewport(this.vpOverwriteSize[0],this.vpOverwriteSize[1])):(this.bindFramebuffer(i),this.setViewport(i.width,i.height)),(u||this.autoClear&&u!==!1)&&(this.depth&&(!i||i.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),o&&e.updateMatrixWorld(),t&&t.updateMatrixWorld(s),this.getRenderList({scene:e,camera:t,frustumCull:c,sort:a}).forEach(f=>{f.draw({camera:t}),this.drawCalls++}),s&&(t.isFliped=!1),r!==null&&this.bindFramebuffer({target:this.gl.FRAMEBUFFER,buffer:i})}}class Wb{constructor(e,t){this.mobile=typeof window.orientation!="undefined"||navigator.userAgent.indexOf("IEMobile")!==-1,t!==null&&(this.dpr=t.dpr,this.width=e.offsetWidth*this.dpr,this.height=e.offsetHeight*this.dpr),this.container=e,this.active=!1,this.time=0,this.dt=0,this.passes=[],t!==null?(this.manager=t,this.canvas=this.manager.canvas,this.gl=this.manager.gl):this.catchContext(),this.inTransition=!1,this.root=new Sh,this._emitter={},sc(this._emitter),this.on=this._emitter.on.bind(this._emitter),window.addEventListener("resize",this.onResize.bind(this))}getNode(e){for(let t=0;t<this.nodes.length;t++)if(this.nodes[t].name==e)return this.nodes[t]}getMesh(e){for(let t=0;t<this.meshes.length;t++)if(this.meshes[t].name==e)return this.meshes[t]}getMeshes(e){let t=[];for(let i=0;i<this.meshes.length;i++)this.meshes[i].name==e&&t.push(this.meshes[i]);return t}getParentInNodeTree(e,t){for(const i in e)if(Object.hasOwnProperty.call(e,i)){const s=e[i];if(s.childrenIds.indexOf(t)>-1)return s.transform}}catchContext(){if(this.dpr=Math.max(Math.min(window.devicePixelRatio,1.5),1),this.width=this.container.offsetWidth*this.dpr,this.height=this.container.offsetHeight*this.dpr,this.clearColor=[0,0,0,0],this.renderer=new $b({antialias:!0,alpha:!0,autoClear:!0}),this.gl=this.renderer.gl,!this.renderer.isWebgl2){let e=this.gl.getExtension("OES_vertex_array_object");e&&(this.gl.createVertexArray=function(){return e.createVertexArrayOES()},this.gl.deleteVertexArray=function(t){e.deleteVertexArrayOES(t)},this.gl.bindVertexArray=function(t){e.bindVertexArrayOES(t)},this.gl.isVertexArray=function(t){return e.isVertexArrayOES(t)}),this.gl.getExtension("OES_standard_derivatives"),this.gl.getExtension("EXT_shader_texture_lod"),this.gl.getExtension("OES_texture_float"),this.gl.getExtension("OES_texture_float_linear"),this.gl.getExtension("OES_texture_half_float"),this.gl.getExtension("OES_texture_half_float_linear"),this.gl.getExtension("EXT_color_buffer_half_float")}this.canvas=this.gl.canvas,this.container.appendChild(this.gl.canvas),this.renderer.setSize(this.width,this.height)}resize(){for(let e=0;e<this.passes.length;e++)this.passes[e].onResize()}onResize(){this.width=this.container.offsetWidth*this.dpr,this.height=this.container.offsetHeight*this.dpr,this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.maxWidth=this.container.offsetWidth+"px",this.canvas.style.maxHeight=this.container.offsetHeight+"px",this.gl.viewport(0,0,this.width,this.height),this.renderer.setSize(this.width,this.height),this.resize&&this.resize()}}const cg=new Uint8Array(4);function ug(n){return(n&n-1)===0}let vA=1;class Rt{constructor(e,{image:t,target:i=e.TEXTURE_2D,type:s=e.UNSIGNED_BYTE,format:r=e.RGBA,internalFormat:o=r,rt:a=null,depth:c=!1,pass:u=null,wrapS:h=e.CLAMP_TO_EDGE,wrapT:f=e.CLAMP_TO_EDGE,generateMipmaps:m=!0,minFilter:_=m?e.NEAREST_MIPMAP_LINEAR:e.LINEAR,magFilter:y=e.LINEAR,premultiplyAlpha:w=!1,unpackAlignment:x=4,flipY:M=i==e.TEXTURE_2D,anisotropy:P=0,level:F=0,width:E,height:D=E}={}){this.gl=e,this.id=vA++,this.image=t,this.target=i,this.type=s,this.format=r,this.rt=a,this.depth=c,this.pass=u,this.internalFormat=o,this.minFilter=_,this.magFilter=y,this.wrapS=h,this.wrapT=f,this.generateMipmaps=m,this.premultiplyAlpha=w,this.unpackAlignment=x,this.flipY=M,this.anisotropy=Math.min(P,this.gl.renderer.parameters.maxAnisotropy),this.level=F,this.width=E,this.height=D,this.texture=this.gl.createTexture(),this.store={image:null},this.glState=this.gl.renderer.state,this.state={},this.state.minFilter=this.gl.NEAREST_MIPMAP_LINEAR,this.state.magFilter=this.gl.LINEAR,this.state.wrapS=this.gl.REPEAT,this.state.wrapT=this.gl.REPEAT,this.state.anisotropy=0}bind(){this.rt!==null?this.depth?this.gl.bindTexture(this.target,this.rt.getDepthTexture()):this.gl.bindTexture(this.target,this.rt.getTexture()):this.pass!==null?this.gl.bindTexture(this.target,this.pass.getTexture()):this.gl.bindTexture(this.target,this.texture),this.glState.textureUnits[this.glState.activeTextureUnit]=this.id}update(e=0){const t=!(this.image===this.store.image&&!this.needsUpdate);if((t||this.glState.textureUnits[e]!==this.id)&&(this.gl.renderer.activeTexture(e),this.bind()),!!t){if(this.needsUpdate=!1,this.flipY!==this.glState.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this.flipY),this.glState.flipY=this.flipY),this.premultiplyAlpha!==this.glState.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),this.glState.premultiplyAlpha=this.premultiplyAlpha),this.unpackAlignment!==this.glState.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this.unpackAlignment),this.glState.unpackAlignment=this.unpackAlignment),this.minFilter!==this.state.minFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.minFilter),this.state.minFilter=this.minFilter),this.magFilter!==this.state.magFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.magFilter),this.state.magFilter=this.magFilter),this.wrapS!==this.state.wrapS&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.wrapS),this.state.wrapS=this.wrapS),this.wrapT!==this.state.wrapT&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.wrapT),this.state.wrapT=this.wrapT),this.anisotropy&&this.anisotropy!==this.state.anisotropy&&(this.gl.texParameterf(this.target,this.gl.renderer.getExtension("EXT_texture_filter_anisotropic").TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropy),this.state.anisotropy=this.anisotropy),this.image){if(this.image.width&&(this.width=this.image.width,this.height=this.image.height),this.target===this.gl.TEXTURE_CUBE_MAP)for(let i=0;i<6;i++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+i,this.level,this.internalFormat,this.format,this.type,this.image[i]);else if(ArrayBuffer.isView(this.image))this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,this.image);else if(this.image.isCompressedTexture)for(let i=0;i<this.image.length;i++)this.gl.compressedTexImage2D(this.target,i,this.internalFormat,this.image[i].width,this.image[i].height,0,this.image[i].data);else this.gl.texImage2D(this.target,this.level,this.internalFormat,this.format,this.type,this.image);this.generateMipmaps&&(!this.gl.renderer.isWebgl2&&(!ug(this.image.width)||!ug(this.image.height))?(this.generateMipmaps=!1,this.wrapS=this.wrapT=this.gl.CLAMP_TO_EDGE,this.minFilter=this.gl.LINEAR):this.gl.generateMipmap(this.target)),this.onUpdate&&this.onUpdate()}else if(this.target===this.gl.TEXTURE_CUBE_MAP)for(let i=0;i<6;i++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,cg);else this.width?this.rt===null&&this.pass===null&&this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,null):this.rt===null&&this.pass===null&&this.gl.texImage2D(this.target,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,cg);this.store.image=this.image}}}let gf,vf=0;class bA{constructor(e){gf||(gf=this.getSupportedFormat()),this.onMessage=this.onMessage.bind(this),this.queue=new Map,this.initWorker(e)}getSupportedFormat(){const e=document.createElement("canvas").getContext("webgl");return e.getExtension("WEBGL_compressed_texture_etc")?"etc2":e.getExtension("WEBGL_compressed_texture_astc")?"astc":e.getExtension("EXT_texture_compression_bptc")?"bptc":e.getExtension("WEBGL_compressed_texture_s3tc")?"s3tc":e.getExtension("WEBGL_compressed_texture_etc1")?"etc1":!!e.getExtension("WEBGL_compressed_texture_pvrtc")||!!e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc")?"pvrtc":"none"}initWorker(e){this.worker=new Worker(e),this.worker.onmessage=this.onMessage}onMessage({data:e}){const{id:t,error:i,image:s}=e;if(i){console.log(i,t);return}const r=this.queue.get(t);this.queue.delete(t),s.isBasis=!0,r(s)}parseTexture(e){vf++,this.worker.postMessage({id:vf,buffer:e,supportedFormat:gf});let t;const i=new Promise(s=>t=s);return this.queue.set(vf,t),i}}class jb{constructor(e){this.scene=e,this.gl=e.gl,this.textures={},this.currentUnit=0;let t=this.gl;this.isCompressedSupport=!1;const i={astcSupported:!!t.renderer.getExtension("WEBGL_compressed_texture_astc"),etc1Supported:!!t.renderer.getExtension("WEBGL_compressed_texture_etc1"),etc2Supported:!!t.renderer.getExtension("WEBGL_compressed_texture_etc"),dxtSupported:!!t.renderer.getExtension("WEBGL_compressed_texture_s3tc"),bptcSupported:!!t.renderer.getExtension("EXT_texture_compression_bptc"),pvrtcSupported:!!t.renderer.getExtension("WEBGL_compressed_texture_pvrtc")||!!t.renderer.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc")};for(const[s,r]of Object.entries(i))r&&(this.isCompressedSupport=!0);this.basisManager=new bA("/zerolimits/vendors/basis/BasisWorker.js")}load(e,t,i){let s=i.indexOf("compressed")>-1,r=i.indexOf("transparent")>-1,o=i.filter(f=>{if(f.indexOf("lodTarget")!==-1)return!0})[0];o=o!==void 0?o.replace("lodTarget=",""):null;let a=o!==null,c=e.replace(/^.*[\\\/]/,""),u=e.replace(c,""),h=e;if(a&&(h=`${u}${o}/${c}${r?".png":".jpg"}`),s&&this.isCompressedSupport)return a?h=`${u}${o}/${c}.ktx2`:h=`${u}${c.replace(/\.[^/.]+$/,"")}.ktx2`,this.textures[t]={options:i},new Promise(m=>{fetch(h).then(_=>{_.arrayBuffer().then(y=>{this.basisManager.parseTexture(y).then(w=>{const x=this.initCompressedTexture(w,i);this.textures[t].texture=x,this.textures[t].unit=this.currentUnit,x.update(),this.currentUnit++,m(x)})})})});{let f=new Image;f.crossOrigin="anonymous";const m=new Promise(_=>{f.onload=()=>{let y=this.initTexture(f,i);this.textures[t].texture=y,this.textures[t].unit=this.currentUnit,this.currentUnit++,_(y)}});return f.src=h,this.textures[t]={img:f,options:i},m}}initCompressedTexture(e,t){const i=this.gl,s=new Rt(i,{generateMipmaps:t.indexOf("mipmap")>-1,internalFormat:e.internalFormat});return s.image=e,s.flipY=t.indexOf("flipY")>-1,s.wrapS=t.indexOf("mirror")>-1?i.MIRRORED_REPEAT:i.CLAMP_TO_EDGE,s.wrapT=t.indexOf("mirror")>-1?i.MIRRORED_REPEAT:i.CLAMP_TO_EDGE,s.wrapS=t.indexOf("repeat")>-1?i.REPEAT:s.wrapS,s.wrapT=t.indexOf("repeat")>-1?i.REPEAT:s.wrapT,s.wrapS=t.indexOf("clamp")>-1?i.CLAMP_TO_EDGE:s.wrapS,s.wrapT=t.indexOf("clamp")>-1?i.CLAMP_TO_EDGE:s.wrapT,s.minFilter=t.indexOf("nearest")>-1?i.NEAREST:s.minFilter,s.magFilter=t.indexOf("nearest")>-1?i.NEAREST:s.magFilter,s.needsUpdate=!0,s}initTexture(e,t){const i=this.gl,s=new Rt(i,{generateMipmaps:t.indexOf("mipmap")>-1,flipY:t.indexOf("flipY")>-1});return s.image=e,s.flipY=t.indexOf("flipY")>-1,s.wrapS=t.indexOf("mirror")>-1?i.MIRRORED_REPEAT:i.CLAMP_TO_EDGE,s.wrapT=t.indexOf("mirror")>-1?i.MIRRORED_REPEAT:i.CLAMP_TO_EDGE,s.wrapS=t.indexOf("repeat")>-1?i.REPEAT:s.wrapS,s.wrapT=t.indexOf("repeat")>-1?i.REPEAT:s.wrapT,s.wrapS=t.indexOf("clamp")>-1?i.CLAMP_TO_EDGE:s.wrapS,s.wrapT=t.indexOf("clamp")>-1?i.CLAMP_TO_EDGE:s.wrapT,s.minFilter=t.indexOf("nearest")>-1?i.NEAREST:s.minFilter,s.magFilter=t.indexOf("nearest")>-1?i.NEAREST:s.magFilter,s}get(e){if(this.textures[e])return this.textures[e]}getTexture(e){if(this.textures[e])return this.textures[e].texture}getImage(e){return this.textures[e]?this.textures[e].img:null}isTextureRegistered(e){return!!this.textures[e]}}const yA=()=>typeof window.orientation!="undefined"||navigator.userAgent.indexOf("IEMobile")!==-1,wA=window.navigator.userAgent;navigator.userAgent.indexOf("Firefox")>-1;!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0;const hg=/constructor/i.test(window.HTMLElement)||function(n){return n.toString()==="[object SafariRemoteNotification]"}(!window.safari||typeof safari!="undefined"&&safari.pushNotification);window.chrome&&(window.chrome.webstore||window.chrome.runtime);const Hi=yA(),CA=wA.match(/(iPad)/)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,Vs=!Hi&&!CA;function xA(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const dg=xA();var bt={main:{test:{url:"/zerolimits/glxp/UV_Grid.ktx2",options:["compressed"]},black:{url:"/zerolimits/glxp/black.jpg",options:[]},white:{url:"/zerolimits/glxp/white.jpg",options:[]},defaultNormals:{url:"/zerolimits/glxp/textures/default-normals.jpg",options:[]},brdfLUT:{url:"/zerolimits/glxp/brdfLUT.png",options:["clamp"]},env_diffuse:{url:"/zerolimits/glxp/environment/diffuse.png",options:["repeat"]},env_default:{url:"/zerolimits/glxp/environment/oberer_kuhberg.jpg",options:["repeat"]},env_entrance:{url:"/zerolimits/glxp/environment/HDRI_Entrance_02_opti.jpg",options:["repeat"]},env_entrance_blur:{url:"/zerolimits/glxp/environment/HDRI_Entrance_02_blur_opti.jpg",options:["repeat"]},env_hall:{url:"/zerolimits/glxp/environment/HDRI_Hall_02_opti.jpg",options:["repeat"]},env_hall_blur:{url:"/zerolimits/glxp/environment/HDRI_Hall_02_blur_opti.jpg",options:["repeat"]},env_hall_diffuse:{url:"/zerolimits/glxp/environment/HDRI_Hall_Diffuse.png",options:["repeat"]},noiseFbm:{url:"/zerolimits/glxp/textures/noises/noise-fbm.png",options:["repeat","flipY"]}},pbr:{doorsDiffuse:{url:"/zerolimits/glxp/textures/doors/T_Entrance_Door_D.png",options:["repeat","compressed","lodTarget=1024"]},doorsMR:{url:"/zerolimits/glxp/textures/doors/T_Entrance_Door_MR.png",options:["repeat","compressed","lodTarget=1024"]},doorsAO:{url:"/zerolimits/glxp/textures/doors/T_Entrance_Door_AO.png",options:["repeat","compressed","lodTarget=1024"]},doorsNormals:{url:"/zerolimits/glxp/textures/doors/T_Entrance_Door_N.png",options:["repeat","compressed","lodTarget=2048"]},goldDiffuse:{url:"/zerolimits/glxp/textures/gold/T_Entrance_Gold_D.png",options:["repeat","compressed","lodTarget=256"]},goldMR:{url:"/zerolimits/glxp/textures/gold/T_Entrance_Gold_MR.png",options:["repeat","compressed","lodTarget=256"]},goldEntranceAO:{url:"/zerolimits/glxp/textures/gold/T_Entrance_Gold_AO.png",options:["repeat","compressed","lodTarget=2048"]},goldHallOneAO:{url:"/zerolimits/glxp/textures/gold/T_Hall_Gold_01_AO.png",options:["repeat","compressed","lodTarget=2048"]},goldHallTwoAO:{url:"/zerolimits/glxp/textures/gold/T_Hall_Gold_02_AO.png",options:["repeat","compressed","lodTarget=2048"]},goldHallTwoNormals:{url:"/zerolimits/glxp/textures/gold/T_Hall_Gold_02_N.png",options:["repeat","mipmap","lodTarget=2048"]},patternsDiffuse:{url:"/zerolimits/glxp/textures/patterns/T_Entrance_Patterns_D.png",options:["repeat","compressed","lodTarget=1024"]},patternsMR:{url:"/zerolimits/glxp/textures/patterns/T_Entrance_Patterns_MR.png",options:["repeat","compressed","lodTarget=1024"]},patternsAO:{url:"/zerolimits/glxp/textures/patterns/T_Entrance_Patterns_AO.png",options:["repeat","compressed","lodTarget=2048"]},patternsNormals:{url:"/zerolimits/glxp/textures/patterns/T_Entrance_Patterns_N.png",options:["repeat","mipmap","lodTarget=2048"]},patternsHallOneDiffuse:{url:"/zerolimits/glxp/textures/patterns/T_Hall_Patterns_01_D.png",options:["repeat","mipmap","lodTarget=1024"]},patternsHallOneMR:{url:"/zerolimits/glxp/textures/patterns/T_Hall_Patterns_01_MR.png",options:["repeat","mipmap","lodTarget=1024"]},patternsHallOneNormals:{url:"/zerolimits/glxp/textures/patterns/T_Hall_Patterns_01_N.png",options:["repeat","mipmap","lodTarget=2048"]},patternsHallOneAO:{url:"/zerolimits/glxp/textures/patterns/T_Hall_Patterns_01_AO.png",options:["repeat","mipmap","lodTarget=2048"]},patternsHallTwoDiffuse:{url:"/zerolimits/glxp/textures/patterns/T_Hall_Patterns_02_D.png",options:["repeat","mipmap","lodTarget=1024"]},patternsHallTwoMR:{url:"/zerolimits/glxp/textures/patterns/T_Hall_Patterns_02_MR.png",options:["repeat","mipmap","lodTarget=1024"]},patternsHallTwoAO:{url:"/zerolimits/glxp/textures/patterns/T_Hall_Patterns_02_AO.png",options:["repeat","mipmap","lodTarget=2048"]},patternsHallTwoNormals:{url:"/zerolimits/glxp/textures/patterns/T_Hall_Patterns_02_N.png",options:["repeat","mipmap","lodTarget=2048"]},tableDiffuse:{url:"/zerolimits/glxp/textures/table/T_TableBranding_D.png",options:["repeat","compressed","lodTarget=1024"]},tableMR:{url:"/zerolimits/glxp/textures/table/T_TableBranding_MR.png",options:["repeat","compressed","lodTarget=1024"]},tableAO:{url:"/zerolimits/glxp/textures/table/T_TableBranding_AO_02.png",options:["repeat","compressed","lodTarget=1024"]},tableNormals:{url:"/zerolimits/glxp/textures/table/T_TableBranding_N.png",options:["repeat","mipmap","lodTarget=1024"]},statuesDiffuse:{url:"/zerolimits/glxp/textures/statues/T_Statues_D.png",options:["repeat","compressed","lodTarget=2048"]},statuesMR:{url:"/zerolimits/glxp/textures/statues/T_Statues_MR.png",options:["repeat","compressed","lodTarget=2048"]},statuesAO:{url:"/zerolimits/glxp/textures/statues/T_Statues_AO.png",options:["repeat","compressed","lodTarget=2048"]},statuesNormals:{url:"/zerolimits/glxp/textures/statues/T_Statues_N_3.ktx2",options:["repeat","compressed"]}},unlit:{M_BG:{url:"/zerolimits/glxp/textures/unlit/T_BG_D.png",options:["repeat","compressed","lodTarget=1024"]},M_Neon:{url:"/zerolimits/glxp/textures/unlit/T_Neon_D.png",options:["repeat","compressed","lodTarget=256"]},M_Entrance_Ground:{url:"/zerolimits/glxp/textures/unlit/T_Entrance_Ground_D.png",options:["repeat","compressed","lodTarget=2048"]},M_Entrance_Pillars:{url:"/zerolimits/glxp/textures/unlit/T_Entrance_Pillars_D.png",options:["repeat","compressed","lodTarget=2048"]},M_Entrance_Outside_Wall:{url:"/zerolimits/glxp/textures/unlit/T_Entrance_OutsideWall_D.png",options:["repeat","compressed","lodTarget=2048"]},M_Entrance_Plants_Outside:{url:"/zerolimits/glxp/textures/unlit/T_Entrance_Foliage_D.png",material:{cullface:!1},options:["repeat","compressed","lodTarget=1024"]},M_Entrance_Plants_Outside_Opacity:{url:"/zerolimits/glxp/textures/unlit/T_Entrance_Foliage_O.png",options:["repeat","compressed","lodTarget=2048"]},M_Hall_Floor:{url:"/zerolimits/glxp/textures/unlit/T_Hall_Floor_D.png",options:["repeat","compressed","lodTarget=2048"]},M_Hall_Foliage_01:{url:"/zerolimits/glxp/textures/unlit/T_Hall_Foliage_01_D.png",material:{cullface:!1,renderOrder:1,depthWrite:!1},options:["repeat","compressed","lodTarget=1024"]},M_Hall_Foliage_01_Opacity:{url:"/zerolimits/glxp/textures/unlit/T_Hall_Foliage_01_O.png",options:["repeat","compressed","lodTarget=2048"]},M_Hall_Foliage_02:{url:"/zerolimits/glxp/textures/unlit/T_Hall_Foliage_02_D.png",material:{cullface:!1,renderOrder:1,depthWrite:!1},options:["repeat","compressed","lodTarget=1024"]},M_Hall_Foliage_02_Opacity:{url:"/zerolimits/glxp/textures/unlit/T_Hall_Foliage_02_O.png",options:["repeat","compressed","lodTarget=2048"]},M_Hall_Foliage_03:{url:"/zerolimits/glxp/textures/unlit/T_Hall_Foliage_03_D.png",material:{cullface:!1,renderOrder:1,depthWrite:!1},options:["repeat","compressed","lodTarget=1024"]},M_Hall_Foliage_03_Opacity:{url:"/zerolimits/glxp/textures/unlit/T_Hall_Foliage_03_O.png",options:["repeat","compressed","lodTarget=2048"]},M_Hall_Concrete_01:{url:"/zerolimits/glxp/textures/unlit/T_Hall_Concrete_01_D.png",options:["repeat","compressed","lodTarget=2048"]},M_Hall_Concrete_02:{url:"/zerolimits/glxp/textures/unlit/T_Hall_Concrete_02_D.png",options:["repeat","compressed","lodTarget=2048"]},M_Hall_EntranceWallInside:{url:"/zerolimits/glxp/textures/unlit/T_Hall_Entrance_InsideWall_D.png",options:["repeat","compressed","lodTarget=2048"]},M_Hall_PlantGround:{url:"/zerolimits/glxp/textures/unlit/T_Hall_PlantGround_D.png",options:["repeat","compressed","lodTarget=512"]},M_Hall_WallsCeiling:{url:"/zerolimits/glxp/textures/unlit/T_Hall_Walls_Ceiling_D.png",material:{exposure:-.25},options:["repeat","compressed","lodTarget=2048"]},M_Banner:{url:"/zerolimits/glxp/textures/unlit/T_Hall_Banners_D.png",options:["repeat","compressed","lodTarget=1024"]},M_Table_Screen:{url:"/zerolimits/glxp/textures/unlit/T_Table_Screens_D.png",material:{renderOrder:2,depthWrite:!1},options:["repeat","compressed","lodTarget=2048"]},M_Table_Screen_Opacity:{url:"/zerolimits/glxp/textures/unlit/T_Table_Screens_O.png",options:["repeat","compressed","lodTarget=2048"]},M_Tree_TrunkLemonLimes:{url:"/zerolimits/glxp/textures/unlit/T_TrunkLemonLimes_D.png",options:["repeat","lodTarget=2048"]},M_Branch_01:{url:"/zerolimits/glxp/textures/unlit/T_Branch_01_D.ktx2",material:{cullface:!1,renderOrder:12,depthWrite:!1},options:["repeat","compressed"]},M_Branch_01_Opacity:{url:"/zerolimits/glxp/textures/unlit/T_Branch_01_O.ktx2",options:["repeat","compressed"]},M_Branch_02:{url:"/zerolimits/glxp/textures/unlit/T_Branch_02_D.ktx2",material:{cullface:!1,renderOrder:12,depthWrite:!1},options:["repeat","compressed"]},M_Branch_02_Opacity:{url:"/zerolimits/glxp/textures/unlit/T_Branch_02_O.ktx2",options:["repeat","compressed"]},M_Branch_03:{url:"/zerolimits/glxp/textures/unlit/T_Branch_03_D.ktx2",material:{cullface:!1,renderOrder:13,depthWrite:!1},options:["repeat","compressed"]},M_Branch_03_Opacity:{url:"/zerolimits/glxp/textures/unlit/T_Branch_03_O.ktx2",options:["repeat","compressed"]},M_Branch_04:{url:"/zerolimits/glxp/textures/unlit/T_Branch_04_D.ktx2",material:{cullface:!1,renderOrder:12,depthWrite:!1},options:["repeat","compressed"]},M_Branch_04_Opacity:{url:"/zerolimits/glxp/textures/unlit/T_Branch_04_O.ktx2",options:["repeat","compressed"]}},screens:{screenItwMask:{url:"/zerolimits/glxp/textures/screens/screen-itw-mask.ktx2",options:["clamp","compressed"]},screenItwVisualsOpacity:{url:"/zerolimits/glxp/textures/screens/screen-itw-visuals-o.ktx2",options:["clamp","compressed"]},screenWideMask:{url:"/zerolimits/glxp/textures/screens/screen-wide-mask.ktx2",options:["clamp","compressed"]},screenWideVisualsOpacity:{url:"/zerolimits/glxp/textures/screens/screen-wide-visuals-o.ktx2",options:["clamp","compressed"]},screenHannahVisualsDiffuse:{url:"/zerolimits/glxp/textures/screens/hannah/screen-hannah-visuals-d.ktx2",options:["clamp","compressed"]},screenHannahOverlayDiffuse:{url:"/zerolimits/glxp/textures/screens/hannah/screen-hannah-overlay-d.ktx2",options:["clamp","compressed"]},screenHannahOverlayOpacity:{url:"/zerolimits/glxp/textures/screens/hannah/screen-hannah-overlay-o.ktx2",options:["clamp","compressed"]},screenAliciaVisualsDiffuse:{url:"/zerolimits/glxp/textures/screens/alicia/screen-alicia-visuals-d.ktx2",options:["clamp","compressed"]},screenAliciaOverlayDiffuse:{url:"/zerolimits/glxp/textures/screens/alicia/screen-alicia-overlay-d.ktx2",options:["clamp","compressed"]},screenAliciaOverlayOpacity:{url:"/zerolimits/glxp/textures/screens/alicia/screen-alicia-overlay-o.ktx2",options:["clamp","compressed"]},screenJasmineVisualsDiffuse:{url:"/zerolimits/glxp/textures/screens/jasmine/screen-jasmine-visuals-d.ktx2",options:["clamp","compressed"]},screenJasmineOverlayDiffuse:{url:"/zerolimits/glxp/textures/screens/jasmine/screen-jasmine-overlay-d.ktx2",options:["clamp","compressed"]},screenJasmineOverlayOpacity:{url:"/zerolimits/glxp/textures/screens/jasmine/screen-jasmine-overlay-o.ktx2",options:["clamp","compressed"]},screenNayaVisualsDiffuse:{url:"/zerolimits/glxp/textures/screens/naya/screen-naya-visuals-d.ktx2",options:["clamp","compressed"]},screenNayaOverlayDiffuse:{url:"/zerolimits/glxp/textures/screens/naya/screen-naya-overlay-d.ktx2",options:["clamp","compressed"]},screenNayaOverlayOpacity:{url:"/zerolimits/glxp/textures/screens/naya/screen-naya-overlay-o.ktx2",options:["clamp","compressed"]},screenReynaVisualsDiffuse:{url:"/zerolimits/glxp/textures/screens/reyna/screen-reyna-visuals-d.ktx2",options:["clamp","compressed"]},screenReynaOverlayDiffuse:{url:"/zerolimits/glxp/textures/screens/reyna/screen-reyna-overlay-d.ktx2",options:["clamp","compressed"]},screenReynaOverlayOpacity:{url:"/zerolimits/glxp/textures/screens/reyna/screen-reyna-overlay-o.ktx2",options:["clamp","compressed"]},screenJoanVisualsDiffuse:{url:"/zerolimits/glxp/textures/screens/joan/screen-joan-visuals-d.ktx2",options:["clamp","compressed"]},screenJoanOverlayDiffuse:{url:"/zerolimits/glxp/textures/screens/joan/screen-joan-overlay-d.ktx2",options:["clamp","compressed"]},screenJoanOverlayOpacity:{url:"/zerolimits/glxp/textures/screens/joan/screen-joan-overlay-o.ktx2",options:["clamp","compressed"]},screenTrailerVisualsDiffuse:{url:"/zerolimits/glxp/textures/screens/trailer/screen-tvc-visuals-d.ktx2",options:["clamp","compressed"]},screenTrailerOverlayDiffuse:{url:"/zerolimits/glxp/textures/screens/trailer/screen-trailer-overlay-d.ktx2",options:["clamp","compressed"]},screenTrailerOverlayOpacity:{url:"/zerolimits/glxp/textures/screens/trailer/screen-trailer-overlay-o.ktx2",options:["clamp","compressed"]}},audio:{},mp3:{},materials:{Exemple:{albedoColor:"#ffffff",albedoMap:"foo",metallicRoughnessTexture:"foo",emissiveTexture:"foo",emissiveFactor:"#FFFFFF",emissiveColor:"#ff2613",emissivePower:2.5,occlusionTexture:"foo",normalTexture:"foo",IBL:1,NormalScale:1,MetalicFactor:1e-5,RoughnessFactor:1,OcclusionFactor:1},M_Entrance_Doors_PBR:{albedoColor:"#ffffff",albedoMap:"doorsDiffuse",metallicRoughnessTexture:"doorsMR",emissiveTexture:"black",emissiveFactor:"#FFFFFF",emissiveColor:"#FFFFFF",emissivePower:2.5,occlusionTexture:"doorsAO",normalTexture:"doorsNormals",IBL:2,NormalScale:.5,MetalicFactor:1,RoughnessFactor:.9,OcclusionFactor:1},M_Entrance_PBR_Gold:{albedoColor:"#ffffff",albedoMap:"goldDiffuse",metallicRoughnessTexture:"goldMR",emissiveTexture:"black",emissiveFactor:"#FFFFFF",emissiveColor:"#FFFFFF",emissivePower:2.5,occlusionTexture:"goldEntranceAO",normalTexture:"defaultNormals",IBL:1,NormalScale:1,MetalicFactor:1,RoughnessFactor:1,OcclusionFactor:1},M_Entrance_Patterns_PBR:{albedoColor:"#ffffff",albedoMap:"patternsDiffuse",metallicRoughnessTexture:"patternsMR",emissiveTexture:"black",emissiveFactor:"#FFFFFF",emissiveColor:"#FFFFFF",emissivePower:2.5,occlusionTexture:"patternsAO",normalTexture:"patternsNormals",IBL:1,NormalScale:1,MetalicFactor:1,RoughnessFactor:.8,OcclusionFactor:1},M_Gold_01:{albedoColor:"#ffd8a5",albedoMap:"goldDiffuse",metallicRoughnessTexture:"goldMR",emissiveTexture:"black",emissiveFactor:"#FFFFFF",emissiveColor:"#FFFFFF",emissivePower:2.5,occlusionTexture:"goldHallOneAO",normalTexture:"defaultNormals",IBL:1.5,NormalScale:1,MetalicFactor:1.1,RoughnessFactor:.9,OcclusionFactor:1},M_Gold_02:{albedoColor:"#fff3d5",albedoMap:"goldDiffuse",metallicRoughnessTexture:"goldMR",emissiveTexture:"black",emissiveFactor:"#FFFFFF",emissiveColor:"#FFFFFF",emissivePower:2.5,occlusionTexture:"goldHallTwoAO",normalTexture:"goldHallTwoNormals",IBL:2,NormalScale:.75,MetalicFactor:1,RoughnessFactor:.9,OcclusionFactor:1},M_Hall_Patterns_01:{albedoColor:"#ffd8a5",albedoMap:"patternsHallOneDiffuse",metallicRoughnessTexture:"patternsHallOneMR",emissiveTexture:"black",emissiveFactor:"#FFFFFF",emissiveColor:"#FFFFFF",emissivePower:2.5,occlusionTexture:"patternsHallOneAO",normalTexture:"patternsHallOneNormals",IBL:.5,NormalScale:.5,MetalicFactor:1,RoughnessFactor:1,OcclusionFactor:1},M_Hall_Patterns_02:{albedoColor:"#ffd8a5",albedoMap:"patternsHallTwoDiffuse",metallicRoughnessTexture:"patternsHallTwoMR",emissiveTexture:"black",emissiveFactor:"#FFFFFF",emissiveColor:"#FFFFFF",emissivePower:2.5,occlusionTexture:"patternsHallTwoAO",normalTexture:"patternsHallTwoNormals",IBL:.85,NormalScale:.5,MetalicFactor:1.1,RoughnessFactor:.9,OcclusionFactor:1},M_TableBranding:{albedoColor:"#fff3d5",albedoMap:"tableDiffuse",metallicRoughnessTexture:"tableMR",emissiveTexture:"black",emissiveFactor:"#FFFFFF",emissiveColor:"#FFFFFF",emissivePower:2.5,occlusionTexture:"tableAO",normalTexture:"tableNormals",IBL:2,NormalScale:1,MetalicFactor:1,RoughnessFactor:.9,OcclusionFactor:1},M_Statues_All:{albedoColor:"#ffffff",albedoMap:"statuesDiffuse",metallicRoughnessTexture:"statuesMR",emissiveTexture:"black",emissiveFactor:"#FFFFFF",emissiveColor:"#FFFFFF",emissivePower:2.5,occlusionTexture:"statuesAO",normalTexture:"statuesNormals",IBL:.5,NormalScale:.6,MetalicFactor:1,RoughnessFactor:1,OcclusionFactor:1}}},qb={exports:{}};(function(n,e){(function(t){n.exports=t()})(function(){return function(){function t(i,s,r){function o(u,h){if(!s[u]){if(!i[u]){var f=typeof ru=="function"&&ru;if(!h&&f)return f(u,!0);if(a)return a(u,!0);var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m}var _=s[u]={exports:{}};i[u][0].call(_.exports,function(y){var w=i[u][1][y];return o(w||y)},_,_.exports,t,i,s,r)}return s[u].exports}for(var a=typeof ru=="function"&&ru,c=0;c<r.length;c++)o(r[c]);return o}return t}()({1:[function(t,i,s){/**
 * @file Embedded JavaScript templating engine. {@link http://ejs.co}
 * @author Matthew Eernisse <mde@fleegix.org>
 * @author Tiancheng "Timothy" Gu <timothygu99@gmail.com>
 * @project EJS
 * @license {@link http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0}
 */var r=t("fs"),o=t("path"),a=t("./utils"),c=!1,u=t("../package.json").version,h="<",f=">",m="%",_="locals",y="ejs",w="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",x=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],M=x.concat("cache"),P=/^\uFEFF/;s.cache=a.cache,s.fileLoader=r.readFileSync,s.localsName=_,s.promiseImpl=new Function("return this;")().Promise,s.resolveInclude=function(R,G,O){var j=o.dirname,$=o.extname,se=o.resolve,X=se(O?G:j(G),R),Le=$(R);return Le||(X+=".ejs"),X};function F(R,G){var O;if(G.some(function(j){return O=s.resolveInclude(R,j,!0),r.existsSync(O)}))return O}function E(R,G){var O,j,$=G.views,se=/^[A-Za-z]+:\\|^\//.exec(R);if(se&&se.length)R=R.replace(/^\/*/,""),Array.isArray(G.root)?O=F(R,G.root):O=s.resolveInclude(R,G.root||"/",!0);else if(G.filename&&(j=s.resolveInclude(R,G.filename),r.existsSync(j)&&(O=j)),!O&&Array.isArray($)&&(O=F(R,$)),!O&&typeof G.includer!="function")throw new Error('Could not find the include file "'+G.escapeFunction(R)+'"');return O}function D(R,G){var O,j=R.filename,$=arguments.length>1;if(R.cache){if(!j)throw new Error("cache option requires a filename");if(O=s.cache.get(j),O)return O;$||(G=I(j).toString().replace(P,""))}else if(!$){if(!j)throw new Error("Internal EJS error: no file name or template provided");G=I(j).toString().replace(P,"")}return O=s.compile(G,R),R.cache&&s.cache.set(j,O),O}function B(R,G,O){var j;if(O){try{j=D(R)(G)}catch($){return O($)}O(null,j)}else{if(typeof s.promiseImpl=="function")return new s.promiseImpl(function($,se){try{j=D(R)(G),$(j)}catch(X){se(X)}});throw new Error("Please provide a callback function")}}function I(R){return s.fileLoader(R)}function L(R,G){var O=a.shallowCopy({},G);if(O.filename=E(R,O),typeof G.includer=="function"){var j=G.includer(R,O.filename);if(j&&(j.filename&&(O.filename=j.filename),j.template))return D(O,j.template)}return D(O)}function k(R,G,O,j,$){var se=G.split(`
`),X=Math.max(j-3,0),Le=Math.min(se.length,j+3),Pe=$(O),He=se.slice(X,Le).map(function(De,ce){var Te=ce+X+1;return(Te==j?" >> ":"    ")+Te+"| "+De}).join(`
`);throw R.path=Pe,R.message=(Pe||"ejs")+":"+j+`
`+He+`

`+R.message,R}function W(R){return R.replace(/;(\s*$)/,"$1")}s.compile=function(G,O){var j;return O&&O.scope&&(c||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),c=!0),O.context||(O.context=O.scope),delete O.scope),j=new K(G,O),j.compile()},s.render=function(R,G,O){var j=G||{},$=O||{};return arguments.length==2&&a.shallowCopyFromList($,j,x),D($,R)(j)},s.renderFile=function(){var R=Array.prototype.slice.call(arguments),G=R.shift(),O,j={filename:G},$,se;return typeof arguments[arguments.length-1]=="function"&&(O=R.pop()),R.length?($=R.shift(),R.length?a.shallowCopy(j,R.pop()):($.settings&&($.settings.views&&(j.views=$.settings.views),$.settings["view cache"]&&(j.cache=!0),se=$.settings["view options"],se&&a.shallowCopy(j,se)),a.shallowCopyFromList(j,$,M)),j.filename=G):$={},B(j,$,O)},s.Template=K,s.clearCache=function(){s.cache.reset()};function K(R,G){G=G||{};var O={};this.templateText=R,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",O.client=G.client||!1,O.escapeFunction=G.escape||G.escapeFunction||a.escapeXML,O.compileDebug=G.compileDebug!==!1,O.debug=!!G.debug,O.filename=G.filename,O.openDelimiter=G.openDelimiter||s.openDelimiter||h,O.closeDelimiter=G.closeDelimiter||s.closeDelimiter||f,O.delimiter=G.delimiter||s.delimiter||m,O.strict=G.strict||!1,O.context=G.context,O.cache=G.cache||!1,O.rmWhitespace=G.rmWhitespace,O.root=G.root,O.includer=G.includer,O.outputFunctionName=G.outputFunctionName,O.localsName=G.localsName||s.localsName||_,O.views=G.views,O.async=G.async,O.destructuredLocals=G.destructuredLocals,O.legacyInclude=typeof G.legacyInclude!="undefined"?!!G.legacyInclude:!0,O.strict?O._with=!1:O._with=typeof G._with!="undefined"?G._with:!0,this.opts=O,this.regex=this.createRegex()}K.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},K.prototype={createRegex:function(){var R=w,G=a.escapeRegExpChars(this.opts.delimiter),O=a.escapeRegExpChars(this.opts.openDelimiter),j=a.escapeRegExpChars(this.opts.closeDelimiter);return R=R.replace(/%/g,G).replace(/</g,O).replace(/>/g,j),new RegExp(R)},compile:function(){var R,G,O=this.opts,j="",$="",se=O.escapeFunction,X,Le=O.filename?JSON.stringify(O.filename):"undefined";if(!this.source){if(this.generateSource(),j+=`  var __output = "";
  function __append(s) { if (s !== undefined && s !== null) __output += s }
`,O.outputFunctionName&&(j+="  var "+O.outputFunctionName+` = __append;
`),O.destructuredLocals&&O.destructuredLocals.length){for(var Pe="  var __locals = ("+O.localsName+` || {}),
`,He=0;He<O.destructuredLocals.length;He++){var De=O.destructuredLocals[He];He>0&&(Pe+=`,
  `),Pe+=De+" = __locals."+De}j+=Pe+`;
`}O._with!==!1&&(j+="  with ("+O.localsName+` || {}) {
`,$+=`  }
`),$+=`  return __output;
`,this.source=j+this.source+$}O.compileDebug?R=`var __line = 1
  , __lines = `+JSON.stringify(this.templateText)+`
  , __filename = `+Le+`;
try {
`+this.source+`} catch (e) {
  rethrow(e, __lines, __filename, __line, escapeFn);
}
`:R=this.source,O.client&&(R="escapeFn = escapeFn || "+se.toString()+`;
`+R,O.compileDebug&&(R="rethrow = rethrow || "+k.toString()+`;
`+R)),O.strict&&(R=`"use strict";
`+R),O.debug&&console.log(R),O.compileDebug&&O.filename&&(R=R+`
//# sourceURL=`+Le+`
`);try{if(O.async)try{X=new Function("return (async function(){}).constructor;")()}catch(fe){throw fe instanceof SyntaxError?new Error("This environment does not support async/await"):fe}else X=Function;G=new X(O.localsName+", escapeFn, include, rethrow",R)}catch(fe){throw fe instanceof SyntaxError&&(O.filename&&(fe.message+=" in "+O.filename),fe.message+=` while compiling ejs

`,fe.message+=`If the above error is not helpful, you may want to try EJS-Lint:
`,fe.message+="https://github.com/RyanZim/EJS-Lint",O.async||(fe.message+=`
`,fe.message+="Or, if you meant to create an async function, pass `async: true` as an option.")),fe}var ce=O.client?G:function(ve){var Me=function(Re,Qe){var Ie=a.shallowCopy({},ve);return Qe&&(Ie=a.shallowCopy(Ie,Qe)),L(Re,O)(Ie)};return G.apply(O.context,[ve||{},se,Me,k])};if(O.filename&&typeof Object.defineProperty=="function"){var Te=O.filename,re=o.basename(Te,o.extname(Te));try{Object.defineProperty(ce,"name",{value:re,writable:!1,enumerable:!1,configurable:!0})}catch{}}return ce},generateSource:function(){var R=this.opts;R.rmWhitespace&&(this.templateText=this.templateText.replace(/[\r\n]+/g,`
`).replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var G=this,O=this.parseTemplateText(),j=this.opts.delimiter,$=this.opts.openDelimiter,se=this.opts.closeDelimiter;O&&O.length&&O.forEach(function(X,Le){var Pe;if(X.indexOf($+j)===0&&X.indexOf($+j+j)!==0&&(Pe=O[Le+2],!(Pe==j+se||Pe=="-"+j+se||Pe=="_"+j+se)))throw new Error('Could not find matching close tag for "'+X+'".');G.scanLine(X)})},parseTemplateText:function(){for(var R=this.templateText,G=this.regex,O=G.exec(R),j=[],$;O;)$=O.index,$!==0&&(j.push(R.substring(0,$)),R=R.slice($)),j.push(O[0]),R=R.slice(O[0].length),O=G.exec(R);return R&&j.push(R),j},_addOutput:function(R){if(this.truncate&&(R=R.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1),!R)return R;R=R.replace(/\\/g,"\\\\"),R=R.replace(/\n/g,"\\n"),R=R.replace(/\r/g,"\\r"),R=R.replace(/"/g,'\\"'),this.source+='    ; __append("'+R+`")
`},scanLine:function(R){var G=this,O=this.opts.delimiter,j=this.opts.openDelimiter,$=this.opts.closeDelimiter,se=0;switch(se=R.split(`
`).length-1,R){case j+O:case j+O+"_":this.mode=K.modes.EVAL;break;case j+O+"=":this.mode=K.modes.ESCAPED;break;case j+O+"-":this.mode=K.modes.RAW;break;case j+O+"#":this.mode=K.modes.COMMENT;break;case j+O+O:this.mode=K.modes.LITERAL,this.source+='    ; __append("'+R.replace(j+O+O,j+O)+`")
`;break;case O+O+$:this.mode=K.modes.LITERAL,this.source+='    ; __append("'+R.replace(O+O+$,O+$)+`")
`;break;case O+$:case"-"+O+$:case"_"+O+$:this.mode==K.modes.LITERAL&&this._addOutput(R),this.mode=null,this.truncate=R.indexOf("-")===0||R.indexOf("_")===0;break;default:if(this.mode){switch(this.mode){case K.modes.EVAL:case K.modes.ESCAPED:case K.modes.RAW:R.lastIndexOf("//")>R.lastIndexOf(`
`)&&(R+=`
`)}switch(this.mode){case K.modes.EVAL:this.source+="    ; "+R+`
`;break;case K.modes.ESCAPED:this.source+="    ; __append(escapeFn("+W(R)+`))
`;break;case K.modes.RAW:this.source+="    ; __append("+W(R)+`)
`;break;case K.modes.COMMENT:break;case K.modes.LITERAL:this._addOutput(R);break}}else this._addOutput(R)}G.opts.compileDebug&&se&&(this.currentLine+=se,this.source+="    ; __line = "+this.currentLine+`
`)}},s.escapeXML=a.escapeXML,s.__express=s.renderFile,s.VERSION=u,s.name=y,typeof window!="undefined"&&(window.ejs=s)},{"../package.json":6,"./utils":2,fs:3,path:4}],2:[function(t,i,s){var r=/[|\\{}()[\]^$+*?.]/g;s.escapeRegExpChars=function(h){return h?String(h).replace(r,"\\$&"):""};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},a=/[&<>'"]/g;function c(h){return o[h]||h}var u=`var _ENCODE_HTML_RULES = {
      "&": "&amp;"
    , "<": "&lt;"
    , ">": "&gt;"
    , '"': "&#34;"
    , "'": "&#39;"
    }
  , _MATCH_HTML = /[&<>'"]/g;
function encode_char(c) {
  return _ENCODE_HTML_RULES[c] || c;
};
`;s.escapeXML=function(h){return h==null?"":String(h).replace(a,c)},s.escapeXML.toString=function(){return Function.prototype.toString.call(this)+`;
`+u},s.shallowCopy=function(h,f){f=f||{};for(var m in f)h[m]=f[m];return h},s.shallowCopyFromList=function(h,f,m){for(var _=0;_<m.length;_++){var y=m[_];typeof f[y]!="undefined"&&(h[y]=f[y])}return h},s.cache={_data:{},set:function(h,f){this._data[h]=f},get:function(h){return this._data[h]},remove:function(h){delete this._data[h]},reset:function(){this._data={}}},s.hyphenToCamel=function(h){return h.replace(/-[a-z]/g,function(f){return f[1].toUpperCase()})}},{}],3:[function(t,i,s){},{}],4:[function(t,i,s){(function(r){function o(h,f){for(var m=0,_=h.length-1;_>=0;_--){var y=h[_];y==="."?h.splice(_,1):y===".."?(h.splice(_,1),m++):m&&(h.splice(_,1),m--)}if(f)for(;m--;m)h.unshift("..");return h}s.resolve=function(){for(var h="",f=!1,m=arguments.length-1;m>=-1&&!f;m--){var _=m>=0?arguments[m]:r.cwd();if(typeof _!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!_)continue;h=_+"/"+h,f=_.charAt(0)==="/"}return h=o(c(h.split("/"),function(y){return!!y}),!f).join("/"),(f?"/":"")+h||"."},s.normalize=function(h){var f=s.isAbsolute(h),m=u(h,-1)==="/";return h=o(c(h.split("/"),function(_){return!!_}),!f).join("/"),!h&&!f&&(h="."),h&&m&&(h+="/"),(f?"/":"")+h},s.isAbsolute=function(h){return h.charAt(0)==="/"},s.join=function(){var h=Array.prototype.slice.call(arguments,0);return s.normalize(c(h,function(f,m){if(typeof f!="string")throw new TypeError("Arguments to path.join must be strings");return f}).join("/"))},s.relative=function(h,f){h=s.resolve(h).substr(1),f=s.resolve(f).substr(1);function m(F){for(var E=0;E<F.length&&F[E]==="";E++);for(var D=F.length-1;D>=0&&F[D]==="";D--);return E>D?[]:F.slice(E,D-E+1)}for(var _=m(h.split("/")),y=m(f.split("/")),w=Math.min(_.length,y.length),x=w,M=0;M<w;M++)if(_[M]!==y[M]){x=M;break}for(var P=[],M=x;M<_.length;M++)P.push("..");return P=P.concat(y.slice(x)),P.join("/")},s.sep="/",s.delimiter=":",s.dirname=function(h){if(typeof h!="string"&&(h=h+""),h.length===0)return".";for(var f=h.charCodeAt(0),m=f===47,_=-1,y=!0,w=h.length-1;w>=1;--w)if(f=h.charCodeAt(w),f===47){if(!y){_=w;break}}else y=!1;return _===-1?m?"/":".":m&&_===1?"/":h.slice(0,_)};function a(h){typeof h!="string"&&(h=h+"");var f=0,m=-1,_=!0,y;for(y=h.length-1;y>=0;--y)if(h.charCodeAt(y)===47){if(!_){f=y+1;break}}else m===-1&&(_=!1,m=y+1);return m===-1?"":h.slice(f,m)}s.basename=function(h,f){var m=a(h);return f&&m.substr(-1*f.length)===f&&(m=m.substr(0,m.length-f.length)),m},s.extname=function(h){typeof h!="string"&&(h=h+"");for(var f=-1,m=0,_=-1,y=!0,w=0,x=h.length-1;x>=0;--x){var M=h.charCodeAt(x);if(M===47){if(!y){m=x+1;break}continue}_===-1&&(y=!1,_=x+1),M===46?f===-1?f=x:w!==1&&(w=1):f!==-1&&(w=-1)}return f===-1||_===-1||w===0||w===1&&f===_-1&&f===m+1?"":h.slice(f,_)};function c(h,f){if(h.filter)return h.filter(f);for(var m=[],_=0;_<h.length;_++)f(h[_],_,h)&&m.push(h[_]);return m}var u="ab".substr(-1)==="b"?function(h,f,m){return h.substr(f,m)}:function(h,f,m){return f<0&&(f=h.length+f),h.substr(f,m)}}).call(this,t("_process"))},{_process:5}],5:[function(t,i,s){var r=i.exports={},o,a;function c(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?o=setTimeout:o=c}catch{o=c}try{typeof clearTimeout=="function"?a=clearTimeout:a=u}catch{a=u}})();function h(E){if(o===setTimeout)return setTimeout(E,0);if((o===c||!o)&&setTimeout)return o=setTimeout,setTimeout(E,0);try{return o(E,0)}catch{try{return o.call(null,E,0)}catch{return o.call(this,E,0)}}}function f(E){if(a===clearTimeout)return clearTimeout(E);if((a===u||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(E);try{return a(E)}catch{try{return a.call(null,E)}catch{return a.call(this,E)}}}var m=[],_=!1,y,w=-1;function x(){!_||!y||(_=!1,y.length?m=y.concat(m):w=-1,m.length&&M())}function M(){if(!_){var E=h(x);_=!0;for(var D=m.length;D;){for(y=m,m=[];++w<D;)y&&y[w].run();w=-1,D=m.length}y=null,_=!1,f(E)}}r.nextTick=function(E){var D=new Array(arguments.length-1);if(arguments.length>1)for(var B=1;B<arguments.length;B++)D[B-1]=arguments[B];m.push(new P(E,D)),m.length===1&&!_&&h(M)};function P(E,D){this.fun=E,this.array=D}P.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function F(){}r.on=F,r.addListener=F,r.once=F,r.off=F,r.removeListener=F,r.removeAllListeners=F,r.emit=F,r.prependListener=F,r.prependOnceListener=F,r.listeners=function(E){return[]},r.binding=function(E){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(E){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],6:[function(t,i,s){i.exports={name:"ejs",description:"Embedded JavaScript templates",keywords:["template","engine","ejs"],version:"3.1.6",author:"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)",license:"Apache-2.0",bin:{ejs:"./bin/cli.js"},main:"./lib/ejs.js",jsdelivr:"ejs.min.js",unpkg:"ejs.min.js",repository:{type:"git",url:"git://github.com/mde/ejs.git"},bugs:"https://github.com/mde/ejs/issues",homepage:"https://github.com/mde/ejs",dependencies:{jake:"^10.6.1"},devDependencies:{browserify:"^16.5.1",eslint:"^6.8.0","git-directory-deploy":"^1.5.1",jsdoc:"^3.6.4","lru-cache":"^4.0.1",mocha:"^7.1.1","uglify-js":"^3.3.16"},engines:{node:">=0.10.0"},scripts:{test:"mocha"}}},{}]},{},[1])(1)})})(qb);var bf=qb.exports,EA=`<% if (vert) { %>
  
    precision highp float; 

    attribute vec3 position;
    attribute vec3 normal;
    attribute vec2 uv;

    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;
    uniform mat4 modelMatrix;
    uniform float uTime;

    varying vec2 vUv;
    varying vec4 vPos;
    varying vec3 vWorldPosition;

    #ifdef HAS_SHEEN
        varying vec3 vNormal;
    #endif

    void main(){
        vUv = uv;
        vPos = modelMatrix * vec4(position, 1.0);
        vWorldPosition = (modelViewMatrix * vec4(position, 1.0)).xyz;

        #ifdef HAS_SHEEN
            vec3 n = normal;
            vNormal = normalize(vec3(modelMatrix * vec4(n, 0.0)));
        #endif

        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }

<% } %>

<% if (frag) { %>

    precision highp float; 

    varying vec2 vUv;
    varying vec4 vPos;
    varying vec3 vWorldPosition;
    #ifdef HAS_SHEEN
        varying vec3 vNormal;
    #endif

    uniform float uTime;
    uniform float uAlpha;
    uniform float uTintOpacity;
    uniform float uExposure;
    uniform float uContrast;
    uniform float uSaturation;
    uniform vec3 uTint;

    uniform bool isCameraFliped;

    #ifdef HAS_COLORMAP
        uniform sampler2D uTexture;
    #else 
        uniform vec3 uColor;
    #endif
    #ifdef HAS_ALPHAMAP
        uniform sampler2D uAlphaTexture;
    #endif
    #ifdef HAS_FOG
        const float LOG2 = 1.442695;
        uniform vec3 uFogColor;
        
        uniform float uFogNear;
        uniform float uFogFar;
    #endif
    #ifdef HAS_SHEEN
        uniform float uSheenDepth;
        uniform float uSheenOpacity;
        uniform vec3 uSheenColor;
        uniform vec3 uCamera;
    #endif

    vec3 contrast(vec3 color, float value) {
        return 0.5 + (1.0 + value) * (color - 0.5);
    }

    vec3 exposure(vec3 color, float value) {
        return (1.0 + value) * color;
    }

    vec3 czm_saturation(vec3 rgb, float adjustment)
    {
        const vec3 W = vec3(0.2125, 0.7154, 0.0721);
        vec3 intensity = vec3(dot(rgb, W));
        return mix(intensity, rgb, adjustment);
    }

    #ifdef HAS_SHEEN
        vec3 getNormal()
        {
            return normalize(vNormal);
        }
    #endif

    void main() { 
        if(isCameraFliped && vPos.y < 0.01){ discard; }
        vec4 t;
        #ifdef HAS_COLORMAP
            t = texture2D( uTexture, vUv );
        #else 
            t = vec4(uColor, 1.);
        #endif
        #ifdef HAS_ALPHAMAP
            t.a *= texture2D( uAlphaTexture, vUv ).r * max(uExposure, 1.);
        #endif
        #ifdef HAS_FOG
            float fogDistance = length(vWorldPosition);
            
            float fogAmount = smoothstep(uFogNear, uFogFar, fogDistance);
            fogAmount = clamp(fogAmount, 0., 1.);
            t.rgb = mix(t.rgb, uFogColor, fogAmount);
        #endif

        #ifdef HAS_SHEEN
            vec3 n = getNormal();
            vec3 v = normalize(uCamera - vPos.xyz); 
            float fresnelFactor = abs(dot(v, n));
            float sheen = pow(1.0 - fresnelFactor, uSheenDepth);
            t.rgb = mix(t.rgb, uSheenColor, sheen * uSheenOpacity);
        #endif
        
        
        t.rgb = czm_saturation(t.rgb, uSaturation);
        t.rgb = contrast(t.rgb, uContrast);
        t.rgb = exposure(t.rgb, uExposure);
        t.rgb = mix(t.rgb, uTint, uTintOpacity);

        

        t.a *= uAlpha;
        gl_FragColor = vec4(t);
    } 
        
<% } %>`,AA=`<% if (vert) { %>
  
    precision highp float; 

    attribute vec3 position;
    attribute vec3 normal;
    attribute vec2 uv;

    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;
    uniform mat4 modelMatrix;
    uniform float uTime;

    varying vec2 vUv;
    varying vec4 vPos;
    varying vec3 vWorldPosition;

    #ifdef HAS_SHEEN
        varying vec3 vNormal;
    #endif

    void main(){
        vUv = uv;

        vec3 pos = position;
        
        
        
        
        
        
        
        pos.x += sin(uv.x * 6. + (uTime * 1.75)) * 0.5;
        pos.y *= 1. + ((cos(uv.x * 12. + (uTime * .75)) * 2.) + 1.) * .01;
        pos.z += cos(uv.x * 7. + (uTime * 2.25)) * 0.75;

        vPos = modelMatrix * vec4(pos, 1.0);
        vWorldPosition = (modelViewMatrix * vec4(pos, 1.0)).xyz;

        #ifdef HAS_SHEEN
            vec3 n = normal;
            vNormal = normalize(vec3(modelMatrix * vec4(n, 0.0)));
        #endif

        gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
    }

<% } %>

<% if (frag) { %>

    precision highp float; 

    varying vec2 vUv;
    varying vec4 vPos;
    varying vec3 vWorldPosition;
    #ifdef HAS_SHEEN
        varying vec3 vNormal;
    #endif

    uniform float uTime;
    uniform float uAlpha;
    uniform float uTintOpacity;
    uniform float uExposure;
    uniform float uContrast;
    uniform float uSaturation;
    uniform vec3 uTint;

    uniform bool isCameraFliped;

    #ifdef HAS_COLORMAP
        uniform sampler2D uTexture;
    #else 
        uniform vec3 uColor;
    #endif
    #ifdef HAS_ALPHAMAP
        uniform sampler2D uAlphaTexture;
    #endif
    #ifdef HAS_FOG
        const float LOG2 = 1.442695;
        uniform vec3 uFogColor;
        
        uniform float uFogNear;
        uniform float uFogFar;
    #endif
    #ifdef HAS_SHEEN
        uniform float uSheenDepth;
        uniform float uSheenOpacity;
        uniform vec3 uSheenColor;
        uniform vec3 uCamera;
    #endif

    vec3 contrast(vec3 color, float value) {
        return 0.5 + (1.0 + value) * (color - 0.5);
    }

    vec3 exposure(vec3 color, float value) {
        return (1.0 + value) * color;
    }

    vec3 czm_saturation(vec3 rgb, float adjustment)
    {
        const vec3 W = vec3(0.2125, 0.7154, 0.0721);
        vec3 intensity = vec3(dot(rgb, W));
        return mix(intensity, rgb, adjustment);
    }

    #ifdef HAS_SHEEN
        vec3 getNormal()
        {
            return normalize(vNormal);
        }
    #endif

    void main() { 
        if(isCameraFliped && vPos.y < 0.01){ discard; }
        vec4 t;
        #ifdef HAS_COLORMAP
            t = texture2D( uTexture, vUv );
        #else 
            t = vec4(uColor, 1.);
        #endif
        #ifdef HAS_ALPHAMAP
            t.a *= texture2D( uAlphaTexture, vUv ).r * max(uExposure, 1.);
        #endif
        #ifdef HAS_FOG
            float fogDistance = length(vWorldPosition);
            
            float fogAmount = smoothstep(uFogNear, uFogFar, fogDistance);
            fogAmount = clamp(fogAmount, 0., 1.);
            t.rgb = mix(t.rgb, uFogColor, fogAmount);
        #endif

        #ifdef HAS_SHEEN
            vec3 n = getNormal();
            vec3 v = normalize(uCamera - vPos.xyz); 
            float fresnelFactor = abs(dot(v, n));
            float sheen = pow(1.0 - fresnelFactor, uSheenDepth);
            t.rgb = mix(t.rgb, uSheenColor, sheen * uSheenOpacity);
        #endif
        
        
        t.rgb = czm_saturation(t.rgb, uSaturation);
        t.rgb = contrast(t.rgb, uContrast);
        t.rgb = exposure(t.rgb, uExposure);
        t.rgb = mix(t.rgb, uTint, uTintOpacity);

        

        t.a *= uAlpha;
        if(t.a < 0.01){discard;}
        gl_FragColor = vec4(t);
    } 
        
<% } %>`,DA=`<% if (vert) { %>
  
    precision highp float; 

    attribute vec3 position;
    attribute vec2 uv;

    uniform mat4 modelViewMatrix;
    uniform mat4 modelMatrix;
    uniform mat4 projectionMatrix;

    varying vec2 vUv;
    varying vec4 vPos;

    void main(){
        vec4 wPos = modelMatrix * vec4(position, 1.0);
        vPos = wPos;
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }

<% } %>

<% if (frag) { %>

    precision highp float; 

    varying vec2 vUv;

    uniform sampler2D uTexture;

    void main() { 
        
        vec4 t = texture2D( uTexture, vUv );

        gl_FragColor.rgb = t.rgb;
        gl_FragColor.a = 1.0;
    } 
        
<% } %>`,SA=`<% if (vert) { %>

   precision highp float;

    attribute vec3 position;
    attribute vec2 uv;
    uniform vec2 uRez;

    varying vec2 vUv;

    <%= commons.fxaa %>

    void main(void) {
        vUv = uv;
        vec2 fragCoord = vUv * uRez;
        texcoords(fragCoord, uRez, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

        gl_Position = vec4(position, 1.0);
    }

<% } %>

<% if (frag) { %>

    precision highp float;

    uniform sampler2D uTexture;
    uniform sampler2D uBloom;
    uniform sampler2D uNoise;
    varying vec2 vUv;

    uniform vec2 uRez;
    uniform vec2 uMouse;
    uniform float uTime;
    uniform float uHueShift;
    uniform float uVignette;
    uniform float uNoiseOpacity;
    uniform float uChromaticAberations;
    uniform float uGamma;
    uniform float uExposure;
    uniform float uBloomOpacity;
    uniform float uContrast;
    uniform float uKonami;
    uniform float uVignetteStrength;
    uniform bool uFxaa;

    <%= commons.allBlendModes %>
    <%= commons.fxaa %>

    vec3 linearToneMapping(vec3 color)
    {
        float exposure = 1.;
        color = clamp(exposure * color, 0., 1.);
        color = pow(color, vec3(1. / uGamma));
        return color;
    }

    vec3 Uncharted2ToneMapping(vec3 color)
    {
        float A = 0.15;
        float B = 0.50;
        float C = 0.10;
        float D = 0.20;
        float E = 0.02;
        float F = 0.30;
        float W = 11.2;
        float exposure = 2.;
        color *= exposure;
        color = ((color * (A * color + C * B) + D * E) / (color * (A * color + B) + D * F)) - E / F;
        float white = ((W * (A * W + C * B) + D * E) / (W * (A * W + B) + D * F)) - E / F;
        color /= white;
        color = pow(color, vec3(1. / uGamma));
        return color;
    }

    vec3 contrast(vec3 color, float value) {
        return 0.5 + (1.0 + value) * (color - 0.5);
    }

    vec3 exposure(vec3 color, float value) {
        return (1.0 + value) * color;
    }

    float random (in vec2 st) {
        return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);
    }

    vec3 hueShift(vec3 color, float hue)
    {
        const vec3 k = vec3(0.57735, 0.57735, 0.57735);
        float cosAngle = cos(hue);
        return vec3(color * cosAngle + cross(k, color) * sin(hue) + k * dot(k, color) * (1.0 - cosAngle));
    }

    vec2 scaleVec2(vec2 vec, float scale) 
    {
        vec2 res = vec;
        res *= 1.0 - (scale - 1.0);
        res += (scale - 1.0) * 0.5;

        return res;
    }

    void main() {

        vec2 uv = vUv;
        vec4 color;
        vec2 fragCoord = vUv * uRez; 

        
        if(uFxaa){
            color = fxaa(uTexture, fragCoord, uRez, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
        } else {
            color = texture2D(uTexture, uv);
        }

        
        
        
        
        
        
        

        
        
        

        
        vec4 bloomTex = texture2D(uBloom, uv);

        
        vec4 bloom;
        float aberationFactor = distance(uv, vec2(0.5));
        float aberationStrength = uChromaticAberations * 0.1;
        bloom.r += texture2D(uBloom, uv).r;
        bloom.g += texture2D(uBloom, scaleVec2(uv, 1.0 - aberationFactor * aberationStrength)).g;
        bloom.b += texture2D(uBloom, scaleVec2(uv, 1.0 + aberationFactor * aberationStrength)).b;

        vec2 gUv = vUv;
        

        vec2 nUv = vUv;
        nUv.x *= uRez.x/uRez.y;
        nUv.y += mod(uTime * 46.54687, 1.);
        nUv.x -= mod(uTime * 12.68655, 1.);
        color.rgb = blendScreen_21_19(color.rgb, bloom.rgb, uBloomOpacity);

        
        color.rgb = blendOverlay_9_12(color.rgb, vec3(random(vUv + mod(uTime, 1.))), uNoiseOpacity);

        
        color.rgb = Uncharted2ToneMapping(color.rgb);
        color.rgb = contrast(color.rgb, uContrast);
        color.rgb = exposure(color.rgb, uExposure);

        
        vec2 vgnUv = vUv;
        vgnUv *= (1.0 - vgnUv.yx);

        float vig = vgnUv.x*vgnUv.y * 15.0;
        vig = pow(vig, uVignette);
        color.rgb = mix(color.rgb, color.rgb * vig, uVignetteStrength);

        color.a = 1.;
        
        
        

        gl_FragColor = color;
    }

<% } %>`,TA=`<% if (vert) { %>
    precision highp float;
    attribute vec3 aPos;
    attribute vec2 aUvs;
    varying vec2 vUv;
    void main(void) {
        vUv = aUvs;
        gl_Position = vec4(aPos, 1.0);
    }
<% } %>

<% if (passes.pass_1) { %>
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vUv;
    uniform vec2 uRez;
    uniform vec2 uDir;
    uniform vec3 uTint;
    uniform float uPower;
    uniform float uIsFirstPass;
    uniform float uThresold;
    uniform float uSimilarity;
    uniform float uDebug;
    uniform float uOverdrive;

    <%= commons.blur %>
    void main() {
        vec4 color = blur5(uTexture, vUv, uRez, uDir * uPower);
        gl_FragColor = vec4(color.rgb * color.a, color.a);
        if(uIsFirstPass > 0.5){
            float brightness = dot(color.rgb, vec3(0.2126, 0.7152, 0.0722));
            float highlights = smoothstep(uThresold, uThresold+uSimilarity, brightness);
            gl_FragColor = vec4((color.rgb * (1. + uOverdrive)) * vec3(highlights) * uTint, 1.);
        }
    }
<% } %>

<% if (frag) { %>
    precision highp float;
    uniform sampler2D uBlur;
    varying vec2 vUv;
    uniform vec2 uRez;

 <%if (defines["COLOR_CORRECTION"] >= 1) { %>
    uniform float uShift;
    uniform float uBrightness;
    uniform float uContrast;

    vec3 hueShift(vec3 color, float hue)
    {
        const vec3 k = vec3(0.57735, 0.57735, 0.57735);
        float cosAngle = cos(hue);
        return vec3(color * cosAngle + cross(k, color) * sin(hue) + k * dot(k, color) * (1.0 - cosAngle));
    }
<% } %>

    void main() {
        
        vec4 blur = texture2D( uBlur, vUv);
        gl_FragColor = blur;

        <%if (defines["TRANSPARENT"] >= 1) { %>
            
            float a = smoothstep(1., 0.2, blur.z);
            a = pow(a, 2.);
            blur.z = 0.;
            gl_FragColor = vec4(blur.rgb, a);
        <% } %>

        <%if (defines["COLOR_CORRECTION"] >= 1) { %>
            vec3 color = hueShift(gl_FragColor.rgb, uShift);
            vec3 colorContrasted = (color) * uContrast;
            vec3 bright = colorContrasted + vec3(uBrightness);
            gl_FragColor.rgb = bright;
        <% } %>

    }
<% } %>`,MA=`<% if (vert) { %>
    needES300
    precision highp float;

    in vec3 position;
    #ifdef HAS_NORMALS
        in vec3 normal;
    #endif
    #ifdef HAS_POSEMORPHS
        in vec3 position1;
        in vec3 normal1;
        uniform float uActivePoseMix;
    #endif
    #ifdef HAS_TANGENTS
        in vec3 tangents;
    #endif
    #ifdef HAS_UV
        in vec2 uv;
    #endif

    uniform mat4 modelMatrix;
    uniform mat4 modelViewMatrix;
    uniform mat4 normalMatrix;
    uniform mat4 projectionMatrix;

    uniform float uTime;

    out vec3 vPosition;
    out vec3 vWorldPosition;
    out vec2 vUv;

    #ifdef HAS_NORMALS
        #ifdef HAS_TANGENTS
            out mat3 vTBN;
        #else
            out vec3 vNormal;
        #endif
    #endif

    void main(){

        vec3 p = position;
        vec3 n = normal;
        #ifdef HAS_POSEMORPHS
            p = mix(position, position1, uActivePoseMix);
            n = mix(normal, normal1, uActivePoseMix);
        #endif

        vec4 pos = modelMatrix * vec4(p, 1.0);
        vPosition = vec3(pos.xyz) / pos.w;
        vWorldPosition = (modelViewMatrix * vec4(p, 1.0)).xyz;

        #ifdef HAS_NORMALS
            #ifdef HAS_TANGENTS
                vec3 normalW = normalize(vec3(normalMatrix * vec4(n, 0.0)));
                vec3 tangentW = normalize(vec3(modelMatrix * vec4(tangents.xyz, 0.0)));
                vec3 bitangentW = cross(normalW, tangentW) * tangents.w;
                vTBN = mat3(tangentW, bitangentW, normalW);
            #else 
                vNormal = normalize(vec3(modelMatrix * vec4(n, 0.0)));
            #endif
        #endif

        #ifdef HAS_UV
            vUv = uv;
        #else
            vUv = vec2(0.,0.);
        #endif

        gl_Position = projectionMatrix * modelViewMatrix * vec4(p, 1.0);

    }

<% } %>

<% if (frag) { %>
    
    precision highp float; 

    uniform vec3 uLightDirection;
    uniform vec3 uLightColor;
    uniform float uUvScale;
    uniform float uTime;

    #ifdef USE_IBL
        uniform sampler2D uDiffuseEnvSampler;
        uniform sampler2D uSpecularEnvSampler;
        uniform sampler2D uBrdfLUT;
        uniform float uEnvOffset;
    #endif

    #ifdef HAS_BASECOLORMAP
        uniform sampler2D uBaseColorSampler;
    #endif
    #ifdef HAS_ALPHAMAP
        uniform sampler2D uAlphaMapSampler;
    #endif
    #ifdef HAS_SHEEN
        uniform float uSheenDepth;
        uniform float uSheenOpacity;
        uniform vec3 uSheenColor;
    #endif

    #ifdef HAS_NORMALMAP
        uniform sampler2D uNormalSampler;
        uniform float uNormalScale;
    #endif

    #ifdef HAS_EMISSIVEMAP
        uniform sampler2D uEmissiveSampler;
        uniform vec3 uEmissiveFactor;
    #endif
    #ifdef HAS_EMISSIVECOLOR
        uniform vec3 uEmissiveColor;
        uniform float uEmissivePower;
    #endif
    
    #ifdef HAS_METALROUGHNESSMAP
        uniform sampler2D uMetallicRoughnessSampler;
    #endif

    #ifdef HAS_OCCLUSIONMAP
        uniform sampler2D uOcclusionSampler;
        uniform float uOcclusionStrength;
    #endif

    #ifdef HAS_FOG
        uniform vec3 uFogColor;
        uniform float uFogDensity;
    #endif

    
    #ifdef HAS_COLOR_CORRECTION
        uniform float uTintOpacity;
        uniform float uExposure;
        uniform float uContrast;
        uniform float uSaturation;
        uniform vec3 uTint;

        vec3 contrast(vec3 color, float value) { return 0.5 + (1.0 + value) * (color - 0.5);}
        vec3 exposure(vec3 color, float value) { return (1.0 + value) * color; }
        vec3 hueShift(vec3 color, float hue) {
            const vec3 k = vec3(0.57735, 0.57735, 0.57735);
            float cosAngle = cos(hue);
            return vec3(color * cosAngle + cross(k, color) * sin(hue) + k * dot(k, color) * (1.0 - cosAngle));
        }
        vec3 czm_saturation(vec3 rgb, float adjustment){
            const vec3 W = vec3(0.2125, 0.7154, 0.0721);
            vec3 intensity = vec3(dot(rgb, W));
            return mix(intensity, rgb, adjustment);
        }
    #endif

    uniform vec2 uMetallicRoughnessValues;
    uniform vec4 uBaseColorFactor;
    uniform vec3 uCamera;

    
    uniform vec4 uScaleDiffBaseMR;
    uniform vec4 uScaleFGDSpec;
    uniform vec4 uScaleIBLAmbient;

    in vec2 vUv;
    in vec3 vPosition;
    in vec3 vWorldPosition;

    out vec4 outColor;

    #ifdef HAS_NORMALS
        #ifdef HAS_TANGENTS
            in mat3 vTBN;
        #else
            in vec3 vNormal;
        #endif
    #endif

    struct PBRInfo
    {
        float NdotL;                  
        float NdotV;                  
        float NdotH;                  
        float LdotH;                  
        float VdotH;                  
        float perceptualRoughness;    
        float metalness;              
        vec3 reflectance0;            
        vec3 reflectance90;           
        float alphaRoughness;         
        vec3 diffuseColor;            
        vec3 specularColor;           
    };

    const float M_PI = 3.141592653589793;
    const float c_MinRoughness = 0.04;
    const vec2 invAtan = vec2(0.1591, 0.3183);
    const float LOG2 = 1.442695;

    vec4 SRGBtoLINEAR(vec4 srgbIn)
    {
        #ifdef MANUAL_SRGB
            #ifdef SRGB_FAST_APPROXIMATION
                vec3 linOut = pow(srgbIn.xyz,vec3(2.2));
            #else 
                vec3 bLess = step(vec3(0.04045),srgbIn.xyz);
                vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );
            #endif 
                return vec4(linOut,srgbIn.w);;
        #else 
            return srgbIn;
        #endif 
    }

    vec3 getNormal()
    {
        
        #ifndef HAS_TANGENTS
            vec3 pos_dx = dFdx(vPosition);
            vec3 pos_dy = dFdy(vPosition);
            vec3 tex_dx = dFdx(vec3(vUv, 0.0));
            vec3 tex_dy = dFdy(vec3(vUv, 0.0));
            vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);

        #ifdef HAS_NORMALS
            vec3 ng = normalize(vNormal);
        #else
            vec3 ng = cross(pos_dx, pos_dy);
        #endif

            t = normalize(t - ng * dot(ng, t));
            vec3 b = normalize(cross(ng, t));
            mat3 tbn = mat3(t, b, ng);
        #else 
            mat3 tbn = vTBN;
        #endif

        #ifdef HAS_NORMALMAP
            vec3 n = texture(uNormalSampler, vUv * uUvScale).rgb;
            n = normalize(tbn * ((2.0 * n - 1.0) * vec3(uNormalScale, uNormalScale, 1.0)));
        #else
            
            vec3 n = normalize(tbn[2].xyz);
        #endif

        return n;
    }

    vec2 SampleSphericalMap(vec3 direction)
    {
        vec2 uv = vec2(atan(direction.z, direction.x), asin(direction.y));
        uv *= invAtan;
        uv += 0.5;
        uv.y = 1. - uv.y;
        uv.x = mod(uv.x + uEnvOffset, 1.);
        return uv;
    }

    
    
    #ifdef USE_IBL
        vec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)
        {
            float mipCount = 9.0; 
            float lod = (pbrInputs.perceptualRoughness * mipCount);
            
            vec3 brdf = SRGBtoLINEAR(texture(uBrdfLUT, vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;
            vec3 diffuseLight = SRGBtoLINEAR(texture(uDiffuseEnvSampler, SampleSphericalMap(n))).rgb;

            vec3 specularLight = SRGBtoLINEAR(texture(uSpecularEnvSampler, SampleSphericalMap(reflection))).rgb;

            vec3 diffuse = diffuseLight * pbrInputs.diffuseColor;
            vec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);

            
            diffuse *= uScaleIBLAmbient.x;
            specular *= uScaleIBLAmbient.y;

            return diffuse + specular;
        }
    #endif

    
    
    vec3 diffuse(PBRInfo pbrInputs)
    {
        return pbrInputs.diffuseColor / M_PI;
    }

    
    vec3 specularReflection(PBRInfo pbrInputs)
    {
        return pbrInputs.reflectance0 + (pbrInputs.reflectance90 - pbrInputs.reflectance0) * pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);
    }

    
    
    float geometricOcclusion(PBRInfo pbrInputs)
    {
        float NdotL = pbrInputs.NdotL;
        float NdotV = pbrInputs.NdotV;
        float r = pbrInputs.alphaRoughness;

        float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));
        float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));
        return attenuationL * attenuationV;
    }

    
    
    
    float microfacetDistribution(PBRInfo pbrInputs)
    {
        float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;
        float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;
        return roughnessSq / (M_PI * f * f);
    }

    void main() {   

        
        
        
        float perceptualRoughness = uMetallicRoughnessValues.y;
        float metallic = uMetallicRoughnessValues.x;

        #ifdef HAS_METALROUGHNESSMAP
            
            
            vec4 mrSample = texture(uMetallicRoughnessSampler, vUv * uUvScale);
            perceptualRoughness = mrSample.g * perceptualRoughness;
            metallic = mrSample.b * metallic;
        #endif

        perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);
        metallic = clamp(metallic, 0.0, 1.0);
        
        
        float alphaRoughness = perceptualRoughness * perceptualRoughness;

        
        #ifdef HAS_BASECOLORMAP
            vec4 baseColor = SRGBtoLINEAR(texture(uBaseColorSampler, vUv * uUvScale)) * uBaseColorFactor;
        #else
            vec4 baseColor = uBaseColorFactor;
        #endif
        #ifdef HAS_ALPHAMAP
            baseColor.a *= texture(uAlphaMapSampler, vUv * uUvScale).r;
        #endif

        vec3 f0 = vec3(0.04);
        vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);
        diffuseColor *= 1.0 - metallic;
        vec3 specularColor = mix(f0, baseColor.rgb, metallic);

        
        float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);

        
        
        float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);
        vec3 specularEnvironmentR0 = specularColor.rgb;
        vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;

        vec3 n = getNormal();                             
        vec3 v = normalize(uCamera - vPosition);          
        vec3 l = normalize(uLightDirection);              
        vec3 h = normalize(l+v);                          
        vec3 reflection = -normalize(reflect(v, n));

        #ifdef HAS_SHEEN
            float fresnelFactor = abs(dot(v, n));
            float sheen = pow(1.0 - fresnelFactor, uSheenDepth);
        #endif

        float NdotL = clamp(dot(n, l), 0.001, 1.0);
        float NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);
        float NdotH = clamp(dot(n, h), 0.0, 1.0);
        float LdotH = clamp(dot(l, h), 0.0, 1.0);
        float VdotH = clamp(dot(v, h), 0.0, 1.0);

        PBRInfo pbrInputs = PBRInfo(
            NdotL,
            NdotV,
            NdotH,
            LdotH,
            VdotH,
            perceptualRoughness,
            metallic,
            specularEnvironmentR0,
            specularEnvironmentR90,
            alphaRoughness,
            diffuseColor,
            specularColor
        );

        
        vec3 F = specularReflection(pbrInputs);
        float G = geometricOcclusion(pbrInputs);
        float D = microfacetDistribution(pbrInputs);

        
        vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);
        vec3 specContrib = F * G * D / (4.0 * NdotL * NdotV);
        
        vec3 color = NdotL * uLightColor * (diffuseContrib + specContrib);

        
        #ifdef USE_IBL
            color += getIBLContribution(pbrInputs, n, reflection);
        #endif

        
        #ifdef HAS_OCCLUSIONMAP
            float ao = texture(uOcclusionSampler, vUv * uUvScale).r;
            color = mix(color, color * ao, uOcclusionStrength);
        #endif

        #ifdef HAS_EMISSIVEMAP
            vec3 emissive = SRGBtoLINEAR(texture(uEmissiveSampler, vUv * uUvScale)).rgb * uEmissiveFactor;
            color += emissive;
        #endif

        
        
        color = mix(color, F, uScaleFGDSpec.x);
        #ifdef HAS_SHEEN
            color = mix(color, uSheenColor, sheen * uSheenOpacity);
        #endif
        color = mix(color, vec3(G), uScaleFGDSpec.y);
        color = mix(color, vec3(D), uScaleFGDSpec.z);
        color = mix(color, specContrib, uScaleFGDSpec.w);

        color = mix(color, diffuseContrib, uScaleDiffBaseMR.x);
        color = mix(color, baseColor.rgb, uScaleDiffBaseMR.y);
        color = mix(color, vec3(metallic), uScaleDiffBaseMR.z);
        color = mix(color, vec3(perceptualRoughness), uScaleDiffBaseMR.w);

        
        #ifdef HAS_COLOR_CORRECTION
            color.rgb = czm_saturation(color.rgb, uSaturation);
            color.rgb = contrast(color.rgb, uContrast);
            color.rgb = exposure(color.rgb, uExposure);
            color.rgb = mix(color.rgb, uTint, uTintOpacity);
        #endif

        #ifdef HAS_FOG
            float fogDistance = length(vWorldPosition);
            float fogAmount = 1. - exp2(-uFogDensity * uFogDensity * fogDistance * fogDistance * LOG2);
            fogAmount = clamp(fogAmount, 0., 1.);
            color = mix(color, uFogColor, fogAmount);
        #endif

        #ifdef IS_WEBGL_1
            gl_FragColor = vec4(pow(color,vec3(1.0/2.2)), baseColor.a);
            #ifdef HAS_EMISSIVECOLOR
                gl_FragColor.rgb = mix(gl_FragColor.rgb, uEmissiveColor * uEmissivePower, min(uEmissivePower, 1.));
            #endif
        #else
            outColor = vec4(pow(color,vec3(1.0/2.2)), baseColor.a);
            #ifdef HAS_EMISSIVECOLOR
                outColor.rgb = mix(outColor.rgb, uEmissiveColor * uEmissivePower, min(uEmissivePower, 1.));
            #endif
        #endif

        
        
        
        
        
    } 
        
<% } %>`,BA=`<% if (vert) { %>
    precision highp float;

      attribute vec2 uv;
      attribute vec3 position;
      uniform mat4 modelViewMatrix;
      uniform mat4 projectionMatrix;

      void main() {
          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
      }
<% } %>

<% if (frag) { %>
    precision highp float;
    uniform vec3 uColor;
    uniform float uAlpha;

    void main() {
        gl_FragColor = vec4(uColor, uAlpha);
    }
<% } %>`,PA=`<% if (vert) { %>
  
    precision highp float; 

    attribute vec3 position;
    attribute vec2 uv;

    varying vec2 vUv;
    varying vec4 vPosition;

    void main(){
        vUv = uv;
        gl_Position = vec4(position, 1.0);
        vPosition = vec4(position, 1.0);
        gl_Position.z = 1.;
    }

<% } %>

<% if (frag) { %>

    precision highp float; 

    varying vec2 vUv;
    varying vec4 vPosition;

    uniform sampler2D uTexture;
    uniform float uTime;
    uniform float uYpow;
    uniform mat4 uViewDirProjInverse;
    
    const vec2 invAtan = vec2(0.1591, 0.3183);
    vec2 SampleSphericalMap(vec3 direction)
    {
        vec2 uv = vec2(atan(direction.z, direction.x), asin(direction.y));
        uv *= invAtan;
        uv += 0.5;
        uv.y = 1. - uv.y;
        return uv;
    }

    void main() { 

        vec4 d = uViewDirProjInverse * vPosition;
        vec3 dir = normalize(d.xyz / d.w);
        vec4 t = texture2D( uTexture, SampleSphericalMap(dir) );

        gl_FragColor = vec4(t); 
    } 
        
<% } %>`,FA=`<% if (vert) { %>
  
    precision highp float; 

    attribute vec3 position;
    attribute vec2 uv;

    uniform mat4 modelViewMatrix;
    uniform mat4 modelMatrix;
    uniform mat4 projectionMatrix;
    uniform float uTime;

    varying vec2 vUv;
    varying vec4 vPos;

    void main(){
        vec4 wPos = modelMatrix * vec4(position, 1.0);
        vPos = wPos;
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }

<% } %>

<% if (frag) { %>

    precision highp float; 

    varying vec2 vUv;
    varying vec4 vPos;

    uniform mat4 projectionMatrix;
    uniform mat4 viewMatrix;

    uniform float uReflectionScale;
    uniform float uReflectionSize;
    uniform float uReflectionOpacity;
    uniform float uCircleRadius;
    uniform float uFeather;
    uniform float uScrollSpeed;

    uniform vec3 uColor;

    uniform sampler2D uTexture;
    uniform sampler2D uNoiseTexture;
    uniform float uTime;

    float blendScreen(float base, float blend) {
        return 1.0-((1.0-base)*(1.0-blend));
    }

    vec3 blendScreen(vec3 base, vec3 blend) {
        return vec3(blendScreen(base.r,blend.r),blendScreen(base.g,blend.g),blendScreen(base.b,blend.b));
    }

    vec3 blendScreen(vec3 base, vec3 blend, float opacity) {
        return (blendScreen(base, blend) * opacity + base * (1.0 - opacity));
    }

    void main() { 

        vec4 clipSpace = projectionMatrix * (viewMatrix * vPos);
        vec3 ndc = clipSpace.xyz / clipSpace.w;
        vec2 ssUv = (ndc.xy * .5 + .5);

        vec2 uv = vUv;
        uv -= vec2(0.5);
        float dist = sqrt(dot(uv, uv)) * 2.;

        float dr = uCircleRadius;
        float alpha = smoothstep(dr+uFeather, dr-uFeather, dist);

        vec2 fUv = (vUv + vec2(0., uTime * uScrollSpeed)) * uReflectionSize;
        vec2 d = ((texture2D( uNoiseTexture, fUv ).xy));
        vec4 t = texture2D( uTexture, ssUv + (d * uReflectionScale) );

        vec3 color = uColor;
        color.xyz = blendScreen(color, t.xyz * uReflectionOpacity, 1.);
        color -= (d.x + d.y) * .05;

        gl_FragColor = vec4(color, alpha); 
        
    } 
        
<% } %>`,LA=`<% if (vert) { %>
  
    precision highp float; 

    attribute vec3 position;
    attribute vec3 normal;
    attribute vec2 uv;

    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;
    uniform mat4 modelMatrix;
    uniform float uTime;

    uniform float uHeight;
    uniform float uWidth;

    varying vec2 vUv;
    varying vec3 vPosition;
    varying vec3 vPositionW;
    varying vec3 vNormalW;

    void main(){
        vUv = uv;
        vPosition = position;
        vec3 pos = position;
        pos.xz *= 1. + (-pos.y + 1.);
        pos.xz *= uWidth;
        pos.y *= uHeight;

        gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);

        vPositionW = vec3( modelViewMatrix * vec4( pos, 1.0 ) );
        vNormalW = normalize( vec3(modelViewMatrix * vec4( normal, 0.0 )) );

    }

<% } %>

<% if (frag) { %>

    precision highp float; 

    varying vec2 vUv;
    varying vec3 vPosition;
    varying vec3 vPositionW;
    varying vec3 vNormalW;

    uniform float uTime;
    uniform vec2 uScale;
    uniform vec3 uColor;
    uniform vec3 uCamera;
    uniform float uFade;
    uniform float uOpacity;

    const float M_PI = 3.141592653589793;

    <%= commons.noise %>

    void main() { 

        vec3 pos = vPosition;
        pos.xz *= uScale.x;
        pos.y = 1./uScale.x;

        vec2 uv = vUv;
        uv.x *= uScale.x;
        float t = uTime;

        float noise = snoise(vec4(pos, t)) * .5 + 1.;
        
        vec3 color = uColor;
        float alpha = noise;
        float fade = pow(sin(uv.y*M_PI), 1.+uFade);

        vec3 viewDirectionW = normalize(uCamera - vPositionW);
	    float fresnelTerm = dot(viewDirectionW, -vNormalW);
	    fresnelTerm = clamp(fresnelTerm, 0., 1.);

        alpha *= fresnelTerm;
        alpha *= fade;
        alpha *= uOpacity;

        gl_FragColor = vec4(color * alpha, alpha); 

    } 
        
<% } %>`,IA=`<% if (vert) { %>
  
    precision highp float; 

    attribute vec3 position;
    attribute vec2 uv;
    uniform float uTime;

    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;

    varying vec2 vUv;

    void main(){
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }

<% } %>

<% if (frag) { %>

    precision highp float; 

    varying vec2 vUv;
    uniform sampler2D uTexture;
    uniform float uTime;
    uniform vec2 uRez;
    uniform vec3 uColor;
    uniform float uOpacity;
    uniform float uFrames;
    uniform float uFrame;
    uniform float uCollums;
    uniform float uRows;

    void main() { 

        vec2 uv = vUv;
        float f = max(uFrame - 1., 0.);
        uv.x += mod(f, uCollums);
        uv.y -= floor(uRows * (f/uFrames)) + 1.;
        uv.y /= uRows;
        uv.x /= uCollums;    
        gl_FragColor = texture2D( uTexture, uv ); 

    } 
        
<% } %>`,RA=`<% if (vert) { %>

    precision highp float;

    
    
    
    
    
    
    
    
    
    
    
    

    vec3 mod289(vec3 x)
    {
    return x - floor(x * (1.0 / 289.0)) * 289.0;
    }

    vec4 mod289(vec4 x)
    {
    return x - floor(x * (1.0 / 289.0)) * 289.0;
    }

    vec4 permute(vec4 x)
    {
    return mod289(((x*34.0)+1.0)*x);
    }

    vec4 taylorInvSqrt(vec4 r)
    {
    return 1.79284291400159 - 0.85373472095314 * r;
    }

    vec3 fade(vec3 t) {
    return t*t*t*(t*(t*6.0-15.0)+10.0);
    }

    
    float pnoise(vec3 P, vec3 rep)
    {
    vec3 Pi0 = mod(floor(P), rep); 
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); 
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); 
    vec3 Pf1 = Pf0 - vec3(1.0); 
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;

    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);

    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);

    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);

    vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
    vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
    vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
    vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
    vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
    vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
    vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
    vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);

    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;

    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);

    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
    }

    
    
    
    #define M_PI 3.1415926535897932384626433832795

    attribute vec3 position;
    attribute vec4 seeds;

    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;

    uniform vec3  uColor;
    uniform vec3  uVolumeCorner;
    uniform vec3  uVolumeSize;
    uniform vec3  uOffset;
    uniform float uPixelRatio;
    uniform float uTime;
    uniform float uTimeScale;
    uniform float speed;
    uniform float uNoiseIntensity;
    uniform float uNoiseFrequency;
    uniform float uFadeDistance;
    uniform float uParticleScale;
    uniform float uParticleOpacity;

    varying vec4  vColor;
    varying vec4  vSeeds;

    uniform float uSize;

    mat4 rotationMatrix(vec3 axis, float angle) {
        axis = normalize(axis);
        float s = sin(angle);
        float c = cos(angle);
        float oc = 1.0 - c;
        
        return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,
                    oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,
                    oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,
                    0.0,                                0.0,                                0.0,                                1.0);
    }

    vec3 rotate(vec3 v, vec3 axis, float angle) {
        mat4 m = rotationMatrix(axis, angle);
        return (m * vec4(v, 1.0)).xyz;
    }

    void main(void) {

        vSeeds = seeds;

        
        vec3 newPosition  = position;
        vec3 displacement = vec3(
            pnoise(uNoiseFrequency * position + vec3(0., uTime * uTimeScale, 0.), vec3(101.0)) * uNoiseIntensity,
            pnoise(uNoiseFrequency * position + vec3(0., uTime * uTimeScale, 0.), vec3(202.0)) * uNoiseIntensity,
            pnoise(uNoiseFrequency * position + vec3(0., uTime * uTimeScale, 0.), vec3(303.0)) * uNoiseIntensity
        );
        newPosition += displacement;

        
        newPosition += uOffset;

        newPosition.x = mod(mod(newPosition.x, uVolumeSize.x) + uVolumeSize.y, uVolumeSize.x) + uVolumeCorner.x;
        newPosition.y = mod(mod(newPosition.y, uVolumeSize.y) + uVolumeSize.y, uVolumeSize.y) + uVolumeCorner.y;
        newPosition.z = mod(mod(newPosition.z, uVolumeSize.z) + uVolumeSize.z, uVolumeSize.z) + uVolumeCorner.z;

        
        float alphaFade = 1.0;
        vec3 distanceToLimits;
        distanceToLimits.y = min(clamp(abs(newPosition.y - uVolumeCorner.y),0.0,uFadeDistance),clamp(abs(newPosition.y - (uVolumeCorner.y + uVolumeSize.y)),0.0,uFadeDistance));
        distanceToLimits.x = min(clamp(abs(newPosition.x - uVolumeCorner.x),0.0,uFadeDistance),clamp(abs(newPosition.x - (uVolumeCorner.x + uVolumeSize.x)),0.0,uFadeDistance));
        distanceToLimits.z = min(clamp(abs(newPosition.z - uVolumeCorner.z),0.0,uFadeDistance),clamp(abs(newPosition.z - (uVolumeCorner.z + uVolumeSize.z)),0.0,uFadeDistance));
        alphaFade = min(min(distanceToLimits.x,distanceToLimits.y),distanceToLimits.z)/uFadeDistance;

        vec4 viewSpace  = modelViewMatrix * vec4(newPosition, 1.0);
        float dist = length(viewSpace);
        vColor = vec4(uColor, alphaFade * uParticleOpacity);

        gl_Position = projectionMatrix * viewSpace;
        gl_PointSize = uPixelRatio * uParticleScale;
        gl_PointSize = gl_PointSize / length(dist);

    }

<% } %>

<% if (frag) { %>

    precision highp float;

    varying vec4  vColor;
    varying vec4  vSeeds;

    uniform float uTime;
    uniform float uAlpha;
    uniform vec3 uColor1;

    const float border_size = 0.01;
    const float disc_radius = 0.1;
    const float border_size1 = 0.6;
    const float disc_radius1 = 0.1;

    void main() {
        vec2 uv = gl_PointCoord.xy;
        uv -= vec2(0.5);
        float dist = sqrt(dot(uv, uv));

        float dr = disc_radius * vSeeds.x;
        float t = smoothstep(dr+border_size, dr-border_size, dist);
        float t1 = smoothstep(disc_radius1+border_size1, disc_radius1-border_size1, dist);
        
        vec3 color = mix(vColor.xyz, uColor1, vSeeds.z);
        float a = vColor.a * (t+t1) * uAlpha;
        a *= .3 + ((sin(((uTime * 1.) + vSeeds.w) * 6.28) + 1.) * .5) * .7;
        a *= .6 + ((sin(((uTime * 2.) + vSeeds.z) * 6.28) + 1.) * .5) * .5;
        color += a;

        gl_FragColor = vec4(color, a);
    }

<% } %>`,kA=`<% if (vert) { %>
  
    precision highp float; 

    attribute vec3 position;
    attribute vec2 uv;

    uniform mat4 modelViewMatrix;
    uniform mat4 modelMatrix;
    uniform mat4 projectionMatrix;

    varying vec2 vUv;
    varying vec4 vPos;

    void main(){
        vec4 wPos = modelMatrix * vec4(position, 1.0);
        vPos = wPos;
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }

<% } %>

<% if (frag) { %>

    precision highp float; 

    varying vec2 vUv;

    uniform sampler2D uTexture;

    void main() { 
        vec2 scaledUv = vUv;
        scaledUv = 1.0 - scaledUv;
        scaledUv.y += 0.05;

        
        vec4 t = texture2D( uTexture, scaledUv );

        gl_FragColor.rgb = t.rgb;
        gl_FragColor.a = 1.0;
    } 
        
<% } %>`,OA=`<% if (vert) { %>
    needES300
    precision highp float; 

    in vec3 position;
    in vec2 uv;

    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;
    uniform float uTime;

    out vec2 vUv;

    void main(){
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }

<% } %>

<% if (frag) { %>
    needES300
    precision highp float; 

    in vec2 vUv;
    out vec4 outColor;

    const float division = 30.;

    void main() { 
        vec2 uv = vUv.xy * division;
        vec2 grid = abs(fract(uv - 0.5) - 0.5) / fwidth(uv);
        float line = min(grid.x, grid.y);

        vec2 circleUv = vUv -.5;
        float dist = sqrt(dot(circleUv, circleUv));
        float t = pow(smoothstep(.6, .1, dist), 1.5);

        outColor = vec4(1.0 - min(line, 1.0)) * .75 * t;
    } 
        
<% } %>`,NA=`<% if (vert) { %>
    needES300
    precision highp float; 

    in vec3 position;
    in vec2 uv;

    uniform mat4 modelViewMatrix;
    uniform mat4 modelMatrix;
    uniform mat4 projectionMatrix;

    out vec2 vUv;

    void main(){
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }

<% } %>

<% if (frag) { %>
    needES300
    precision highp float; 

    uniform mat4 modelViewMatrix;
    uniform mat4 modelMatrix;
    uniform mat4 projectionMatrix;

    uniform sampler2D uTextureVisualsDiffuse;
    uniform sampler2D uTextureVisualsDiffuseVideo;
    uniform sampler2D uTextureVisualsOpacity;
    uniform sampler2D uTextureMask;
    uniform sampler2D uTextureOverlayDiffuse;
    uniform sampler2D uTextureOverlayOpacity;
    uniform float uVisualOpacityFactor;
    uniform float uVisualVideoFactor;
    uniform float uAlpha;
    uniform float uTime;

    in vec2 vUv;

    out vec4 FragColor;

    void main() { 
        
        vec4 tVisualsDiffuse = texture( uTextureVisualsDiffuse, vUv );
        vec4 tVisualsDiffuseVideo = texture( uTextureVisualsDiffuseVideo, vUv );
        vec4 tVisualsOpacity = texture( uTextureVisualsOpacity, vUv );
        vec4 tMask = texture( uTextureMask, vUv );
        vec4 tOverlayDiffuse = texture( uTextureOverlayDiffuse, vUv );
        vec4 tOverlayOpacity = texture( uTextureOverlayOpacity, vUv );

        
        float scanlines = sin((vUv.y + uTime * 0.05) * 777.0);
        vec4 scanlinesColor = vec4(0.3, 0.5, 0.35, 0.5);

        
        float transitionGlowWidth = 0.75;
        float transitionCoord = 1.0 - vUv.y;
        vec4 transitionGlowColor = vec4(0.235, 0.733, 0.447, 1.0);
        float transitionGlow = smoothstep(uVisualVideoFactor - transitionGlowWidth, uVisualVideoFactor, transitionCoord) - smoothstep(uVisualVideoFactor, uVisualVideoFactor + transitionGlowWidth, transitionCoord);
        transitionGlow *= distance(vUv.y, 0.5) * 0.5;

        vec4 video = mix(tVisualsDiffuseVideo * 0.5, tVisualsDiffuseVideo, uVisualVideoFactor);
        vec4 visuals = mix(video, tVisualsDiffuse, smoothstep(uVisualVideoFactor - 0.05, uVisualVideoFactor + 0.05, transitionCoord));
        visuals = mix(visuals, transitionGlowColor, transitionGlow);

        
        vec4 composite = vec4(0., 0., 0., 0.0);
        composite = mix(composite, visuals, tVisualsOpacity.g * uVisualOpacityFactor);
        composite = mix(composite, scanlinesColor, scanlines * 0.1);
        composite = mix(composite, tOverlayDiffuse, tOverlayOpacity.g);

        float alpha = tMask.r * (tVisualsOpacity.g * uVisualOpacityFactor + tOverlayOpacity.g);

         #ifdef IS_WEBGL_1
            gl_FragColor.rgb = composite.rgb;
            gl_FragColor.a = alpha;
        #else
            FragColor.rgb = composite.rgb;
            FragColor.a = alpha;
        #endif
        
        
    } 
        
<% } %>`,VA=`<% if (vert) { %>
  
    precision highp float; 

    attribute vec3 position;
    attribute vec3 normal;
    attribute vec2 uv;

    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;
    uniform mat4 modelMatrix;
    uniform float uTime;

    varying vec2 vUv;
    varying vec4 vPos;
    varying vec3 vWorldPosition;

    #ifdef HAS_SHEEN
        varying vec3 vNormal;
    #endif

    void main(){
        vUv = uv;
        vPos = modelMatrix * vec4(position, 1.0);
        vWorldPosition = (modelViewMatrix * vec4(position, 1.0)).xyz;

        #ifdef HAS_SHEEN
            vec3 n = normal;
            vNormal = normalize(vec3(modelMatrix * vec4(n, 0.0)));
        #endif

        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }

<% } %>

<% if (frag) { %>

    precision highp float; 

    varying vec2 vUv;
    varying vec4 vPos;
    varying vec3 vWorldPosition;
    #ifdef HAS_SHEEN
        varying vec3 vNormal;
    #endif

    uniform float uTime;
    uniform float uAlpha;
    uniform float uTintOpacity;
    uniform float uExposure;
    uniform float uContrast;
    uniform float uSaturation;
    uniform vec3 uTint;

    uniform bool isCameraFliped;

    #ifdef HAS_COLORMAP
        uniform sampler2D uTexture;
    #else 
        uniform vec3 uColor;
    #endif
    #ifdef HAS_ALPHAMAP
        uniform sampler2D uAlphaTexture;
    #endif
    #ifdef HAS_FOG
        const float LOG2 = 1.442695;
        uniform vec3 uFogColor;
        
        uniform float uFogNear;
        uniform float uFogFar;
    #endif
    #ifdef HAS_SHEEN
        uniform float uSheenDepth;
        uniform float uSheenOpacity;
        uniform vec3 uSheenColor;
        uniform vec3 uCamera;
    #endif

    vec3 contrast(vec3 color, float value) {
        return 0.5 + (1.0 + value) * (color - 0.5);
    }

    vec3 exposure(vec3 color, float value) {
        return (1.0 + value) * color;
    }

    vec3 czm_saturation(vec3 rgb, float adjustment)
    {
        const vec3 W = vec3(0.2125, 0.7154, 0.0721);
        vec3 intensity = vec3(dot(rgb, W));
        return mix(intensity, rgb, adjustment);
    }

    #ifdef HAS_SHEEN
        vec3 getNormal()
        {
            return normalize(vNormal);
        }
    #endif

    void main() { 
        if(isCameraFliped && vPos.y < 0.01){ discard; }
        vec4 t;
        #ifdef HAS_COLORMAP
            t = texture2D( uTexture, vUv );
        #else 
            t = vec4(uColor, 1.);
        #endif
        #ifdef HAS_ALPHAMAP
            t.a *= texture2D( uAlphaTexture, vUv ).r * max(uExposure, 1.);
        #endif
        #ifdef HAS_FOG
            float fogDistance = length(vWorldPosition);
            
            float fogAmount = smoothstep(uFogNear, uFogFar, fogDistance);
            fogAmount = clamp(fogAmount, 0., 1.);
            t.rgb = mix(t.rgb, uFogColor, fogAmount);
        #endif

        #ifdef HAS_SHEEN
            vec3 n = getNormal();
            vec3 v = normalize(uCamera - vPos.xyz); 
            float fresnelFactor = abs(dot(v, n));
            float sheen = pow(1.0 - fresnelFactor, uSheenDepth);
            t.rgb = mix(t.rgb, uSheenColor, sheen * uSheenOpacity);
        #endif
        
        
        t.rgb = czm_saturation(t.rgb, uSaturation);
        t.rgb = contrast(t.rgb, uContrast);
        t.rgb = exposure(t.rgb, uExposure);
        t.rgb = mix(t.rgb, uTint, uTintOpacity);

        
        float scanlines = sin((vUv.y + uTime * 0.02) * 1000.0);
        vec4 scanlinesColor = vec4(0.3, 0.5, 0.35, 0.5 * scanlines);
        scanlinesColor.a *= t.a;
        t.a *= 0.8 + scanlines * 0.2;

        t = mix(t, scanlinesColor, scanlines * 0.1);

        t.a *= uAlpha;
        gl_FragColor = vec4(t);
    } 
        
<% } %>`,HA=`<% if (vert) { %>
  
    precision highp float; 

    attribute vec3 position;
    attribute vec2 uv;

    uniform mat4 modelViewMatrix;
    uniform mat4 modelMatrix;
    uniform mat4 projectionMatrix;

    varying vec2 vUv;
    varying vec4 vPos;

    void main(){
        vec4 wPos = modelMatrix * vec4(position, 1.0);
        vPos = wPos;
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }

<% } %>

<% if (frag) { %>

    precision highp float; 

    varying vec2 vUv;

    uniform sampler2D uTexture;
    uniform float uTime;
    uniform float uBaseAlpha;
    uniform float uGlowAlpha;
    uniform float uTopFade;
    uniform vec3 uRaysColor;
    uniform vec3 uGlowColor;
    uniform float uRaysStepMin;
    uniform float uRaysStepMax;
    uniform float uGlowStepMin;

    void main() { 
        vec2 raysUv = vUv;
        raysUv.x *= 3.0;
        raysUv.x += uTime * 0.03;
        raysUv.y = 0.5;

        
        vec4 t = texture2D( uTexture, raysUv );

        
        float raysFactor = smoothstep(uRaysStepMin, uRaysStepMax, t.r);
        float lengthFade = vUv.y - raysFactor * 0.1;
        float topFade = 1.0 - smoothstep(1.0 - uTopFade, 1.0, vUv.y);
        float sourceGlow = smoothstep(uGlowStepMin, 1.0, vUv.y);

        
        vec3 composite = uRaysColor * raysFactor;
        composite = mix(composite, uGlowColor, sourceGlow);

        float alpha = uBaseAlpha * lengthFade * raysFactor;
        alpha = mix(alpha, uGlowAlpha, sourceGlow);
        alpha *= topFade;

        gl_FragColor.rgb = composite;
        
        gl_FragColor.a = alpha;
        
    } 
        
<% } %>`,zA=`<% if (vert) { %>
  
    precision highp float; 

    attribute vec3 position;
    attribute vec2 uv;

    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;
    uniform mat4 modelMatrix;
    uniform float uTime;

    varying vec2 vUv;

    void main(){
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }

<% } %>

<% if (frag) { %>

    precision highp float; 

    varying vec2 vUv;

    uniform float uTime;
    uniform float uAlpha;
    uniform vec3 uColor;

    const float border_size = 0.25;
    const float disc_radius = 0.3;

    void main() { 

        vec2 uv = vUv - vec2(0.5);
        float dist = sqrt(dot(uv, uv));
        float t = smoothstep(disc_radius+border_size, disc_radius-border_size, dist);

        gl_FragColor = vec4(uColor, t);
    } 
        
<% } %>`,UA=`<% if (vert) { %>
  
    precision highp float; 

    attribute vec3 position;
    attribute vec2 uv;

    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;
    uniform mat4 modelMatrix;
    uniform float uTime;
    uniform float uDpr;
    uniform float uParticleSize;
    uniform float uAudio;

    varying vec2 vUv;

    void main(){
        vUv = uv;
        vec3 pos = position * (1. + (pow(uAudio, .75) * .1));
        gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
        gl_PointSize = uDpr * uParticleSize;
    }

<% } %>

<% if (frag) { %>

    precision highp float; 

    varying vec2 vUv;

    uniform float uTime;
    uniform float uAlpha;
    uniform float uBorderSize;
    uniform float uDiscSize;
    uniform vec3 uColor;

    <%= commons.noise %>

    void main() { 

        vec2 uv = gl_PointCoord.xy - vec2(0.5);
        float dist = sqrt(dot(uv, uv));
        float t = smoothstep(uDiscSize+uBorderSize, uDiscSize-uBorderSize, dist);
        
        float n = ((snoise(vec4(vUv * 8., uTime * 1., 0.))+1.) * .5 * .8) + .2;

        if(t < 0.01){ discard; }
        gl_FragColor = vec4(uColor + (n * .25), uAlpha * t * n);

    } 
        
<% } %>`,GA=`<% if (vert) { %>
  
    precision highp float; 

    attribute vec3 position;
    attribute vec2 uv;

    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;
    uniform mat4 modelMatrix;
    uniform float uTime;
    uniform float uDpr;
    uniform float uParticleSize;

    varying vec2 vUv;

    void main(){
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        gl_PointSize = uDpr * uParticleSize;
    }

<% } %>

<% if (frag) { %>

    precision highp float; 

    varying vec2 vUv;

    uniform float uTime;
    uniform float uAlpha;
    uniform float uBorderSize;
    uniform float uDiscSize;
    uniform vec3 uColor;

    <%= commons.noise %>

    void main() { 
        vec2 uv = vUv - vec2(0.5);
        float dist = sqrt(dot(uv, uv));
        float t = 1. - (1.0 + smoothstep(uDiscSize, uDiscSize+uBorderSize, dist) - smoothstep(uDiscSize-uBorderSize, uDiscSize, dist));
        
        float n = ((snoise(vec4(vUv * 2.5, uTime * .5, 0.))+1.) * .5 * .6) + .4;

        
        gl_FragColor = vec4(uColor + (n * .25), uAlpha * (pow(t, 3.)) * n);
        

    } 
        
<% } %>`,$A=`<% if (vert) { %>
    needES300
    precision highp float; 

    in vec3 position;
    in vec2 uv;
    in vec3 normal;

    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;
    uniform mat4 modelMatrix;
    uniform float uTime;
    uniform float uDpr;
    uniform float uNoiseScale;
    uniform float uDisplacement;
    uniform float uAudio;

    out vec2 vUv;
    out vec3 vNormal;
    out vec4 vPos;

    <%= commons.noise %>

    void main(){
        vUv = uv;

        vec3 pos = position;
        float t = uTime * .5;
        float noise = snoise(vec4(position * (uNoiseScale - (uAudio)), t)) * uDisplacement;
        pos += normal * noise;
        pos *= 1. + (pow(uAudio, 4.) * .1);

        vPos = modelMatrix * vec4(pos, 1.0);
        vec3 n = normal;
        vNormal = normalize(vec3(modelMatrix * vec4(n, 0.0)));
        gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
    }

<% } %>

<% if (frag) { %>
    needES300
    precision highp float; 

    in vec2 vUv;
    in vec3 vNormal;
    in vec4 vPos;

    out vec4 outColor;

    uniform float uTime;
    uniform float uAlpha;
    uniform vec3 uColor;
    uniform vec3 uCamera;
    uniform float uFresnelPower;

    vec3 getNormal()
    {
        
        vec3 pos_dx = dFdx(vPos.xyz);
        vec3 pos_dy = dFdy(vPos.xyz);
        vec3 tex_dx = dFdx(vec3(vUv, 0.0));
        vec3 tex_dy = dFdy(vec3(vUv, 0.0));
        vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);

        vec3 ng = cross(pos_dx, pos_dy);
        t = normalize(t - ng * dot(ng, t));
        vec3 b = normalize(cross(ng, t));
        mat3 tbn = mat3(t, b, ng);
        vec3 n = normalize(tbn[2].xyz);

        return n;
    }

    void main() { 
        
        vec3 n = getNormal();
        vec3 v = normalize(uCamera - vPos.xyz); 
        float fresnelFactor = abs(dot(v, n));
        float sheen = pow(1.0 - fresnelFactor, uFresnelPower);

        

        
        
        #ifdef IS_WEBGL_1
            gl_FragColor = vec4(uColor, uAlpha * sheen);
        #else
            outColor = vec4(uColor, uAlpha * sheen);
        #endif

    } 
        
<% } %>`,WA=`vec3 blendNormal(vec3 normal){
    vec3 blending = abs(normal);
    blending = normalize(max(blending, 0.00001));
    blending /= vec3(blending.x + blending.y + blending.z);
    return blending;
}

vec3 triplanarMapping (sampler2D texture, vec3 normal, vec3 position) {
    vec3 normalBlend = blendNormal(normal);
    vec3 xColor = texture2D(texture, position.yz).rgb;
    vec3 yColor = texture2D(texture, position.xz).rgb;
    vec3 zColor = texture2D(texture, position.xy).rgb;
    return (xColor * normalBlend.x + yColor * normalBlend.y + zColor * normalBlend.z);
}`,jA=`float blendColorBurn(float base, float blend) {
    return (blend==0.0)?blend:max((1.0-((1.0-base)/blend)),0.0);
}

vec3 blendColorBurn(vec3 base, vec3 blend) {
    return vec3(blendColorBurn(base.r,blend.r),blendColorBurn(base.g,blend.g),blendColorBurn(base.b,blend.b));
}`,qA=`mat4 rotationMatrix(vec3 axis, float angle) {
    axis = normalize(axis);
    float s = sin(angle);
    float c = cos(angle);
    float oc = 1.0 - c;
    
    return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,
                oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,
                oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,
                0.0,                                0.0,                                0.0,                                1.0);
}

vec3 rotate(vec3 v, vec3 axis, float angle) {
    mat4 m = rotationMatrix(axis, angle);
    return (m * vec4(v, 1.0)).xyz;
}`,KA=`vec3 blendNormal(vec3 base, vec3 blend) {
	return blend;
}

vec3 blendNormal(vec3 base, vec3 blend, float opacity) {
	return (blendNormal(base, blend) * opacity + base * (1.0 - opacity));
}`,JA=`float blendScreen(float base, float blend) {
	return 1.0-((1.0-base)*(1.0-blend));
}

vec3 blendScreen(vec3 base, vec3 blend) {
	return vec3(blendScreen(base.r,blend.r),blendScreen(base.g,blend.g),blendScreen(base.b,blend.b));
}

vec3 blendScreen(vec3 base, vec3 blend, float opacity) {
	return (blendScreen(base, blend) * opacity + base * (1.0 - opacity));
}`,XA=`vec4 blur5(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3333333333333333) * direction;
  color += texture2D(image, uv) * 0.29411764705882354;
  color += texture2D(image, uv + (off1 / resolution)) * 0.35294117647058826;
  color += texture2D(image, uv - (off1 / resolution)) * 0.35294117647058826;
  return color; 
}`,ZA=`precision highp float;

vec4 blur5(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3333333333333333) * direction;
  color += texture2D(image, uv) * 0.29411764705882354;
  color += texture2D(image, uv + (off1 / resolution)) * 0.35294117647058826;
  color += texture2D(image, uv - (off1 / resolution)) * 0.35294117647058826;
  return color;
}

vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

uniform sampler2D tMap;
uniform vec2 u_direction;
uniform vec2 u_resolution;
varying vec2 vUv;
void main() {
  
  
  gl_FragColor = blur5(tMap, vUv, u_resolution, u_direction);
}`,QA=`precision highp float;

uniform sampler2D tMap;
uniform sampler2D t_bloom;
uniform vec2 u_resolution;
uniform float u_bloomStrength;

varying vec2 vUv;

void main() {
  vec4 color = texture2D(tMap, vUv) + texture2D(t_bloom, vUv) * u_bloomStrength;
  
  gl_FragColor = color;
}`,YA=`precision highp float;

uniform sampler2D tMap;
uniform float u_threshold;

varying vec2 vUv;

void main() {
  vec4 tex = texture2D(tMap, vUv);
  vec4 bright = tex * step(u_threshold, length(tex.rgb) / 1.73205);
  
  gl_FragColor = bright;
}`,eD=`vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}
float permute(float x){return floor(mod(((x*34.0)+1.0)*x, 289.0));}
vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}
float taylorInvSqrt(float r){return 1.79284291400159 - 0.85373472095314 * r;}

vec4 grad4(float j, vec4 ip){
  const vec4 ones = vec4(1.0, 1.0, 1.0, -1.0);
  vec4 p,s;

  p.xyz = floor( fract (vec3(j) * ip.xyz) * 7.0) * ip.z - 1.0;
  p.w = 1.5 - dot(abs(p.xyz), ones.xyz);
  s = vec4(lessThan(p, vec4(0.0)));
  p.xyz = p.xyz + (s.xyz*2.0 - 1.0) * s.www; 

  return p;
}

float snoise(vec4 v){
  const vec2  C = vec2( 0.138196601125010504,  
                        0.309016994374947451); 

  vec4 i  = floor(v + dot(v, C.yyyy) );
  vec4 x0 = v -   i + dot(i, C.xxxx);

  vec4 i0;

  vec3 isX = step( x0.yzw, x0.xxx );
  vec3 isYZ = step( x0.zww, x0.yyz );

  i0.x = isX.x + isX.y + isX.z;
  i0.yzw = 1.0 - isX;

  i0.y += isYZ.x + isYZ.y;
  i0.zw += 1.0 - isYZ.xy;

  i0.z += isYZ.z;
  i0.w += 1.0 - isYZ.z;

  
  vec4 i3 = clamp( i0, 0.0, 1.0 );
  vec4 i2 = clamp( i0-1.0, 0.0, 1.0 );
  vec4 i1 = clamp( i0-2.0, 0.0, 1.0 );

  
  vec4 x1 = x0 - i1 + 1.0 * C.xxxx;
  vec4 x2 = x0 - i2 + 2.0 * C.xxxx;
  vec4 x3 = x0 - i3 + 3.0 * C.xxxx;
  vec4 x4 = x0 - 1.0 + 4.0 * C.xxxx;

  i = mod(i, 289.0); 
  float j0 = permute( permute( permute( permute(i.w) + i.z) + i.y) + i.x);
  vec4 j1 = permute( permute( permute( permute (
             i.w + vec4(i1.w, i2.w, i3.w, 1.0 ))
           + i.z + vec4(i1.z, i2.z, i3.z, 1.0 ))
           + i.y + vec4(i1.y, i2.y, i3.y, 1.0 ))
           + i.x + vec4(i1.x, i2.x, i3.x, 1.0 ));

  vec4 ip = vec4(1.0/294.0, 1.0/49.0, 1.0/7.0, 0.0) ;

  vec4 p0 = grad4(j0,   ip);
  vec4 p1 = grad4(j1.x, ip);
  vec4 p2 = grad4(j1.y, ip);
  vec4 p3 = grad4(j1.z, ip);
  vec4 p4 = grad4(j1.w, ip);

  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
  p0 *= norm.x;
  p1 *= norm.y;
  p2 *= norm.z;
  p3 *= norm.w;
  p4 *= taylorInvSqrt(dot(p4,p4));

  vec3 m0 = max(0.6 - vec3(dot(x0,x0), dot(x1,x1), dot(x2,x2)), 0.0);
  vec2 m1 = max(0.6 - vec2(dot(x3,x3), dot(x4,x4)            ), 0.0);
  m0 = m0 * m0;
  m1 = m1 * m1;
  return 49.0 * ( dot(m0*m0, vec3( dot( p0, x0 ), dot( p1, x1 ), dot( p2, x2 )))
               + dot(m1*m1, vec2( dot( p3, x3 ), dot( p4, x4 ) ) ) ) ;

}`,tD=`float blendColorDodge_14_0(float base, float blend) {
	return (blend==1.0)?blend:min(base/(1.0-blend),1.0);
}

vec3 blendColorDodge_14_0(vec3 base, vec3 blend) {
	return vec3(blendColorDodge_14_0(base.r,blend.r),blendColorDodge_14_0(base.g,blend.g),blendColorDodge_14_0(base.b,blend.b));
}

vec3 blendColorDodge_14_0(vec3 base, vec3 blend, float opacity) {
	return (blendColorDodge_14_0(base, blend) * opacity + base * (1.0 - opacity));
}

float blendColorBurn_15_1(float base, float blend) {
	return (blend==0.0)?blend:max((1.0-((1.0-base)/blend)),0.0);
}

vec3 blendColorBurn_15_1(vec3 base, vec3 blend) {
	return vec3(blendColorBurn_15_1(base.r,blend.r),blendColorBurn_15_1(base.g,blend.g),blendColorBurn_15_1(base.b,blend.b));
}

vec3 blendColorBurn_15_1(vec3 base, vec3 blend, float opacity) {
	return (blendColorBurn_15_1(base, blend) * opacity + base * (1.0 - opacity));
}

float blendVividLight_3_2(float base, float blend) {
	return (blend<0.5)?blendColorBurn_15_1(base,(2.0*blend)):blendColorDodge_14_0(base,(2.0*(blend-0.5)));
}

vec3 blendVividLight_3_2(vec3 base, vec3 blend) {
	return vec3(blendVividLight_3_2(base.r,blend.r),blendVividLight_3_2(base.g,blend.g),blendVividLight_3_2(base.b,blend.b));
}

vec3 blendVividLight_3_2(vec3 base, vec3 blend, float opacity) {
	return (blendVividLight_3_2(base, blend) * opacity + base * (1.0 - opacity));
}

float blendHardMix_2_3(float base, float blend) {
	return (blendVividLight_3_2(base,blend)<0.5)?0.0:1.0;
}

vec3 blendHardMix_2_3(vec3 base, vec3 blend) {
	return vec3(blendHardMix_2_3(base.r,blend.r),blendHardMix_2_3(base.g,blend.g),blendHardMix_2_3(base.b,blend.b));
}

vec3 blendHardMix_2_3(vec3 base, vec3 blend, float opacity) {
	return (blendHardMix_2_3(base, blend) * opacity + base * (1.0 - opacity));
}

float blendLinearDodge_12_4(float base, float blend) {
	
	return min(base+blend,1.0);
}

vec3 blendLinearDodge_12_4(vec3 base, vec3 blend) {
	
	return min(base+blend,vec3(1.0));
}

vec3 blendLinearDodge_12_4(vec3 base, vec3 blend, float opacity) {
	return (blendLinearDodge_12_4(base, blend) * opacity + base * (1.0 - opacity));
}

float blendLinearBurn_13_5(float base, float blend) {
	
	return max(base+blend-1.0,0.0);
}

vec3 blendLinearBurn_13_5(vec3 base, vec3 blend) {
	
	return max(base+blend-vec3(1.0),vec3(0.0));
}

vec3 blendLinearBurn_13_5(vec3 base, vec3 blend, float opacity) {
	return (blendLinearBurn_13_5(base, blend) * opacity + base * (1.0 - opacity));
}

float blendLinearLight_4_6(float base, float blend) {
	return blend<0.5?blendLinearBurn_13_5(base,(2.0*blend)):blendLinearDodge_12_4(base,(2.0*(blend-0.5)));
}

vec3 blendLinearLight_4_6(vec3 base, vec3 blend) {
	return vec3(blendLinearLight_4_6(base.r,blend.r),blendLinearLight_4_6(base.g,blend.g),blendLinearLight_4_6(base.b,blend.b));
}

vec3 blendLinearLight_4_6(vec3 base, vec3 blend, float opacity) {
	return (blendLinearLight_4_6(base, blend) * opacity + base * (1.0 - opacity));
}

float blendLighten_16_7(float base, float blend) {
	return max(blend,base);
}

vec3 blendLighten_16_7(vec3 base, vec3 blend) {
	return vec3(blendLighten_16_7(base.r,blend.r),blendLighten_16_7(base.g,blend.g),blendLighten_16_7(base.b,blend.b));
}

vec3 blendLighten_16_7(vec3 base, vec3 blend, float opacity) {
	return (blendLighten_16_7(base, blend) * opacity + base * (1.0 - opacity));
}

float blendDarken_17_8(float base, float blend) {
	return min(blend,base);
}

vec3 blendDarken_17_8(vec3 base, vec3 blend) {
	return vec3(blendDarken_17_8(base.r,blend.r),blendDarken_17_8(base.g,blend.g),blendDarken_17_8(base.b,blend.b));
}

vec3 blendDarken_17_8(vec3 base, vec3 blend, float opacity) {
	return (blendDarken_17_8(base, blend) * opacity + base * (1.0 - opacity));
}

float blendPinLight_5_9(float base, float blend) {
	return (blend<0.5)?blendDarken_17_8(base,(2.0*blend)):blendLighten_16_7(base,(2.0*(blend-0.5)));
}

vec3 blendPinLight_5_9(vec3 base, vec3 blend) {
	return vec3(blendPinLight_5_9(base.r,blend.r),blendPinLight_5_9(base.g,blend.g),blendPinLight_5_9(base.b,blend.b));
}

vec3 blendPinLight_5_9(vec3 base, vec3 blend, float opacity) {
	return (blendPinLight_5_9(base, blend) * opacity + base * (1.0 - opacity));
}

float blendReflect_18_10(float base, float blend) {
	return (blend==1.0)?blend:min(base*base/(1.0-blend),1.0);
}

vec3 blendReflect_18_10(vec3 base, vec3 blend) {
	return vec3(blendReflect_18_10(base.r,blend.r),blendReflect_18_10(base.g,blend.g),blendReflect_18_10(base.b,blend.b));
}

vec3 blendReflect_18_10(vec3 base, vec3 blend, float opacity) {
	return (blendReflect_18_10(base, blend) * opacity + base * (1.0 - opacity));
}

vec3 blendGlow_6_11(vec3 base, vec3 blend) {
	return blendReflect_18_10(blend,base);
}

vec3 blendGlow_6_11(vec3 base, vec3 blend, float opacity) {
	return (blendGlow_6_11(base, blend) * opacity + base * (1.0 - opacity));
}

float blendOverlay_9_12(float base, float blend) {
	return base<0.5?(2.0*base*blend):(1.0-2.0*(1.0-base)*(1.0-blend));
}

vec3 blendOverlay_9_12(vec3 base, vec3 blend) {
	return vec3(blendOverlay_9_12(base.r,blend.r),blendOverlay_9_12(base.g,blend.g),blendOverlay_9_12(base.b,blend.b));
}

vec3 blendOverlay_9_12(vec3 base, vec3 blend, float opacity) {
	return (blendOverlay_9_12(base, blend) * opacity + base * (1.0 - opacity));
}

vec3 blendHardLight_7_13(vec3 base, vec3 blend) {
	return blendOverlay_9_12(blend,base);
}

vec3 blendHardLight_7_13(vec3 base, vec3 blend, float opacity) {
	return (blendHardLight_7_13(base, blend) * opacity + base * (1.0 - opacity));
}

vec3 blendPhoenix_8_14(vec3 base, vec3 blend) {
	return min(base,blend)-max(base,blend)+vec3(1.0);
}

vec3 blendPhoenix_8_14(vec3 base, vec3 blend, float opacity) {
	return (blendPhoenix_8_14(base, blend) * opacity + base * (1.0 - opacity));
}

vec3 blendNormal_10_15(vec3 base, vec3 blend) {
	return blend;
}

vec3 blendNormal_10_15(vec3 base, vec3 blend, float opacity) {
	return (blendNormal_10_15(base, blend) * opacity + base * (1.0 - opacity));
}

vec3 blendNegation_11_16(vec3 base, vec3 blend) {
	return vec3(1.0)-abs(vec3(1.0)-base-blend);
}

vec3 blendNegation_11_16(vec3 base, vec3 blend, float opacity) {
	return (blendNegation_11_16(base, blend) * opacity + base * (1.0 - opacity));
}

vec3 blendMultiply_19_17(vec3 base, vec3 blend) {
	return base*blend;
}

vec3 blendMultiply_19_17(vec3 base, vec3 blend, float opacity) {
	return (blendMultiply_19_17(base, blend) * opacity + base * (1.0 - opacity));
}

vec3 blendAverage_20_18(vec3 base, vec3 blend) {
	return (base+blend)/2.0;
}

vec3 blendAverage_20_18(vec3 base, vec3 blend, float opacity) {
	return (blendAverage_20_18(base, blend) * opacity + base * (1.0 - opacity));
}

float blendScreen_21_19(float base, float blend) {
	return 1.0-((1.0-base)*(1.0-blend));
}

vec3 blendScreen_21_19(vec3 base, vec3 blend) {
	return vec3(blendScreen_21_19(base.r,blend.r),blendScreen_21_19(base.g,blend.g),blendScreen_21_19(base.b,blend.b));
}

vec3 blendScreen_21_19(vec3 base, vec3 blend, float opacity) {
	return (blendScreen_21_19(base, blend) * opacity + base * (1.0 - opacity));
}

float blendSoftLight_22_20(float base, float blend) {
	return (blend<0.5)?(2.0*base*blend+base*base*(1.0-2.0*blend)):(sqrt(base)*(2.0*blend-1.0)+2.0*base*(1.0-blend));
}

vec3 blendSoftLight_22_20(vec3 base, vec3 blend) {
	return vec3(blendSoftLight_22_20(base.r,blend.r),blendSoftLight_22_20(base.g,blend.g),blendSoftLight_22_20(base.b,blend.b));
}

vec3 blendSoftLight_22_20(vec3 base, vec3 blend, float opacity) {
	return (blendSoftLight_22_20(base, blend) * opacity + base * (1.0 - opacity));
}

float blendSubtract_23_21(float base, float blend) {
	return max(base+blend-1.0,0.0);
}

vec3 blendSubtract_23_21(vec3 base, vec3 blend) {
	return max(base+blend-vec3(1.0),vec3(0.0));
}

vec3 blendSubtract_23_21(vec3 base, vec3 blend, float opacity) {
	return (blendSubtract_23_21(base, blend) * opacity + base * (1.0 - opacity));
}

vec3 blendExclusion_24_22(vec3 base, vec3 blend) {
	return base+blend-2.0*base*blend;
}

vec3 blendExclusion_24_22(vec3 base, vec3 blend, float opacity) {
	return (blendExclusion_24_22(base, blend) * opacity + base * (1.0 - opacity));
}

vec3 blendDifference_25_23(vec3 base, vec3 blend) {
	return abs(base-blend);
}

vec3 blendDifference_25_23(vec3 base, vec3 blend, float opacity) {
	return (blendDifference_25_23(base, blend) * opacity + base * (1.0 - opacity));
}

float blendAdd_26_24(float base, float blend) {
	return min(base+blend,1.0);
}

vec3 blendAdd_26_24(vec3 base, vec3 blend) {
	return min(base+blend,vec3(1.0));
}

vec3 blendAdd_26_24(vec3 base, vec3 blend, float opacity) {
	return (blendAdd_26_24(base, blend) * opacity + base * (1.0 - opacity));
}

vec3 blendMode_1_25( int mode, vec3 base, vec3 blend ){
	if( mode == 1 ){
		return blendAdd_26_24( base, blend );
	}else
	if( mode == 2 ){
		return blendAverage_20_18( base, blend );
	}else
	if( mode == 3 ){
		return blendColorBurn_15_1( base, blend );
	}else
	if( mode == 4 ){
		return blendColorDodge_14_0( base, blend );
	}else
	if( mode == 5 ){
		return blendDarken_17_8( base, blend );
	}else
	if( mode == 6 ){
		return blendDifference_25_23( base, blend );
	}else
	if( mode == 7 ){
		return blendExclusion_24_22( base, blend );
	}else
	if( mode == 8 ){
		return blendGlow_6_11( base, blend );
	}else
	if( mode == 9 ){
		return blendHardLight_7_13( base, blend );
	}else
	if( mode == 10 ){
		return blendHardMix_2_3( base, blend );
	}else
	if( mode == 11 ){
		return blendLighten_16_7( base, blend );
	}else
	if( mode == 12 ){
		return blendLinearBurn_13_5( base, blend );
	}else
	if( mode == 13 ){
		return blendLinearDodge_12_4( base, blend );
	}else
	if( mode == 14 ){
		return blendLinearLight_4_6( base, blend );
	}else
	if( mode == 15 ){
		return blendMultiply_19_17( base, blend );
	}else
	if( mode == 16 ){
		return blendNegation_11_16( base, blend );
	}else
	if( mode == 17 ){
		return blendNormal_10_15( base, blend );
	}else
	if( mode == 18 ){
		return blendOverlay_9_12( base, blend );
	}else
	if( mode == 19 ){
		return blendPhoenix_8_14( base, blend );
	}else
	if( mode == 20 ){
		return blendPinLight_5_9( base, blend );
	}else
	if( mode == 21 ){
		return blendReflect_18_10( base, blend );
	}else
	if( mode == 22 ){
		return blendScreen_21_19( base, blend );
	}else
	if( mode == 23 ){
		return blendSoftLight_22_20( base, blend );
	}else
	if( mode == 24 ){
		return blendSubtract_23_21( base, blend );
	}else
	if( mode == 25 ){
		return blendVividLight_3_2( base, blend );
	}
}

vec3 blendMode_1_25( int mode, vec3 base, vec3 blend, float opacity ){
	if( mode == 1 ){
		return blendAdd_26_24( base, blend, opacity );
	}else
	if( mode == 2 ){
		return blendAverage_20_18( base, blend, opacity );
	}else
	if( mode == 3 ){
		return blendColorBurn_15_1( base, blend, opacity );
	}else
	if( mode == 4 ){
		return blendColorDodge_14_0( base, blend, opacity );
	}else
	if( mode == 5 ){
		return blendDarken_17_8( base, blend, opacity );
	}else
	if( mode == 6 ){
		return blendDifference_25_23( base, blend, opacity );
	}else
	if( mode == 7 ){
		return blendExclusion_24_22( base, blend, opacity );
	}else
	if( mode == 8 ){
		return blendGlow_6_11( base, blend, opacity );
	}else
	if( mode == 9 ){
		return blendHardLight_7_13( base, blend, opacity );
	}else
	if( mode == 10 ){
		return blendHardMix_2_3( base, blend, opacity );
	}else
	if( mode == 11 ){
		return blendLighten_16_7( base, blend, opacity );
	}else
	if( mode == 12 ){
		return blendLinearBurn_13_5( base, blend, opacity );
	}else
	if( mode == 13 ){
		return blendLinearDodge_12_4( base, blend, opacity );
	}else
	if( mode == 14 ){
		return blendLinearLight_4_6( base, blend, opacity );
	}else
	if( mode == 15 ){
		return blendMultiply_19_17( base, blend, opacity );
	}else
	if( mode == 16 ){
		return blendNegation_11_16( base, blend, opacity );
	}else
	if( mode == 17 ){
		return blendNormal_10_15( base, blend, opacity );
	}else
	if( mode == 18 ){
		return blendOverlay_9_12( base, blend, opacity );
	}else
	if( mode == 19 ){
		return blendPhoenix_8_14( base, blend, opacity );
	}else
	if( mode == 20 ){
		return blendPinLight_5_9( base, blend, opacity );
	}else
	if( mode == 21 ){
		return blendReflect_18_10( base, blend, opacity );
	}else
	if( mode == 22 ){
		return blendScreen_21_19( base, blend, opacity );
	}else
	if( mode == 23 ){
		return blendSoftLight_22_20( base, blend, opacity );
	}else
	if( mode == 24 ){
		return blendSubtract_23_21( base, blend, opacity );
	}else
	if( mode == 25 ){
		return blendVividLight_3_2( base, blend, opacity );
	}
}`,nD=`/**
Basic FXAA implementation based on the code on geeks3d.com with the
modification that the texture2DLod stuff was removed since it's
unsupported by WebGL.
--
From:
https:
Copyright (c) 2011 by Armin Ronacher.
Some rights reserved.
Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:
    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above
      copyright notice, this list of conditions and the following
      disclaimer in the documentation and/or other materials provided
      with the distribution.
    * The names of the contributors may not be used to endorse or
      promote products derived from this software without specific
      prior written permission.
THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

void texcoords(vec2 fragCoord, vec2 resolution,
            out vec2 v_rgbNW, out vec2 v_rgbNE,
            out vec2 v_rgbSW, out vec2 v_rgbSE,
            out vec2 v_rgbM) {
    vec2 inverseVP = 1.0 / resolution.xy;
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

#ifndef FXAA_REDUCE_MIN
    #define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
    #define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
    #define FXAA_SPAN_MAX     8.0
#endif

vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,
            vec2 v_rgbNW, vec2 v_rgbNE, 
            vec2 v_rgbSW, vec2 v_rgbSE, 
            vec2 v_rgbM) {
    vec4 color;
    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));
    
    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));
    
    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);
    
    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
              dir * rcpDirMin)) * inverseVP;
    
    vec3 rgbA = 0.5 * (
        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}`,fn={unlit:EA,branch:AA,standard:MA,default:DA,post:SA,ground:FA,fairyDust:RA,postBlur:TA,debugUnlit:BA,skybox:PA,rays:LA,spritesheet:IA,grid:OA,landscape:kA,screen:NA,tableScreen:VA,godrays:HA,dot:zA,spiritSphere:UA,spiritPlane:GA,spiritBlob:$A,commons:{fxaa:nD,triplanar:WA,colorBurn:jA,rotation:qA,blur:XA,noise:eD,blurPost:ZA,composite:QA,bright:YA,allBlendModes:tD,normalBlending:KA,screenBlending:JA}};class qn{constructor(e,t=1,i={}){this.string=e,this.defines=i;let s=function(h){let f="";for(let m in h)f+="#define "+m+" "+h[m]+`
`;return f},r={},o=bf.render(this.string,{frag:!0,vert:!1,passes:r,commons:fn.commons,defines:i}),a=bf.render(this.string,{frag:!1,vert:!0,passes:r,commons:fn.commons,defines:i});Fo.gl;let c="";o=o.replaceAll("&lt;","<"),a=a.replaceAll("&lt;","<"),o=o.replaceAll("&gt;",">"),a=a.replaceAll("&gt;",">"),e.includes("needES300")&&(e=e.replaceAll("needES300",""),o=o.replaceAll("needES300",""),a=a.replaceAll("needES300",""),Fo.renderer.isWebgl2?c+=`#version 300 es
`:(this.defines.IS_WEBGL_1=1,c+=`#extension GL_OES_standard_derivatives : enable
`,a=a.replaceAll("texture(","texture2D("),a=a.replaceAll("in ","attribute "),a=a.replaceAll("out ","varying "),o=o.replaceAll("texture(","texture2D("),o=o.replaceAll("in ","varying "),o=o.replaceAll("out ","// ")));let u=s(this.defines);if(t>1){this.passes=[];for(let h=0;h<t-1;h++){r["pass_"+(h+1)]=!0;let f=bf.render(this.string,{frag:!1,vert:!1,passes:r,commons:fn.commons,defines:i});f=f.replaceAll("&lt;","<"),this.passes.push(c+u+f),r["pass_"+(h+1)]=!1}}this.frag=c+u+o,this.vert=c+u+a}}var Dl={exports:{}};/*! Tweakpane 3.0.8 (c) 2016 cocopon, licensed under the MIT license. */(function(n,e){(function(t,i){i(e)})(Gt,function(t){class i{constructor(l){const[d,v]=l.split("-"),T=d.split(".");this.major=parseInt(T[0],10),this.minor=parseInt(T[1],10),this.patch=parseInt(T[2],10),this.prerelease=v!=null?v:null}toString(){const l=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[l,this.prerelease].join("-"):l}}class s{constructor(l){this.controller_=l}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(l){this.controller_.viewProps.set("disabled",l)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(l){this.controller_.viewProps.set("hidden",l)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class r{constructor(l){this.target=l}}class o extends r{constructor(l,d,v,T){super(l),this.value=d,this.presetKey=v,this.last=T!=null?T:!0}}class a extends r{constructor(l,d,v){super(l),this.value=d,this.presetKey=v}}class c extends r{constructor(l,d){super(l),this.expanded=d}}function u(p){return p}function h(p){return p==null}function f(p,l){if(p.length!==l.length)return!1;for(let d=0;d<p.length;d++)if(p[d]!==l[d])return!1;return!0}const m={alreadydisposed:()=>"View has been already disposed",invalidparams:p=>`Invalid parameters for '${p.name}'`,nomatchingcontroller:p=>`No matching controller for '${p.key}'`,nomatchingview:p=>`No matching view for '${JSON.stringify(p.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:p=>`Property '${p.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class _{constructor(l){var d;this.message=(d=m[l.type](l.context))!==null&&d!==void 0?d:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=l.type}static alreadyDisposed(){return new _({type:"alreadydisposed"})}static notBindable(){return new _({type:"notbindable"})}static propertyNotFound(l){return new _({type:"propertynotfound",context:{name:l}})}static shouldNeverHappen(){return new _({type:"shouldneverhappen"})}}class y{constructor(l,d,v){this.obj_=l,this.key_=d,this.presetKey_=v!=null?v:d}static isBindable(l){return!(l===null||typeof l!="object")}get key(){return this.key_}get presetKey(){return this.presetKey_}read(){return this.obj_[this.key_]}write(l){this.obj_[this.key_]=l}writeProperty(l,d){const v=this.read();if(!y.isBindable(v))throw _.notBindable();if(!(l in v))throw _.propertyNotFound(l);v[l]=d}}class w extends s{get label(){return this.controller_.props.get("label")}set label(l){this.controller_.props.set("label",l)}get title(){var l;return(l=this.controller_.valueController.props.get("title"))!==null&&l!==void 0?l:""}set title(l){this.controller_.valueController.props.set("title",l)}on(l,d){const v=d.bind(this);return this.controller_.valueController.emitter.on(l,()=>{v(new r(this))}),this}}class x{constructor(){this.observers_={}}on(l,d){let v=this.observers_[l];return v||(v=this.observers_[l]=[]),v.push({handler:d}),this}off(l,d){const v=this.observers_[l];return v&&(this.observers_[l]=v.filter(T=>T.handler!==d)),this}emit(l,d){const v=this.observers_[l];!v||v.forEach(T=>{T.handler(d)})}}const M="tp";function P(p){return(d,v)=>[M,"-",p,"v",d?`_${d}`:"",v?`-${v}`:""].join("")}function F(p,l){return d=>l(p(d))}function E(p){return p.rawValue}function D(p,l){p.emitter.on("change",F(E,l)),l(p.rawValue)}function B(p,l,d){D(p.value(l),d)}function I(p,l,d){d?p.classList.add(l):p.classList.remove(l)}function L(p,l){return d=>{I(p,l,d)}}function k(p,l){D(p,d=>{l.textContent=d!=null?d:""})}const W=P("btn");class K{constructor(l,d){this.element=l.createElement("div"),this.element.classList.add(W()),d.viewProps.bindClassModifiers(this.element);const v=l.createElement("button");v.classList.add(W("b")),d.viewProps.bindDisabled(v),this.element.appendChild(v),this.buttonElement=v;const T=l.createElement("div");T.classList.add(W("t")),k(d.props.value("title"),T),this.buttonElement.appendChild(T)}}class R{constructor(l,d){this.emitter=new x,this.onClick_=this.onClick_.bind(this),this.props=d.props,this.viewProps=d.viewProps,this.view=new K(l,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class G{constructor(l,d){var v;this.constraint_=d==null?void 0:d.constraint,this.equals_=(v=d==null?void 0:d.equals)!==null&&v!==void 0?v:(T,z)=>T===z,this.emitter=new x,this.rawValue_=l}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(l){this.setRawValue(l,{forceEmit:!1,last:!0})}setRawValue(l,d){const v=d!=null?d:{forceEmit:!1,last:!0},T=this.constraint_?this.constraint_.constrain(l):l;!!this.equals_(this.rawValue_,T)&&!v.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=T,this.emitter.emit("change",{options:v,rawValue:T,sender:this}))}}class O{constructor(l){this.emitter=new x,this.value_=l}get rawValue(){return this.value_}set rawValue(l){this.setRawValue(l,{forceEmit:!1,last:!0})}setRawValue(l,d){const v=d!=null?d:{forceEmit:!1,last:!0};this.value_===l&&!v.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=l,this.emitter.emit("change",{options:v,rawValue:this.value_,sender:this}))}}function j(p,l){const d=l==null?void 0:l.constraint,v=l==null?void 0:l.equals;return!d&&!v?new O(p):new G(p,l)}class ${constructor(l){this.emitter=new x,this.valMap_=l;for(const d in this.valMap_)this.valMap_[d].emitter.on("change",()=>{this.emitter.emit("change",{key:d,sender:this})})}static createCore(l){return Object.keys(l).reduce((v,T)=>Object.assign(v,{[T]:j(l[T])}),{})}static fromObject(l){const d=this.createCore(l);return new $(d)}get(l){return this.valMap_[l].rawValue}set(l,d){this.valMap_[l].rawValue=d}value(l){return this.valMap_[l]}}function se(p,l){const v=Object.keys(l).reduce((T,z)=>{if(T===void 0)return;const xe=l[z](p[z]);return xe.succeeded?Object.assign(Object.assign({},T),{[z]:xe.value}):void 0},{});return v}function X(p,l){return p.reduce((d,v)=>{if(d===void 0)return;const T=l(v);if(!(!T.succeeded||T.value===void 0))return[...d,T.value]},[])}function Le(p){return p===null?!1:typeof p=="object"}function Pe(p){return l=>d=>{if(!l&&d===void 0)return{succeeded:!1,value:void 0};if(l&&d===void 0)return{succeeded:!0,value:void 0};const v=p(d);return v!==void 0?{succeeded:!0,value:v}:{succeeded:!1,value:void 0}}}function He(p){return{custom:l=>Pe(l)(p),boolean:Pe(l=>typeof l=="boolean"?l:void 0)(p),number:Pe(l=>typeof l=="number"?l:void 0)(p),string:Pe(l=>typeof l=="string"?l:void 0)(p),function:Pe(l=>typeof l=="function"?l:void 0)(p),constant:l=>Pe(d=>d===l?l:void 0)(p),raw:Pe(l=>l)(p),object:l=>Pe(d=>{if(!!Le(d))return se(d,l)})(p),array:l=>Pe(d=>{if(!!Array.isArray(d))return X(d,l)})(p)}}const De={optional:He(!0),required:He(!1)};function ce(p,l){const d=De.required.object(l)(p);return d.succeeded?d.value:void 0}function Te(p){return p&&p.parentElement&&p.parentElement.removeChild(p),null}function re(){return["veryfirst","first","last","verylast"]}const fe=P(""),ve={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class Me{constructor(l){this.parent_=null,this.blade=l.blade,this.view=l.view,this.viewProps=l.viewProps;const d=this.view.element;this.blade.value("positions").emitter.on("change",()=>{re().forEach(v=>{d.classList.remove(fe(void 0,ve[v]))}),this.blade.get("positions").forEach(v=>{d.classList.add(fe(void 0,ve[v]))})}),this.viewProps.handleDispose(()=>{Te(d)})}get parent(){return this.parent_}}const Re="http://www.w3.org/2000/svg";function Qe(p){p.offsetHeight}function Ie(p,l){const d=p.style.transition;p.style.transition="none",l(),p.style.transition=d}function ke(p){return p.ontouchstart!==void 0}function N(){return new Function("return this")()}function U(){return N().document}function ee(p){const l=p.ownerDocument.defaultView;return l&&"document"in l?p.getContext("2d"):null}const le={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function ae(p,l){const d=p.createElementNS(Re,"svg");return d.innerHTML=le[l],d}function _e(p,l,d){p.insertBefore(l,p.children[d])}function be(p){p.parentElement&&p.parentElement.removeChild(p)}function de(p){for(;p.children.length>0;)p.removeChild(p.children[0])}function ye(p){for(;p.childNodes.length>0;)p.removeChild(p.childNodes[0])}function te(p){return p.relatedTarget?p.relatedTarget:"explicitOriginalTarget"in p?p.explicitOriginalTarget:null}const pe=P("lbl");function he(p,l){const d=p.createDocumentFragment();return l.split(`
`).map(T=>p.createTextNode(T)).forEach((T,z)=>{z>0&&d.appendChild(p.createElement("br")),d.appendChild(T)}),d}class Ae{constructor(l,d){this.element=l.createElement("div"),this.element.classList.add(pe()),d.viewProps.bindClassModifiers(this.element);const v=l.createElement("div");v.classList.add(pe("l")),B(d.props,"label",z=>{h(z)?this.element.classList.add(pe(void 0,"nol")):(this.element.classList.remove(pe(void 0,"nol")),ye(v),v.appendChild(he(l,z)))}),this.element.appendChild(v),this.labelElement=v;const T=l.createElement("div");T.classList.add(pe("v")),this.element.appendChild(T),this.valueElement=T}}class we extends Me{constructor(l,d){const v=d.valueController.viewProps;super(Object.assign(Object.assign({},d),{view:new Ae(l,{props:d.props,viewProps:v}),viewProps:v})),this.props=d.props,this.valueController=d.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}const Ge={id:"button",type:"blade",accept(p){const l=De,d=ce(p,{title:l.required.string,view:l.required.constant("button"),label:l.optional.string});return d?{params:d}:null},controller(p){return new we(p.document,{blade:p.blade,props:$.fromObject({label:p.params.label}),valueController:new R(p.document,{props:$.fromObject({title:p.params.title}),viewProps:p.viewProps})})},api(p){return!(p.controller instanceof we)||!(p.controller.valueController instanceof R)?null:new w(p.controller)}};class Fe extends Me{constructor(l){super(l),this.value=l.value}}function qe(){return new $({positions:j([],{equals:f})})}class $e extends ${constructor(l){super(l)}static create(l){const d={completed:!0,expanded:l,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},v=$.createCore(d);return new $e(v)}get styleExpanded(){var l;return(l=this.get("temporaryExpanded"))!==null&&l!==void 0?l:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const l=this.get("expandedHeight");return this.get("shouldFixHeight")&&!h(l)?`${l}px`:"auto"}bindExpandedClass(l,d){const v=()=>{this.styleExpanded?l.classList.add(d):l.classList.remove(d)};B(this,"expanded",v),B(this,"temporaryExpanded",v)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function $t(p,l){let d=0;return Ie(l,()=>{p.set("expandedHeight",null),p.set("temporaryExpanded",!0),Qe(l),d=l.clientHeight,p.set("temporaryExpanded",null),Qe(l)}),d}function yn(p,l){l.style.height=p.styleHeight}function Ki(p,l){p.value("expanded").emitter.on("beforechange",()=>{p.set("completed",!1),h(p.get("expandedHeight"))&&p.set("expandedHeight",$t(p,l)),p.set("shouldFixHeight",!0),Qe(l)}),p.emitter.on("change",()=>{yn(p,l)}),yn(p,l),l.addEventListener("transitionend",d=>{d.propertyName==="height"&&p.cleanUpTransition()})}class hi extends s{constructor(l,d){super(l),this.rackApi_=d}}function Qr(p,l){return p.addBlade(Object.assign(Object.assign({},l),{view:"button"}))}function Yt(p,l){return p.addBlade(Object.assign(Object.assign({},l),{view:"folder"}))}function wn(p,l){const d=l||{};return p.addBlade(Object.assign(Object.assign({},d),{view:"separator"}))}function Yr(p,l){return p.addBlade(Object.assign(Object.assign({},l),{view:"tab"}))}class Ca{constructor(l){this.emitter=new x,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=l}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(l){for(const d of this.allItems())if(l(d))return d;return null}includes(l){return this.cache_.has(l)}add(l,d){if(this.includes(l))throw _.shouldNeverHappen();const v=d!==void 0?d:this.items_.length;this.items_.splice(v,0,l),this.cache_.add(l);const T=this.extract_(l);T&&(T.emitter.on("add",this.onSubListAdd_),T.emitter.on("remove",this.onSubListRemove_),T.allItems().forEach(z=>{this.cache_.add(z)})),this.emitter.emit("add",{index:v,item:l,root:this,target:this})}remove(l){const d=this.items_.indexOf(l);if(d<0)return;this.items_.splice(d,1),this.cache_.delete(l);const v=this.extract_(l);v&&(v.emitter.off("add",this.onSubListAdd_),v.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:d,item:l,root:this,target:this})}onSubListAdd_(l){this.cache_.add(l.item),this.emitter.emit("add",{index:l.index,item:l.item,root:this,target:l.target})}onSubListRemove_(l){this.cache_.delete(l.item),this.emitter.emit("remove",{index:l.index,item:l.item,root:this,target:l.target})}}class xa extends s{constructor(l){super(l),this.onBindingChange_=this.onBindingChange_.bind(this),this.emitter_=new x,this.controller_.binding.emitter.on("change",this.onBindingChange_)}get label(){return this.controller_.props.get("label")}set label(l){this.controller_.props.set("label",l)}on(l,d){const v=d.bind(this);return this.emitter_.on(l,T=>{v(T.event)}),this}refresh(){this.controller_.binding.read()}onBindingChange_(l){const d=l.sender.target.read();this.emitter_.emit("change",{event:new o(this,d,this.controller_.binding.target.presetKey,l.options.last)})}}class Cn extends we{constructor(l,d){super(l,d),this.binding=d.binding}}class Ji extends s{constructor(l){super(l),this.onBindingUpdate_=this.onBindingUpdate_.bind(this),this.emitter_=new x,this.controller_.binding.emitter.on("update",this.onBindingUpdate_)}get label(){return this.controller_.props.get("label")}set label(l){this.controller_.props.set("label",l)}on(l,d){const v=d.bind(this);return this.emitter_.on(l,T=>{v(T.event)}),this}refresh(){this.controller_.binding.read()}onBindingUpdate_(l){const d=l.sender.target.read();this.emitter_.emit("update",{event:new a(this,d,this.controller_.binding.target.presetKey)})}}class Mi extends we{constructor(l,d){super(l,d),this.binding=d.binding,this.viewProps.bindDisabled(this.binding.ticker),this.viewProps.handleDispose(()=>{this.binding.dispose()})}}function Ys(p){return p instanceof tr?p.apiSet_:p instanceof hi?p.rackApi_.apiSet_:null}function er(p,l){const d=p.find(v=>v.controller_===l);if(!d)throw _.shouldNeverHappen();return d}function eo(p,l,d){if(!y.isBindable(p))throw _.notBindable();return new y(p,l,d)}class tr extends s{constructor(l,d){super(l),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.onRackInputChange_=this.onRackInputChange_.bind(this),this.onRackMonitorUpdate_=this.onRackMonitorUpdate_.bind(this),this.emitter_=new x,this.apiSet_=new Ca(Ys),this.pool_=d;const v=this.controller_.rack;v.emitter.on("add",this.onRackAdd_),v.emitter.on("remove",this.onRackRemove_),v.emitter.on("inputchange",this.onRackInputChange_),v.emitter.on("monitorupdate",this.onRackMonitorUpdate_),v.children.forEach(T=>{this.setUpApi_(T)})}get children(){return this.controller_.rack.children.map(l=>er(this.apiSet_,l))}addInput(l,d,v){const T=v||{},z=this.controller_.view.element.ownerDocument,Y=this.pool_.createInput(z,eo(l,d,T.presetKey),T),xe=new xa(Y);return this.add(xe,T.index)}addMonitor(l,d,v){const T=v||{},z=this.controller_.view.element.ownerDocument,Y=this.pool_.createMonitor(z,eo(l,d),T),xe=new Ji(Y);return this.add(xe,T.index)}addFolder(l){return Yt(this,l)}addButton(l){return Qr(this,l)}addSeparator(l){return wn(this,l)}addTab(l){return Yr(this,l)}add(l,d){this.controller_.rack.add(l.controller_,d);const v=this.apiSet_.find(T=>T.controller_===l.controller_);return v&&this.apiSet_.remove(v),this.apiSet_.add(l),l}remove(l){this.controller_.rack.remove(l.controller_)}addBlade(l){const d=this.controller_.view.element.ownerDocument,v=this.pool_.createBlade(d,l),T=this.pool_.createBladeApi(v);return this.add(T,l.index)}on(l,d){const v=d.bind(this);return this.emitter_.on(l,T=>{v(T.event)}),this}setUpApi_(l){this.apiSet_.find(v=>v.controller_===l)||this.apiSet_.add(this.pool_.createBladeApi(l))}onRackAdd_(l){this.setUpApi_(l.bladeController)}onRackRemove_(l){if(l.isRoot){const d=er(this.apiSet_,l.bladeController);this.apiSet_.remove(d)}}onRackInputChange_(l){const d=l.bladeController;if(d instanceof Cn){const v=er(this.apiSet_,d),T=d.binding;this.emitter_.emit("change",{event:new o(v,T.target.read(),T.target.presetKey,l.options.last)})}else if(d instanceof Fe){const v=er(this.apiSet_,d);this.emitter_.emit("change",{event:new o(v,d.value.rawValue,void 0,l.options.last)})}}onRackMonitorUpdate_(l){if(!(l.bladeController instanceof Mi))throw _.shouldNeverHappen();const d=er(this.apiSet_,l.bladeController),v=l.bladeController.binding;this.emitter_.emit("update",{event:new a(d,v.target.read(),v.target.presetKey)})}}class Ea extends hi{constructor(l,d){super(l,new tr(l.rackController,d)),this.emitter_=new x,this.controller_.foldable.value("expanded").emitter.on("change",v=>{this.emitter_.emit("fold",{event:new c(this,v.sender.rawValue)})}),this.rackApi_.on("change",v=>{this.emitter_.emit("change",{event:v})}),this.rackApi_.on("update",v=>{this.emitter_.emit("update",{event:v})})}get expanded(){return this.controller_.foldable.get("expanded")}set expanded(l){this.controller_.foldable.set("expanded",l)}get title(){return this.controller_.props.get("title")}set title(l){this.controller_.props.set("title",l)}get children(){return this.rackApi_.children}addInput(l,d,v){return this.rackApi_.addInput(l,d,v)}addMonitor(l,d,v){return this.rackApi_.addMonitor(l,d,v)}addFolder(l){return this.rackApi_.addFolder(l)}addButton(l){return this.rackApi_.addButton(l)}addSeparator(l){return this.rackApi_.addSeparator(l)}addTab(l){return this.rackApi_.addTab(l)}add(l,d){return this.rackApi_.add(l,d)}remove(l){this.rackApi_.remove(l)}addBlade(l){return this.rackApi_.addBlade(l)}on(l,d){const v=d.bind(this);return this.emitter_.on(l,T=>{v(T.event)}),this}}class Aa extends Me{constructor(l){super({blade:l.blade,view:l.view,viewProps:l.rackController.viewProps}),this.rackController=l.rackController}}class qh{constructor(l,d){const v=P(d.viewName);this.element=l.createElement("div"),this.element.classList.add(v()),d.viewProps.bindClassModifiers(this.element)}}function Kh(p,l){for(let d=0;d<p.length;d++){const v=p[d];if(v instanceof Cn&&v.binding===l)return v}return null}function Jh(p,l){for(let d=0;d<p.length;d++){const v=p[d];if(v instanceof Mi&&v.binding===l)return v}return null}function Xh(p,l){for(let d=0;d<p.length;d++){const v=p[d];if(v instanceof Fe&&v.value===l)return v}return null}function Da(p){return p instanceof nr?p.rack:p instanceof Aa?p.rackController.rack:null}function Zh(p){const l=Da(p);return l?l.bcSet_:null}class Qh{constructor(l){var d;this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildInputChange_=this.onChildInputChange_.bind(this),this.onChildMonitorUpdate_=this.onChildMonitorUpdate_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onDescendantLayout_=this.onDescendantLayout_.bind(this),this.onDescendantInputChange_=this.onDescendantInputChange_.bind(this),this.onDescendantMonitorUpdate_=this.onDescendantMonitorUpdate_.bind(this),this.emitter=new x,this.blade_=l!=null?l:null,(d=this.blade_)===null||d===void 0||d.value("positions").emitter.on("change",this.onBladePositionsChange_),this.bcSet_=new Ca(Zh),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(l,d){l.parent&&l.parent.remove(l),l.parent_=this,this.bcSet_.add(l,d)}remove(l){l.parent_=null,this.bcSet_.remove(l)}find(l){return this.bcSet_.allItems().filter(d=>d instanceof l)}onSetAdd_(l){this.updatePositions_();const d=l.target===l.root;if(this.emitter.emit("add",{bladeController:l.item,index:l.index,isRoot:d,sender:this}),!d)return;const v=l.item;if(v.viewProps.emitter.on("change",this.onChildViewPropsChange_),v.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),v.viewProps.handleDispose(this.onChildDispose_),v instanceof Cn)v.binding.emitter.on("change",this.onChildInputChange_);else if(v instanceof Mi)v.binding.emitter.on("update",this.onChildMonitorUpdate_);else if(v instanceof Fe)v.value.emitter.on("change",this.onChildValueChange_);else{const T=Da(v);if(T){const z=T.emitter;z.on("layout",this.onDescendantLayout_),z.on("inputchange",this.onDescendantInputChange_),z.on("monitorupdate",this.onDescendantMonitorUpdate_)}}}onSetRemove_(l){this.updatePositions_();const d=l.target===l.root;if(this.emitter.emit("remove",{bladeController:l.item,isRoot:d,sender:this}),!d)return;const v=l.item;if(v instanceof Cn)v.binding.emitter.off("change",this.onChildInputChange_);else if(v instanceof Mi)v.binding.emitter.off("update",this.onChildMonitorUpdate_);else if(v instanceof Fe)v.value.emitter.off("change",this.onChildValueChange_);else{const T=Da(v);if(T){const z=T.emitter;z.off("layout",this.onDescendantLayout_),z.off("inputchange",this.onDescendantInputChange_),z.off("monitorupdate",this.onDescendantMonitorUpdate_)}}}updatePositions_(){const l=this.bcSet_.items.filter(T=>!T.viewProps.get("hidden")),d=l[0],v=l[l.length-1];this.bcSet_.items.forEach(T=>{const z=[];T===d&&(z.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&z.push("veryfirst")),T===v&&(z.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&z.push("verylast")),T.blade.set("positions",z)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(l){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(d=>d.viewProps.get("disposed")).forEach(d=>{this.bcSet_.remove(d)})}onChildInputChange_(l){const d=Kh(this.find(Cn),l.sender);if(!d)throw _.shouldNeverHappen();this.emitter.emit("inputchange",{bladeController:d,options:l.options,sender:this})}onChildMonitorUpdate_(l){const d=Jh(this.find(Mi),l.sender);if(!d)throw _.shouldNeverHappen();this.emitter.emit("monitorupdate",{bladeController:d,sender:this})}onChildValueChange_(l){const d=Xh(this.find(Fe),l.sender);if(!d)throw _.shouldNeverHappen();this.emitter.emit("inputchange",{bladeController:d,options:l.options,sender:this})}onDescendantLayout_(l){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onDescendantInputChange_(l){this.emitter.emit("inputchange",{bladeController:l.bladeController,options:l.options,sender:this})}onDescendantMonitorUpdate_(l){this.emitter.emit("monitorupdate",{bladeController:l.bladeController,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class nr extends Me{constructor(l,d){super(Object.assign(Object.assign({},d),{view:new qh(l,{viewName:"brk",viewProps:d.viewProps})})),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const v=new Qh(d.root?void 0:d.blade);v.emitter.on("add",this.onRackAdd_),v.emitter.on("remove",this.onRackRemove_),this.rack=v,this.viewProps.handleDispose(()=>{for(let T=this.rack.children.length-1;T>=0;T--)this.rack.children[T].viewProps.set("disposed",!0)})}onRackAdd_(l){!l.isRoot||_e(this.view.element,l.bladeController.view.element,l.index)}onRackRemove_(l){!l.isRoot||be(l.bladeController.view.element)}}const bc=P("cnt");class Yh{constructor(l,d){this.className_=P(d.viewName||"fld"),this.element=l.createElement("div"),this.element.classList.add(this.className_(),bc()),d.viewProps.bindClassModifiers(this.element),this.foldable_=d.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),B(this.foldable_,"completed",L(this.element,this.className_(void 0,"cpl")));const v=l.createElement("button");v.classList.add(this.className_("b")),B(d.props,"title",xe=>{h(xe)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),d.viewProps.bindDisabled(v),this.element.appendChild(v),this.buttonElement=v;const T=l.createElement("div");T.classList.add(this.className_("t")),k(d.props.value("title"),T),this.buttonElement.appendChild(T),this.titleElement=T;const z=l.createElement("div");z.classList.add(this.className_("m")),this.buttonElement.appendChild(z);const Y=d.containerElement;Y.classList.add(this.className_("c")),this.element.appendChild(Y),this.containerElement=Y}}class Sa extends Aa{constructor(l,d){var v;const T=$e.create((v=d.expanded)!==null&&v!==void 0?v:!0),z=new nr(l,{blade:d.blade,root:d.root,viewProps:d.viewProps});super(Object.assign(Object.assign({},d),{rackController:z,view:new Yh(l,{containerElement:z.view.element,foldable:T,props:d.props,viewName:d.root?"rot":void 0,viewProps:d.viewProps})})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=d.props,this.foldable=T,Ki(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}const ed={id:"folder",type:"blade",accept(p){const l=De,d=ce(p,{title:l.required.string,view:l.required.constant("folder"),expanded:l.optional.boolean});return d?{params:d}:null},controller(p){return new Sa(p.document,{blade:p.blade,expanded:p.params.expanded,props:$.fromObject({title:p.params.title}),viewProps:p.viewProps})},api(p){return p.controller instanceof Sa?new Ea(p.controller,p.pool):null}};class gs extends Fe{constructor(l,d){const v=d.valueController.viewProps;super(Object.assign(Object.assign({},d),{value:d.valueController.value,view:new Ae(l,{props:d.props,viewProps:v}),viewProps:v})),this.props=d.props,this.valueController=d.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class Ta extends s{}const yc=P("spr");class td{constructor(l,d){this.element=l.createElement("div"),this.element.classList.add(yc()),d.viewProps.bindClassModifiers(this.element);const v=l.createElement("hr");v.classList.add(yc("r")),this.element.appendChild(v)}}class wc extends Me{constructor(l,d){super(Object.assign(Object.assign({},d),{view:new td(l,{viewProps:d.viewProps})}))}}const Cc={id:"separator",type:"blade",accept(p){const d=ce(p,{view:De.required.constant("separator")});return d?{params:d}:null},controller(p){return new wc(p.document,{blade:p.blade,viewProps:p.viewProps})},api(p){return p.controller instanceof wc?new Ta(p.controller):null}},nd=P("");function ir(p,l){return L(p,nd(void 0,l))}class Bi extends ${constructor(l){super(l)}static create(l){var d,v;const T=l!=null?l:{},z={disabled:(d=T.disabled)!==null&&d!==void 0?d:!1,disposed:!1,hidden:(v=T.hidden)!==null&&v!==void 0?v:!1},Y=$.createCore(z);return new Bi(Y)}bindClassModifiers(l){B(this,"disabled",ir(l,"disabled")),B(this,"hidden",ir(l,"hidden"))}bindDisabled(l){B(this,"disabled",d=>{l.disabled=d})}bindTabIndex(l){B(this,"disabled",d=>{l.tabIndex=d?-1:0})}handleDispose(l){this.value("disposed").emitter.on("change",d=>{d&&l()})}}const Pi=P("tbi");class xc{constructor(l,d){this.element=l.createElement("div"),this.element.classList.add(Pi()),d.viewProps.bindClassModifiers(this.element),B(d.props,"selected",z=>{z?this.element.classList.add(Pi(void 0,"sel")):this.element.classList.remove(Pi(void 0,"sel"))});const v=l.createElement("button");v.classList.add(Pi("b")),d.viewProps.bindDisabled(v),this.element.appendChild(v),this.buttonElement=v;const T=l.createElement("div");T.classList.add(Pi("t")),k(d.props.value("title"),T),this.buttonElement.appendChild(T),this.titleElement=T}}class id{constructor(l,d){this.emitter=new x,this.onClick_=this.onClick_.bind(this),this.props=d.props,this.viewProps=d.viewProps,this.view=new xc(l,{props:d.props,viewProps:d.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class Ec{constructor(l,d){this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new id(l,{props:d.itemProps,viewProps:Bi.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.cc_=new nr(l,{blade:qe(),viewProps:Bi.create()}),this.props=d.props,B(this.props,"selected",v=>{this.itemController.props.set("selected",v),this.contentController.viewProps.set("hidden",!v)})}get itemController(){return this.ic_}get contentController(){return this.cc_}onItemClick_(){this.props.set("selected",!0)}}class Ac{constructor(l,d){this.controller_=l,this.rackApi_=d}get title(){var l;return(l=this.controller_.itemController.props.get("title"))!==null&&l!==void 0?l:""}set title(l){this.controller_.itemController.props.set("title",l)}get selected(){return this.controller_.props.get("selected")}set selected(l){this.controller_.props.set("selected",l)}get children(){return this.rackApi_.children}addButton(l){return this.rackApi_.addButton(l)}addFolder(l){return this.rackApi_.addFolder(l)}addSeparator(l){return this.rackApi_.addSeparator(l)}addTab(l){return this.rackApi_.addTab(l)}add(l,d){this.rackApi_.add(l,d)}remove(l){this.rackApi_.remove(l)}addInput(l,d,v){return this.rackApi_.addInput(l,d,v)}addMonitor(l,d,v){return this.rackApi_.addMonitor(l,d,v)}addBlade(l){return this.rackApi_.addBlade(l)}}class Ma extends hi{constructor(l,d){super(l,new tr(l.rackController,d)),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.emitter_=new x,this.pageApiMap_=new Map,this.rackApi_.on("change",v=>{this.emitter_.emit("change",{event:v})}),this.rackApi_.on("update",v=>{this.emitter_.emit("update",{event:v})}),this.controller_.pageSet.emitter.on("add",this.onPageAdd_),this.controller_.pageSet.emitter.on("remove",this.onPageRemove_),this.controller_.pageSet.items.forEach(v=>{this.setUpPageApi_(v)})}get pages(){return this.controller_.pageSet.items.map(l=>{const d=this.pageApiMap_.get(l);if(!d)throw _.shouldNeverHappen();return d})}addPage(l){const d=this.controller_.view.element.ownerDocument,v=new Ec(d,{itemProps:$.fromObject({selected:!1,title:l.title}),props:$.fromObject({selected:!1})});this.controller_.add(v,l.index);const T=this.pageApiMap_.get(v);if(!T)throw _.shouldNeverHappen();return T}removePage(l){this.controller_.remove(l)}on(l,d){const v=d.bind(this);return this.emitter_.on(l,T=>{v(T.event)}),this}setUpPageApi_(l){const d=this.rackApi_.apiSet_.find(T=>T.controller_===l.contentController);if(!d)throw _.shouldNeverHappen();const v=new Ac(l,d);this.pageApiMap_.set(l,v)}onPageAdd_(l){this.setUpPageApi_(l.item)}onPageRemove_(l){if(!this.pageApiMap_.get(l.item))throw _.shouldNeverHappen();this.pageApiMap_.delete(l.item)}}const di=P("tab");class to{constructor(l,d){this.element=l.createElement("div"),this.element.classList.add(di(),bc()),d.viewProps.bindClassModifiers(this.element),D(d.empty,L(this.element,di(void 0,"nop")));const v=l.createElement("div");v.classList.add(di("i")),this.element.appendChild(v),this.itemsElement=v;const T=d.contentsElement;T.classList.add(di("c")),this.element.appendChild(T),this.contentsElement=T}}class Ba extends Aa{constructor(l,d){const v=new nr(l,{blade:d.blade,viewProps:d.viewProps}),T=j(!0);super({blade:d.blade,rackController:v,view:new to(l,{contentsElement:v.view.element,empty:T,viewProps:d.viewProps})}),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.onPageSelectedChange_=this.onPageSelectedChange_.bind(this),this.pageSet_=new Ca(()=>null),this.pageSet_.emitter.on("add",this.onPageAdd_),this.pageSet_.emitter.on("remove",this.onPageRemove_),this.empty_=T,this.applyPages_()}get pageSet(){return this.pageSet_}add(l,d){this.pageSet_.add(l,d!=null?d:this.pageSet_.items.length)}remove(l){this.pageSet_.remove(this.pageSet_.items[l])}applyPages_(){this.keepSelection_(),this.empty_.rawValue=this.pageSet_.items.length===0}onPageAdd_(l){const d=l.item;_e(this.view.itemsElement,d.itemController.view.element,l.index),this.rackController.rack.add(d.contentController,l.index),d.props.value("selected").emitter.on("change",this.onPageSelectedChange_),this.applyPages_()}onPageRemove_(l){const d=l.item;be(d.itemController.view.element),this.rackController.rack.remove(d.contentController),d.props.value("selected").emitter.off("change",this.onPageSelectedChange_),this.applyPages_()}keepSelection_(){if(this.pageSet_.items.length===0)return;const l=this.pageSet_.items.findIndex(d=>d.props.get("selected"));l<0?this.pageSet_.items.forEach((d,v)=>{d.props.set("selected",v===0)}):this.pageSet_.items.forEach((d,v)=>{d.props.set("selected",v===l)})}onPageSelectedChange_(l){if(l.rawValue){const d=this.pageSet_.items.findIndex(v=>v.props.value("selected")===l.sender);this.pageSet_.items.forEach((v,T)=>{v.props.set("selected",T===d)})}else this.keepSelection_()}}const Dc={id:"tab",type:"blade",accept(p){const l=De,d=ce(p,{pages:l.required.array(l.required.object({title:l.required.string})),view:l.required.constant("tab")});return!d||d.pages.length===0?null:{params:d}},controller(p){const l=new Ba(p.document,{blade:p.blade,viewProps:p.viewProps});return p.params.pages.forEach(d=>{const v=new Ec(p.document,{itemProps:$.fromObject({selected:!1,title:d.title}),props:$.fromObject({selected:!1})});l.add(v)}),l},api(p){return p.controller instanceof Ba?new Ma(p.controller,p.pool):null}};function Sc(p,l){const d=p.accept(l.params);if(!d)return null;const v=De.optional.boolean(l.params.disabled).value,T=De.optional.boolean(l.params.hidden).value;return p.controller({blade:qe(),document:l.document,params:Object.assign(Object.assign({},d.params),{disabled:v,hidden:T}),viewProps:Bi.create({disabled:v,hidden:T})})}class Pa{constructor(){this.disabled=!1,this.emitter=new x}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class no{constructor(l,d){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=l,this.emitter=new x,this.interval_=d,this.setTimer_()}get disabled(){return this.disabled_}set disabled(l){this.disabled_=l,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const l=this.doc_.defaultView;l&&l.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const l=this.doc_.defaultView;l&&(this.timerId_=l.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class gt{constructor(l){this.constraints=l}constrain(l){return this.constraints.reduce((d,v)=>v.constrain(d),l)}}function kn(p,l){if(p instanceof l)return p;if(p instanceof gt){const d=p.constraints.reduce((v,T)=>v||(T instanceof l?T:null),null);if(d)return d}return null}class fi{constructor(l){this.options=l}constrain(l){const d=this.options;return d.length===0||d.filter(T=>T.value===l).length>0?l:d[0].value}}class At{constructor(l){this.maxValue=l.max,this.minValue=l.min}constrain(l){let d=l;return h(this.minValue)||(d=Math.max(d,this.minValue)),h(this.maxValue)||(d=Math.min(d,this.maxValue)),d}}class Xi{constructor(l){this.step=l}constrain(l){return(l<0?-Math.round(-l/this.step):Math.round(l/this.step))*this.step}}const Fa=P("lst");class sd{constructor(l,d){this.onValueChange_=this.onValueChange_.bind(this),this.props_=d.props,this.element=l.createElement("div"),this.element.classList.add(Fa()),d.viewProps.bindClassModifiers(this.element);const v=l.createElement("select");v.classList.add(Fa("s")),B(this.props_,"options",z=>{de(v),z.forEach((Y,xe)=>{const Oe=l.createElement("option");Oe.dataset.index=String(xe),Oe.textContent=Y.text,Oe.value=String(Y.value),v.appendChild(Oe)})}),d.viewProps.bindDisabled(v),this.element.appendChild(v),this.selectElement=v;const T=l.createElement("div");T.classList.add(Fa("m")),T.appendChild(ae(l,"dropdown")),this.element.appendChild(T),d.value.emitter.on("change",this.onValueChange_),this.value_=d.value,this.update_()}update_(){this.selectElement.value=String(this.value_.rawValue)}onValueChange_(){this.update_()}}class sr{constructor(l,d){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=d.props,this.value=d.value,this.viewProps=d.viewProps,this.view=new sd(l,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(l){const v=l.currentTarget.selectedOptions.item(0);if(!v)return;const T=Number(v.dataset.index);this.value.rawValue=this.props.get("options")[T].value}}const Tc=P("pop");class Mc{constructor(l,d){this.element=l.createElement("div"),this.element.classList.add(Tc()),d.viewProps.bindClassModifiers(this.element),D(d.shows,L(this.element,Tc(void 0,"v")))}}class Bc{constructor(l,d){this.shows=j(!1),this.viewProps=d.viewProps,this.view=new Mc(l,{shows:this.shows,viewProps:this.viewProps})}}const Pc=P("txt");class Fc{constructor(l,d){this.onChange_=this.onChange_.bind(this),this.element=l.createElement("div"),this.element.classList.add(Pc()),d.viewProps.bindClassModifiers(this.element),this.props_=d.props,this.props_.emitter.on("change",this.onChange_);const v=l.createElement("input");v.classList.add(Pc("i")),v.type="text",d.viewProps.bindDisabled(v),this.element.appendChild(v),this.inputElement=v,d.value.emitter.on("change",this.onChange_),this.value_=d.value,this.refresh()}refresh(){const l=this.props_.get("formatter");this.inputElement.value=l(this.value_.rawValue)}onChange_(){this.refresh()}}class io{constructor(l,d){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=d.parser,this.props=d.props,this.value=d.value,this.viewProps=d.viewProps,this.view=new Fc(l,{props:d.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(l){const v=l.currentTarget.value,T=this.parser_(v);h(T)||(this.value.rawValue=T),this.view.refresh()}}function rd(p){return String(p)}function so(p){return p==="false"?!1:!!p}function Lc(p){return rd(p)}class od{constructor(l){this.text=l}evaluate(){return Number(this.text)}toString(){return this.text}}const ad={"**":(p,l)=>Math.pow(p,l),"*":(p,l)=>p*l,"/":(p,l)=>p/l,"%":(p,l)=>p%l,"+":(p,l)=>p+l,"-":(p,l)=>p-l,"<<":(p,l)=>p<<l,">>":(p,l)=>p>>l,">>>":(p,l)=>p>>>l,"&":(p,l)=>p&l,"^":(p,l)=>p^l,"|":(p,l)=>p|l};class ld{constructor(l,d,v){this.left=d,this.operator=l,this.right=v}evaluate(){const l=ad[this.operator];if(!l)throw new Error(`unexpected binary operator: '${this.operator}`);return l(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const Fi={"+":p=>p,"-":p=>-p,"~":p=>~p};class cd{constructor(l,d){this.operator=l,this.expression=d}evaluate(){const l=Fi[this.operator];if(!l)throw new Error(`unexpected unary operator: '${this.operator}`);return l(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function La(p){return(l,d)=>{for(let v=0;v<p.length;v++){const T=p[v](l,d);if(T!=="")return T}return""}}function rr(p,l){var d;const v=p.substr(l).match(/^\s+/);return(d=v&&v[0])!==null&&d!==void 0?d:""}function ud(p,l){const d=p.substr(l,1);return d.match(/^[1-9]$/)?d:""}function or(p,l){var d;const v=p.substr(l).match(/^[0-9]+/);return(d=v&&v[0])!==null&&d!==void 0?d:""}function Ic(p,l){const d=or(p,l);if(d!=="")return d;const v=p.substr(l,1);if(l+=1,v!=="-"&&v!=="+")return"";const T=or(p,l);return T===""?"":v+T}function Ia(p,l){const d=p.substr(l,1);if(l+=1,d.toLowerCase()!=="e")return"";const v=Ic(p,l);return v===""?"":d+v}function Rc(p,l){const d=p.substr(l,1);if(d==="0")return d;const v=ud(p,l);return l+=v.length,v===""?"":v+or(p,l)}function xn(p,l){const d=Rc(p,l);if(l+=d.length,d==="")return"";const v=p.substr(l,1);if(l+=v.length,v!==".")return"";const T=or(p,l);return l+=T.length,d+v+T+Ia(p,l)}function hd(p,l){const d=p.substr(l,1);if(l+=d.length,d!==".")return"";const v=or(p,l);return l+=v.length,v===""?"":d+v+Ia(p,l)}function dd(p,l){const d=Rc(p,l);return l+=d.length,d===""?"":d+Ia(p,l)}const Ra=La([xn,hd,dd]);function fd(p,l){var d;const v=p.substr(l).match(/^[01]+/);return(d=v&&v[0])!==null&&d!==void 0?d:""}function Li(p,l){const d=p.substr(l,2);if(l+=d.length,d.toLowerCase()!=="0b")return"";const v=fd(p,l);return v===""?"":d+v}function kc(p,l){var d;const v=p.substr(l).match(/^[0-7]+/);return(d=v&&v[0])!==null&&d!==void 0?d:""}function pd(p,l){const d=p.substr(l,2);if(l+=d.length,d.toLowerCase()!=="0o")return"";const v=kc(p,l);return v===""?"":d+v}function Oc(p,l){var d;const v=p.substr(l).match(/^[0-9a-f]+/i);return(d=v&&v[0])!==null&&d!==void 0?d:""}function md(p,l){const d=p.substr(l,2);if(l+=d.length,d.toLowerCase()!=="0x")return"";const v=Oc(p,l);return v===""?"":d+v}const Zi=La([Li,pd,md]),_d=La([Zi,Ra]);function ka(p,l){const d=_d(p,l);return l+=d.length,d===""?null:{evaluable:new od(d),cursor:l}}function gd(p,l){const d=p.substr(l,1);if(l+=d.length,d!=="(")return null;const v=Oa(p,l);if(!v)return null;l=v.cursor,l+=rr(p,l).length;const T=p.substr(l,1);return l+=T.length,T!==")"?null:{evaluable:v.evaluable,cursor:l}}function Nc(p,l){return ka(p,l)||gd(p,l)}function pi(p,l){const d=Nc(p,l);if(d)return d;const v=p.substr(l,1);if(l+=v.length,v!=="+"&&v!=="-"&&v!=="~")return null;const T=pi(p,l);return T?(l=T.cursor,{cursor:l,evaluable:new cd(v,T.evaluable)}):null}function vd(p,l,d){d+=rr(l,d).length;const v=p.filter(T=>l.startsWith(T,d))[0];return v?(d+=v.length,d+=rr(l,d).length,{cursor:d,operator:v}):null}function bd(p,l){return(d,v)=>{const T=p(d,v);if(!T)return null;v=T.cursor;let z=T.evaluable;for(;;){const Y=vd(l,d,v);if(!Y)break;v=Y.cursor;const xe=p(d,v);if(!xe)return null;v=xe.cursor,z=new ld(Y.operator,z,xe.evaluable)}return z?{cursor:v,evaluable:z}:null}}const Vc=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((p,l)=>bd(p,l),pi);function Oa(p,l){return l+=rr(p,l).length,Vc(p,l)}function Hc(p){const l=Oa(p,0);return!l||l.cursor+rr(p,l.cursor).length!==p.length?null:l.evaluable}function on(p){var l;const d=Hc(p);return(l=d==null?void 0:d.evaluate())!==null&&l!==void 0?l:null}function zc(p){if(typeof p=="number")return p;if(typeof p=="string"){const l=on(p);if(!h(l))return l}return 0}function Na(p){return String(p)}function an(p){return l=>l.toFixed(Math.max(Math.min(p,20),0))}const yd=an(0);function ro(p){return yd(p)+"%"}function Va(p){return String(p)}function Ha(p){return p}function Uc(p,l){for(;p.length<l;)p.push(void 0)}function wd(p){const l=[];return Uc(l,p),j(l)}function Gc(p){const l=p.indexOf(void 0);return l<0?p:p.slice(0,l)}function Cd(p,l){const d=[...Gc(p),l];return d.length>p.length?d.splice(0,d.length-p.length):Uc(d,p.length),d}function mi({primary:p,secondary:l,forward:d,backward:v}){let T=!1;function z(Y){T||(T=!0,Y(),T=!1)}p.emitter.on("change",Y=>{z(()=>{l.setRawValue(d(p,l),Y.options)})}),l.emitter.on("change",Y=>{z(()=>{p.setRawValue(v(p,l),Y.options)}),z(()=>{l.setRawValue(d(p,l),Y.options)})}),z(()=>{l.setRawValue(d(p,l),{forceEmit:!1,last:!0})})}function ln(p,l){const d=p*(l.altKey?.1:1)*(l.shiftKey?10:1);return l.upKey?+d:l.downKey?-d:0}function vs(p){return{altKey:p.altKey,downKey:p.key==="ArrowDown",shiftKey:p.shiftKey,upKey:p.key==="ArrowUp"}}function _i(p){return{altKey:p.altKey,downKey:p.key==="ArrowLeft",shiftKey:p.shiftKey,upKey:p.key==="ArrowRight"}}function xd(p){return p==="ArrowUp"||p==="ArrowDown"}function mn(p){return xd(p)||p==="ArrowLeft"||p==="ArrowRight"}function oo(p,l){const d=l.ownerDocument.defaultView,v=l.getBoundingClientRect();return{x:p.pageX-((d&&d.scrollX||0)+v.left),y:p.pageY-((d&&d.scrollY||0)+v.top)}}class Ii{constructor(l){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=l,this.emitter=new x,l.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),l.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),l.addEventListener("touchend",this.onTouchEnd_),l.addEventListener("mousedown",this.onMouseDown_)}computePosition_(l){const d=this.elem_.getBoundingClientRect();return{bounds:{width:d.width,height:d.height},point:l?{x:l.x,y:l.y}:null}}onMouseDown_(l){var d;l.preventDefault(),(d=l.currentTarget)===null||d===void 0||d.focus();const v=this.elem_.ownerDocument;v.addEventListener("mousemove",this.onDocumentMouseMove_),v.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:l.altKey,data:this.computePosition_(oo(l,this.elem_)),sender:this,shiftKey:l.shiftKey})}onDocumentMouseMove_(l){this.emitter.emit("move",{altKey:l.altKey,data:this.computePosition_(oo(l,this.elem_)),sender:this,shiftKey:l.shiftKey})}onDocumentMouseUp_(l){const d=this.elem_.ownerDocument;d.removeEventListener("mousemove",this.onDocumentMouseMove_),d.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:l.altKey,data:this.computePosition_(oo(l,this.elem_)),sender:this,shiftKey:l.shiftKey})}onTouchStart_(l){l.preventDefault();const d=l.targetTouches.item(0),v=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:l.altKey,data:this.computePosition_(d?{x:d.clientX-v.left,y:d.clientY-v.top}:void 0),sender:this,shiftKey:l.shiftKey}),this.lastTouch_=d}onTouchMove_(l){const d=l.targetTouches.item(0),v=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:l.altKey,data:this.computePosition_(d?{x:d.clientX-v.left,y:d.clientY-v.top}:void 0),sender:this,shiftKey:l.shiftKey}),this.lastTouch_=d}onTouchEnd_(l){var d;const v=(d=l.targetTouches.item(0))!==null&&d!==void 0?d:this.lastTouch_,T=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:l.altKey,data:this.computePosition_(v?{x:v.clientX-T.left,y:v.clientY-T.top}:void 0),sender:this,shiftKey:l.shiftKey})}}function _t(p,l,d,v,T){const z=(p-l)/(d-l);return v+z*(T-v)}function $c(p){return String(p.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function at(p,l,d){return Math.min(Math.max(p,l),d)}function za(p,l){return(p%l+l)%l}const En=P("txt");class Ed{constructor(l,d){this.onChange_=this.onChange_.bind(this),this.props_=d.props,this.props_.emitter.on("change",this.onChange_),this.element=l.createElement("div"),this.element.classList.add(En(),En(void 0,"num")),d.arrayPosition&&this.element.classList.add(En(void 0,d.arrayPosition)),d.viewProps.bindClassModifiers(this.element);const v=l.createElement("input");v.classList.add(En("i")),v.type="text",d.viewProps.bindDisabled(v),this.element.appendChild(v),this.inputElement=v,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=d.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(En()),this.inputElement.classList.add(En("i"));const T=l.createElement("div");T.classList.add(En("k")),this.element.appendChild(T),this.knobElement=T;const z=l.createElementNS(Re,"svg");z.classList.add(En("g")),this.knobElement.appendChild(z);const Y=l.createElementNS(Re,"path");Y.classList.add(En("gb")),z.appendChild(Y),this.guideBodyElem_=Y;const xe=l.createElementNS(Re,"path");xe.classList.add(En("gh")),z.appendChild(xe),this.guideHeadElem_=xe;const Oe=l.createElement("div");Oe.classList.add(P("tt")()),this.knobElement.appendChild(Oe),this.tooltipElem_=Oe,d.value.emitter.on("change",this.onChange_),this.value=d.value,this.refresh()}onDraggingChange_(l){if(l.rawValue===null){this.element.classList.remove(En(void 0,"drg"));return}this.element.classList.add(En(void 0,"drg"));const d=l.rawValue/this.props_.get("draggingScale"),v=d+(d>0?-1:d<0?1:0),T=at(-v,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${v+T},0 L${v},4 L${v+T},8`,`M ${d},-1 L${d},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${d},4`);const z=this.props_.get("formatter");this.tooltipElem_.textContent=z(this.value.rawValue),this.tooltipElem_.style.left=`${d}px`}refresh(){const l=this.props_.get("formatter");this.inputElement.value=l(this.value.rawValue)}onChange_(){this.refresh()}}class ar{constructor(l,d){this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=d.baseStep,this.parser_=d.parser,this.props=d.props,this.value=d.value,this.viewProps=d.viewProps,this.dragging_=j(null),this.view=new Ed(l,{arrayPosition:d.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const v=new Ii(this.view.knobElement);v.emitter.on("down",this.onPointerDown_),v.emitter.on("move",this.onPointerMove_),v.emitter.on("up",this.onPointerUp_)}onInputChange_(l){const v=l.currentTarget.value,T=this.parser_(v);h(T)||(this.value.rawValue=T),this.view.refresh()}onInputKeyDown_(l){const d=ln(this.baseStep_,vs(l));d!==0&&this.value.setRawValue(this.value.rawValue+d,{forceEmit:!1,last:!1})}onInputKeyUp_(l){ln(this.baseStep_,vs(l))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(l){if(!l.point)return null;const d=l.point.x-l.bounds.width/2;return this.originRawValue_+d*this.props.get("draggingScale")}onPointerMove_(l){const d=this.computeDraggingValue_(l.data);d!==null&&(this.value.setRawValue(d,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(l){const d=this.computeDraggingValue_(l.data);d!==null&&(this.value.setRawValue(d,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const Ua=P("sld");class Ad{constructor(l,d){this.onChange_=this.onChange_.bind(this),this.props_=d.props,this.props_.emitter.on("change",this.onChange_),this.element=l.createElement("div"),this.element.classList.add(Ua()),d.viewProps.bindClassModifiers(this.element);const v=l.createElement("div");v.classList.add(Ua("t")),d.viewProps.bindTabIndex(v),this.element.appendChild(v),this.trackElement=v;const T=l.createElement("div");T.classList.add(Ua("k")),this.trackElement.appendChild(T),this.knobElement=T,d.value.emitter.on("change",this.onChange_),this.value=d.value,this.update_()}update_(){const l=at(_t(this.value.rawValue,this.props_.get("minValue"),this.props_.get("maxValue"),0,100),0,100);this.knobElement.style.width=`${l}%`}onChange_(){this.update_()}}class Dd{constructor(l,d){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=d.baseStep,this.value=d.value,this.viewProps=d.viewProps,this.props=d.props,this.view=new Ad(l,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Ii(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(l,d){!l.point||this.value.setRawValue(_t(at(l.point.x,0,l.bounds.width),0,l.bounds.width,this.props.get("minValue"),this.props.get("maxValue")),d)}onPointerDownOrMove_(l){this.handlePointerEvent_(l.data,{forceEmit:!1,last:!1})}onPointerUp_(l){this.handlePointerEvent_(l.data,{forceEmit:!0,last:!0})}onKeyDown_(l){const d=ln(this.baseStep_,_i(l));d!==0&&this.value.setRawValue(this.value.rawValue+d,{forceEmit:!1,last:!1})}onKeyUp_(l){ln(this.baseStep_,_i(l))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Ga=P("sldtxt");class Sd{constructor(l,d){this.element=l.createElement("div"),this.element.classList.add(Ga());const v=l.createElement("div");v.classList.add(Ga("s")),this.sliderView_=d.sliderView,v.appendChild(this.sliderView_.element),this.element.appendChild(v);const T=l.createElement("div");T.classList.add(Ga("t")),this.textView_=d.textView,T.appendChild(this.textView_.element),this.element.appendChild(T)}}class $a{constructor(l,d){this.value=d.value,this.viewProps=d.viewProps,this.sliderC_=new Dd(l,{baseStep:d.baseStep,props:d.sliderProps,value:d.value,viewProps:this.viewProps}),this.textC_=new ar(l,{baseStep:d.baseStep,parser:d.parser,props:d.textProps,value:d.value,viewProps:d.viewProps}),this.view=new Sd(l,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}}function gi(p,l){p.write(l)}function ao(p){const l=De;if(Array.isArray(p))return l.required.array(l.required.object({text:l.required.string,value:l.required.raw}))(p).value;if(typeof p=="object")return l.required.raw(p).value}function Wc(p){if(p==="inline"||p==="popup")return p}function Jn(p){const l=De;return l.required.object({max:l.optional.number,min:l.optional.number,step:l.optional.number})(p).value}function jc(p){if(Array.isArray(p))return p;const l=[];return Object.keys(p).forEach(d=>{l.push({text:d,value:p[d]})}),l}function qc(p){return h(p)?null:new fi(jc(p))}function Wa(p){const l=p?kn(p,fi):null;return l?l.options:null}function A(p){const l=p?kn(p,Xi):null;return l?l.step:null}function g(p,l){const d=p&&kn(p,Xi);return d?$c(d.step):Math.max($c(l),2)}function C(p){const l=A(p);return l!=null?l:1}function S(p,l){var d;const v=p&&kn(p,Xi),T=Math.abs((d=v==null?void 0:v.step)!==null&&d!==void 0?d:l);return T===0?.1:Math.pow(10,Math.floor(Math.log10(T))-1)}const V=P("ckb");class Q{constructor(l,d){this.onValueChange_=this.onValueChange_.bind(this),this.element=l.createElement("div"),this.element.classList.add(V()),d.viewProps.bindClassModifiers(this.element);const v=l.createElement("label");v.classList.add(V("l")),this.element.appendChild(v);const T=l.createElement("input");T.classList.add(V("i")),T.type="checkbox",v.appendChild(T),this.inputElement=T,d.viewProps.bindDisabled(this.inputElement);const z=l.createElement("div");z.classList.add(V("w")),v.appendChild(z);const Y=ae(l,"check");z.appendChild(Y),d.value.emitter.on("change",this.onValueChange_),this.value=d.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class ie{constructor(l,d){this.onInputChange_=this.onInputChange_.bind(this),this.value=d.value,this.viewProps=d.viewProps,this.view=new Q(l,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(l){const d=l.currentTarget;this.value.rawValue=d.checked}}function Se(p){const l=[],d=qc(p.options);return d&&l.push(d),new gt(l)}const vt={id:"input-bool",type:"input",accept:(p,l)=>{if(typeof p!="boolean")return null;const v=ce(l,{options:De.optional.custom(ao)});return v?{initialValue:p,params:v}:null},binding:{reader:p=>so,constraint:p=>Se(p.params),writer:p=>gi},controller:p=>{var l;const d=p.document,v=p.value,T=p.constraint;return T&&kn(T,fi)?new sr(d,{props:$.fromObject({options:(l=Wa(T))!==null&&l!==void 0?l:[]}),value:v,viewProps:p.viewProps}):new ie(d,{value:v,viewProps:p.viewProps})}},kt=P("col");class vi{constructor(l,d){this.element=l.createElement("div"),this.element.classList.add(kt()),d.foldable.bindExpandedClass(this.element,kt(void 0,"expanded")),B(d.foldable,"completed",L(this.element,kt(void 0,"cpl")));const v=l.createElement("div");v.classList.add(kt("h")),this.element.appendChild(v);const T=l.createElement("div");T.classList.add(kt("s")),v.appendChild(T),this.swatchElement=T;const z=l.createElement("div");if(z.classList.add(kt("t")),v.appendChild(z),this.textElement=z,d.pickerLayout==="inline"){const Y=l.createElement("div");Y.classList.add(kt("p")),this.element.appendChild(Y),this.pickerElement=Y}else this.pickerElement=null}}function ja(p,l,d){const v=at(p/255,0,1),T=at(l/255,0,1),z=at(d/255,0,1),Y=Math.max(v,T,z),xe=Math.min(v,T,z),Oe=Y-xe;let We=0,lt=0;const ht=(xe+Y)/2;return Oe!==0&&(lt=Oe/(1-Math.abs(Y+xe-1)),v===Y?We=(T-z)/Oe:T===Y?We=2+(z-v)/Oe:We=4+(v-T)/Oe,We=We/6+(We<0?1:0)),[We*360,lt*100,ht*100]}function Td(p,l,d){const v=(p%360+360)%360,T=at(l/100,0,1),z=at(d/100,0,1),Y=(1-Math.abs(2*z-1))*T,xe=Y*(1-Math.abs(v/60%2-1)),Oe=z-Y/2;let We,lt,ht;return v>=0&&v<60?[We,lt,ht]=[Y,xe,0]:v>=60&&v<120?[We,lt,ht]=[xe,Y,0]:v>=120&&v<180?[We,lt,ht]=[0,Y,xe]:v>=180&&v<240?[We,lt,ht]=[0,xe,Y]:v>=240&&v<300?[We,lt,ht]=[xe,0,Y]:[We,lt,ht]=[Y,0,xe],[(We+Oe)*255,(lt+Oe)*255,(ht+Oe)*255]}function Md(p,l,d){const v=at(p/255,0,1),T=at(l/255,0,1),z=at(d/255,0,1),Y=Math.max(v,T,z),xe=Math.min(v,T,z),Oe=Y-xe;let We;Oe===0?We=0:Y===v?We=60*(((T-z)/Oe%6+6)%6):Y===T?We=60*((z-v)/Oe+2):We=60*((v-T)/Oe+4);const lt=Y===0?0:Oe/Y,ht=Y;return[We,lt*100,ht*100]}function gm(p,l,d){const v=za(p,360),T=at(l/100,0,1),z=at(d/100,0,1),Y=z*T,xe=Y*(1-Math.abs(v/60%2-1)),Oe=z-Y;let We,lt,ht;return v>=0&&v<60?[We,lt,ht]=[Y,xe,0]:v>=60&&v<120?[We,lt,ht]=[xe,Y,0]:v>=120&&v<180?[We,lt,ht]=[0,Y,xe]:v>=180&&v<240?[We,lt,ht]=[0,xe,Y]:v>=240&&v<300?[We,lt,ht]=[xe,0,Y]:[We,lt,ht]=[Y,0,xe],[(We+Oe)*255,(lt+Oe)*255,(ht+Oe)*255]}function H4(p,l,d){const v=d+l*(100-Math.abs(2*d-100))/200;return[p,v!==0?l*(100-Math.abs(2*d-100))/v:0,d+l*(100-Math.abs(2*d-100))/(2*100)]}function z4(p,l,d){const v=100-Math.abs(d*(200-l)/100-100);return[p,v!==0?l*d/v:0,d*(200-l)/(2*100)]}function lo(p){return[p[0],p[1],p[2]]}function vm(p,l){return[p[0],p[1],p[2],l]}const U4={hsl:{hsl:(p,l,d)=>[p,l,d],hsv:H4,rgb:Td},hsv:{hsl:z4,hsv:(p,l,d)=>[p,l,d],rgb:gm},rgb:{hsl:ja,hsv:Md,rgb:(p,l,d)=>[p,l,d]}};function G4(p,l,d){return U4[l][d](...p)}const $4={hsl:p=>{var l;return[za(p[0],360),at(p[1],0,100),at(p[2],0,100),at((l=p[3])!==null&&l!==void 0?l:1,0,1)]},hsv:p=>{var l;return[za(p[0],360),at(p[1],0,100),at(p[2],0,100),at((l=p[3])!==null&&l!==void 0?l:1,0,1)]},rgb:p=>{var l;return[at(p[0],0,255),at(p[1],0,255),at(p[2],0,255),at((l=p[3])!==null&&l!==void 0?l:1,0,1)]}};function Kc(p,l){return typeof p!="object"||h(p)?!1:l in p&&typeof p[l]=="number"}class st{constructor(l,d){this.mode_=d,this.comps_=$4[d](l)}static black(){return new st([0,0,0],"rgb")}static fromObject(l){const d="a"in l?[l.r,l.g,l.b,l.a]:[l.r,l.g,l.b];return new st(d,"rgb")}static toRgbaObject(l){return l.toRgbaObject()}static isRgbColorObject(l){return Kc(l,"r")&&Kc(l,"g")&&Kc(l,"b")}static isRgbaColorObject(l){return this.isRgbColorObject(l)&&Kc(l,"a")}static isColorObject(l){return this.isRgbColorObject(l)}static equals(l,d){if(l.mode_!==d.mode_)return!1;const v=l.comps_,T=d.comps_;for(let z=0;z<v.length;z++)if(v[z]!==T[z])return!1;return!0}get mode(){return this.mode_}getComponents(l){return vm(G4(lo(this.comps_),this.mode_,l||this.mode_),this.comps_[3])}toRgbaObject(){const l=this.getComponents("rgb");return{r:l[0],g:l[1],b:l[2],a:l[3]}}}const bs=P("colp");class W4{constructor(l,d){this.alphaViews_=null,this.element=l.createElement("div"),this.element.classList.add(bs());const v=l.createElement("div");v.classList.add(bs("hsv"));const T=l.createElement("div");T.classList.add(bs("sv")),this.svPaletteView_=d.svPaletteView,T.appendChild(this.svPaletteView_.element),v.appendChild(T);const z=l.createElement("div");z.classList.add(bs("h")),this.hPaletteView_=d.hPaletteView,z.appendChild(this.hPaletteView_.element),v.appendChild(z),this.element.appendChild(v);const Y=l.createElement("div");if(Y.classList.add(bs("rgb")),this.textView_=d.textView,Y.appendChild(this.textView_.element),this.element.appendChild(Y),d.alphaViews){this.alphaViews_={palette:d.alphaViews.palette,text:d.alphaViews.text};const xe=l.createElement("div");xe.classList.add(bs("a"));const Oe=l.createElement("div");Oe.classList.add(bs("ap")),Oe.appendChild(this.alphaViews_.palette.element),xe.appendChild(Oe);const We=l.createElement("div");We.classList.add(bs("at")),We.appendChild(this.alphaViews_.text.element),xe.appendChild(We),this.element.appendChild(xe)}}get allFocusableElements(){const l=[this.svPaletteView_.element,this.hPaletteView_.element,this.textView_.modeSelectElement,...this.textView_.textViews.map(d=>d.inputElement)];return this.alphaViews_&&l.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),l}}function Bd(p){const l=De;return ce(p,{alpha:l.optional.boolean,expanded:l.optional.boolean,picker:l.optional.custom(Wc)})}function lr(p){return p?.1:1}function Xn(p,l){const d=p.match(/^(.+)%$/);return Math.min(d?parseFloat(d[1])*.01*l:parseFloat(p),l)}const j4={deg:p=>p,grad:p=>p*360/400,rad:p=>p*360/(2*Math.PI),turn:p=>p*360};function bm(p){const l=p.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!l)return parseFloat(p);const d=parseFloat(l[1]),v=l[2];return j4[v](d)}const Pd={"func.rgb":p=>{const l=p.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!l)return null;const d=[Xn(l[1],255),Xn(l[2],255),Xn(l[3],255)];return isNaN(d[0])||isNaN(d[1])||isNaN(d[2])?null:new st(d,"rgb")},"func.rgba":p=>{const l=p.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!l)return null;const d=[Xn(l[1],255),Xn(l[2],255),Xn(l[3],255),Xn(l[4],1)];return isNaN(d[0])||isNaN(d[1])||isNaN(d[2])||isNaN(d[3])?null:new st(d,"rgb")},"func.hsl":p=>{const l=p.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!l)return null;const d=[bm(l[1]),Xn(l[2],100),Xn(l[3],100)];return isNaN(d[0])||isNaN(d[1])||isNaN(d[2])?null:new st(d,"hsl")},"func.hsla":p=>{const l=p.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!l)return null;const d=[bm(l[1]),Xn(l[2],100),Xn(l[3],100),Xn(l[4],1)];return isNaN(d[0])||isNaN(d[1])||isNaN(d[2])||isNaN(d[3])?null:new st(d,"hsl")},"hex.rgb":p=>{const l=p.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(l)return new st([parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)],"rgb");const d=p.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return d?new st([parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)],"rgb"):null},"hex.rgba":p=>{const l=p.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(l)return new st([parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16),_t(parseInt(l[4]+l[4],16),0,255,0,1)],"rgb");const d=p.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return d?new st([parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16),_t(parseInt(d[4],16),0,255,0,1)],"rgb"):null}};function Jc(p){return Object.keys(Pd).reduce((d,v)=>d||(Pd[v](p)?v:null),null)}const Xc=p=>{const l=Jc(p);return l?Pd[l](p):null};function q4(p){return p==="func.hsla"||p==="func.rgba"||p==="hex.rgba"}function K4(p){if(typeof p=="string"){const l=Xc(p);if(l)return l}return st.black()}function ym(p){const l=at(Math.floor(p),0,255).toString(16);return l.length===1?`0${l}`:l}function Fd(p,l="#"){const d=lo(p.getComponents("rgb")).map(ym).join("");return`${l}${d}`}function Zc(p,l="#"){const d=p.getComponents("rgb"),v=[d[0],d[1],d[2],d[3]*255].map(ym).join("");return`${l}${v}`}function wm(p){const l=an(0);return`rgb(${lo(p.getComponents("rgb")).map(v=>l(v)).join(", ")})`}function Qc(p){const l=an(2),d=an(0);return`rgba(${p.getComponents("rgb").map((T,z)=>(z===3?l:d)(T)).join(", ")})`}function J4(p){const l=[an(0),ro,ro];return`hsl(${lo(p.getComponents("hsl")).map((v,T)=>l[T](v)).join(", ")})`}function X4(p){const l=[an(0),ro,ro,an(2)];return`hsla(${p.getComponents("hsl").map((v,T)=>l[T](v)).join(", ")})`}const Z4={"func.hsl":J4,"func.hsla":X4,"func.rgb":wm,"func.rgba":Qc,"hex.rgb":Fd,"hex.rgba":Zc};function Cm(p){return Z4[p]}const qa=P("apl");class Q4{constructor(l,d){this.onValueChange_=this.onValueChange_.bind(this),this.value=d.value,this.value.emitter.on("change",this.onValueChange_),this.element=l.createElement("div"),this.element.classList.add(qa()),d.viewProps.bindTabIndex(this.element);const v=l.createElement("div");v.classList.add(qa("b")),this.element.appendChild(v);const T=l.createElement("div");T.classList.add(qa("c")),v.appendChild(T),this.colorElem_=T;const z=l.createElement("div");z.classList.add(qa("m")),this.element.appendChild(z),this.markerElem_=z;const Y=l.createElement("div");Y.classList.add(qa("p")),this.markerElem_.appendChild(Y),this.previewElem_=Y,this.update_()}update_(){const l=this.value.rawValue,d=l.getComponents("rgb"),v=new st([d[0],d[1],d[2],0],"rgb"),T=new st([d[0],d[1],d[2],255],"rgb"),z=["to right",Qc(v),Qc(T)];this.colorElem_.style.background=`linear-gradient(${z.join(",")})`,this.previewElem_.style.backgroundColor=Qc(l);const Y=_t(d[3],0,1,0,100);this.markerElem_.style.left=`${Y}%`}onValueChange_(){this.update_()}}class Y4{constructor(l,d){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=d.value,this.viewProps=d.viewProps,this.view=new Q4(l,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Ii(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(l,d){if(!l.point)return;const v=l.point.x/l.bounds.width,T=this.value.rawValue,[z,Y,xe]=T.getComponents("hsv");this.value.setRawValue(new st([z,Y,xe,v],"hsv"),d)}onPointerDown_(l){this.handlePointerEvent_(l.data,{forceEmit:!1,last:!1})}onPointerMove_(l){this.handlePointerEvent_(l.data,{forceEmit:!1,last:!1})}onPointerUp_(l){this.handlePointerEvent_(l.data,{forceEmit:!0,last:!0})}onKeyDown_(l){const d=ln(lr(!0),_i(l));if(d===0)return;const v=this.value.rawValue,[T,z,Y,xe]=v.getComponents("hsv");this.value.setRawValue(new st([T,z,Y,xe+d],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(l){ln(lr(!0),_i(l))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const co=P("coltxt");function ew(p){const l=p.createElement("select"),d=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}];return l.appendChild(d.reduce((v,T)=>{const z=p.createElement("option");return z.textContent=T.text,z.value=T.value,v.appendChild(z),v},p.createDocumentFragment())),l}class tw{constructor(l,d){this.element=l.createElement("div"),this.element.classList.add(co());const v=l.createElement("div");v.classList.add(co("m")),this.modeElem_=ew(l),this.modeElem_.classList.add(co("ms")),v.appendChild(this.modeSelectElement);const T=l.createElement("div");T.classList.add(co("mm")),T.appendChild(ae(l,"dropdown")),v.appendChild(T),this.element.appendChild(v);const z=l.createElement("div");z.classList.add(co("w")),this.element.appendChild(z),this.textsElem_=z,this.textViews_=d.textViews,this.applyTextViews_(),D(d.colorMode,Y=>{this.modeElem_.value=Y})}get modeSelectElement(){return this.modeElem_}get textViews(){return this.textViews_}set textViews(l){this.textViews_=l,this.applyTextViews_()}applyTextViews_(){de(this.textsElem_);const l=this.element.ownerDocument;this.textViews_.forEach(d=>{const v=l.createElement("div");v.classList.add(co("c")),v.appendChild(d.element),this.textsElem_.appendChild(v)})}}const nw=an(0),iw={rgb:()=>new At({min:0,max:255}),hsl:p=>p===0?new At({min:0,max:360}):new At({min:0,max:100}),hsv:p=>p===0?new At({min:0,max:360}):new At({min:0,max:100})};function Ld(p,l,d){return new ar(p,{arrayPosition:d===0?"fst":d===3-1?"lst":"mid",baseStep:lr(!1),parser:l.parser,props:$.fromObject({draggingScale:1,formatter:nw}),value:j(0,{constraint:iw[l.colorMode](d)}),viewProps:l.viewProps})}class sw{constructor(l,d){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.parser_=d.parser,this.value=d.value,this.viewProps=d.viewProps,this.colorMode=j(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(l),this.view=new tw(l,{colorMode:this.colorMode,textViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(l){const d={colorMode:this.colorMode.rawValue,parser:this.parser_,viewProps:this.viewProps},v=[Ld(l,d,0),Ld(l,d,1),Ld(l,d,2)];return v.forEach((T,z)=>{mi({primary:this.value,secondary:T.value,forward:Y=>Y.rawValue.getComponents(this.colorMode.rawValue)[z],backward:(Y,xe)=>{const Oe=this.colorMode.rawValue,We=Y.rawValue.getComponents(Oe);return We[z]=xe.rawValue,new st(vm(lo(We),We[3]),Oe)}})}),v}onModeSelectChange_(l){const d=l.currentTarget;this.colorMode.rawValue=d.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.textViews=[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}}const Id=P("hpl");class rw{constructor(l,d){this.onValueChange_=this.onValueChange_.bind(this),this.value=d.value,this.value.emitter.on("change",this.onValueChange_),this.element=l.createElement("div"),this.element.classList.add(Id()),d.viewProps.bindTabIndex(this.element);const v=l.createElement("div");v.classList.add(Id("c")),this.element.appendChild(v);const T=l.createElement("div");T.classList.add(Id("m")),this.element.appendChild(T),this.markerElem_=T,this.update_()}update_(){const l=this.value.rawValue,[d]=l.getComponents("hsv");this.markerElem_.style.backgroundColor=wm(new st([d,100,100],"hsv"));const v=_t(d,0,360,0,100);this.markerElem_.style.left=`${v}%`}onValueChange_(){this.update_()}}class ow{constructor(l,d){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=d.value,this.viewProps=d.viewProps,this.view=new rw(l,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Ii(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(l,d){if(!l.point)return;const v=_t(at(l.point.x,0,l.bounds.width),0,l.bounds.width,0,359),T=this.value.rawValue,[,z,Y,xe]=T.getComponents("hsv");this.value.setRawValue(new st([v,z,Y,xe],"hsv"),d)}onPointerDown_(l){this.handlePointerEvent_(l.data,{forceEmit:!1,last:!1})}onPointerMove_(l){this.handlePointerEvent_(l.data,{forceEmit:!1,last:!1})}onPointerUp_(l){this.handlePointerEvent_(l.data,{forceEmit:!0,last:!0})}onKeyDown_(l){const d=ln(lr(!1),_i(l));if(d===0)return;const v=this.value.rawValue,[T,z,Y,xe]=v.getComponents("hsv");this.value.setRawValue(new st([T+d,z,Y,xe],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(l){ln(lr(!1),_i(l))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Rd=P("svp"),xm=64;class aw{constructor(l,d){this.onValueChange_=this.onValueChange_.bind(this),this.value=d.value,this.value.emitter.on("change",this.onValueChange_),this.element=l.createElement("div"),this.element.classList.add(Rd()),d.viewProps.bindTabIndex(this.element);const v=l.createElement("canvas");v.height=xm,v.width=xm,v.classList.add(Rd("c")),this.element.appendChild(v),this.canvasElement=v;const T=l.createElement("div");T.classList.add(Rd("m")),this.element.appendChild(T),this.markerElem_=T,this.update_()}update_(){const l=ee(this.canvasElement);if(!l)return;const v=this.value.rawValue.getComponents("hsv"),T=this.canvasElement.width,z=this.canvasElement.height,Y=l.getImageData(0,0,T,z),xe=Y.data;for(let lt=0;lt<z;lt++)for(let ht=0;ht<T;ht++){const cr=_t(ht,0,T,0,100),Ja=_t(lt,0,z,100,0),Xa=gm(v[0],cr,Ja),po=(lt*T+ht)*4;xe[po]=Xa[0],xe[po+1]=Xa[1],xe[po+2]=Xa[2],xe[po+3]=255}l.putImageData(Y,0,0);const Oe=_t(v[1],0,100,0,100);this.markerElem_.style.left=`${Oe}%`;const We=_t(v[2],0,100,100,0);this.markerElem_.style.top=`${We}%`}onValueChange_(){this.update_()}}class lw{constructor(l,d){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=d.value,this.viewProps=d.viewProps,this.view=new aw(l,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Ii(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(l,d){if(!l.point)return;const v=_t(l.point.x,0,l.bounds.width,0,100),T=_t(l.point.y,0,l.bounds.height,100,0),[z,,,Y]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new st([z,v,T,Y],"hsv"),d)}onPointerDown_(l){this.handlePointerEvent_(l.data,{forceEmit:!1,last:!1})}onPointerMove_(l){this.handlePointerEvent_(l.data,{forceEmit:!1,last:!1})}onPointerUp_(l){this.handlePointerEvent_(l.data,{forceEmit:!0,last:!0})}onKeyDown_(l){mn(l.key)&&l.preventDefault();const[d,v,T,z]=this.value.rawValue.getComponents("hsv"),Y=lr(!1),xe=ln(Y,_i(l)),Oe=ln(Y,vs(l));xe===0&&Oe===0||this.value.setRawValue(new st([d,v+xe,T+Oe,z],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(l){const d=lr(!1),v=ln(d,_i(l)),T=ln(d,vs(l));v===0&&T===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class cw{constructor(l,d){this.value=d.value,this.viewProps=d.viewProps,this.hPaletteC_=new ow(l,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new lw(l,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=d.supportsAlpha?{palette:new Y4(l,{value:this.value,viewProps:this.viewProps}),text:new ar(l,{parser:on,baseStep:.1,props:$.fromObject({draggingScale:.01,formatter:an(2)}),value:j(0,{constraint:new At({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&mi({primary:this.value,secondary:this.alphaIcs_.text.value,forward:v=>v.rawValue.getComponents()[3],backward:(v,T)=>{const z=v.rawValue.getComponents();return z[3]=T.rawValue,new st(z,v.rawValue.mode)}}),this.textC_=new sw(l,{parser:on,value:this.value,viewProps:this.viewProps}),this.view=new W4(l,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:d.supportsAlpha,svPaletteView:this.svPaletteC_.view,textView:this.textC_.view})}get textController(){return this.textC_}}const kd=P("colsw");class uw{constructor(l,d){this.onValueChange_=this.onValueChange_.bind(this),d.value.emitter.on("change",this.onValueChange_),this.value=d.value,this.element=l.createElement("div"),this.element.classList.add(kd()),d.viewProps.bindClassModifiers(this.element);const v=l.createElement("div");v.classList.add(kd("sw")),this.element.appendChild(v),this.swatchElem_=v;const T=l.createElement("button");T.classList.add(kd("b")),d.viewProps.bindDisabled(T),this.element.appendChild(T),this.buttonElement=T,this.update_()}update_(){const l=this.value.rawValue;this.swatchElem_.style.backgroundColor=Zc(l)}onValueChange_(){this.update_()}}class hw{constructor(l,d){this.value=d.value,this.viewProps=d.viewProps,this.view=new uw(l,{value:this.value,viewProps:this.viewProps})}}class Od{constructor(l,d){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=d.value,this.viewProps=d.viewProps,this.foldable_=$e.create(d.expanded),this.swatchC_=new hw(l,{value:this.value,viewProps:this.viewProps});const v=this.swatchC_.view.buttonElement;v.addEventListener("blur",this.onButtonBlur_),v.addEventListener("click",this.onButtonClick_),this.textC_=new io(l,{parser:d.parser,props:$.fromObject({formatter:d.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new vi(l,{foldable:this.foldable_,pickerLayout:d.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=d.pickerLayout==="popup"?new Bc(l,{viewProps:this.viewProps}):null;const T=new cw(l,{supportsAlpha:d.supportsAlpha,value:this.value,viewProps:this.viewProps});T.view.allFocusableElements.forEach(z=>{z.addEventListener("blur",this.onPopupChildBlur_),z.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=T,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(T.view.element),mi({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:z=>z.rawValue,backward:(z,Y)=>Y.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Ki(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(l){if(!this.popC_)return;const d=this.view.element,v=l.relatedTarget;(!v||!d.contains(v))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(l){if(!this.popC_)return;const d=this.popC_.view.element,v=te(l);v&&d.contains(v)||v&&v===this.swatchC_.view.buttonElement&&!ke(d.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(l){this.popC_?l.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&l.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function dw(p){return st.isColorObject(p)?st.fromObject(p):st.black()}function fw(p){return lo(p.getComponents("rgb")).reduce((l,d)=>l<<8|Math.floor(d)&255,0)}function pw(p){return p.getComponents("rgb").reduce((l,d,v)=>{const T=Math.floor(v===3?d*255:d)&255;return l<<8|T},0)>>>0}function mw(p){return new st([p>>16&255,p>>8&255,p&255],"rgb")}function _w(p){return new st([p>>24&255,p>>16&255,p>>8&255,_t(p&255,0,255,0,1)],"rgb")}function gw(p){return typeof p!="number"?st.black():mw(p)}function vw(p){return typeof p!="number"?st.black():_w(p)}function bw(p){const l=Cm(p);return(d,v)=>{gi(d,l(v))}}function yw(p){const l=p?pw:fw;return(d,v)=>{gi(d,l(v))}}function ww(p,l){const d=l.toRgbaObject();p.writeProperty("r",d.r),p.writeProperty("g",d.g),p.writeProperty("b",d.b),p.writeProperty("a",d.a)}function Cw(p,l){const d=l.toRgbaObject();p.writeProperty("r",d.r),p.writeProperty("g",d.g),p.writeProperty("b",d.b)}function xw(p){return p?ww:Cw}function Nd(p){return"alpha"in p&&p.alpha===!0}function Ew(p){return p?l=>Zc(l,"0x"):l=>Fd(l,"0x")}const Aw={id:"input-color-number",type:"input",accept:(p,l)=>{if(typeof p!="number"||!("view"in l)||l.view!=="color")return null;const d=Bd(l);return d?{initialValue:p,params:d}:null},binding:{reader:p=>Nd(p.params)?vw:gw,equals:st.equals,writer:p=>yw(Nd(p.params))},controller:p=>{const l=Nd(p.params),d="expanded"in p.params?p.params.expanded:void 0,v="picker"in p.params?p.params.picker:void 0;return new Od(p.document,{expanded:d!=null?d:!1,formatter:Ew(l),parser:Xc,pickerLayout:v!=null?v:"popup",supportsAlpha:l,value:p.value,viewProps:p.viewProps})}};function Dw(p){return st.isRgbaColorObject(p)}const Sw={id:"input-color-object",type:"input",accept:(p,l)=>{if(!st.isColorObject(p))return null;const d=Bd(l);return d?{initialValue:p,params:d}:null},binding:{reader:p=>dw,equals:st.equals,writer:p=>xw(Dw(p.initialValue))},controller:p=>{const l=st.isRgbaColorObject(p.initialValue),d="expanded"in p.params?p.params.expanded:void 0,v="picker"in p.params?p.params.picker:void 0,T=l?Zc:Fd;return new Od(p.document,{expanded:d!=null?d:!1,formatter:T,parser:Xc,pickerLayout:v!=null?v:"popup",supportsAlpha:l,value:p.value,viewProps:p.viewProps})}},Tw={id:"input-color-string",type:"input",accept:(p,l)=>{if(typeof p!="string"||"view"in l&&l.view==="text"||!Jc(p))return null;const v=Bd(l);return v?{initialValue:p,params:v}:null},binding:{reader:p=>K4,equals:st.equals,writer:p=>{const l=Jc(p.initialValue);if(!l)throw _.shouldNeverHappen();return bw(l)}},controller:p=>{const l=Jc(p.initialValue);if(!l)throw _.shouldNeverHappen();const d=Cm(l),v="expanded"in p.params?p.params.expanded:void 0,T="picker"in p.params?p.params.picker:void 0;return new Od(p.document,{expanded:v!=null?v:!1,formatter:d,parser:Xc,pickerLayout:T!=null?T:"popup",supportsAlpha:q4(l),value:p.value,viewProps:p.viewProps})}};class ys{constructor(l){this.components=l.components,this.asm_=l.assembly}constrain(l){const d=this.asm_.toComponents(l).map((v,T)=>{var z,Y;return(Y=(z=this.components[T])===null||z===void 0?void 0:z.constrain(v))!==null&&Y!==void 0?Y:v});return this.asm_.fromComponents(d)}}const Em=P("pndtxt");class Mw{constructor(l,d){this.textViews=d.textViews,this.element=l.createElement("div"),this.element.classList.add(Em()),this.textViews.forEach(v=>{const T=l.createElement("div");T.classList.add(Em("a")),T.appendChild(v.element),this.element.appendChild(T)})}}function Bw(p,l,d){return new ar(p,{arrayPosition:d===0?"fst":d===l.axes.length-1?"lst":"mid",baseStep:l.axes[d].baseStep,parser:l.parser,props:l.axes[d].textProps,value:j(0,{constraint:l.axes[d].constraint}),viewProps:l.viewProps})}class Vd{constructor(l,d){this.value=d.value,this.viewProps=d.viewProps,this.acs_=d.axes.map((v,T)=>Bw(l,d,T)),this.acs_.forEach((v,T)=>{mi({primary:this.value,secondary:v.value,forward:z=>d.assembly.toComponents(z.rawValue)[T],backward:(z,Y)=>{const xe=d.assembly.toComponents(z.rawValue);return xe[T]=Y.rawValue,d.assembly.fromComponents(xe)}})}),this.view=new Mw(l,{textViews:this.acs_.map(v=>v.view)})}}function Pw(p){return"step"in p&&!h(p.step)?new Xi(p.step):null}function Fw(p){return"max"in p&&!h(p.max)||"min"in p&&!h(p.min)?new At({max:p.max,min:p.min}):null}function Lw(p){const l=[],d=Pw(p);d&&l.push(d);const v=Fw(p);v&&l.push(v);const T=qc(p.options);return T&&l.push(T),new gt(l)}function Iw(p){const l=p?kn(p,At):null;return l?[l.minValue,l.maxValue]:[void 0,void 0]}function Rw(p){const[l,d]=Iw(p);return[l!=null?l:0,d!=null?d:100]}const kw={id:"input-number",type:"input",accept:(p,l)=>{if(typeof p!="number")return null;const d=De,v=ce(l,{format:d.optional.function,max:d.optional.number,min:d.optional.number,options:d.optional.custom(ao),step:d.optional.number});return v?{initialValue:p,params:v}:null},binding:{reader:p=>zc,constraint:p=>Lw(p.params),writer:p=>gi},controller:p=>{var l,d;const v=p.value,T=p.constraint;if(T&&kn(T,fi))return new sr(p.document,{props:$.fromObject({options:(l=Wa(T))!==null&&l!==void 0?l:[]}),value:v,viewProps:p.viewProps});const z=(d="format"in p.params?p.params.format:void 0)!==null&&d!==void 0?d:an(g(T,v.rawValue));if(T&&kn(T,At)){const[Y,xe]=Rw(T);return new $a(p.document,{baseStep:C(T),parser:on,sliderProps:$.fromObject({maxValue:xe,minValue:Y}),textProps:$.fromObject({draggingScale:S(T,v.rawValue),formatter:z}),value:v,viewProps:p.viewProps})}return new ar(p.document,{baseStep:C(T),parser:on,props:$.fromObject({draggingScale:S(T,v.rawValue),formatter:z}),value:v,viewProps:p.viewProps})}};class ws{constructor(l=0,d=0){this.x=l,this.y=d}getComponents(){return[this.x,this.y]}static isObject(l){if(h(l))return!1;const d=l.x,v=l.y;return!(typeof d!="number"||typeof v!="number")}static equals(l,d){return l.x===d.x&&l.y===d.y}toObject(){return{x:this.x,y:this.y}}}const Am={toComponents:p=>p.getComponents(),fromComponents:p=>new ws(...p)},uo=P("p2d");class Ow{constructor(l,d){this.element=l.createElement("div"),this.element.classList.add(uo()),d.viewProps.bindClassModifiers(this.element),D(d.expanded,L(this.element,uo(void 0,"expanded")));const v=l.createElement("div");v.classList.add(uo("h")),this.element.appendChild(v);const T=l.createElement("button");T.classList.add(uo("b")),T.appendChild(ae(l,"p2dpad")),d.viewProps.bindDisabled(T),v.appendChild(T),this.buttonElement=T;const z=l.createElement("div");if(z.classList.add(uo("t")),v.appendChild(z),this.textElement=z,d.pickerLayout==="inline"){const Y=l.createElement("div");Y.classList.add(uo("p")),this.element.appendChild(Y),this.pickerElement=Y}else this.pickerElement=null}}const Cs=P("p2dp");class Nw{constructor(l,d){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.invertsY_=d.invertsY,this.maxValue_=d.maxValue,this.element=l.createElement("div"),this.element.classList.add(Cs()),d.layout==="popup"&&this.element.classList.add(Cs(void 0,"p"));const v=l.createElement("div");v.classList.add(Cs("p")),d.viewProps.bindTabIndex(v),this.element.appendChild(v),this.padElement=v;const T=l.createElementNS(Re,"svg");T.classList.add(Cs("g")),this.padElement.appendChild(T),this.svgElem_=T;const z=l.createElementNS(Re,"line");z.classList.add(Cs("ax")),z.setAttributeNS(null,"x1","0"),z.setAttributeNS(null,"y1","50%"),z.setAttributeNS(null,"x2","100%"),z.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(z);const Y=l.createElementNS(Re,"line");Y.classList.add(Cs("ax")),Y.setAttributeNS(null,"x1","50%"),Y.setAttributeNS(null,"y1","0"),Y.setAttributeNS(null,"x2","50%"),Y.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(Y);const xe=l.createElementNS(Re,"line");xe.classList.add(Cs("l")),xe.setAttributeNS(null,"x1","50%"),xe.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(xe),this.lineElem_=xe;const Oe=l.createElement("div");Oe.classList.add(Cs("m")),this.padElement.appendChild(Oe),this.markerElem_=Oe,d.value.emitter.on("change",this.onValueChange_),this.value=d.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[l,d]=this.value.rawValue.getComponents(),v=this.maxValue_,T=_t(l,-v,+v,0,100),z=_t(d,-v,+v,0,100),Y=this.invertsY_?100-z:z;this.lineElem_.setAttributeNS(null,"x2",`${T}%`),this.lineElem_.setAttributeNS(null,"y2",`${Y}%`),this.markerElem_.style.left=`${T}%`,this.markerElem_.style.top=`${Y}%`}onValueChange_(){this.update_()}onFoldableChange_(){this.update_()}}function Dm(p,l,d){return[ln(l[0],_i(p)),ln(l[1],vs(p))*(d?1:-1)]}class Vw{constructor(l,d){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=d.value,this.viewProps=d.viewProps,this.baseSteps_=d.baseSteps,this.maxValue_=d.maxValue,this.invertsY_=d.invertsY,this.view=new Nw(l,{invertsY:this.invertsY_,layout:d.layout,maxValue:this.maxValue_,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Ii(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(l,d){if(!l.point)return;const v=this.maxValue_,T=_t(l.point.x,0,l.bounds.width,-v,+v),z=_t(this.invertsY_?l.bounds.height-l.point.y:l.point.y,0,l.bounds.height,-v,+v);this.value.setRawValue(new ws(T,z),d)}onPointerDown_(l){this.handlePointerEvent_(l.data,{forceEmit:!1,last:!1})}onPointerMove_(l){this.handlePointerEvent_(l.data,{forceEmit:!1,last:!1})}onPointerUp_(l){this.handlePointerEvent_(l.data,{forceEmit:!0,last:!0})}onPadKeyDown_(l){mn(l.key)&&l.preventDefault();const[d,v]=Dm(l,this.baseSteps_,this.invertsY_);d===0&&v===0||this.value.setRawValue(new ws(this.value.rawValue.x+d,this.value.rawValue.y+v),{forceEmit:!1,last:!1})}onPadKeyUp_(l){const[d,v]=Dm(l,this.baseSteps_,this.invertsY_);d===0&&v===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Hw{constructor(l,d){var v,T;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=d.value,this.viewProps=d.viewProps,this.foldable_=$e.create(d.expanded),this.popC_=d.pickerLayout==="popup"?new Bc(l,{viewProps:this.viewProps}):null;const z=new Vw(l,{baseSteps:[d.axes[0].baseStep,d.axes[1].baseStep],invertsY:d.invertsY,layout:d.pickerLayout,maxValue:d.maxValue,value:this.value,viewProps:this.viewProps});z.view.allFocusableElements.forEach(Y=>{Y.addEventListener("blur",this.onPopupChildBlur_),Y.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=z,this.textC_=new Vd(l,{assembly:Am,axes:d.axes,parser:d.parser,value:this.value,viewProps:this.viewProps}),this.view=new Ow(l,{expanded:this.foldable_.value("expanded"),pickerLayout:d.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(v=this.view.buttonElement)===null||v===void 0||v.addEventListener("blur",this.onPadButtonBlur_),(T=this.view.buttonElement)===null||T===void 0||T.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),mi({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:Y=>Y.rawValue,backward:(Y,xe)=>xe.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Ki(this.foldable_,this.view.pickerElement))}onPadButtonBlur_(l){if(!this.popC_)return;const d=this.view.element,v=l.relatedTarget;(!v||!d.contains(v))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(l){if(!this.popC_)return;const d=this.popC_.view.element,v=te(l);v&&d.contains(v)||v&&v===this.view.buttonElement&&!ke(d.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(l){this.popC_?l.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&l.key==="Escape"&&this.view.buttonElement.focus()}}function zw(p){return ws.isObject(p)?new ws(p.x,p.y):new ws}function Uw(p,l){p.writeProperty("x",l.x),p.writeProperty("y",l.y)}function Sm(p){if(!p)return;const l=[];return h(p.step)||l.push(new Xi(p.step)),(!h(p.max)||!h(p.min))&&l.push(new At({max:p.max,min:p.min})),new gt(l)}function Gw(p){return new ys({assembly:Am,components:[Sm("x"in p?p.x:void 0),Sm("y"in p?p.y:void 0)]})}function Tm(p,l){const d=p&&kn(p,At);if(d)return Math.max(Math.abs(d.minValue||0),Math.abs(d.maxValue||0));const v=C(p);return Math.max(Math.abs(v)*10,Math.abs(l)*10)}function $w(p,l){const d=l instanceof ys?l.components[0]:void 0,v=l instanceof ys?l.components[1]:void 0,T=Tm(d,p.x),z=Tm(v,p.y);return Math.max(T,z)}function Mm(p,l){return{baseStep:C(l),constraint:l,textProps:$.fromObject({draggingScale:S(l,p),formatter:an(g(l,p))})}}function Ww(p){if(!("y"in p))return!1;const l=p.y;return l&&"inverted"in l?!!l.inverted:!1}const jw={id:"input-point2d",type:"input",accept:(p,l)=>{if(!ws.isObject(p))return null;const d=De,v=ce(l,{expanded:d.optional.boolean,picker:d.optional.custom(Wc),x:d.optional.custom(Jn),y:d.optional.object({inverted:d.optional.boolean,max:d.optional.number,min:d.optional.number,step:d.optional.number})});return v?{initialValue:p,params:v}:null},binding:{reader:p=>zw,constraint:p=>Gw(p.params),equals:ws.equals,writer:p=>Uw},controller:p=>{const l=p.document,d=p.value,v=p.constraint;if(!(v instanceof ys))throw _.shouldNeverHappen();const T="expanded"in p.params?p.params.expanded:void 0,z="picker"in p.params?p.params.picker:void 0;return new Hw(l,{axes:[Mm(d.rawValue.x,v.components[0]),Mm(d.rawValue.y,v.components[1])],expanded:T!=null?T:!1,invertsY:Ww(p.params),maxValue:$w(d.rawValue,v),parser:on,pickerLayout:z!=null?z:"popup",value:d,viewProps:p.viewProps})}};class ho{constructor(l=0,d=0,v=0){this.x=l,this.y=d,this.z=v}getComponents(){return[this.x,this.y,this.z]}static isObject(l){if(h(l))return!1;const d=l.x,v=l.y,T=l.z;return!(typeof d!="number"||typeof v!="number"||typeof T!="number")}static equals(l,d){return l.x===d.x&&l.y===d.y&&l.z===d.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const Bm={toComponents:p=>p.getComponents(),fromComponents:p=>new ho(...p)};function qw(p){return ho.isObject(p)?new ho(p.x,p.y,p.z):new ho}function Kw(p,l){p.writeProperty("x",l.x),p.writeProperty("y",l.y),p.writeProperty("z",l.z)}function Hd(p){if(!p)return;const l=[];return h(p.step)||l.push(new Xi(p.step)),(!h(p.max)||!h(p.min))&&l.push(new At({max:p.max,min:p.min})),new gt(l)}function Jw(p){return new ys({assembly:Bm,components:[Hd("x"in p?p.x:void 0),Hd("y"in p?p.y:void 0),Hd("z"in p?p.z:void 0)]})}function zd(p,l){return{baseStep:C(l),constraint:l,textProps:$.fromObject({draggingScale:S(l,p),formatter:an(g(l,p))})}}const Xw={id:"input-point3d",type:"input",accept:(p,l)=>{if(!ho.isObject(p))return null;const d=De,v=ce(l,{x:d.optional.custom(Jn),y:d.optional.custom(Jn),z:d.optional.custom(Jn)});return v?{initialValue:p,params:v}:null},binding:{reader:p=>qw,constraint:p=>Jw(p.params),equals:ho.equals,writer:p=>Kw},controller:p=>{const l=p.value,d=p.constraint;if(!(d instanceof ys))throw _.shouldNeverHappen();return new Vd(p.document,{assembly:Bm,axes:[zd(l.rawValue.x,d.components[0]),zd(l.rawValue.y,d.components[1]),zd(l.rawValue.z,d.components[2])],parser:on,value:l,viewProps:p.viewProps})}};class fo{constructor(l=0,d=0,v=0,T=0){this.x=l,this.y=d,this.z=v,this.w=T}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(l){if(h(l))return!1;const d=l.x,v=l.y,T=l.z,z=l.w;return!(typeof d!="number"||typeof v!="number"||typeof T!="number"||typeof z!="number")}static equals(l,d){return l.x===d.x&&l.y===d.y&&l.z===d.z&&l.w===d.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const Pm={toComponents:p=>p.getComponents(),fromComponents:p=>new fo(...p)};function Zw(p){return fo.isObject(p)?new fo(p.x,p.y,p.z,p.w):new fo}function Qw(p,l){p.writeProperty("x",l.x),p.writeProperty("y",l.y),p.writeProperty("z",l.z),p.writeProperty("w",l.w)}function Yc(p){if(!p)return;const l=[];return h(p.step)||l.push(new Xi(p.step)),(!h(p.max)||!h(p.min))&&l.push(new At({max:p.max,min:p.min})),new gt(l)}function Yw(p){return new ys({assembly:Pm,components:[Yc("x"in p?p.x:void 0),Yc("y"in p?p.y:void 0),Yc("z"in p?p.z:void 0),Yc("w"in p?p.w:void 0)]})}function eC(p,l){return{baseStep:C(l),constraint:l,textProps:$.fromObject({draggingScale:S(l,p),formatter:an(g(l,p))})}}const tC={id:"input-point4d",type:"input",accept:(p,l)=>{if(!fo.isObject(p))return null;const d=De,v=ce(l,{x:d.optional.custom(Jn),y:d.optional.custom(Jn),z:d.optional.custom(Jn),w:d.optional.custom(Jn)});return v?{initialValue:p,params:v}:null},binding:{reader:p=>Zw,constraint:p=>Yw(p.params),equals:fo.equals,writer:p=>Qw},controller:p=>{const l=p.value,d=p.constraint;if(!(d instanceof ys))throw _.shouldNeverHappen();return new Vd(p.document,{assembly:Pm,axes:l.rawValue.getComponents().map((v,T)=>eC(v,d.components[T])),parser:on,value:l,viewProps:p.viewProps})}};function nC(p){const l=[],d=qc(p.options);return d&&l.push(d),new gt(l)}const iC={id:"input-string",type:"input",accept:(p,l)=>{if(typeof p!="string")return null;const v=ce(l,{options:De.optional.custom(ao)});return v?{initialValue:p,params:v}:null},binding:{reader:p=>Va,constraint:p=>nC(p.params),writer:p=>gi},controller:p=>{var l;const d=p.document,v=p.value,T=p.constraint;return T&&kn(T,fi)?new sr(d,{props:$.fromObject({options:(l=Wa(T))!==null&&l!==void 0?l:[]}),value:v,viewProps:p.viewProps}):new io(d,{parser:z=>z,props:$.fromObject({formatter:Ha}),value:v,viewProps:p.viewProps})}},Ka={monitor:{defaultInterval:200,defaultLineCount:3}},Fm=P("mll");class sC{constructor(l,d){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=d.formatter,this.element=l.createElement("div"),this.element.classList.add(Fm()),d.viewProps.bindClassModifiers(this.element);const v=l.createElement("textarea");v.classList.add(Fm("i")),v.style.height=`calc(var(--bld-us) * ${d.lineCount})`,v.readOnly=!0,d.viewProps.bindDisabled(v),this.element.appendChild(v),this.textareaElem_=v,d.value.emitter.on("change",this.onValueUpdate_),this.value=d.value,this.update_()}update_(){const l=this.textareaElem_,d=l.scrollTop===l.scrollHeight-l.clientHeight,v=[];this.value.rawValue.forEach(T=>{T!==void 0&&v.push(this.formatter_(T))}),l.textContent=v.join(`
`),d&&(l.scrollTop=l.scrollHeight)}onValueUpdate_(){this.update_()}}class Ud{constructor(l,d){this.value=d.value,this.viewProps=d.viewProps,this.view=new sC(l,{formatter:d.formatter,lineCount:d.lineCount,value:this.value,viewProps:this.viewProps})}}const Lm=P("sgl");class rC{constructor(l,d){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=d.formatter,this.element=l.createElement("div"),this.element.classList.add(Lm()),d.viewProps.bindClassModifiers(this.element);const v=l.createElement("input");v.classList.add(Lm("i")),v.readOnly=!0,v.type="text",d.viewProps.bindDisabled(v),this.element.appendChild(v),this.inputElement=v,d.value.emitter.on("change",this.onValueUpdate_),this.value=d.value,this.update_()}update_(){const l=this.value.rawValue,d=l[l.length-1];this.inputElement.value=d!==void 0?this.formatter_(d):""}onValueUpdate_(){this.update_()}}class Gd{constructor(l,d){this.value=d.value,this.viewProps=d.viewProps,this.view=new rC(l,{formatter:d.formatter,value:this.value,viewProps:this.viewProps})}}const oC={id:"monitor-bool",type:"monitor",accept:(p,l)=>{if(typeof p!="boolean")return null;const v=ce(l,{lineCount:De.optional.number});return v?{initialValue:p,params:v}:null},binding:{reader:p=>so},controller:p=>{var l;return p.value.rawValue.length===1?new Gd(p.document,{formatter:Lc,value:p.value,viewProps:p.viewProps}):new Ud(p.document,{formatter:Lc,lineCount:(l=p.params.lineCount)!==null&&l!==void 0?l:Ka.monitor.defaultLineCount,value:p.value,viewProps:p.viewProps})}};class aC{constructor(){this.emitter=new x,this.index_=-1}get index(){return this.index_}set index(l){this.index_!==l&&(this.index_=l,this.emitter.emit("change",{index:l,sender:this}))}}const xs=P("grl");class lC{constructor(l,d){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=l.createElement("div"),this.element.classList.add(xs()),d.viewProps.bindClassModifiers(this.element),this.formatter_=d.formatter,this.minValue_=d.minValue,this.maxValue_=d.maxValue,this.cursor_=d.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const v=l.createElementNS(Re,"svg");v.classList.add(xs("g")),v.style.height=`calc(var(--bld-us) * ${d.lineCount})`,this.element.appendChild(v),this.svgElem_=v;const T=l.createElementNS(Re,"polyline");this.svgElem_.appendChild(T),this.lineElem_=T;const z=l.createElement("div");z.classList.add(xs("t"),P("tt")()),this.element.appendChild(z),this.tooltipElem_=z,d.value.emitter.on("change",this.onValueUpdate_),this.value=d.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const l=this.svgElem_.getBoundingClientRect(),d=this.value.rawValue.length-1,v=this.minValue_,T=this.maxValue_,z=[];this.value.rawValue.forEach((lt,ht)=>{if(lt===void 0)return;const cr=_t(ht,0,d,0,l.width),Ja=_t(lt,v,T,l.height,0);z.push([cr,Ja].join(","))}),this.lineElem_.setAttributeNS(null,"points",z.join(" "));const Y=this.tooltipElem_,xe=this.value.rawValue[this.cursor_.index];if(xe===void 0){Y.classList.remove(xs("t","a"));return}const Oe=_t(this.cursor_.index,0,d,0,l.width),We=_t(xe,v,T,l.height,0);Y.style.left=`${Oe}px`,Y.style.top=`${We}px`,Y.textContent=`${this.formatter_(xe)}`,Y.classList.contains(xs("t","a"))||(Y.classList.add(xs("t","a"),xs("t","in")),Qe(Y),Y.classList.remove(xs("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class cC{constructor(l,d){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.value=d.value,this.viewProps=d.viewProps,this.cursor_=new aC,this.view=new lC(l,{cursor:this.cursor_,formatter:d.formatter,lineCount:d.lineCount,maxValue:d.maxValue,minValue:d.minValue,value:this.value,viewProps:this.viewProps}),!ke(l))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const v=new Ii(this.view.element);v.emitter.on("down",this.onGraphPointerDown_),v.emitter.on("move",this.onGraphPointerMove_),v.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.index=-1}onGraphMouseMove_(l){const d=this.view.element.getBoundingClientRect();this.cursor_.index=Math.floor(_t(l.offsetX,0,d.width,0,this.value.rawValue.length))}onGraphPointerDown_(l){this.onGraphPointerMove_(l)}onGraphPointerMove_(l){if(!l.data.point){this.cursor_.index=-1;return}this.cursor_.index=Math.floor(_t(l.data.point.x,0,l.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.index=-1}}function $d(p){return"format"in p&&!h(p.format)?p.format:an(2)}function uC(p){var l;return p.value.rawValue.length===1?new Gd(p.document,{formatter:$d(p.params),value:p.value,viewProps:p.viewProps}):new Ud(p.document,{formatter:$d(p.params),lineCount:(l=p.params.lineCount)!==null&&l!==void 0?l:Ka.monitor.defaultLineCount,value:p.value,viewProps:p.viewProps})}function hC(p){var l,d,v;return new cC(p.document,{formatter:$d(p.params),lineCount:(l=p.params.lineCount)!==null&&l!==void 0?l:Ka.monitor.defaultLineCount,maxValue:(d="max"in p.params?p.params.max:null)!==null&&d!==void 0?d:100,minValue:(v="min"in p.params?p.params.min:null)!==null&&v!==void 0?v:0,value:p.value,viewProps:p.viewProps})}function Im(p){return"view"in p&&p.view==="graph"}const dC={id:"monitor-number",type:"monitor",accept:(p,l)=>{if(typeof p!="number")return null;const d=De,v=ce(l,{format:d.optional.function,lineCount:d.optional.number,max:d.optional.number,min:d.optional.number,view:d.optional.string});return v?{initialValue:p,params:v}:null},binding:{defaultBufferSize:p=>Im(p)?64:1,reader:p=>zc},controller:p=>Im(p.params)?hC(p):uC(p)},fC={id:"monitor-string",type:"monitor",accept:(p,l)=>{if(typeof p!="string")return null;const d=De,v=ce(l,{lineCount:d.optional.number,multiline:d.optional.boolean});return v?{initialValue:p,params:v}:null},binding:{reader:p=>Va},controller:p=>{var l;const d=p.value;return d.rawValue.length>1||"multiline"in p.params&&p.params.multiline?new Ud(p.document,{formatter:Ha,lineCount:(l=p.params.lineCount)!==null&&l!==void 0?l:Ka.monitor.defaultLineCount,value:d,viewProps:p.viewProps}):new Gd(p.document,{formatter:Ha,value:d,viewProps:p.viewProps})}};class pC{constructor(l){this.onValueChange_=this.onValueChange_.bind(this),this.reader=l.reader,this.writer=l.writer,this.emitter=new x,this.value=l.value,this.value.emitter.on("change",this.onValueChange_),this.target=l.target,this.read()}read(){const l=this.target.read();l!==void 0&&(this.value.rawValue=this.reader(l))}write_(l){this.writer(this.target,l)}onValueChange_(l){this.write_(l.rawValue),this.emitter.emit("change",{options:l.options,rawValue:l.rawValue,sender:this})}}function mC(p,l){const d=p.accept(l.target.read(),l.params);if(h(d))return null;const v=De,T={target:l.target,initialValue:d.initialValue,params:d.params},z=p.binding.reader(T),Y=p.binding.constraint?p.binding.constraint(T):void 0,xe=j(z(d.initialValue),{constraint:Y,equals:p.binding.equals}),Oe=new pC({reader:z,target:l.target,value:xe,writer:p.binding.writer(T)}),We=v.optional.boolean(l.params.disabled).value,lt=v.optional.boolean(l.params.hidden).value,ht=p.controller({constraint:Y,document:l.document,initialValue:d.initialValue,params:d.params,value:Oe.value,viewProps:Bi.create({disabled:We,hidden:lt})}),cr=v.optional.string(l.params.label).value;return new Cn(l.document,{binding:Oe,blade:qe(),props:$.fromObject({label:cr||l.target.key}),valueController:ht})}class _C{constructor(l){this.onTick_=this.onTick_.bind(this),this.reader_=l.reader,this.target=l.target,this.emitter=new x,this.value=l.value,this.ticker=l.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}dispose(){this.ticker.dispose()}read(){const l=this.target.read();if(l===void 0)return;const d=this.value.rawValue,v=this.reader_(l);this.value.rawValue=Cd(d,v),this.emitter.emit("update",{rawValue:v,sender:this})}onTick_(l){this.read()}}function gC(p,l){return l===0?new Pa:new no(p,l!=null?l:Ka.monitor.defaultInterval)}function vC(p,l){var d,v,T;const z=De,Y=p.accept(l.target.read(),l.params);if(h(Y))return null;const xe={target:l.target,initialValue:Y.initialValue,params:Y.params},Oe=p.binding.reader(xe),We=(v=(d=z.optional.number(l.params.bufferSize).value)!==null&&d!==void 0?d:p.binding.defaultBufferSize&&p.binding.defaultBufferSize(Y.params))!==null&&v!==void 0?v:1,lt=z.optional.number(l.params.interval).value,ht=new _C({reader:Oe,target:l.target,ticker:gC(l.document,lt),value:wd(We)}),cr=z.optional.boolean(l.params.disabled).value,Ja=z.optional.boolean(l.params.hidden).value,Xa=p.controller({document:l.document,params:Y.params,value:ht.value,viewProps:Bi.create({disabled:cr,hidden:Ja})}),po=(T=z.optional.string(l.params.label).value)!==null&&T!==void 0?T:l.target.key;return new Mi(l.document,{binding:ht,blade:qe(),props:$.fromObject({label:po}),valueController:Xa})}class bC{constructor(){this.pluginsMap_={blades:[],inputs:[],monitors:[]}}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(l){l.type==="blade"?this.pluginsMap_.blades.unshift(l):l.type==="input"?this.pluginsMap_.inputs.unshift(l):l.type==="monitor"&&this.pluginsMap_.monitors.unshift(l)}createInput(l,d,v){const T=d.read();if(h(T))throw new _({context:{key:d.key},type:"nomatchingcontroller"});const z=this.pluginsMap_.inputs.reduce((Y,xe)=>Y||mC(xe,{document:l,target:d,params:v}),null);if(z)return z;throw new _({context:{key:d.key},type:"nomatchingcontroller"})}createMonitor(l,d,v){const T=this.pluginsMap_.monitors.reduce((z,Y)=>z||vC(Y,{document:l,params:v,target:d}),null);if(T)return T;throw new _({context:{key:d.key},type:"nomatchingcontroller"})}createBlade(l,d){const v=this.pluginsMap_.blades.reduce((T,z)=>T||Sc(z,{document:l,params:d}),null);if(!v)throw new _({type:"nomatchingview",context:{params:d}});return v}createBladeApi(l){if(l instanceof Cn)return new xa(l);if(l instanceof Mi)return new Ji(l);if(l instanceof nr)return new tr(l,this);const d=this.pluginsMap_.blades.reduce((v,T)=>v||T.api({controller:l,pool:this}),null);if(!d)throw _.shouldNeverHappen();return d}}function yC(){const p=new bC;return[jw,Xw,tC,iC,kw,Tw,Sw,Aw,vt,oC,fC,dC,Ge,ed,Cc,Dc].forEach(l=>{p.register(l)}),p}class Rm extends s{constructor(l){super(l),this.emitter_=new x,this.controller_.valueController.value.emitter.on("change",d=>{this.emitter_.emit("change",{event:new o(this,d.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(l){this.controller_.props.set("label",l)}get options(){return this.controller_.valueController.props.get("options")}set options(l){this.controller_.valueController.props.set("options",l)}get value(){return this.controller_.valueController.value.rawValue}set value(l){this.controller_.valueController.value.rawValue=l}on(l,d){const v=d.bind(this);return this.emitter_.on(l,T=>{v(T.event)}),this}}class km extends s{constructor(l){super(l),this.emitter_=new x,this.controller_.valueController.value.emitter.on("change",d=>{this.emitter_.emit("change",{event:new o(this,d.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(l){this.controller_.props.set("label",l)}get maxValue(){return this.controller_.valueController.sliderController.props.get("maxValue")}set maxValue(l){this.controller_.valueController.sliderController.props.set("maxValue",l)}get minValue(){return this.controller_.valueController.sliderController.props.get("minValue")}set minValue(l){this.controller_.valueController.sliderController.props.set("minValue",l)}get value(){return this.controller_.valueController.value.rawValue}set value(l){this.controller_.valueController.value.rawValue=l}on(l,d){const v=d.bind(this);return this.emitter_.on(l,T=>{v(T.event)}),this}}class Om extends s{constructor(l){super(l),this.emitter_=new x,this.controller_.valueController.value.emitter.on("change",d=>{this.emitter_.emit("change",{event:new o(this,d.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(l){this.controller_.props.set("label",l)}get formatter(){return this.controller_.valueController.props.get("formatter")}set formatter(l){this.controller_.valueController.props.set("formatter",l)}get value(){return this.controller_.valueController.value.rawValue}set value(l){this.controller_.valueController.value.rawValue=l}on(l,d){const v=d.bind(this);return this.emitter_.on(l,T=>{v(T.event)}),this}}const wC=function(){return{id:"list",type:"blade",accept(p){const l=De,d=ce(p,{options:l.required.custom(ao),value:l.required.raw,view:l.required.constant("list"),label:l.optional.string});return d?{params:d}:null},controller(p){const l=new sr(p.document,{props:$.fromObject({options:jc(p.params.options)}),value:j(p.params.value),viewProps:p.viewProps});return new gs(p.document,{blade:p.blade,props:$.fromObject({label:p.params.label}),valueController:l})},api(p){return!(p.controller instanceof gs)||!(p.controller.valueController instanceof sr)?null:new Rm(p.controller)}}}();function CC(p){return p.reduce((l,d)=>Object.assign(l,{[d.presetKey]:d.read()}),{})}function xC(p,l){p.forEach(d=>{const v=l[d.presetKey];v!==void 0&&d.write(v)})}class EC extends Ea{constructor(l,d){super(l,d)}get element(){return this.controller_.view.element}importPreset(l){const d=this.controller_.rackController.rack.find(Cn).map(v=>v.binding.target);xC(d,l),this.refresh()}exportPreset(){const l=this.controller_.rackController.rack.find(Cn).map(d=>d.binding.target);return CC(l)}refresh(){this.controller_.rackController.rack.find(Cn).forEach(l=>{l.binding.read()}),this.controller_.rackController.rack.find(Mi).forEach(l=>{l.binding.read()})}}class AC extends Sa{constructor(l,d){super(l,{expanded:d.expanded,blade:d.blade,props:d.props,root:!0,viewProps:d.viewProps})}}const DC={id:"slider",type:"blade",accept(p){const l=De,d=ce(p,{max:l.required.number,min:l.required.number,view:l.required.constant("slider"),format:l.optional.function,label:l.optional.string,value:l.optional.number});return d?{params:d}:null},controller(p){var l,d;const v=(l=p.params.value)!==null&&l!==void 0?l:0,T=new $a(p.document,{baseStep:1,parser:on,sliderProps:$.fromObject({maxValue:p.params.max,minValue:p.params.min}),textProps:$.fromObject({draggingScale:S(void 0,v),formatter:(d=p.params.format)!==null&&d!==void 0?d:Na}),value:j(v),viewProps:p.viewProps});return new gs(p.document,{blade:p.blade,props:$.fromObject({label:p.params.label}),valueController:T})},api(p){return!(p.controller instanceof gs)||!(p.controller.valueController instanceof $a)?null:new km(p.controller)}},SC=function(){return{id:"text",type:"blade",accept(p){const l=De,d=ce(p,{parse:l.required.function,value:l.required.raw,view:l.required.constant("text"),format:l.optional.function,label:l.optional.string});return d?{params:d}:null},controller(p){var l;const d=new io(p.document,{parser:p.params.parse,props:$.fromObject({formatter:(l=p.params.format)!==null&&l!==void 0?l:v=>String(v)}),value:j(p.params.value),viewProps:p.viewProps});return new gs(p.document,{blade:p.blade,props:$.fromObject({label:p.params.label}),valueController:d})},api(p){return!(p.controller instanceof gs)||!(p.controller.valueController instanceof io)?null:new Om(p.controller)}}}();function TC(p){const l=p.createElement("div");return l.classList.add(P("dfw")()),p.body&&p.body.appendChild(l),l}function Nm(p,l,d){if(p.querySelector(`style[data-tp-style=${l}]`))return;const v=p.createElement("style");v.dataset.tpStyle=l,v.textContent=d,p.head.appendChild(v)}class MC extends EC{constructor(l){var d;const v=l||{},T=(d=v.document)!==null&&d!==void 0?d:U(),z=yC(),Y=new AC(T,{expanded:v.expanded,blade:qe(),props:$.fromObject({title:v.title}),viewProps:Bi.create()});super(Y,z),this.pool_=z,this.containerElem_=v.container||TC(T),this.containerElem_.appendChild(this.element),this.doc_=T,this.usesDefaultWrapper_=!v.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw _.alreadyDisposed();return this.doc_}dispose(){const l=this.containerElem_;if(!l)throw _.alreadyDisposed();if(this.usesDefaultWrapper_){const d=l.parentElement;d&&d.removeChild(l)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(l){("plugin"in l?[l.plugin]:"plugins"in l?l.plugins:[]).forEach(v=>{this.pool_.register(v),this.embedPluginStyle_(v)})}embedPluginStyle_(l){l.css&&Nm(this.document,`plugin-${l.id}`,l.css)}setUpDefaultPlugins_(){Nm(this.document,"default",'.tp-tbiv_b,.tp-coltxtv_ms,.tp-ckbv_i,.tp-rotv_b,.tp-fldv_b,.tp-mllv_i,.tp-sglv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-mllv_i,.tp-sglv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);scrollbar-color:currentColor transparent;scrollbar-width:thin;width:100%}.tp-mllv_i::-webkit-scrollbar,.tp-sglv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-mllv_i::-webkit-scrollbar-corner,.tp-sglv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:transparent}.tp-mllv_i::-webkit-scrollbar-thumb,.tp-sglv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:transparent solid 2px;border-radius:4px}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, #28292e);--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--btn-bg: var(--tp-button-background-color, #adafb8);--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, #28292e);--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, #bbbcc4);--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, #bbbcc4);--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-v-p))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tabv_c .tp-brkv>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_i,.tp-fldv_c>.tp-tabv>.tp-tabv_i{border-top-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:var(--cnt-h-p);padding-right:calc(4px + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a:before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:0}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_t{padding-left:4px}.tp-fldv_c{border-left:var(--cnt-bg) solid 4px}.tp-fldv_b:hover+.tp-fldv_c{border-left-color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_c{border-left-color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_c{border-left-color:var(--cnt-bg-a)}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--bld-us)*3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv.tp-v-disabled{opacity:.5}.tp-tabv_i{align-items:flex-end;display:flex;overflow:hidden}.tp-tabv.tp-tabv-nop .tp-tabv_i{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_i::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_c{border-left:var(--cnt-bg) solid 4px;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p)}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:-2px;position:absolute;width:2px}.tp-tbiv_b{background-color:var(--cnt-bg);display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);width:100%}.tp-tbiv_b:hover{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active{background-color:var(--cnt-bg-a)}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) transparent transparent transparent;border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c,.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_i{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}'),this.pool_.getAll().forEach(l=>{this.embedPluginStyle_(l)}),this.registerPlugin({plugins:[DC,wC,Dc,SC]})}}const BC=new i("3.0.8");t.BladeApi=s,t.ButtonApi=w,t.FolderApi=Ea,t.InputBindingApi=xa,t.ListApi=Rm,t.MonitorBindingApi=Ji,t.Pane=MC,t.SeparatorApi=Ta,t.SliderApi=km,t.TabApi=Ma,t.TabPageApi=Ac,t.TextApi=Om,t.TpChangeEvent=o,t.VERSION=BC,Object.defineProperty(t,"__esModule",{value:!0})})})(Dl,Dl.exports);var Hu={exports:{}};(function(n,e){(function(t,i){i(e)})(Gt,function(t){class i{constructor(g){this.controller_=g}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(g){this.controller_.viewProps.set("disabled",g)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(g){this.controller_.viewProps.set("hidden",g)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class s{constructor(g){this.target=g}}class r extends s{constructor(g,C,S,V){super(g),this.value=C,this.presetKey=S,this.last=V!=null?V:!0}}function o(A){return A}function a(A){return A==null}const c={alreadydisposed:()=>"View has been already disposed",invalidparams:A=>`Invalid parameters for '${A.name}'`,nomatchingcontroller:A=>`No matching controller for '${A.key}'`,nomatchingview:A=>`No matching view for '${JSON.stringify(A.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:A=>`Property '${A.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class u{constructor(g){var C;this.message=(C=c[g.type](g.context))!==null&&C!==void 0?C:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=g.type}static alreadyDisposed(){return new u({type:"alreadydisposed"})}static notBindable(){return new u({type:"notbindable"})}static propertyNotFound(g){return new u({type:"propertynotfound",context:{name:g}})}static shouldNeverHappen(){return new u({type:"shouldneverhappen"})}}class h{constructor(){this.observers_={}}on(g,C){let S=this.observers_[g];return S||(S=this.observers_[g]=[]),S.push({handler:C}),this}off(g,C){const S=this.observers_[g];return S&&(this.observers_[g]=S.filter(V=>V.handler!==C)),this}emit(g,C){const S=this.observers_[g];!S||S.forEach(V=>{V.handler(C)})}}const f="tp";function m(A){return(C,S)=>[f,"-",A,"v",C?`_${C}`:"",S?`-${S}`:""].join("")}function _(A,g){return C=>g(A(C))}function y(A){return A.rawValue}function w(A,g){A.emitter.on("change",_(y,g)),g(A.rawValue)}function x(A,g,C){w(A.value(g),C)}function M(A,g,C){C?A.classList.add(g):A.classList.remove(g)}function P(A,g){return C=>{M(A,g,C)}}function F(A,g){w(A,C=>{g.textContent=C!=null?C:""})}const E=m("btn");class D{constructor(g,C){this.element=g.createElement("div"),this.element.classList.add(E()),C.viewProps.bindClassModifiers(this.element);const S=g.createElement("button");S.classList.add(E("b")),C.viewProps.bindDisabled(S),this.element.appendChild(S),this.buttonElement=S;const V=g.createElement("div");V.classList.add(E("t")),F(C.props.value("title"),V),this.buttonElement.appendChild(V)}}class B{constructor(g,C){this.emitter=new h,this.onClick_=this.onClick_.bind(this),this.props=C.props,this.viewProps=C.viewProps,this.view=new D(g,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class I{constructor(g,C){var S;this.constraint_=C==null?void 0:C.constraint,this.equals_=(S=C==null?void 0:C.equals)!==null&&S!==void 0?S:(V,Q)=>V===Q,this.emitter=new h,this.rawValue_=g}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(g){this.setRawValue(g,{forceEmit:!1,last:!0})}setRawValue(g,C){const S=C!=null?C:{forceEmit:!1,last:!0},V=this.constraint_?this.constraint_.constrain(g):g;!!this.equals_(this.rawValue_,V)&&!S.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=V,this.emitter.emit("change",{options:S,rawValue:V,sender:this}))}}class L{constructor(g){this.emitter=new h,this.value_=g}get rawValue(){return this.value_}set rawValue(g){this.setRawValue(g,{forceEmit:!1,last:!0})}setRawValue(g,C){const S=C!=null?C:{forceEmit:!1,last:!0};this.value_===g&&!S.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=g,this.emitter.emit("change",{options:S,rawValue:this.value_,sender:this}))}}function k(A,g){const C=g==null?void 0:g.constraint,S=g==null?void 0:g.equals;return!C&&!S?new L(A):new I(A,g)}class W{constructor(g){this.emitter=new h,this.valMap_=g;for(const C in this.valMap_)this.valMap_[C].emitter.on("change",()=>{this.emitter.emit("change",{key:C,sender:this})})}static createCore(g){return Object.keys(g).reduce((S,V)=>Object.assign(S,{[V]:k(g[V])}),{})}static fromObject(g){const C=this.createCore(g);return new W(C)}get(g){return this.valMap_[g].rawValue}set(g,C){this.valMap_[g].rawValue=C}value(g){return this.valMap_[g]}}function K(A,g){const S=Object.keys(g).reduce((V,Q)=>{if(V===void 0)return;const Se=g[Q](A[Q]);return Se.succeeded?Object.assign(Object.assign({},V),{[Q]:Se.value}):void 0},{});return S}function R(A,g){return A.reduce((C,S)=>{if(C===void 0)return;const V=g(S);if(!(!V.succeeded||V.value===void 0))return[...C,V.value]},[])}function G(A){return A===null?!1:typeof A=="object"}function O(A){return g=>C=>{if(!g&&C===void 0)return{succeeded:!1,value:void 0};if(g&&C===void 0)return{succeeded:!0,value:void 0};const S=A(C);return S!==void 0?{succeeded:!0,value:S}:{succeeded:!1,value:void 0}}}function j(A){return{custom:g=>O(g)(A),boolean:O(g=>typeof g=="boolean"?g:void 0)(A),number:O(g=>typeof g=="number"?g:void 0)(A),string:O(g=>typeof g=="string"?g:void 0)(A),function:O(g=>typeof g=="function"?g:void 0)(A),constant:g=>O(C=>C===g?g:void 0)(A),raw:O(g=>g)(A),object:g=>O(C=>{if(!!G(C))return K(C,g)})(A),array:g=>O(C=>{if(!!Array.isArray(C))return R(C,g)})(A)}}const $={optional:j(!0),required:j(!1)};function se(A,g){const C=$.required.object(g)(A);return C.succeeded?C.value:void 0}function X(A){return A&&A.parentElement&&A.parentElement.removeChild(A),null}function Le(){return["veryfirst","first","last","verylast"]}const Pe=m(""),He={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class De{constructor(g){this.parent_=null,this.blade=g.blade,this.view=g.view,this.viewProps=g.viewProps;const C=this.view.element;this.blade.value("positions").emitter.on("change",()=>{Le().forEach(S=>{C.classList.remove(Pe(void 0,He[S]))}),this.blade.get("positions").forEach(S=>{C.classList.add(Pe(void 0,He[S]))})}),this.viewProps.handleDispose(()=>{X(C)})}get parent(){return this.parent_}}const ce="http://www.w3.org/2000/svg";function Te(A){A.offsetHeight}function re(A,g){const C=A.style.transition;A.style.transition="none",g(),A.style.transition=C}function fe(A){return A.ontouchstart!==void 0}function ve(A){for(;A.childNodes.length>0;)A.removeChild(A.childNodes[0])}function Me(A){return A.relatedTarget?A.relatedTarget:"explicitOriginalTarget"in A?A.explicitOriginalTarget:null}const Re=m("lbl");function Qe(A,g){const C=A.createDocumentFragment();return g.split(`
`).map(V=>A.createTextNode(V)).forEach((V,Q)=>{Q>0&&C.appendChild(A.createElement("br")),C.appendChild(V)}),C}class Ie{constructor(g,C){this.element=g.createElement("div"),this.element.classList.add(Re()),C.viewProps.bindClassModifiers(this.element);const S=g.createElement("div");S.classList.add(Re("l")),x(C.props,"label",Q=>{a(Q)?this.element.classList.add(Re(void 0,"nol")):(this.element.classList.remove(Re(void 0,"nol")),ve(S),S.appendChild(Qe(g,Q)))}),this.element.appendChild(S),this.labelElement=S;const V=g.createElement("div");V.classList.add(Re("v")),this.element.appendChild(V),this.valueElement=V}}class ke extends De{constructor(g,C){const S=C.valueController.viewProps;super(Object.assign(Object.assign({},C),{view:new Ie(g,{props:C.props,viewProps:S}),viewProps:S})),this.props=C.props,this.valueController=C.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class N extends De{constructor(g){super(g),this.value=g.value}}class U extends W{constructor(g){super(g)}static create(g){const C={completed:!0,expanded:g,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},S=W.createCore(C);return new U(S)}get styleExpanded(){var g;return(g=this.get("temporaryExpanded"))!==null&&g!==void 0?g:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const g=this.get("expandedHeight");return this.get("shouldFixHeight")&&!a(g)?`${g}px`:"auto"}bindExpandedClass(g,C){x(this,"expanded",()=>{this.styleExpanded?g.classList.add(C):g.classList.remove(C)})}}function ee(A){return U.create(A)}function le(A,g){let C=0;return re(g,()=>{A.set("expandedHeight",null),A.set("temporaryExpanded",!0),Te(g),C=g.clientHeight,A.set("temporaryExpanded",null),Te(g)}),C}function ae(A,g){g.style.height=A.styleHeight}function _e(A,g){A.value("expanded").emitter.on("beforechange",()=>{A.set("completed",!1),a(A.get("expandedHeight"))&&A.set("expandedHeight",le(A,g)),A.set("shouldFixHeight",!0),Te(g)}),A.emitter.on("change",()=>{ae(A,g)}),ae(A,g),g.addEventListener("transitionend",C=>{C.propertyName==="height"&&(A.set("shouldFixHeight",!1),A.set("expandedHeight",null),A.set("completed",!0))})}class be{constructor(g,C){const S=m(C.viewName);this.element=g.createElement("div"),this.element.classList.add(S()),C.viewProps.bindClassModifiers(this.element)}}class de extends N{constructor(g,C){const S=C.valueController.viewProps;super(Object.assign(Object.assign({},C),{value:C.valueController.value,view:new Ie(g,{props:C.props,viewProps:S}),viewProps:S})),this.props=C.props,this.valueController=C.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}const ye=m("");function te(A,g){return P(A,ye(void 0,g))}class pe extends W{constructor(g){super(g)}static create(g){var C,S;const V=g!=null?g:{},Q={disabled:(C=V.disabled)!==null&&C!==void 0?C:!1,disposed:!1,hidden:(S=V.hidden)!==null&&S!==void 0?S:!1},ie=W.createCore(Q);return new pe(ie)}bindClassModifiers(g){x(this,"disabled",te(g,"disabled")),x(this,"hidden",te(g,"hidden"))}bindDisabled(g){x(this,"disabled",C=>{g.disabled=C})}bindTabIndex(g){x(this,"disabled",C=>{g.tabIndex=C?-1:0})}handleDispose(g){this.value("disposed").emitter.on("change",C=>{C&&g()})}}class he{constructor(){this.disabled=!1,this.emitter=new h}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class Ae{constructor(g,C){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=g,this.emitter=new h,this.interval_=C,this.setTimer_()}get disabled(){return this.disabled_}set disabled(g){this.disabled_=g,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const g=this.doc_.defaultView;g&&g.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const g=this.doc_.defaultView;g&&(this.timerId_=g.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class we{constructor(g){this.constraints=g}constrain(g){return this.constraints.reduce((C,S)=>S.constrain(C),g)}}function Ge(A,g){if(A instanceof g)return A;if(A instanceof we){const C=A.constraints.reduce((S,V)=>S||(V instanceof g?V:null),null);if(C)return C}return null}class Fe{constructor(g){this.maxValue=g.max,this.minValue=g.min}constrain(g){let C=g;return a(this.minValue)||(C=Math.max(C,this.minValue)),a(this.maxValue)||(C=Math.min(C,this.maxValue)),C}}class qe{constructor(g){this.step=g}constrain(g){return(g<0?-Math.round(-g/this.step):Math.round(g/this.step))*this.step}}const $e=m("pop");class $t{constructor(g,C){this.element=g.createElement("div"),this.element.classList.add($e()),C.viewProps.bindClassModifiers(this.element),w(C.shows,P(this.element,$e(void 0,"v")))}}class yn{constructor(g,C){this.shows=k(!1),this.viewProps=C.viewProps,this.view=new $t(g,{shows:this.shows,viewProps:this.viewProps})}}const Ki=m("txt");class hi{constructor(g,C){this.onChange_=this.onChange_.bind(this),this.element=g.createElement("div"),this.element.classList.add(Ki()),C.viewProps.bindClassModifiers(this.element),this.props_=C.props,this.props_.emitter.on("change",this.onChange_);const S=g.createElement("input");S.classList.add(Ki("i")),S.type="text",C.viewProps.bindDisabled(S),this.element.appendChild(S),this.inputElement=S,C.value.emitter.on("change",this.onChange_),this.value_=C.value,this.refresh()}refresh(){const g=this.props_.get("formatter");this.inputElement.value=g(this.value_.rawValue)}onChange_(){this.refresh()}}class Qr{constructor(g,C){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=C.parser,this.props=C.props,this.value=C.value,this.viewProps=C.viewProps,this.view=new hi(g,{props:C.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(g){const S=g.currentTarget.value,V=this.parser_(S);a(V)||(this.value.rawValue=V),this.view.refresh()}}class Yt{constructor(g){this.text=g}evaluate(){return Number(this.text)}toString(){return this.text}}const wn={"**":(A,g)=>Math.pow(A,g),"*":(A,g)=>A*g,"/":(A,g)=>A/g,"%":(A,g)=>A%g,"+":(A,g)=>A+g,"-":(A,g)=>A-g,"<<":(A,g)=>A<<g,">>":(A,g)=>A>>g,">>>":(A,g)=>A>>>g,"&":(A,g)=>A&g,"^":(A,g)=>A^g,"|":(A,g)=>A|g};class Yr{constructor(g,C,S){this.left=C,this.operator=g,this.right=S}evaluate(){const g=wn[this.operator];if(!g)throw new Error(`unexpected binary operator: '${this.operator}`);return g(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const Ca={"+":A=>A,"-":A=>-A,"~":A=>~A};class xa{constructor(g,C){this.operator=g,this.expression=C}evaluate(){const g=Ca[this.operator];if(!g)throw new Error(`unexpected unary operator: '${this.operator}`);return g(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function Cn(A){return(g,C)=>{for(let S=0;S<A.length;S++){const V=A[S](g,C);if(V!=="")return V}return""}}function Ji(A,g){var C;const S=A.substr(g).match(/^\s+/);return(C=S&&S[0])!==null&&C!==void 0?C:""}function Mi(A,g){const C=A.substr(g,1);return C.match(/^[1-9]$/)?C:""}function Ys(A,g){var C;const S=A.substr(g).match(/^[0-9]+/);return(C=S&&S[0])!==null&&C!==void 0?C:""}function er(A,g){const C=Ys(A,g);if(C!=="")return C;const S=A.substr(g,1);if(g+=1,S!=="-"&&S!=="+")return"";const V=Ys(A,g);return V===""?"":S+V}function eo(A,g){const C=A.substr(g,1);if(g+=1,C.toLowerCase()!=="e")return"";const S=er(A,g);return S===""?"":C+S}function tr(A,g){const C=A.substr(g,1);if(C==="0")return C;const S=Mi(A,g);return g+=S.length,S===""?"":S+Ys(A,g)}function Ea(A,g){const C=tr(A,g);if(g+=C.length,C==="")return"";const S=A.substr(g,1);if(g+=S.length,S!==".")return"";const V=Ys(A,g);return g+=V.length,C+S+V+eo(A,g)}function Aa(A,g){const C=A.substr(g,1);if(g+=C.length,C!==".")return"";const S=Ys(A,g);return g+=S.length,S===""?"":C+S+eo(A,g)}function qh(A,g){const C=tr(A,g);return g+=C.length,C===""?"":C+eo(A,g)}const Kh=Cn([Ea,Aa,qh]);function Jh(A,g){var C;const S=A.substr(g).match(/^[01]+/);return(C=S&&S[0])!==null&&C!==void 0?C:""}function Xh(A,g){const C=A.substr(g,2);if(g+=C.length,C.toLowerCase()!=="0b")return"";const S=Jh(A,g);return S===""?"":C+S}function Da(A,g){var C;const S=A.substr(g).match(/^[0-7]+/);return(C=S&&S[0])!==null&&C!==void 0?C:""}function Zh(A,g){const C=A.substr(g,2);if(g+=C.length,C.toLowerCase()!=="0o")return"";const S=Da(A,g);return S===""?"":C+S}function Qh(A,g){var C;const S=A.substr(g).match(/^[0-9a-f]+/i);return(C=S&&S[0])!==null&&C!==void 0?C:""}function nr(A,g){const C=A.substr(g,2);if(g+=C.length,C.toLowerCase()!=="0x")return"";const S=Qh(A,g);return S===""?"":C+S}const bc=Cn([Xh,Zh,nr]),Yh=Cn([bc,Kh]);function Sa(A,g){const C=Yh(A,g);return g+=C.length,C===""?null:{evaluable:new Yt(C),cursor:g}}function ed(A,g){const C=A.substr(g,1);if(g+=C.length,C!=="(")return null;const S=Cc(A,g);if(!S)return null;g=S.cursor,g+=Ji(A,g).length;const V=A.substr(g,1);return g+=V.length,V!==")"?null:{evaluable:S.evaluable,cursor:g}}function gs(A,g){return Sa(A,g)||ed(A,g)}function Ta(A,g){const C=gs(A,g);if(C)return C;const S=A.substr(g,1);if(g+=S.length,S!=="+"&&S!=="-"&&S!=="~")return null;const V=Ta(A,g);return V?(g=V.cursor,{cursor:g,evaluable:new xa(S,V.evaluable)}):null}function yc(A,g,C){C+=Ji(g,C).length;const S=A.filter(V=>g.startsWith(V,C))[0];return S?(C+=S.length,C+=Ji(g,C).length,{cursor:C,operator:S}):null}function td(A,g){return(C,S)=>{const V=A(C,S);if(!V)return null;S=V.cursor;let Q=V.evaluable;for(;;){const ie=yc(g,C,S);if(!ie)break;S=ie.cursor;const Se=A(C,S);if(!Se)return null;S=Se.cursor,Q=new Yr(ie.operator,Q,Se.evaluable)}return Q?{cursor:S,evaluable:Q}:null}}const wc=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((A,g)=>td(A,g),Ta);function Cc(A,g){return g+=Ji(A,g).length,wc(A,g)}function nd(A){const g=Cc(A,0);return!g||g.cursor+Ji(A,g.cursor).length!==A.length?null:g.evaluable}function ir(A){var g;const C=nd(A);return(g=C==null?void 0:C.evaluate())!==null&&g!==void 0?g:null}function Bi(A){if(typeof A=="number")return A;if(typeof A=="string"){const g=ir(A);if(!a(g))return g}return 0}function Pi(A){return g=>g.toFixed(Math.max(Math.min(A,20),0))}function xc(A,g){for(;A.length<g;)A.push(void 0)}function id(A){const g=[];return xc(g,A),k(g)}function Ec(A){const g=A.indexOf(void 0);return g<0?A:A.slice(0,g)}function Ac(A,g){const C=[...Ec(A),g];return C.length>A.length?C.splice(0,C.length-A.length):xc(C,A.length),C}function Ma({primary:A,secondary:g,forward:C,backward:S}){let V=!1;function Q(ie){V||(V=!0,ie(),V=!1)}A.emitter.on("change",ie=>{Q(()=>{g.setRawValue(C(A,g),ie.options)})}),g.emitter.on("change",ie=>{Q(()=>{A.setRawValue(S(A,g),ie.options)}),Q(()=>{g.setRawValue(C(A,g),ie.options)})}),Q(()=>{g.setRawValue(C(A,g),{forceEmit:!1,last:!0})})}function di(A,g){const C=A*(g.altKey?.1:1)*(g.shiftKey?10:1);return g.upKey?+C:g.downKey?-C:0}function to(A){return{altKey:A.altKey,downKey:A.key==="ArrowDown",shiftKey:A.shiftKey,upKey:A.key==="ArrowUp"}}function Ba(A){return{altKey:A.altKey,downKey:A.key==="ArrowLeft",shiftKey:A.shiftKey,upKey:A.key==="ArrowRight"}}function Dc(A){return A==="ArrowUp"||A==="ArrowDown"}function Sc(A){return Dc(A)||A==="ArrowLeft"||A==="ArrowRight"}function Pa(A,g){const C=g.ownerDocument.defaultView,S=g.getBoundingClientRect();return{x:A.pageX-((C&&C.scrollX||0)+S.left),y:A.pageY-((C&&C.scrollY||0)+S.top)}}class no{constructor(g){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=g,this.emitter=new h,g.addEventListener("touchstart",this.onTouchStart_),g.addEventListener("touchmove",this.onTouchMove_),g.addEventListener("touchend",this.onTouchEnd_),g.addEventListener("mousedown",this.onMouseDown_)}computePosition_(g){const C=this.elem_.getBoundingClientRect();return{bounds:{width:C.width,height:C.height},point:g?{x:g.x,y:g.y}:null}}onMouseDown_(g){var C;g.preventDefault(),(C=g.currentTarget)===null||C===void 0||C.focus();const S=this.elem_.ownerDocument;S.addEventListener("mousemove",this.onDocumentMouseMove_),S.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:g.altKey,data:this.computePosition_(Pa(g,this.elem_)),sender:this,shiftKey:g.shiftKey})}onDocumentMouseMove_(g){this.emitter.emit("move",{altKey:g.altKey,data:this.computePosition_(Pa(g,this.elem_)),sender:this,shiftKey:g.shiftKey})}onDocumentMouseUp_(g){const C=this.elem_.ownerDocument;C.removeEventListener("mousemove",this.onDocumentMouseMove_),C.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:g.altKey,data:this.computePosition_(Pa(g,this.elem_)),sender:this,shiftKey:g.shiftKey})}onTouchStart_(g){g.preventDefault();const C=g.targetTouches.item(0),S=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:g.altKey,data:this.computePosition_(C?{x:C.clientX-S.left,y:C.clientY-S.top}:void 0),sender:this,shiftKey:g.shiftKey}),this.lastTouch_=C}onTouchMove_(g){const C=g.targetTouches.item(0),S=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:g.altKey,data:this.computePosition_(C?{x:C.clientX-S.left,y:C.clientY-S.top}:void 0),sender:this,shiftKey:g.shiftKey}),this.lastTouch_=C}onTouchEnd_(g){var C;const S=(C=g.targetTouches.item(0))!==null&&C!==void 0?C:this.lastTouch_,V=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:g.altKey,data:this.computePosition_(S?{x:S.clientX-V.left,y:S.clientY-V.top}:void 0),sender:this,shiftKey:g.shiftKey})}}function gt(A,g,C,S,V){const Q=(A-g)/(C-g);return S+Q*(V-S)}function kn(A){return String(A.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function fi(A,g,C){return Math.min(Math.max(A,g),C)}const At=m("txt");class Xi{constructor(g,C){this.onChange_=this.onChange_.bind(this),this.props_=C.props,this.props_.emitter.on("change",this.onChange_),this.element=g.createElement("div"),this.element.classList.add(At(),At(void 0,"num")),C.arrayPosition&&this.element.classList.add(At(void 0,C.arrayPosition)),C.viewProps.bindClassModifiers(this.element);const S=g.createElement("input");S.classList.add(At("i")),S.type="text",C.viewProps.bindDisabled(S),this.element.appendChild(S),this.inputElement=S,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=C.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(At()),this.inputElement.classList.add(At("i"));const V=g.createElement("div");V.classList.add(At("k")),this.element.appendChild(V),this.knobElement=V;const Q=g.createElementNS(ce,"svg");Q.classList.add(At("g")),this.knobElement.appendChild(Q);const ie=g.createElementNS(ce,"path");ie.classList.add(At("gb")),Q.appendChild(ie),this.guideBodyElem_=ie;const Se=g.createElementNS(ce,"path");Se.classList.add(At("gh")),Q.appendChild(Se),this.guideHeadElem_=Se;const vt=g.createElement("div");vt.classList.add(m("tt")()),this.knobElement.appendChild(vt),this.tooltipElem_=vt,C.value.emitter.on("change",this.onChange_),this.value=C.value,this.refresh()}onDraggingChange_(g){if(g.rawValue===null){this.element.classList.remove(At(void 0,"drg"));return}this.element.classList.add(At(void 0,"drg"));const C=g.rawValue/this.props_.get("draggingScale"),S=C+(C>0?-1:C<0?1:0),V=fi(-S,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${S+V},0 L${S},4 L${S+V},8`,`M ${C},-1 L${C},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${C},4`);const Q=this.props_.get("formatter");this.tooltipElem_.textContent=Q(this.value.rawValue),this.tooltipElem_.style.left=`${C}px`}refresh(){const g=this.props_.get("formatter");this.inputElement.value=g(this.value.rawValue)}onChange_(){this.refresh()}}class Fa{constructor(g,C){this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=C.baseStep,this.parser_=C.parser,this.props=C.props,this.value=C.value,this.viewProps=C.viewProps,this.dragging_=k(null),this.view=new Xi(g,{arrayPosition:C.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const S=new no(this.view.knobElement);S.emitter.on("down",this.onPointerDown_),S.emitter.on("move",this.onPointerMove_),S.emitter.on("up",this.onPointerUp_)}onInputChange_(g){const S=g.currentTarget.value,V=this.parser_(S);a(V)||(this.value.rawValue=V),this.view.refresh()}onInputKeyDown_(g){const C=di(this.baseStep_,to(g));C!==0&&this.value.setRawValue(this.value.rawValue+C,{forceEmit:!1,last:!1})}onInputKeyUp_(g){di(this.baseStep_,to(g))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(g){if(!g.point)return null;const C=g.point.x-g.bounds.width/2;return this.originRawValue_+C*this.props.get("draggingScale")}onPointerMove_(g){const C=this.computeDraggingValue_(g.data);C!==null&&(this.value.setRawValue(C,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(g){const C=this.computeDraggingValue_(g.data);C!==null&&(this.value.setRawValue(C,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}function sd(A,g){A.write(g)}function sr(A){const g=A?Ge(A,qe):null;return g?g.step:null}function Tc(A,g){const C=A&&Ge(A,qe);return C?kn(C.step):Math.max(kn(g),2)}function Mc(A){const g=sr(A);return g!=null?g:1}function Bc(A,g){var C;const S=A&&Ge(A,qe),V=Math.abs((C=S==null?void 0:S.step)!==null&&C!==void 0?C:g);return V===0?.1:Math.pow(10,Math.floor(Math.log10(V))-1)}class Pc{constructor(g){this.components=g.components,this.asm_=g.assembly}constrain(g){const C=this.asm_.toComponents(g).map((S,V)=>{var Q,ie;return(ie=(Q=this.components[V])===null||Q===void 0?void 0:Q.constrain(S))!==null&&ie!==void 0?ie:S});return this.asm_.fromComponents(C)}}const Fc=m("pndtxt");class io{constructor(g,C){this.textViews=C.textViews,this.element=g.createElement("div"),this.element.classList.add(Fc()),this.textViews.forEach(S=>{const V=g.createElement("div");V.classList.add(Fc("a")),V.appendChild(S.element),this.element.appendChild(V)})}}function rd(A,g,C){return new Fa(A,{arrayPosition:C===0?"fst":C===g.axes.length-1?"lst":"mid",baseStep:g.axes[C].baseStep,parser:g.parser,props:g.axes[C].textProps,value:k(0,{constraint:g.axes[C].constraint}),viewProps:g.viewProps})}class so{constructor(g,C){this.value=C.value,this.viewProps=C.viewProps,this.acs_=C.axes.map((S,V)=>rd(g,C,V)),this.acs_.forEach((S,V)=>{Ma({primary:this.value,secondary:S.value,forward:Q=>C.assembly.toComponents(Q.rawValue)[V],backward:(Q,ie)=>{const Se=C.assembly.toComponents(Q.rawValue);return Se[V]=ie.rawValue,C.assembly.fromComponents(Se)}})}),this.view=new io(g,{textViews:this.acs_.map(S=>S.view)})}}function Lc(A){return"step"in A&&!a(A.step)?new qe(A.step):null}function od(A){return"max"in A&&!a(A.max)||"min"in A&&!a(A.min)?new Fe({max:A.max,min:A.min}):null}const ad={monitor:{defaultInterval:200,defaultLineCount:3}};class ld{constructor(){this.emitter=new h,this.index_=-1}get index(){return this.index_}set index(g){this.index_!==g&&(this.index_=g,this.emitter.emit("change",{index:g,sender:this}))}}const Fi=m("grl");class cd{constructor(g,C){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=g.createElement("div"),this.element.classList.add(Fi()),C.viewProps.bindClassModifiers(this.element),this.formatter_=C.formatter,this.minValue_=C.minValue,this.maxValue_=C.maxValue,this.cursor_=C.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const S=g.createElementNS(ce,"svg");S.classList.add(Fi("g")),S.style.height=`calc(var(--bld-us) * ${C.lineCount})`,this.element.appendChild(S),this.svgElem_=S;const V=g.createElementNS(ce,"polyline");this.svgElem_.appendChild(V),this.lineElem_=V;const Q=g.createElement("div");Q.classList.add(Fi("t"),m("tt")()),this.element.appendChild(Q),this.tooltipElem_=Q,C.value.emitter.on("change",this.onValueUpdate_),this.value=C.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const g=this.svgElem_.getBoundingClientRect(),C=this.value.rawValue.length-1,S=this.minValue_,V=this.maxValue_,Q=[];this.value.rawValue.forEach((vi,ja)=>{if(vi===void 0)return;const Td=gt(ja,0,C,0,g.width),Md=gt(vi,S,V,g.height,0);Q.push([Td,Md].join(","))}),this.lineElem_.setAttributeNS(null,"points",Q.join(" "));const ie=this.tooltipElem_,Se=this.value.rawValue[this.cursor_.index];if(Se===void 0){ie.classList.remove(Fi("t","a"));return}const vt=gt(this.cursor_.index,0,C,0,g.width),kt=gt(Se,S,V,g.height,0);ie.style.left=`${vt}px`,ie.style.top=`${kt}px`,ie.textContent=`${this.formatter_(Se)}`,ie.classList.contains(Fi("t","a"))||(ie.classList.add(Fi("t","a"),Fi("t","in")),Te(ie),ie.classList.remove(Fi("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class La{constructor(g,C){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.value=C.value,this.viewProps=C.viewProps,this.cursor_=new ld,this.view=new cd(g,{cursor:this.cursor_,formatter:C.formatter,lineCount:C.lineCount,maxValue:C.maxValue,minValue:C.minValue,value:this.value,viewProps:this.viewProps}),!fe(g))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const S=new no(this.view.element);S.emitter.on("down",this.onGraphPointerDown_),S.emitter.on("move",this.onGraphPointerMove_),S.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.index=-1}onGraphMouseMove_(g){const C=this.view.element.getBoundingClientRect();this.cursor_.index=Math.floor(gt(g.offsetX,0,C.width,0,this.value.rawValue.length))}onGraphPointerDown_(g){this.onGraphPointerMove_(g)}onGraphPointerMove_(g){if(!g.data.point){this.cursor_.index=-1;return}this.cursor_.index=Math.floor(gt(g.data.point.x,0,g.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.index=-1}}class rr{constructor(g){this.controller_=g}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(g){this.controller_.viewProps.set("disabled",g)}get title(){var g;return(g=this.controller_.props.get("title"))!==null&&g!==void 0?g:""}set title(g){this.controller_.props.set("title",g)}on(g,C){const S=C.bind(this);return this.controller_.emitter.on(g,()=>{S(new s(this))}),this}}class ud extends s{constructor(g,C,S){super(g),this.cell=C,this.index=S}}class or extends i{constructor(g){super(g),this.cellToApiMap_=new Map,this.emitter_=new h;const C=this.controller_.valueController;C.cellControllers.forEach((S,V)=>{const Q=new rr(S);this.cellToApiMap_.set(S,Q),S.emitter.on("click",()=>{const ie=V%C.size[0],Se=Math.floor(V/C.size[0]);this.emitter_.emit("click",{event:new ud(this,Q,[ie,Se])})})})}cell(g,C){const S=this.controller_.valueController,V=S.cellControllers[C*S.size[0]+g];return this.cellToApiMap_.get(V)}on(g,C){const S=C.bind(this);return this.emitter_.on(g,V=>{S(V.event)}),this}}class Ic{constructor(g,C){this.size=C.size;const[S,V]=this.size,Q=[];for(let ie=0;ie<V;ie++)for(let Se=0;Se<S;Se++){const vt=new B(g,{props:W.fromObject(Object.assign({},C.cellConfig(Se,ie))),viewProps:pe.create()});Q.push(vt)}this.cellCs_=Q,this.viewProps=pe.create(),this.viewProps.handleDispose(()=>{this.cellCs_.forEach(ie=>{ie.viewProps.set("disposed",!0)})}),this.view=new be(g,{viewProps:this.viewProps,viewName:"btngrid"}),this.view.element.style.gridTemplateColumns=`repeat(${S}, 1fr)`,this.cellCs_.forEach(ie=>{this.view.element.appendChild(ie.view.element)})}get cellControllers(){return this.cellCs_}}const Ia={id:"buttongrid",type:"blade",css:".tp-cbzv_b,.tp-rslv_k,.tp-radv_b,.tp-cbzgv{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-cbzv_b,.tp-rslv_k,.tp-radv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-cbzv_b:hover,.tp-rslv_k:hover,.tp-radv_b:hover{background-color:var(--btn-bg-h)}.tp-cbzv_b:focus,.tp-rslv_k:focus,.tp-radv_b:focus{background-color:var(--btn-bg-f)}.tp-cbzv_b:active,.tp-rslv_k:active,.tp-radv_b:active{background-color:var(--btn-bg-a)}.tp-cbzv_b:disabled,.tp-rslv_k:disabled,.tp-radv_b:disabled{opacity:0.5}.tp-cbzgv{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-cbzgv:hover{background-color:var(--in-bg-h)}.tp-cbzgv:focus{background-color:var(--in-bg-f)}.tp-cbzgv:active{background-color:var(--in-bg-a)}.tp-cbzgv:disabled{opacity:0.5}.tp-btngridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-btngridv.tp-v-disabled{opacity:0.5}.tp-btngridv .tp-btnv_b:disabled{opacity:1}.tp-btngridv .tp-btnv_b:disabled .tp-btnv_t{opacity:0.5}.tp-btngridv .tp-btnv_b{border-radius:0}.tp-cbzv{position:relative}.tp-cbzv_h{display:flex}.tp-cbzv_b{margin-right:4px;position:relative;width:var(--bld-us)}.tp-cbzv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-cbzv_b svg path{stroke:var(--bs-bg);stroke-width:2}.tp-cbzv_t{flex:1}.tp-cbzv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-cbzv.tp-cbzv-expanded .tp-cbzv_p{margin-top:var(--bld-s);opacity:1}.tp-cbzv.tp-cbzv-cpl .tp-cbzv_p{overflow:visible}.tp-cbzv .tp-popv{left:calc(-1 * var(--cnt-h-p));position:absolute;right:calc(-1 * var(--cnt-h-p));top:var(--bld-us)}.tp-cbzpv_t{margin-top:var(--bld-s)}.tp-cbzgv{height:auto;overflow:hidden;position:relative}.tp-cbzgv.tp-v-disabled{opacity:0.5}.tp-cbzgv_p{left:16px;position:absolute;right:16px;top:0}.tp-cbzgv_g{cursor:pointer;display:block;height:calc(var(--bld-us) * 5);width:100%}.tp-cbzgv_u{opacity:0.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_l{fill:transparent;stroke:var(--in-fg)}.tp-cbzgv_v{opacity:0.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_h{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;pointer-events:none;position:absolute;width:4px}.tp-cbzgv:focus .tp-cbzgv_h-sel{background-color:var(--in-fg);border-width:0}.tp-cbzprvv{cursor:pointer;height:4px;padding:4px 0;position:relative}.tp-cbzprvv_g{display:block;height:100%;overflow:visible;width:100%}.tp-cbzprvv_t{opacity:0.5;stroke:var(--mo-fg)}.tp-cbzprvv_m{background-color:var(--mo-fg);border-radius:50%;height:4px;margin-left:-2px;margin-top:-2px;opacity:0;position:absolute;top:50%;transition:opacity 0.2s ease-out;width:4px}.tp-cbzprvv_m.tp-cbzprvv_m-a{opacity:1}.tp-fpsv{position:relative}.tp-fpsv_l{bottom:4px;color:var(--mo-fg);line-height:1;right:4px;pointer-events:none;position:absolute}.tp-fpsv_u{margin-left:0.2em;opacity:0.7}.tp-rslv{cursor:pointer;padding-left:8px;padding-right:8px}.tp-rslv.tp-v-disabled{opacity:0.5}.tp-rslv_t{height:calc(var(--bld-us));position:relative}.tp-rslv_t::before{background-color:var(--in-bg);border-radius:1px;content:'';height:2px;margin-top:-1px;position:absolute;top:50%;left:-4px;right:-4px}.tp-rslv_b{bottom:0;top:0;position:absolute}.tp-rslv_b::before{background-color:var(--in-fg);content:'';height:2px;margin-top:-1px;position:absolute;top:50%;left:0;right:0}.tp-rslv_k{height:calc(var(--bld-us) - 8px);margin-top:calc((var(--bld-us) - 8px) / -2);position:absolute;top:50%;width:8px}.tp-rslv_k.tp-rslv_k-min{margin-left:-8px}.tp-rslv_k.tp-rslv_k-max{margin-left:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-min{border-bottom-right-radius:0;border-top-right-radius:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-max{border-bottom-left-radius:0;border-top-left-radius:0}.tp-rsltxtv{display:flex}.tp-rsltxtv_s{flex:1}.tp-rsltxtv_t{flex:1;margin-left:4px}.tp-radv_l{display:block;position:relative}.tp-radv_i{left:0;opacity:0;position:absolute;top:0}.tp-radv_b{opacity:0.5}.tp-radv_i:hover+.tp-radv_b{background-color:var(--btn-bg-h)}.tp-radv_i:focus+.tp-radv_b{background-color:var(--btn-bg-f)}.tp-radv_i:active+.tp-radv_b{background-color:var(--btn-bg-a)}.tp-radv_i:checked+.tp-radv_b{opacity:1}.tp-radv_t{bottom:0;color:inherit;left:0;overflow:hidden;position:absolute;right:0;text-align:center;text-overflow:ellipsis;top:0}.tp-radv_i:disabled+.tp-radv_b>.tp-radv_t{opacity:0.5}.tp-radgridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-radgridv.tp-v-disabled{opacity:0.5}.tp-radgridv .tp-radv_b{border-radius:0}",accept(A){const g=$,C=se(A,{cells:g.required.function,size:g.required.array(g.required.number),view:g.required.constant("buttongrid"),label:g.optional.string});return C?{params:C}:null},controller(A){return new ke(A.document,{blade:A.blade,props:W.fromObject({label:A.params.label}),valueController:new Ic(A.document,{cellConfig:A.params.cells,size:A.params.size})})},api(A){return!(A.controller instanceof ke)||!(A.controller.valueController instanceof Ic)?null:new or(A.controller)}};class Rc extends i{get label(){return this.controller_.props.get("label")}set label(g){this.controller_.props.set("label",g)}get value(){return this.controller_.valueController.value.rawValue}set value(g){this.controller_.valueController.value.rawValue=g}on(g,C){const S=C.bind(this);return this.controller_.valueController.value.emitter.on(g,V=>{S(new r(this,V.rawValue,void 0,V.options.last))}),this}}function xn(A,g,C){return A*(1-C)+g*C}const hd=20,dd=.001,Ra=100;function fd(A,g){let C=.25,S=.5,V=-1;for(let Q=0;Q<hd;Q++){const[ie,Se]=A.curve(S);if(S+=C*(ie<g?1:-1),V=Se,C*=.5,Math.abs(g-ie)<dd)break}return V}class Li{constructor(g=0,C=0,S=1,V=1){this.cache_=[],this.comps_=[g,C,S,V]}get x1(){return this.comps_[0]}get y1(){return this.comps_[1]}get x2(){return this.comps_[2]}get y2(){return this.comps_[3]}static isObject(g){return a(g)||!Array.isArray(g)?!1:typeof g[0]=="number"&&typeof g[1]=="number"&&typeof g[2]=="number"&&typeof g[3]=="number"}static equals(g,C){return g.x1===C.x1&&g.y1===C.y1&&g.x2===C.x2&&g.y2===C.y2}curve(g){const C=xn(0,this.x1,g),S=xn(0,this.y1,g),V=xn(this.x1,this.x2,g),Q=xn(this.y1,this.y2,g),ie=xn(this.x2,1,g),Se=xn(this.y2,1,g),vt=xn(C,V,g),kt=xn(S,Q,g),vi=xn(V,ie,g),ja=xn(Q,Se,g);return[xn(vt,vi,g),xn(kt,ja,g)]}y(g){if(this.cache_.length===0){const C=[];for(let S=0;S<Ra;S++)C.push(fd(this,gt(S,0,Ra-1,0,1)));this.cache_=C}return this.cache_[Math.round(gt(fi(g,0,1),0,1,0,Ra-1))]}toObject(){return[this.comps_[0],this.comps_[1],this.comps_[2],this.comps_[3]]}}const kc={toComponents:A=>A.toObject(),fromComponents:A=>new Li(...A)};function pd(A){const g=Pi(2);return`cubic-bezier(${A.toObject().map(S=>g(S)).join(", ")})`}const Oc=[0,.5,.5,1];function md(A){const g=A.match(/^cubic-bezier\s*\(\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)\s*\)$/);if(!g)return new Li(...Oc);const C=[g[1],g[2],g[3],g[4]].reduce((S,V)=>{if(!S)return null;const Q=Number(V);return isNaN(Q)?null:[...S,Q]},[]);return new Li(...C!=null?C:Oc)}const Zi=m("cbz");class _d{constructor(g,C){this.element=g.createElement("div"),this.element.classList.add(Zi()),C.viewProps.bindClassModifiers(this.element),C.foldable.bindExpandedClass(this.element,Zi(void 0,"expanded")),x(C.foldable,"completed",P(this.element,Zi(void 0,"cpl")));const S=g.createElement("div");S.classList.add(Zi("h")),this.element.appendChild(S);const V=g.createElement("button");V.classList.add(Zi("b")),C.viewProps.bindDisabled(V);const Q=g.createElementNS(ce,"svg");Q.innerHTML='<path d="M2 13C8 13 8 3 14 3"/>',V.appendChild(Q),S.appendChild(V),this.buttonElement=V;const ie=g.createElement("div");if(ie.classList.add(Zi("t")),S.appendChild(ie),this.textElement=ie,C.pickerLayout==="inline"){const Se=g.createElement("div");Se.classList.add(Zi("p")),this.element.appendChild(Se),this.pickerElement=Se}else this.pickerElement=null}}const ka=m("cbzp");class gd{constructor(g,C){this.element=g.createElement("div"),this.element.classList.add(ka()),C.viewProps.bindClassModifiers(this.element);const S=g.createElement("div");S.classList.add(ka("g")),this.element.appendChild(S),this.graphElement=S;const V=g.createElement("div");V.classList.add(ka("t")),this.element.appendChild(V),this.textElement=V}}function Nc(A,g){const C=new MutationObserver(V=>{for(const Q of V)Q.type==="childList"&&Q.addedNodes.forEach(ie=>{!ie.contains(ie)||(g(),C.disconnect())})}),S=A.ownerDocument;C.observe(S.body,{attributes:!0,childList:!0,subtree:!0})}const pi=m("cbzg");function vd(A,g){return C=>g(A(C))}class bd{constructor(g,C){this.element=g.createElement("div"),this.element.classList.add(pi()),C.viewProps.bindClassModifiers(this.element),C.viewProps.bindTabIndex(this.element);const S=g.createElement("div");S.classList.add(pi("p")),this.element.appendChild(S),this.previewElement=S;const V=g.createElementNS(ce,"svg");V.classList.add(pi("g")),this.element.appendChild(V),this.svgElem_=V;const Q=g.createElementNS(ce,"path");Q.classList.add(pi("u")),this.svgElem_.appendChild(Q),this.guideElem_=Q;const ie=g.createElementNS(ce,"polyline");ie.classList.add(pi("l")),this.svgElem_.appendChild(ie),this.lineElem_=ie,this.handleElems_=[g.createElement("div"),g.createElement("div")],this.handleElems_.forEach(Se=>{Se.classList.add(pi("h")),this.element.appendChild(Se)}),this.vectorElems_=[g.createElementNS(ce,"line"),g.createElementNS(ce,"line")],this.vectorElems_.forEach(Se=>{Se.classList.add(pi("v")),this.svgElem_.appendChild(Se)}),this.value_=C.value,this.value_.emitter.on("change",this.onValueChange_.bind(this)),this.sel_=C.selection,this.handleElems_.forEach((Se,vt)=>{w(this.sel_,vd(kt=>kt===vt,P(Se,pi("h","sel"))))}),Nc(this.element,()=>{this.refresh()})}getVertMargin_(g){return g*.25}valueToPosition(g,C){const S=this.element.getBoundingClientRect(),V=S.width,Q=S.height,ie=this.getVertMargin_(Q);return{x:gt(g,0,1,0,V),y:gt(C,0,1,Q-ie,ie)}}positionToValue(g,C){const S=this.element.getBoundingClientRect(),V=S.width,Q=S.height,ie=this.getVertMargin_(Q);return{x:fi(gt(g,0,V,0,1),0,1),y:gt(C,Q-ie,ie,0,1)}}refresh(){this.guideElem_.setAttributeNS(null,"d",[0,1].map(Q=>{const ie=this.valueToPosition(0,Q),Se=this.valueToPosition(1,Q);return[`M ${ie.x},${ie.y}`,`L ${Se.x},${Se.y}`].join(" ")}).join(" "));const g=this.value_.rawValue,C=[];let S=0;for(;;){const Q=this.valueToPosition(...g.curve(S));if(C.push([Q.x,Q.y].join(",")),S>=1)break;S=Math.min(S+.05,1)}this.lineElem_.setAttributeNS(null,"points",C.join(" "));const V=g.toObject();[0,1].forEach(Q=>{const ie=this.valueToPosition(Q,Q),Se=this.valueToPosition(V[Q*2],V[Q*2+1]),vt=this.vectorElems_[Q];vt.setAttributeNS(null,"x1",String(ie.x)),vt.setAttributeNS(null,"y1",String(ie.y)),vt.setAttributeNS(null,"x2",String(Se.x)),vt.setAttributeNS(null,"y2",String(Se.y));const kt=this.handleElems_[Q];kt.style.left=`${Se.x}px`,kt.style.top=`${Se.y}px`})}onValueChange_(){this.refresh()}}const Vc=24,Oa=400,Hc=1e3,on=m("cbzprv");class zc{constructor(g,C){this.stopped_=!0,this.startTime_=-1,this.onDispose_=this.onDispose_.bind(this),this.onTimer_=this.onTimer_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.element=g.createElement("div"),this.element.classList.add(on()),C.viewProps.bindClassModifiers(this.element);const S=g.createElementNS(ce,"svg");S.classList.add(on("g")),this.element.appendChild(S),this.svgElem_=S;const V=g.createElementNS(ce,"path");V.classList.add(on("t")),this.svgElem_.appendChild(V),this.ticksElem_=V;const Q=g.createElement("div");Q.classList.add(on("m")),this.element.appendChild(Q),this.markerElem_=Q,this.value_=C.value,this.value_.emitter.on("change",this.onValueChange_),C.viewProps.handleDispose(this.onDispose_),Nc(this.element,()=>{this.refresh()})}play(){this.stop(),this.updateMarker_(0),this.markerElem_.classList.add(on("m","a")),this.startTime_=new Date().getTime()+Oa,this.stopped_=!1,requestAnimationFrame(this.onTimer_)}stop(){this.stopped_=!0,this.markerElem_.classList.remove(on("m","a"))}onDispose_(){this.stop()}updateMarker_(g){const C=this.value_.rawValue.y(fi(g,0,1));this.markerElem_.style.left=`${C*100}%`}refresh(){const g=this.svgElem_.getBoundingClientRect(),C=g.width,S=g.height,V=[],Q=this.value_.rawValue;for(let ie=0;ie<Vc;ie++){const Se=gt(ie,0,Vc-1,0,1),vt=gt(Q.y(Se),0,1,0,C);V.push(`M ${vt},0 v${S}`)}this.ticksElem_.setAttributeNS(null,"d",V.join(" "))}onTimer_(){if(this.startTime_===null)return;const g=new Date().getTime()-this.startTime_,C=g/Hc;this.updateMarker_(C),g>Hc+Oa&&this.stop(),this.stopped_||requestAnimationFrame(this.onTimer_)}onValueChange_(){this.refresh(),this.play()}}function Na(A,g,C,S){const V=C-A,Q=S-g;return Math.sqrt(V*V+Q*Q)}function an(A,g,C,S){const V=Na(A,g,C,S),Q=Math.atan2(S-g,C-A),ie=Math.round(Q/(Math.PI/4))*Math.PI/4;return{x:A+Math.cos(ie)*V,y:g+Math.sin(ie)*V}}class yd{constructor(g,C){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=C.baseStep,this.value=C.value,this.sel_=k(0),this.viewProps=C.viewProps,this.view=new bd(g,{selection:this.sel_,value:this.value,viewProps:this.viewProps}),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_),this.prevView_=new zc(g,{value:this.value,viewProps:this.viewProps}),this.prevView_.element.addEventListener("mousedown",V=>{V.stopImmediatePropagation(),V.preventDefault(),this.prevView_.play()}),this.view.previewElement.appendChild(this.prevView_.element);const S=new no(this.view.element);S.emitter.on("down",this.onPointerDown_),S.emitter.on("move",this.onPointerMove_),S.emitter.on("up",this.onPointerUp_)}refresh(){this.view.refresh(),this.prevView_.refresh(),this.prevView_.play()}updateValue_(g,C,S){const V=this.sel_.rawValue,Q=this.value.rawValue.toObject(),ie=this.view.positionToValue(g.x,g.y),Se=C?an(V,V,ie.x,ie.y):ie;Q[V*2]=Se.x,Q[V*2+1]=Se.y,this.value.setRawValue(new Li(...Q),S)}onPointerDown_(g){const C=g.data;if(!C.point)return;const S=this.value.rawValue,V=this.view.valueToPosition(S.x1,S.y1),Q=Na(C.point.x,C.point.y,V.x,V.y),ie=this.view.valueToPosition(S.x2,S.y2),Se=Na(C.point.x,C.point.y,ie.x,ie.y);this.sel_.rawValue=Q<=Se?0:1,this.updateValue_(C.point,g.shiftKey,{forceEmit:!1,last:!1})}onPointerMove_(g){const C=g.data;!C.point||this.updateValue_(C.point,g.shiftKey,{forceEmit:!1,last:!1})}onPointerUp_(g){const C=g.data;!C.point||this.updateValue_(C.point,g.shiftKey,{forceEmit:!0,last:!0})}onKeyDown_(g){Sc(g.key)&&g.preventDefault();const C=this.sel_.rawValue,S=this.value.rawValue.toObject();S[C*2]+=di(this.baseStep_,Ba(g)),S[C*2+1]+=di(this.baseStep_,to(g)),this.value.setRawValue(new Li(...S),{forceEmit:!1,last:!1})}onKeyUp_(g){Sc(g.key)&&g.preventDefault();const C=di(this.baseStep_,Ba(g)),S=di(this.baseStep_,to(g));C===0&&S===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class ro{constructor(g,C){this.value=C.value,this.viewProps=C.viewProps,this.view=new gd(g,{viewProps:this.viewProps}),this.gc_=new yd(g,{baseStep:C.axis.baseStep,value:this.value,viewProps:this.viewProps}),this.view.graphElement.appendChild(this.gc_.view.element);const S=Object.assign(Object.assign({},C.axis),{constraint:new Fe({max:1,min:0})}),V=Object.assign(Object.assign({},C.axis),{constraint:void 0});this.tc_=new so(g,{assembly:kc,axes:[S,V,S,V],parser:ir,value:this.value,viewProps:this.viewProps}),this.view.textElement.appendChild(this.tc_.view.element)}get allFocusableElements(){return[this.gc_.view.element,...this.tc_.view.textViews.map(g=>g.inputElement)]}refresh(){this.gc_.refresh()}}class Va{constructor(g,C){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=C.value,this.viewProps=C.viewProps,this.foldable_=ee(C.expanded),this.view=new _d(g,{foldable:this.foldable_,pickerLayout:C.pickerLayout,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("blur",this.onButtonBlur_),this.view.buttonElement.addEventListener("click",this.onButtonClick_),this.tc_=new Qr(g,{parser:md,props:W.fromObject({formatter:pd}),value:this.value,viewProps:this.viewProps}),this.view.textElement.appendChild(this.tc_.view.element),this.popC_=C.pickerLayout==="popup"?new yn(g,{viewProps:this.viewProps}):null;const S=new ro(g,{axis:C.axis,value:this.value,viewProps:this.viewProps});S.allFocusableElements.forEach(V=>{V.addEventListener("blur",this.onPopupChildBlur_),V.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=S,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),w(this.popC_.shows,V=>{V&&S.refresh()}),Ma({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:V=>V.rawValue,backward:(V,Q)=>Q.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),_e(this.foldable_,this.view.pickerElement))}onButtonBlur_(g){if(!this.popC_)return;const C=g.relatedTarget;(!C||!this.popC_.view.element.contains(C))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.allFocusableElements[0].focus()}onPopupChildBlur_(g){if(!this.popC_)return;const C=this.popC_.view.element,S=Me(g);S&&C.contains(S)||S&&S===this.view.buttonElement&&!fe(C.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(g){!this.popC_||g.key==="Escape"&&(this.popC_.shows.rawValue=!1)}}function Ha(){return new Pc({assembly:kc,components:[0,1,2,3].map(A=>A%2===0?new Fe({min:0,max:1}):void 0)})}const Uc={id:"cubic-bezier",type:"blade",css:".tp-cbzv_b,.tp-rslv_k,.tp-radv_b,.tp-cbzgv{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-cbzv_b,.tp-rslv_k,.tp-radv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-cbzv_b:hover,.tp-rslv_k:hover,.tp-radv_b:hover{background-color:var(--btn-bg-h)}.tp-cbzv_b:focus,.tp-rslv_k:focus,.tp-radv_b:focus{background-color:var(--btn-bg-f)}.tp-cbzv_b:active,.tp-rslv_k:active,.tp-radv_b:active{background-color:var(--btn-bg-a)}.tp-cbzv_b:disabled,.tp-rslv_k:disabled,.tp-radv_b:disabled{opacity:0.5}.tp-cbzgv{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-cbzgv:hover{background-color:var(--in-bg-h)}.tp-cbzgv:focus{background-color:var(--in-bg-f)}.tp-cbzgv:active{background-color:var(--in-bg-a)}.tp-cbzgv:disabled{opacity:0.5}.tp-btngridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-btngridv.tp-v-disabled{opacity:0.5}.tp-btngridv .tp-btnv_b:disabled{opacity:1}.tp-btngridv .tp-btnv_b:disabled .tp-btnv_t{opacity:0.5}.tp-btngridv .tp-btnv_b{border-radius:0}.tp-cbzv{position:relative}.tp-cbzv_h{display:flex}.tp-cbzv_b{margin-right:4px;position:relative;width:var(--bld-us)}.tp-cbzv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-cbzv_b svg path{stroke:var(--bs-bg);stroke-width:2}.tp-cbzv_t{flex:1}.tp-cbzv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-cbzv.tp-cbzv-expanded .tp-cbzv_p{margin-top:var(--bld-s);opacity:1}.tp-cbzv.tp-cbzv-cpl .tp-cbzv_p{overflow:visible}.tp-cbzv .tp-popv{left:calc(-1 * var(--cnt-h-p));position:absolute;right:calc(-1 * var(--cnt-h-p));top:var(--bld-us)}.tp-cbzpv_t{margin-top:var(--bld-s)}.tp-cbzgv{height:auto;overflow:hidden;position:relative}.tp-cbzgv.tp-v-disabled{opacity:0.5}.tp-cbzgv_p{left:16px;position:absolute;right:16px;top:0}.tp-cbzgv_g{cursor:pointer;display:block;height:calc(var(--bld-us) * 5);width:100%}.tp-cbzgv_u{opacity:0.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_l{fill:transparent;stroke:var(--in-fg)}.tp-cbzgv_v{opacity:0.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_h{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;pointer-events:none;position:absolute;width:4px}.tp-cbzgv:focus .tp-cbzgv_h-sel{background-color:var(--in-fg);border-width:0}.tp-cbzprvv{cursor:pointer;height:4px;padding:4px 0;position:relative}.tp-cbzprvv_g{display:block;height:100%;overflow:visible;width:100%}.tp-cbzprvv_t{opacity:0.5;stroke:var(--mo-fg)}.tp-cbzprvv_m{background-color:var(--mo-fg);border-radius:50%;height:4px;margin-left:-2px;margin-top:-2px;opacity:0;position:absolute;top:50%;transition:opacity 0.2s ease-out;width:4px}.tp-cbzprvv_m.tp-cbzprvv_m-a{opacity:1}.tp-fpsv{position:relative}.tp-fpsv_l{bottom:4px;color:var(--mo-fg);line-height:1;right:4px;pointer-events:none;position:absolute}.tp-fpsv_u{margin-left:0.2em;opacity:0.7}.tp-rslv{cursor:pointer;padding-left:8px;padding-right:8px}.tp-rslv.tp-v-disabled{opacity:0.5}.tp-rslv_t{height:calc(var(--bld-us));position:relative}.tp-rslv_t::before{background-color:var(--in-bg);border-radius:1px;content:'';height:2px;margin-top:-1px;position:absolute;top:50%;left:-4px;right:-4px}.tp-rslv_b{bottom:0;top:0;position:absolute}.tp-rslv_b::before{background-color:var(--in-fg);content:'';height:2px;margin-top:-1px;position:absolute;top:50%;left:0;right:0}.tp-rslv_k{height:calc(var(--bld-us) - 8px);margin-top:calc((var(--bld-us) - 8px) / -2);position:absolute;top:50%;width:8px}.tp-rslv_k.tp-rslv_k-min{margin-left:-8px}.tp-rslv_k.tp-rslv_k-max{margin-left:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-min{border-bottom-right-radius:0;border-top-right-radius:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-max{border-bottom-left-radius:0;border-top-left-radius:0}.tp-rsltxtv{display:flex}.tp-rsltxtv_s{flex:1}.tp-rsltxtv_t{flex:1;margin-left:4px}.tp-radv_l{display:block;position:relative}.tp-radv_i{left:0;opacity:0;position:absolute;top:0}.tp-radv_b{opacity:0.5}.tp-radv_i:hover+.tp-radv_b{background-color:var(--btn-bg-h)}.tp-radv_i:focus+.tp-radv_b{background-color:var(--btn-bg-f)}.tp-radv_i:active+.tp-radv_b{background-color:var(--btn-bg-a)}.tp-radv_i:checked+.tp-radv_b{opacity:1}.tp-radv_t{bottom:0;color:inherit;left:0;overflow:hidden;position:absolute;right:0;text-align:center;text-overflow:ellipsis;top:0}.tp-radv_i:disabled+.tp-radv_b>.tp-radv_t{opacity:0.5}.tp-radgridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-radgridv.tp-v-disabled{opacity:0.5}.tp-radgridv .tp-radv_b{border-radius:0}",accept(A){const g=$,C=se(A,{value:g.required.array(g.required.number),view:g.required.constant("cubicbezier"),expanded:g.optional.boolean,label:g.optional.string,picker:g.optional.custom(S=>S==="inline"||S==="popup"?S:void 0)});return C?{params:C}:null},controller(A){var g,C;const S=new Li(...A.params.value),V=k(S,{constraint:Ha(),equals:Li.equals}),Q=new Va(A.document,{axis:{baseStep:.1,textProps:W.fromObject({draggingScale:.01,formatter:Pi(2)})},expanded:(g=A.params.expanded)!==null&&g!==void 0?g:!1,pickerLayout:(C=A.params.picker)!==null&&C!==void 0?C:"popup",value:V,viewProps:A.viewProps});return new de(A.document,{blade:A.blade,props:W.fromObject({label:A.params.label}),valueController:Q})},api(A){return!(A.controller instanceof de)||!(A.controller.valueController instanceof Va)?null:new Rc(A.controller)}};class wd extends i{begin(){this.controller_.valueController.begin()}end(){this.controller_.valueController.end()}}const Gc=20;class Cd{constructor(){this.start_=null,this.duration_=0,this.fps_=null,this.frameCount_=0,this.timestamps_=[]}get duration(){return this.duration_}get fps(){return this.fps_}begin(g){this.start_=g.getTime()}calculateFps_(g){if(this.timestamps_.length===0)return null;const C=this.timestamps_[0];return 1e3*(this.frameCount_-C.frameCount)/(g-C.time)}compactTimestamps_(){if(this.timestamps_.length<=Gc)return;const g=this.timestamps_.length-Gc;this.timestamps_.splice(0,g);const C=this.timestamps_[0].frameCount;this.timestamps_.forEach(S=>{S.frameCount-=C}),this.frameCount_-=C}end(g){if(this.start_===null)return;const C=g.getTime();this.duration_=C-this.start_,this.start_=null,this.fps_=this.calculateFps_(C),this.timestamps_.push({frameCount:this.frameCount_,time:C}),++this.frameCount_,this.compactTimestamps_()}}const mi=m("fps");class ln{constructor(g,C){this.element=g.createElement("div"),this.element.classList.add(mi()),C.viewProps.bindClassModifiers(this.element),this.graphElement=g.createElement("div"),this.graphElement.classList.add(mi("g")),this.element.appendChild(this.graphElement);const S=g.createElement("div");S.classList.add(mi("l")),this.element.appendChild(S);const V=g.createElement("span");V.classList.add(mi("v")),V.textContent="--",S.appendChild(V),this.valueElement=V;const Q=g.createElement("span");Q.classList.add(mi("u")),Q.textContent="FPS",S.appendChild(Q)}}class vs{constructor(g,C){this.stopwatch_=new Cd,this.onTick_=this.onTick_.bind(this),this.ticker_=C.ticker,this.ticker_.emitter.on("tick",this.onTick_),this.value_=C.value,this.viewProps=C.viewProps,this.view=new ln(g,{viewProps:this.viewProps}),this.graphC_=new La(g,{formatter:Pi(0),lineCount:C.lineCount,maxValue:C.maxValue,minValue:C.minValue,value:this.value_,viewProps:this.viewProps}),this.view.graphElement.appendChild(this.graphC_.view.element),this.viewProps.handleDispose(()=>{this.graphC_.viewProps.set("disposed",!0),this.ticker_.dispose()})}begin(){this.stopwatch_.begin(new Date)}end(){this.stopwatch_.end(new Date)}onTick_(){const g=this.stopwatch_.fps;if(g!==null){const C=this.value_.rawValue;this.value_.rawValue=Ac(C,g),this.view.valueElement.textContent=g.toFixed(0)}}}function _i(A,g){return g===0?new he:new Ae(A,g!=null?g:ad.monitor.defaultInterval)}const xd={id:"fpsgraph",type:"blade",accept(A){const g=$,C=se(A,{view:g.required.constant("fpsgraph"),interval:g.optional.number,label:g.optional.string,lineCount:g.optional.number,max:g.optional.number,min:g.optional.number});return C?{params:C}:null},controller(A){var g,C,S,V;const Q=(g=A.params.interval)!==null&&g!==void 0?g:500;return new ke(A.document,{blade:A.blade,props:W.fromObject({label:A.params.label}),valueController:new vs(A.document,{lineCount:(C=A.params.lineCount)!==null&&C!==void 0?C:2,maxValue:(S=A.params.max)!==null&&S!==void 0?S:90,minValue:(V=A.params.min)!==null&&V!==void 0?V:0,ticker:_i(A.document,Q),value:id(80),viewProps:A.viewProps})})},api(A){return!(A.controller instanceof ke)||!(A.controller.valueController instanceof vs)?null:new wd(A.controller)}};class mn{constructor(g,C){this.min=g,this.max=C}static isObject(g){if(typeof g!="object"||g===null)return!1;const C=g.min,S=g.max;return!(typeof C!="number"||typeof S!="number")}static equals(g,C){return g.min===C.min&&g.max===C.max}get length(){return this.max-this.min}toObject(){return{min:this.min,max:this.max}}}const oo={fromComponents:A=>new mn(A[0],A[1]),toComponents:A=>[A.min,A.max]};class Ii{constructor(g){this.edge=g}constrain(g){var C,S,V,Q,ie,Se,vt,kt;if(g.min<=g.max)return new mn((S=(C=this.edge)===null||C===void 0?void 0:C.constrain(g.min))!==null&&S!==void 0?S:g.min,(Q=(V=this.edge)===null||V===void 0?void 0:V.constrain(g.max))!==null&&Q!==void 0?Q:g.max);const vi=(g.min+g.max)/2;return new mn((Se=(ie=this.edge)===null||ie===void 0?void 0:ie.constrain(vi))!==null&&Se!==void 0?Se:vi,(kt=(vt=this.edge)===null||vt===void 0?void 0:vt.constrain(vi))!==null&&kt!==void 0?kt:vi)}}const _t=m("rsltxt");class $c{constructor(g,C){this.sliderView_=C.sliderView,this.textView_=C.textView,this.element=g.createElement("div"),this.element.classList.add(_t());const S=g.createElement("div");S.classList.add(_t("s")),S.appendChild(this.sliderView_.element),this.element.appendChild(S);const V=g.createElement("div");V.classList.add(_t("t")),V.appendChild(this.textView_.element),this.element.appendChild(V)}}const at=m("rsl");class za{constructor(g,C){this.maxValue_=C.maxValue,this.minValue_=C.minValue,this.element=g.createElement("div"),this.element.classList.add(at()),C.viewProps.bindClassModifiers(this.element),this.value_=C.value,this.value_.emitter.on("change",this.onValueChange_.bind(this));const S=g.createElement("div");S.classList.add(at("t")),this.element.appendChild(S),this.trackElement=S;const V=g.createElement("div");V.classList.add(at("b")),S.appendChild(V),this.barElement=V;const Q=["min","max"].map(ie=>{const Se=g.createElement("div");return Se.classList.add(at("k"),at("k",ie)),S.appendChild(Se),Se});this.knobElements=[Q[0],Q[1]],this.update()}valueToX_(g){return fi(gt(g,this.minValue_,this.maxValue_,0,1),0,1)*100}update(){const g=this.value_.rawValue;g.length===0?this.element.classList.add(at(void 0,"zero")):this.element.classList.remove(at(void 0,"zero"));const C=[this.valueToX_(g.min),this.valueToX_(g.max)];this.barElement.style.left=`${C[0]}%`,this.barElement.style.right=`${100-C[1]}%`,this.knobElements.forEach((S,V)=>{S.style.left=`${C[V]}%`})}onValueChange_(){this.update()}}class En{constructor(g,C){this.grabbing_=null,this.grabOffset_=0,this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.maxValue_=C.maxValue,this.minValue_=C.minValue,this.viewProps=C.viewProps,this.value=C.value,this.view=new za(g,{maxValue:C.maxValue,minValue:C.minValue,value:this.value,viewProps:C.viewProps});const S=new no(this.view.trackElement);S.emitter.on("down",this.onPointerDown_),S.emitter.on("move",this.onPointerMove_),S.emitter.on("up",this.onPointerUp_)}ofs_(){return this.grabbing_==="min"?this.view.knobElements[0].getBoundingClientRect().width/2:this.grabbing_==="max"?-this.view.knobElements[1].getBoundingClientRect().width/2:0}valueFromData_(g){if(!g.point)return null;const C=(g.point.x+this.ofs_())/g.bounds.width;return gt(C,0,1,this.minValue_,this.maxValue_)}onPointerDown_(g){if(!g.data.point)return;const C=g.data.point.x/g.data.bounds.width,S=this.value.rawValue,V=gt(S.min,this.minValue_,this.maxValue_,0,1),Q=gt(S.max,this.minValue_,this.maxValue_,0,1);Math.abs(Q-C)<=.025?this.grabbing_="max":Math.abs(V-C)<=.025?this.grabbing_="min":C>=V&&C<=Q?(this.grabbing_="length",this.grabOffset_=gt(C-V,0,1,0,this.maxValue_-this.minValue_)):C<V?(this.grabbing_="min",this.onPointerMove_(g)):C>Q&&(this.grabbing_="max",this.onPointerMove_(g))}applyPointToValue_(g,C){const S=this.valueFromData_(g);if(S!==null){if(this.grabbing_==="min")this.value.setRawValue(new mn(S,this.value.rawValue.max),C);else if(this.grabbing_==="max")this.value.setRawValue(new mn(this.value.rawValue.min,S),C);else if(this.grabbing_==="length"){const V=this.value.rawValue.length;let Q=S-this.grabOffset_,ie=Q+V;Q<this.minValue_?(Q=this.minValue_,ie=this.minValue_+V):ie>this.maxValue_&&(Q=this.maxValue_-V,ie=this.maxValue_),this.value.setRawValue(new mn(Q,ie),C)}}}onPointerMove_(g){this.applyPointToValue_(g.data,{forceEmit:!1,last:!1})}onPointerUp_(g){this.applyPointToValue_(g.data,{forceEmit:!0,last:!0}),this.grabbing_=null}}class Ed{constructor(g,C){this.value=C.value,this.viewProps=C.viewProps,this.sc_=new En(g,C);const S={baseStep:C.baseStep,constraint:C.constraint,textProps:W.fromObject({draggingScale:C.draggingScale,formatter:C.formatter})};this.tc_=new so(g,{assembly:oo,axes:[S,S],parser:C.parser,value:this.value,viewProps:C.viewProps}),this.view=new $c(g,{sliderView:this.sc_.view,textView:this.tc_.view})}get textController(){return this.tc_}}function ar(A){return mn.isObject(A)?new mn(A.min,A.max):new mn(0,0)}function Ua(A,g){A.writeProperty("max",g.max),A.writeProperty("min",g.min)}function Ad(A){const g=[],C=od(A);C&&g.push(C);const S=Lc(A);return S&&g.push(S),new Ii(new we(g))}const Dd={id:"input-interval",type:"input",css:".tp-cbzv_b,.tp-rslv_k,.tp-radv_b,.tp-cbzgv{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-cbzv_b,.tp-rslv_k,.tp-radv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-cbzv_b:hover,.tp-rslv_k:hover,.tp-radv_b:hover{background-color:var(--btn-bg-h)}.tp-cbzv_b:focus,.tp-rslv_k:focus,.tp-radv_b:focus{background-color:var(--btn-bg-f)}.tp-cbzv_b:active,.tp-rslv_k:active,.tp-radv_b:active{background-color:var(--btn-bg-a)}.tp-cbzv_b:disabled,.tp-rslv_k:disabled,.tp-radv_b:disabled{opacity:0.5}.tp-cbzgv{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-cbzgv:hover{background-color:var(--in-bg-h)}.tp-cbzgv:focus{background-color:var(--in-bg-f)}.tp-cbzgv:active{background-color:var(--in-bg-a)}.tp-cbzgv:disabled{opacity:0.5}.tp-btngridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-btngridv.tp-v-disabled{opacity:0.5}.tp-btngridv .tp-btnv_b:disabled{opacity:1}.tp-btngridv .tp-btnv_b:disabled .tp-btnv_t{opacity:0.5}.tp-btngridv .tp-btnv_b{border-radius:0}.tp-cbzv{position:relative}.tp-cbzv_h{display:flex}.tp-cbzv_b{margin-right:4px;position:relative;width:var(--bld-us)}.tp-cbzv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-cbzv_b svg path{stroke:var(--bs-bg);stroke-width:2}.tp-cbzv_t{flex:1}.tp-cbzv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-cbzv.tp-cbzv-expanded .tp-cbzv_p{margin-top:var(--bld-s);opacity:1}.tp-cbzv.tp-cbzv-cpl .tp-cbzv_p{overflow:visible}.tp-cbzv .tp-popv{left:calc(-1 * var(--cnt-h-p));position:absolute;right:calc(-1 * var(--cnt-h-p));top:var(--bld-us)}.tp-cbzpv_t{margin-top:var(--bld-s)}.tp-cbzgv{height:auto;overflow:hidden;position:relative}.tp-cbzgv.tp-v-disabled{opacity:0.5}.tp-cbzgv_p{left:16px;position:absolute;right:16px;top:0}.tp-cbzgv_g{cursor:pointer;display:block;height:calc(var(--bld-us) * 5);width:100%}.tp-cbzgv_u{opacity:0.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_l{fill:transparent;stroke:var(--in-fg)}.tp-cbzgv_v{opacity:0.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_h{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;pointer-events:none;position:absolute;width:4px}.tp-cbzgv:focus .tp-cbzgv_h-sel{background-color:var(--in-fg);border-width:0}.tp-cbzprvv{cursor:pointer;height:4px;padding:4px 0;position:relative}.tp-cbzprvv_g{display:block;height:100%;overflow:visible;width:100%}.tp-cbzprvv_t{opacity:0.5;stroke:var(--mo-fg)}.tp-cbzprvv_m{background-color:var(--mo-fg);border-radius:50%;height:4px;margin-left:-2px;margin-top:-2px;opacity:0;position:absolute;top:50%;transition:opacity 0.2s ease-out;width:4px}.tp-cbzprvv_m.tp-cbzprvv_m-a{opacity:1}.tp-fpsv{position:relative}.tp-fpsv_l{bottom:4px;color:var(--mo-fg);line-height:1;right:4px;pointer-events:none;position:absolute}.tp-fpsv_u{margin-left:0.2em;opacity:0.7}.tp-rslv{cursor:pointer;padding-left:8px;padding-right:8px}.tp-rslv.tp-v-disabled{opacity:0.5}.tp-rslv_t{height:calc(var(--bld-us));position:relative}.tp-rslv_t::before{background-color:var(--in-bg);border-radius:1px;content:'';height:2px;margin-top:-1px;position:absolute;top:50%;left:-4px;right:-4px}.tp-rslv_b{bottom:0;top:0;position:absolute}.tp-rslv_b::before{background-color:var(--in-fg);content:'';height:2px;margin-top:-1px;position:absolute;top:50%;left:0;right:0}.tp-rslv_k{height:calc(var(--bld-us) - 8px);margin-top:calc((var(--bld-us) - 8px) / -2);position:absolute;top:50%;width:8px}.tp-rslv_k.tp-rslv_k-min{margin-left:-8px}.tp-rslv_k.tp-rslv_k-max{margin-left:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-min{border-bottom-right-radius:0;border-top-right-radius:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-max{border-bottom-left-radius:0;border-top-left-radius:0}.tp-rsltxtv{display:flex}.tp-rsltxtv_s{flex:1}.tp-rsltxtv_t{flex:1;margin-left:4px}.tp-radv_l{display:block;position:relative}.tp-radv_i{left:0;opacity:0;position:absolute;top:0}.tp-radv_b{opacity:0.5}.tp-radv_i:hover+.tp-radv_b{background-color:var(--btn-bg-h)}.tp-radv_i:focus+.tp-radv_b{background-color:var(--btn-bg-f)}.tp-radv_i:active+.tp-radv_b{background-color:var(--btn-bg-a)}.tp-radv_i:checked+.tp-radv_b{opacity:1}.tp-radv_t{bottom:0;color:inherit;left:0;overflow:hidden;position:absolute;right:0;text-align:center;text-overflow:ellipsis;top:0}.tp-radv_i:disabled+.tp-radv_b>.tp-radv_t{opacity:0.5}.tp-radgridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-radgridv.tp-v-disabled{opacity:0.5}.tp-radgridv .tp-radv_b{border-radius:0}",accept:(A,g)=>{if(!mn.isObject(A))return null;const C=$,S=se(g,{format:C.optional.function,max:C.optional.number,min:C.optional.number,step:C.optional.number});return S?{initialValue:new mn(A.min,A.max),params:S}:null},binding:{reader:A=>ar,constraint:A=>Ad(A.params),equals:mn.equals,writer:A=>Ua},controller(A){var g;const C=A.value,S=A.constraint;if(!(S instanceof Ii))throw u.shouldNeverHappen();const V=(C.rawValue.min+C.rawValue.max)/2,Q=(g=A.params.format)!==null&&g!==void 0?g:Pi(Tc(S.edge,V)),ie=S.edge&&Ge(S.edge,Fe);if((ie==null?void 0:ie.minValue)!==void 0&&(ie==null?void 0:ie.maxValue)!==void 0)return new Ed(A.document,{baseStep:Mc(S.edge),constraint:S.edge,draggingScale:Bc(ie,V),formatter:Q,maxValue:ie.maxValue,minValue:ie.minValue,parser:ir,value:C,viewProps:A.viewProps});const Se={baseStep:Mc(S.edge),constraint:S.edge,textProps:W.fromObject({draggingScale:V,formatter:Q})};return new so(A.document,{assembly:oo,axes:[Se,Se],parser:ir,value:C,viewProps:A.viewProps})}};class Ga{constructor(g){this.controller_=g}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(g){this.controller_.viewProps.set("disabled",g)}get title(){var g;return(g=this.controller_.props.get("title"))!==null&&g!==void 0?g:""}set title(g){this.controller_.props.set("title",g)}}class Sd extends r{constructor(g,C,S,V,Q){super(g,V,Q),this.cell=C,this.index=S}}class $a extends i{constructor(g){super(g),this.cellToApiMap_=new Map,this.controller_.valueController.cellControllers.forEach(S=>{const V=new Ga(S);this.cellToApiMap_.set(S,V)})}get value(){return this.controller_.value}cell(g,C){const S=this.controller_.valueController,V=S.cellControllers[C*S.size[0]+g];return this.cellToApiMap_.get(V)}on(g,C){const S=C.bind(this);this.controller_.value.emitter.on(g,V=>{const Q=this.controller_.valueController,ie=Q.findCellByValue(V.rawValue);if(!ie)return;const Se=this.cellToApiMap_.get(ie);if(!Se)return;const vt=Q.cellControllers.indexOf(ie);S(new Sd(this,Se,[vt%Q.size[0],Math.floor(vt/Q.size[0])],V.rawValue,void 0))})}}const gi=m("rad");class ao{constructor(g,C){this.element=g.createElement("div"),this.element.classList.add(gi()),C.viewProps.bindClassModifiers(this.element);const S=g.createElement("label");S.classList.add(gi("l")),this.element.appendChild(S);const V=g.createElement("input");V.classList.add(gi("i")),V.name=C.name,V.type="radio",C.viewProps.bindDisabled(V),S.appendChild(V),this.inputElement=V;const Q=g.createElement("div");Q.classList.add(gi("b")),S.appendChild(Q);const ie=g.createElement("div");ie.classList.add(gi("t")),Q.appendChild(ie),x(C.props,"title",Se=>{ie.textContent=Se})}}class Wc{constructor(g,C){this.props=C.props,this.viewProps=C.viewProps,this.view=new ao(g,{name:C.name,props:this.props,viewProps:this.viewProps})}}class Jn{constructor(g,C){this.cellCs_=[],this.cellValues_=[],this.onCellInputChange_=this.onCellInputChange_.bind(this),this.size=C.size;const[S,V]=this.size;for(let Q=0;Q<V;Q++)for(let ie=0;ie<S;ie++){const Se=new Wc(g,{name:C.groupName,props:W.fromObject(Object.assign({},C.cellConfig(ie,Q))),viewProps:pe.create()});this.cellCs_.push(Se),this.cellValues_.push(C.cellConfig(ie,Q).value)}this.value=C.value,w(this.value,Q=>{const ie=this.findCellByValue(Q);!ie||(ie.view.inputElement.checked=!0)}),this.viewProps=pe.create(),this.view=new be(g,{viewProps:this.viewProps,viewName:"radgrid"}),this.view.element.style.gridTemplateColumns=`repeat(${S}, 1fr)`,this.cellCs_.forEach(Q=>{Q.view.inputElement.addEventListener("change",this.onCellInputChange_),this.view.element.appendChild(Q.view.element)})}get cellControllers(){return this.cellCs_}findCellByValue(g){const C=this.cellValues_.findIndex(S=>S===g);return C<0?null:this.cellCs_[C]}onCellInputChange_(g){const C=g.currentTarget,S=this.cellCs_.findIndex(V=>V.view.inputElement===C);S<0||(this.value.rawValue=this.cellValues_[S])}}const jc=function(){return{id:"radiogrid",type:"blade",accept(A){const g=$,C=se(A,{cells:g.required.function,groupName:g.required.string,size:g.required.array(g.required.number),value:g.required.raw,view:g.required.constant("radiogrid"),label:g.optional.string});return C?{params:C}:null},controller(A){return new de(A.document,{blade:A.blade,props:W.fromObject({label:A.params.label}),valueController:new Jn(A.document,{groupName:A.params.groupName,cellConfig:A.params.cells,size:A.params.size,value:k(A.params.value)})})},api(A){return!(A.controller instanceof de)||!(A.controller.valueController instanceof Jn)?null:new $a(A.controller)}}}(),Wa=[Ia,Uc,xd,Dd,jc,{id:"input-radiogrid",type:"input",accept(A,g){if(typeof A!="number")return null;const C=$,S=se(g,{cells:C.required.function,groupName:C.required.string,size:C.required.array(C.required.number),view:C.required.constant("radiogrid")});return S?{initialValue:A,params:S}:null},binding:{reader:A=>Bi,writer:A=>sd},controller:A=>new Jn(A.document,{cellConfig:A.params.cells,groupName:A.params.groupName,size:A.params.size,value:A.value})}];t.CubicBezier=Li,t.plugins=Wa,Object.defineProperty(t,"__esModule",{value:!0})})})(Hu,Hu.exports);var iD=k3(Hu.exports),sD=y2({__proto__:null,default:iD},[Hu.exports]),zu={exports:{}};(function(n,e){(function(t,i){i(e)})(Gt,function(t){function i(I){return I}const s="tp";function r(I){return(k,W)=>[s,"-",I,"v",k?`_${k}`:"",W?`-${W}`:""].join("")}function o(I,L){const W=Object.keys(L).reduce((K,R)=>{if(K===void 0)return;const O=L[R](I[R]);return O.succeeded?Object.assign(Object.assign({},K),{[R]:O.value}):void 0},{});return W}function a(I,L){return I.reduce((k,W)=>{if(k===void 0)return;const K=L(W);if(!(!K.succeeded||K.value===void 0))return[...k,K.value]},[])}function c(I){return I===null?!1:typeof I=="object"}function u(I){return L=>k=>{if(!L&&k===void 0)return{succeeded:!1,value:void 0};if(L&&k===void 0)return{succeeded:!0,value:void 0};const W=I(k);return W!==void 0?{succeeded:!0,value:W}:{succeeded:!1,value:void 0}}}function h(I){return{custom:L=>u(L)(I),boolean:u(L=>typeof L=="boolean"?L:void 0)(I),number:u(L=>typeof L=="number"?L:void 0)(I),string:u(L=>typeof L=="string"?L:void 0)(I),function:u(L=>typeof L=="function"?L:void 0)(I),constant:L=>u(k=>k===L?L:void 0)(I),raw:u(L=>L)(I),object:L=>u(k=>{if(!!c(k))return o(k,L)})(I),array:L=>u(k=>{if(!!Array.isArray(k))return a(k,L)})(I)}}const f={optional:h(!0),required:h(!1)};function m(I,L){const k=f.required.object(L)(I);return k.succeeded?k.value:void 0}function _(I,L,k,W){function K(R){return R instanceof k?R:new k(function(G){G(R)})}return new(k||(k=Promise))(function(R,G){function O(se){try{$(W.next(se))}catch(X){G(X)}}function j(se){try{$(W.throw(se))}catch(X){G(X)}}function $(se){se.done?R(se.value):K(se.value).then(O,j)}$((W=W.apply(I,L||[])).next())})}function y(){const I=document.createElement("canvas");I.width=128,I.height=64;const L=I.getContext("2d");return L.fillStyle="#222",L.fillRect(0,0,I.width,I.height),L.fillStyle="#ddd",L.font="monospaced",L.textAlign="center",L.textBaseline="middle",L.fillText("No image",I.width*.5,I.height*.5),new Promise(k=>{I.toBlob(W=>{const K=new Image;K.src=URL.createObjectURL(W),K.onload=()=>{k(K)}})})}function w(I){return _(this,void 0,void 0,function*(){const L=new Image;return L.crossOrigin="anonymous",new Promise(k=>{L.src=I,L.onload=()=>{k(L)}})})}function x(I){const L=document.createElement("canvas");L.width=I.width,L.height=I.height,L.getContext("2d").drawImage(I,0,0);const W=new Image;return new Promise(K=>{L.toBlob(R=>{W.src=URL.createObjectURL(R),W.onload=()=>{K(W)}})})}const M=r("img");class P{constructor(L,k){this.element=L.createElement("div"),this.element.classList.add(M()),k.viewProps.bindClassModifiers(this.element),this.input=L.createElement("input"),this.input.classList.add(M("input")),this.input.setAttribute("type","file"),this.input.setAttribute("accept",k.extensions.join(",")),this.element.appendChild(this.input),this.image_=L.createElement("img"),this.image_.classList.add(M("image")),this.image_.classList.add(M(`image_${k.imageFit}`)),this.element.classList.add(M("area_root")),this.element.appendChild(this.image_)}changeImage(L){this.image_.src=L}changeDraggingState(L){const k=this.element;L?k==null||k.classList.add(M("area_dragging")):k==null||k.classList.remove(M("area_dragging"))}}class F{constructor(L,k){this.placeholderImage=null,this.value=k.value,this.viewProps=k.viewProps,this.view=new P(L,{viewProps:this.viewProps,extensions:k.extensions,imageFit:k.imageFit}),this.onFile=this.onFile.bind(this),this.onDrop=this.onDrop.bind(this),this.onDragOver=this.onDragOver.bind(this),this.onDragLeave=this.onDragLeave.bind(this),this.view.input.addEventListener("change",this.onFile),this.view.element.addEventListener("drop",this.onDrop),this.view.element.addEventListener("dragover",this.onDragOver),this.view.element.addEventListener("dragleave",this.onDragLeave),this.viewProps.handleDispose(()=>{this.view.input.removeEventListener("change",this.onFile),this.view.input.removeEventListener("drop",this.onDrop),this.view.input.removeEventListener("dragover",this.onDragOver),this.view.input.removeEventListener("dragleave",this.onDragLeave)}),this.value.emitter.on("change",this.handleValueChange.bind(this)),this.handleValueChange()}onFile(L){const k=(L==null?void 0:L.target).files;if(!k||!k.length)return;const W=k[0],K=URL.createObjectURL(W);this.setValue(K),this.updateImage(K)}onDrop(L){return _(this,void 0,void 0,function*(){L.preventDefault();try{const{dataTransfer:k}=L,W=k==null?void 0:k.files[0];if(W){const K=URL.createObjectURL(W);this.updateImage(K),this.setValue(K)}else{const K=k==null?void 0:k.getData("url");if(!K)throw new Error("No url");w(K).then(R=>_(this,void 0,void 0,function*(){const G=yield x(R);this.updateImage(G.src),this.setValue(G)}))}}catch(k){console.error("Could not parse the dropped image",k)}finally{this.view.changeDraggingState(!1)}})}onDragOver(L){L.preventDefault(),this.view.changeDraggingState(!0)}onDragLeave(){this.view.changeDraggingState(!1)}handleImage(L){return _(this,void 0,void 0,function*(){if(L instanceof HTMLImageElement)x(L).then(k=>{this.updateImage(k.src)});else if(typeof L=="string"){let k="";try{if(L==="placeholder")throw new Error("placeholder");new URL(L),k=(yield w(L)).src}catch{k=(yield this.handlePlaceholderImage()).src}finally{this.updateImage(k),this.setValue(k)}}})}updateImage(L){this.view.changeImage(L)}setValue(L){return _(this,void 0,void 0,function*(){L instanceof HTMLImageElement?this.value.setRawValue(L):L?this.value.setRawValue(yield w(L)):this.value.setRawValue(yield this.handlePlaceholderImage())})}handleValueChange(){this.handleImage(this.value.rawValue)}handlePlaceholderImage(){return _(this,void 0,void 0,function*(){return this.placeholderImage||(this.placeholderImage=yield y()),this.placeholderImage})}}const E=[".jpg",".png",".gif"],B={id:"input-image",type:"input",css:".tp-imgv{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-imgv{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-imgv:hover{background-color:var(--in-bg-h)}.tp-imgv:focus{background-color:var(--in-bg-f)}.tp-imgv:active{background-color:var(--in-bg-a)}.tp-imgv:disabled{opacity:0.5}:root{--tp-plugin-image-dragging-color: hsla(230, 100%, 66%, 1.00)}.tp-imgv{cursor:pointer;display:grid;height:calc(var(--bld-us) * 3);overflow:hidden;position:relative}.tp-imgv.tp-v-disabled{opacity:0.5}.tp-imgv_input{width:100%;height:100%;opacity:0}.tp-imgv_image{width:100%;height:100%;position:absolute;pointer-events:none;border:0}.tp-imgv_image_contain{-o-object-fit:contain;object-fit:contain}.tp-imgv_image_cover{-o-object-fit:cover;object-fit:cover}.tp-imgv_area_root{transition:opacity 0.16s ease-in-out}.tp-imgv_area_dragging{border:2px dashed var(--tp-plugin-image-dragging-color);border-radius:6px;opacity:0.6}",accept(I,L){if(!(I instanceof HTMLImageElement||typeof I=="string"))return null;const k=f,W=m(L,{view:k.required.constant("input-image"),acceptUrl:k.optional.boolean,imageFit:k.optional.custom(K=>K==="contain"||K==="cover"?K:void 0),extensions:k.optional.array(k.required.string)});return W?{initialValue:I,params:W}:null},binding:{reader(I){return L=>L instanceof HTMLImageElement?L.src===""?"placeholder":L.src:typeof L=="string"?L:"placeholder"},writer(I){return(L,k)=>{L.write(k)}}},controller(I){var L,k;return new F(I.document,{value:I.value,imageFit:(L=I.params.imageFit)!==null&&L!==void 0?L:"cover",viewProps:I.viewProps,extensions:(k=I.params.extensions)!==null&&k!==void 0?k:E})}};t.plugin=B,Object.defineProperty(t,"__esModule",{value:!0})})})(zu,zu.exports);var rD=k3(zu.exports),oD=y2({__proto__:null,default:rD},[zu.exports]);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ce=function(n,e){if(!n)throw fa(e)},fa=function(n){return new Error("Firebase Database ("+Kb.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},aD=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=n[t++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=n[t++],o=n[t++],a=n[t++],c=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const r=n[t++],o=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},Y1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const r=n[s],o=s+1<n.length,a=o?n[s+1]:0,c=s+2<n.length,u=c?n[s+2]:0,h=r>>2,f=(r&3)<<4|a>>4;let m=(a&15)<<2|u>>6,_=u&63;c||(_=64,o||(m=64)),i.push(t[h],t[f],t[m],t[_])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Jb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):aD(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const r=t[n.charAt(s++)],a=s<n.length?t[n.charAt(s)]:0;++s;const u=s<n.length?t[n.charAt(s)]:64;++s;const f=s<n.length?t[n.charAt(s)]:64;if(++s,r==null||a==null||u==null||f==null)throw Error();const m=r<<2|a>>4;if(i.push(m),u!==64){const _=a<<4&240|u>>2;if(i.push(_),f!==64){const y=u<<6&192|f;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Xb=function(n){const e=Jb(n);return Y1.encodeByteArray(e,!0)},Zb=function(n){return Xb(n).replace(/\./g,"")},fg=function(n){try{return Y1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(n){return Qb(void 0,n)}function Qb(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!cD(t)||(n[t]=Qb(n[t],e[t]));return n}function cD(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yb(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(uD())}function hD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function e5(){return Kb.NODE_ADMIN===!0}function dD(){return typeof indexedDB=="object"}function fD(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="FirebaseError";class t0 extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=pD,Object.setPrototypeOf(this,t0.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,t5.prototype.create)}}class t5{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?mD(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new t0(s,a,i)}}function mD(n,e){return n.replace(_D,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const _D=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(n){return JSON.parse(n)}function Jt(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=function(n){let e={},t={},i={},s="";try{const r=n.split(".");e=Kl(fg(r[0])||""),t=Kl(fg(r[1])||""),s=r[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:s}},gD=function(n){const e=n5(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},vD=function(n){const e=n5(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ea(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function pg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Uu(n,e,t){const i={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=e.call(t,n[s],s,n));return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)i[f]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let f=0;f<16;f++)i[f]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let f=16;f<80;f++){const m=i[f-3]^i[f-8]^i[f-14]^i[f-16];i[f]=(m<<1|m>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4],u,h;for(let f=0;f<80;f++){f<40?f<20?(u=a^r&(o^a),h=1518500249):(u=r^o^a,h=1859775393):f<60?(u=r&o|a&(r|o),h=2400959708):(u=r^o^a,h=3395469782);const m=(s<<5|s>>>27)+u+c+h+i[f]&4294967295;c=a,a=o,o=(r<<30|r>>>2)&4294967295,r=s,s=m}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let s=0;const r=this.buf_;let o=this.inbuf_;for(;s<t;){if(o===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}else for(;s<t;)if(r[o]=e[s],++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function n0(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,Ce(i<n.length,"Surrogate pair missing trail surrogate.");const o=n.charCodeAt(i)-56320;s=65536+(r<<10)+o}s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):s<65536?(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Th=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(n){return n&&n._delegate?n._delegate:n}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(n,e){return new Promise((t,i)=>{n.onsuccess=s=>{t(s.target.result)},n.onerror=s=>{var r;i(`${e}: ${(r=s.target.error)===null||r===void 0?void 0:r.message}`)}})}class mg{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,t){return new i5(this._db.transaction.call(this._db,e,t))}createObjectStore(e,t){return new s5(this._db.createObjectStore(e,t))}close(){this._db.close()}}class i5{constructor(e){this._transaction=e,this.complete=new Promise((t,i)=>{this._transaction.oncomplete=function(){t()},this._transaction.onerror=()=>{i(this._transaction.error)},this._transaction.onabort=()=>{i(this._transaction.error)}})}objectStore(e){return new s5(this._transaction.objectStore(e))}}class s5{constructor(e){this._store=e}index(e){return new _g(this._store.index(e))}createIndex(e,t,i){return new _g(this._store.createIndex(e,t,i))}get(e){const t=this._store.get(e);return dl(t,"Error reading from IndexedDB")}put(e,t){const i=this._store.put(e,t);return dl(i,"Error writing to IndexedDB")}delete(e){const t=this._store.delete(e);return dl(t,"Error deleting from IndexedDB")}clear(){const e=this._store.clear();return dl(e,"Error clearing IndexedDB object store")}}class _g{constructor(e){this._index=e}get(e){const t=this._index.get(e);return dl(t,"Error reading from IndexedDB")}}function CD(n,e,t){return new Promise((i,s)=>{try{const r=indexedDB.open(n,e);r.onsuccess=o=>{i(new mg(o.target.result))},r.onerror=o=>{var a;s(`Error opening indexedDB: ${(a=o.target.error)===null||a===void 0?void 0:a.message}`)},r.onupgradeneeded=o=>{t(new mg(r.result),o.oldVersion,o.newVersion,new i5(r.transaction))}}catch(r){s(`Error opening indexedDB: ${r.message}`)}})}class Gu{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Dt||(Dt={}));const xD={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},ED=Dt.INFO,AD={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},DD=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=AD[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class r5{constructor(e){this.name=e,this._logLevel=ED,this._logHandler=DD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...e),this._logHandler(this,Dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...e),this._logHandler(this,Dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...e),this._logHandler(this,Dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...e),this._logHandler(this,Dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...e),this._logHandler(this,Dt.ERROR,...e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(TD(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function TD(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hp="@firebase/app",gg="0.7.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=new r5("@firebase/app"),MD="@firebase/app-compat",BD="@firebase/analytics-compat",PD="@firebase/analytics",FD="@firebase/app-check-compat",LD="@firebase/app-check",ID="@firebase/auth",RD="@firebase/auth-compat",kD="@firebase/database",OD="@firebase/database-compat",ND="@firebase/functions",VD="@firebase/functions-compat",HD="@firebase/installations",zD="@firebase/installations-compat",UD="@firebase/messaging",GD="@firebase/messaging-compat",$D="@firebase/performance",WD="@firebase/performance-compat",jD="@firebase/remote-config",qD="@firebase/remote-config-compat",KD="@firebase/storage",JD="@firebase/storage-compat",XD="@firebase/firestore",ZD="@firebase/firestore-compat",QD="firebase",YD="9.6.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="[DEFAULT]",tS={[Hp]:"fire-core",[MD]:"fire-core-compat",[PD]:"fire-analytics",[BD]:"fire-analytics-compat",[LD]:"fire-app-check",[FD]:"fire-app-check-compat",[ID]:"fire-auth",[RD]:"fire-auth-compat",[kD]:"fire-rtdb",[OD]:"fire-rtdb-compat",[ND]:"fire-fn",[VD]:"fire-fn-compat",[HD]:"fire-iid",[zD]:"fire-iid-compat",[UD]:"fire-fcm",[GD]:"fire-fcm-compat",[$D]:"fire-perf",[WD]:"fire-perf-compat",[jD]:"fire-rc",[qD]:"fire-rc-compat",[KD]:"fire-gcs",[JD]:"fire-gcs-compat",[XD]:"fire-fst",[ZD]:"fire-fst-compat","fire-js":"fire-js",[QD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=new Map,vg=new Map;function nS(n,e){try{n.container.addComponent(e)}catch(t){i0.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function $u(n){const e=n.name;if(vg.has(e))return i0.debug(`There were multiple attempts to register component ${e}.`),!1;vg.set(e,n);for(const t of o5.values())nS(t,n);return!0}function iS(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},Bh=new t5("app","Firebase",sS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=YD;function oS(n=eS){const e=o5.get(n);if(!e)throw Bh.create("no-app",{appName:n});return e}function Ho(n,e,t){var i;let s=(i=tS[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),i0.warn(a.join(" "));return}$u(new Gu(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="firebase-heartbeat-database",lS=1,Jl="firebase-heartbeat-store";let yf=null;function a5(){return yf||(yf=CD(aS,lS,(n,e)=>{switch(e){case 0:n.createObjectStore(Jl)}}).catch(n=>{throw Bh.create("storage-open",{originalErrorMessage:n.message})})),yf}async function cS(n){try{return(await a5()).transaction(Jl).objectStore(Jl).get(l5(n))}catch(e){throw Bh.create("storage-get",{originalErrorMessage:e.message})}}async function bg(n,e){try{const i=(await a5()).transaction(Jl,"readwrite");return await i.objectStore(Jl).put(e,l5(n)),i.complete}catch(t){throw Bh.create("storage-set",{originalErrorMessage:t.message})}}function l5(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=1024,hS=30*24*60*60*1e3;class dS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new pS(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=yg();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const r=new Date(s.date).valueOf();return Date.now()-r<=hS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yg(),{heartbeatsToSend:t,unsentEntries:i}=fS(this._heartbeatsCache.heartbeats),s=Zb(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function yg(){return new Date().toISOString().substring(0,10)}function fS(n,e=uS){const t=[];let i=n.slice();for(const s of n){const r=t.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),wg(t)>e){r.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),wg(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class pS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dD()?fD().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await cS(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return bg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return bg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function wg(n){return Zb(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(n){$u(new Gu("platform-logger",e=>new SD(e),"PRIVATE")),$u(new Gu("heartbeat",e=>new dS(e),"PRIVATE")),Ho(Hp,gg,n),Ho(Hp,gg,"esm2017"),Ho("fire-js","")}mS("");var _S="firebase",gS="9.6.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ho(_S,gS,"app");const Cg="@firebase/database",xg="0.12.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c5="";function vS(n){c5=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Jt(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Kl(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return ps(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=function(n){try{if(typeof window!="undefined"&&typeof window[n]!="undefined"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new bS(e)}}catch{}return new yS},Ar=u5("localStorage"),zp=u5("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new r5("@firebase/database"),wS=function(){let n=1;return function(){return n++}}(),h5=function(n){const e=wD(n),t=new yD;t.update(e);const i=t.digest();return Y1.encodeByteArray(i)},oc=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=oc.apply(null,i):typeof i=="object"?e+=Jt(i):e+=i,e+=" "}return e};let Nr=null,Eg=!0;const CS=function(n,e){Ce(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(zo.logLevel=Dt.VERBOSE,Nr=zo.log.bind(zo),e&&zp.set("logging_enabled",!0)):typeof n=="function"?Nr=n:(Nr=null,zp.remove("logging_enabled"))},un=function(...n){if(Eg===!0&&(Eg=!1,Nr===null&&zp.get("logging_enabled")===!0&&CS(!0)),Nr){const e=oc.apply(null,n);Nr(e)}},ac=function(n){return function(...e){un(n,...e)}},Up=function(...n){const e="FIREBASE INTERNAL ERROR: "+oc(...n);zo.error(e)},zr=function(...n){const e=`FIREBASE FATAL ERROR: ${oc(...n)}`;throw zo.error(e),new Error(e)},In=function(...n){const e="FIREBASE WARNING: "+oc(...n);zo.warn(e)},xS=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&In("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},d5=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},ES=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},ta="[MIN_NAME]",Ur="[MAX_NAME]",pa=function(n,e){if(n===e)return 0;if(n===ta||e===Ur)return-1;if(e===ta||n===Ur)return 1;{const t=Ag(n),i=Ag(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},AS=function(n,e){return n===e?0:n<e?-1:1},tl=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Jt(e))},s0=function(n){if(typeof n!="object"||n===null)return Jt(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=Jt(e[i]),t+=":",t+=s0(n[e[i]]);return t+="}",t},f5=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let s=0;s<t;s+=e)s+e>t?i.push(n.substring(s,t)):i.push(n.substring(s,s+e));return i};function Rn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const p5=function(n){Ce(!d5(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let s,r,o,a,c;n===0?(r=0,o=0,s=1/n===-1/0?1:0):(s=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),r=a+i,o=Math.round(n*Math.pow(2,t-a)-Math.pow(2,t))):(r=0,o=Math.round(n/Math.pow(2,1-i-t))));const u=[];for(c=t;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)u.push(r%2?1:0),r=Math.floor(r/2);u.push(s?1:0),u.reverse();const h=u.join("");let f="";for(c=0;c<64;c+=8){let m=parseInt(h.substr(c,8),2).toString(16);m.length===1&&(m="0"+m),f=f+m}return f.toLowerCase()},DS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},SS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function TS(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}const MS=new RegExp("^-?(0*)\\d{1,10}$"),BS=-2147483648,PS=2147483647,Ag=function(n){if(MS.test(n)){const e=Number(n);if(e>=BS&&e<=PS)return e}return null},ma=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw In("Exception was thrown by user callback.",t),e},Math.floor(0))}},FS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Sl=function(n,e){const t=setTimeout(n,e);return typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){In(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(un("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',In(e)}}class Gp{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Gp.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="5",m5="v",_5="s",g5="r",v5="f",b5=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,y5="ls",RS="p",$p="ac",w5="websocket",C5="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,t,i,s,r=!1,o="",a=!1){this.secure=t,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ar.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ar.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function OS(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function x5(n,e,t){Ce(typeof e=="string","typeof type must == string"),Ce(typeof t=="object","typeof params must == object");let i;if(e===w5)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===C5)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);OS(n)&&(t.ns=n.namespace);const s=[];return Rn(t,(r,o)=>{s.push(r+"="+o)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.counters_={}}incrementCounter(e,t=1){ps(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return lD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf={},Cf={};function o0(n){const e=n.toString();return wf[e]||(wf[e]=new NS),wf[e]}function VS(n,e){const t=n.toString();return Cf[t]||(Cf[t]=e()),Cf[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&ma(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="start",zS="close",US="pLPCommand",GS="pRTLPCB",E5="id",A5="pw",D5="ser",$S="cb",WS="seg",jS="ts",qS="d",KS="dframe",S5=1870,T5=30,JS=S5-T5,XS=25e3,ZS=3e4;class Bo{constructor(e,t,i,s,r,o,a){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ac(e),this.stats_=o0(t),this.urlFn=c=>(this.appCheckToken&&(c[$p]=this.appCheckToken),x5(t,C5,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new HS(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(ZS)),ES(()=>{if(this.isClosed_)return;this.scriptTagHolder=new a0((...r)=>{const[o,a,c,u,h]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Dg)this.id=a,this.password=c;else if(o===zS)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[Dg]="t",i[D5]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[$S]=this.scriptTagHolder.uniqueCallbackIdentifier),i[m5]=r0,this.transportSessionId&&(i[_5]=this.transportSessionId),this.lastSessionId&&(i[y5]=this.lastSessionId),this.applicationId&&(i[RS]=this.applicationId),this.appCheckToken&&(i[$p]=this.appCheckToken),typeof location!="undefined"&&location.hostname&&b5.test(location.hostname)&&(i[g5]=v5);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Bo.forceAllow_=!0}static forceDisallow(){Bo.forceDisallow_=!0}static isAvailable(){return Bo.forceAllow_?!0:!Bo.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!DS()&&!SS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Jt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=Xb(t),s=f5(i,JS);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[KS]="t",i[E5]=e,i[A5]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Jt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class a0{constructor(e,t,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=wS(),window[US+this.uniqueCallbackIdentifier]=e,window[GS+this.uniqueCallbackIdentifier]=t,this.myIFrame=a0.createIFrame_();let r="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){const a=document.domain;r='<script>document.domain="'+a+'";<\/script>'}const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){un("frame writing exception"),a.stack&&un(a.stack),un(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||un("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[E5]=this.myID,e[A5]=this.myPW,e[D5]=this.currentSerial;let t=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+T5+i.length<=S5;){const o=this.pendingSegs.shift();i=i+"&"+WS+s+"="+o.seg+"&"+jS+s+"="+o.ts+"&"+qS+s+"="+o.d,s++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},s=setTimeout(i,Math.floor(XS)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{un("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=16384,YS=45e3;let Wu=null;typeof MozWebSocket!="undefined"?Wu=MozWebSocket:typeof WebSocket!="undefined"&&(Wu=WebSocket);class wi{constructor(e,t,i,s,r,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ac(this.connId),this.stats_=o0(t),this.connURL=wi.connectionURL_(t,o,a,s),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,s){const r={};return r[m5]=r0,typeof location!="undefined"&&location.hostname&&b5.test(location.hostname)&&(r[g5]=v5),t&&(r[_5]=t),i&&(r[y5]=i),s&&(r[$p]=s),x5(e,w5,r)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ar.set("previous_websocket_failure",!0);try{if(!e5()){const i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Wu(this.connURL,[],i)}}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){wi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator!="undefined"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Wu!==null&&!wi.forceDisallow_}static previouslyFailed(){return Ar.isInMemoryStorage||Ar.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ar.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=Kl(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ce(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=Jt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=f5(t,QS);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(YS))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}wi.responsesRequiredToBeHealthy=2;wi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Bo,wi]}initTransports_(e){const t=wi&&wi.isAvailable();let i=t&&!wi.previouslyFailed();if(e.webSocketOnly&&(t||In("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[wi];else{const s=this.transports_=[];for(const r of l0.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=6e4,tT=5e3,nT=10*1024,iT=100*1024,xf="t",Sg="d",sT="s",Tg="r",rT="e",Mg="o",Bg="a",Pg="n",Fg="p",oT="h";class aT{constructor(e,t,i,s,r,o,a,c,u,h){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ac("c:"+this.id+":"),this.transportManager_=new l0(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Sl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>iT?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>nT?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(xf in e){const t=e[xf];t===Bg?this.upgradeIfSecondaryHealthy_():t===Tg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===Mg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=tl("t",e),i=tl("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Fg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Bg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Pg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=tl("t",e),i=tl("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=tl(xf,e);if(Sg in e){const i=e[Sg];if(t===oT)this.onHandshake_(i);else if(t===Pg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===sT?this.onConnectionShutdown_(i):t===Tg?this.onReset_(i):t===rT?Up("Server Error: "+i):t===Mg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Up("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),r0!==i&&In("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Sl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(eT))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Sl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(tT))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Fg,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ar.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{put(e,t,i,s){}merge(e,t,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e){this.allowedEvents_=e,this.listeners_={},Ce(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const s=this.getInitialEvent(e);s&&t.apply(i,s)}off(e,t,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===t&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){Ce(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends B5{constructor(){super(["online"]),this.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!Yb()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ju}getInitialEvent(e){return Ce(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg=32,Ig=768;class Et{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function dt(){return new Et("")}function tt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Xs(n){return n.pieces_.length-n.pieceNum_}function St(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Et(n.pieces_,e)}function P5(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function lT(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function F5(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function L5(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Et(e,0)}function zt(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Et)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&t.push(i[s])}return new Et(t,0)}function it(n){return n.pieceNum_>=n.pieces_.length}function Mn(n,e){const t=tt(n),i=tt(e);if(t===null)return e;if(t===i)return Mn(St(n),St(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function c0(n,e){if(Xs(n)!==Xs(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Ci(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Xs(n)>Xs(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class cT{constructor(e,t){this.errorPrefix_=t,this.parts_=F5(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Th(this.parts_[i]);I5(this)}}function uT(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Th(e),I5(n)}function hT(n){const e=n.parts_.pop();n.byteLength_-=Th(e),n.parts_.length>0&&(n.byteLength_-=1)}function I5(n){if(n.byteLength_>Ig)throw new Error(n.errorPrefix_+"has a key path longer than "+Ig+" bytes ("+n.byteLength_+").");if(n.parts_.length>Lg)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Lg+") or object contains a cycle "+br(n))}function br(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0 extends B5{constructor(){super(["visible"]);let e,t;typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(t="visibilitychange",e="hidden"):typeof document.mozHidden!="undefined"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden!="undefined"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden!="undefined"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new u0}getInitialEvent(e){return Ce(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=1e3,dT=60*5*1e3,fT=3*1e3,Rg=30*1e3,pT=1.3,mT=3e4,_T="server_kill",kg=3;class rs extends M5{constructor(e,t,i,s,r,o,a,c){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=c,this.id=rs.nextPersistentConnectionId_++,this.log_=ac("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=nl,this.maxReconnectDelay_=dT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!e5())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");u0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ju.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const s=++this.requestNumber_,r={r:s,a:e,b:t};this.log_(Jt(r)),Ce(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const t=new e0,i={p:e._path.toString(),q:e._queryObject},s={action:"g",request:i,onComplete:o=>{const a=o.d;o.s==="ok"?(this.onDataUpdate_(i.p,a,!1,null),t.resolve(a)):t.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const o=this.outstandingGets_[r];o===void 0||s!==o||(delete this.outstandingGets_[r],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),this.log_("get "+r+" timed out on connection"),t.reject(new Error("Client is offline.")))},fT),this.connected_&&this.sendGet_(r),t.promise}listen(e,t,i,s){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),Ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ce(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:t,query:e,tag:i};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),s=t._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},o="q";e.tag&&(r.q=t._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,a=>{const c=a.d,u=a.s;rs.warnOnListenWarnings_(c,t),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(u,c))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&ps(e,"w")){const i=ea(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+t._queryParams.getIndex().toString()+'"',r=t._path.toString();In(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||vD(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Rg)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=gD(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,s=>{const r=s.s,o=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),Ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,t)}sendUnlisten_(e,t,i,s){this.log_("Unlisten on "+e+" for "+t);const r={p:e},o="n";s&&(r.q=i,r.t=s),this.sendRequest(o,r)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,s){const r={p:t,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,t,i,s){this.putInternal("p",e,t,i,s)}merge(e,t,i,s){this.putInternal("m",e,t,i,s)}putInternal(e,t,i,s,r){this.initConnection_();const o={p:t,d:i};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,r=>{this.log_(t+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Jt(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Up("Unrecognized action received from server: "+Jt(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ce(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=nl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=nl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>mT&&(this.reconnectDelay_=nl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*pT)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+rs.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const c=function(){a?a.close():(o=!0,i())},u=function(f){Ce(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:c,sendRequest:u};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,m]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?un("getToken() completed but was canceled"):(un("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=m&&m.token,a=new aT(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,_=>{In(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(_T)},r))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&In(f),c())}}}interrupt(e){un("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){un("Resuming connection for reason: "+e),delete this.interruptReasons_[e],pg(this.interruptReasons_)&&(this.reconnectDelay_=nl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(r=>s0(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,t){const i=new Et(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(t),r.delete(t),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,t){un("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=kg&&(this.reconnectDelay_=Rg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){un("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=kg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+c5.replace(/\./g,"-")]=1,Yb()?e["framework.cordova"]=1:hD()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ju.getInstance().currentlyOnline();return pg(this.interruptReasons_)&&e}}rs.nextPersistentConnectionId_=0;rs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new nt(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new nt(ta,e),s=new nt(ta,t);return this.compare(i,s)!==0}minPost(){return nt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu;class R5 extends Ph{static get __EMPTY_NODE(){return cu}static set __EMPTY_NODE(e){cu=e}compare(e,t){return pa(e.name,t.name)}isDefinedOn(e){throw fa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return nt.MIN}maxPost(){return new nt(Ur,cu)}makePost(e,t){return Ce(typeof e=="string","KeyIndex indexValue must always be a string."),new nt(e,cu)}toString(){return".key"}}const Uo=new R5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,t,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?i(e.key,t):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class qt{constructor(e,t,i,s,r){this.key=e,this.value=t,this.color=i!=null?i:qt.RED,this.left=s!=null?s:Bn.EMPTY_NODE,this.right=r!=null?r:Bn.EMPTY_NODE}copy(e,t,i,s,r){return new qt(e!=null?e:this.key,t!=null?t:this.value,i!=null?i:this.color,s!=null?s:this.left,r!=null?r:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,t,i),null):r===0?s=s.copy(null,t,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Bn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,s;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return Bn.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}qt.RED=!0;qt.BLACK=!1;class gT{copy(e,t,i,s,r){return this}insert(e,t,i){return new qt(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Bn{constructor(e,t=Bn.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Bn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,qt.BLACK,null,null))}remove(e){return new Bn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,qt.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,s=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new uu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new uu(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new uu(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new uu(this.root_,null,this.comparator_,!0,e)}}Bn.EMPTY_NODE=new gT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(n,e){return pa(n.name,e.name)}function h0(n,e){return pa(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wp;function bT(n){Wp=n}const k5=function(n){return typeof n=="number"?"number:"+p5(n):"string:"+n},O5=function(n){if(n.isLeafNode()){const e=n.val();Ce(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ps(e,".sv"),"Priority must be a string or number.")}else Ce(n===Wp||n.isEmpty(),"priority of unexpected type.");Ce(n===Wp||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Og;class Wt{constructor(e,t=Wt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Ce(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),O5(this.priorityNode_)}static set __childrenNodeConstructor(e){Og=e}static get __childrenNodeConstructor(){return Og}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Wt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Wt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return it(e)?this:tt(e)===".priority"?this.priorityNode_:Wt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Wt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=tt(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(Ce(i!==".priority"||Xs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Wt.__childrenNodeConstructor.EMPTY_NODE.updateChild(St(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+k5(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=p5(this.value_):e+=this.value_,this.lazyHash_=h5(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Wt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Wt.__childrenNodeConstructor?-1:(Ce(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,s=Wt.VALUE_TYPE_ORDER.indexOf(t),r=Wt.VALUE_TYPE_ORDER.indexOf(i);return Ce(s>=0,"Unknown leaf type: "+t),Ce(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Wt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N5,V5;function yT(n){N5=n}function wT(n){V5=n}class CT extends Ph{compare(e,t){const i=e.node.getPriority(),s=t.node.getPriority(),r=i.compareTo(s);return r===0?pa(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return nt.MIN}maxPost(){return new nt(Ur,new Wt("[PRIORITY-POST]",V5))}makePost(e,t){const i=N5(e);return new nt(t,new Wt("[PRIORITY-POST]",i))}toString(){return".priority"}}const Lt=new CT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=Math.log(2);class ET{constructor(e){const t=r=>parseInt(Math.log(r)/xT,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const qu=function(n,e,t,i){n.sort(e);const s=function(c,u){const h=u-c;let f,m;if(h===0)return null;if(h===1)return f=n[c],m=t?t(f):f,new qt(m,f.node,qt.BLACK,null,null);{const _=parseInt(h/2,10)+c,y=s(c,_),w=s(_+1,u);return f=n[_],m=t?t(f):f,new qt(m,f.node,qt.BLACK,y,w)}},r=function(c){let u=null,h=null,f=n.length;const m=function(y,w){const x=f-y,M=f;f-=y;const P=s(x+1,M),F=n[x],E=t?t(F):F;_(new qt(E,F.node,w,null,P))},_=function(y){u?(u.left=y,u=y):(h=y,u=y)};for(let y=0;y<c.count;++y){const w=c.nextBitIsOne(),x=Math.pow(2,c.count-(y+1));w?m(x,qt.BLACK):(m(x,qt.BLACK),m(x,qt.RED))}return h},o=new ET(n.length),a=r(o);return new Bn(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ef;const bo={};class ns{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Ce(bo&&Lt,"ChildrenNode.ts has not been loaded"),Ef=Ef||new ns({".priority":bo},{".priority":Lt}),Ef}get(e){const t=ea(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Bn?t:null}hasIndex(e){return ps(this.indexSet_,e.toString())}addIndex(e,t){Ce(e!==Uo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=t.getIterator(nt.Wrap);let o=r.getNext();for(;o;)s=s||e.isDefinedOn(o.node),i.push(o),o=r.getNext();let a;s?a=qu(i,e.getCompare()):a=bo;const c=e.toString(),u=Object.assign({},this.indexSet_);u[c]=e;const h=Object.assign({},this.indexes_);return h[c]=a,new ns(h,u)}addToIndexes(e,t){const i=Uu(this.indexes_,(s,r)=>{const o=ea(this.indexSet_,r);if(Ce(o,"Missing index implementation for "+r),s===bo)if(o.isDefinedOn(e.node)){const a=[],c=t.getIterator(nt.Wrap);let u=c.getNext();for(;u;)u.name!==e.name&&a.push(u),u=c.getNext();return a.push(e),qu(a,o.getCompare())}else return bo;else{const a=t.get(e.name);let c=s;return a&&(c=c.remove(new nt(e.name,a))),c.insert(e,e.node)}});return new ns(i,this.indexSet_)}removeFromIndexes(e,t){const i=Uu(this.indexes_,s=>{if(s===bo)return s;{const r=t.get(e.name);return r?s.remove(new nt(e.name,r)):s}});return new ns(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il;class Ue{constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&O5(this.priorityNode_),this.children_.isEmpty()&&Ce(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return il||(il=new Ue(new Bn(h0),null,ns.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||il}updatePriority(e){return this.children_.isEmpty()?this:new Ue(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?il:t}}getChild(e){const t=tt(e);return t===null?this:this.getImmediateChild(t).getChild(St(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(Ce(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new nt(e,t);let s,r;t.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(i,this.children_));const o=s.isEmpty()?il:this.priorityNode_;return new Ue(s,o,r)}}updateChild(e,t){const i=tt(e);if(i===null)return t;{Ce(tt(e)!==".priority"||Xs(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(St(e),t);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,s=0,r=!0;if(this.forEachChild(Lt,(o,a)=>{t[o]=a.val(e),i++,r&&Ue.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):r=!1}),!e&&r&&s<2*i){const o=[];for(const a in t)o[a]=t[a];return o}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+k5(this.getPriority().val())+":"),this.forEachChild(Lt,(t,i)=>{const s=i.hash();s!==""&&(e+=":"+t+":"+s)}),this.lazyHash_=e===""?"":h5(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new nt(e,t));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new nt(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new nt(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>t(s.name,s.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,nt.Wrap);let r=s.peek();for(;r!=null&&t.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,nt.Wrap);let r=s.peek();for(;r!=null&&t.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===lc?-1:0}withIndex(e){if(e===Uo||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Ue(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Uo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(Lt),s=t.getIterator(Lt);let r=i.getNext(),o=s.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=i.getNext(),o=s.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Uo?null:this.indexMap_.get(e.toString())}}Ue.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class AT extends Ue{constructor(){super(new Bn(h0),Ue.EMPTY_NODE,ns.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ue.EMPTY_NODE}isEmpty(){return!1}}const lc=new AT;Object.defineProperties(nt,{MIN:{value:new nt(ta,Ue.EMPTY_NODE)},MAX:{value:new nt(Ur,lc)}});R5.__EMPTY_NODE=Ue.EMPTY_NODE;Wt.__childrenNodeConstructor=Ue;bT(lc);wT(lc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=!0;function en(n,e=null){if(n===null)return Ue.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),Ce(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Wt(t,en(e))}if(!(n instanceof Array)&&DT){const t=[];let i=!1;if(Rn(n,(o,a)=>{if(o.substring(0,1)!=="."){const c=en(a);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),t.push(new nt(o,c)))}}),t.length===0)return Ue.EMPTY_NODE;const r=qu(t,vT,o=>o.name,h0);if(i){const o=qu(t,Lt.getCompare());return new Ue(r,en(e),new ns({".priority":o},{".priority":Lt}))}else return new Ue(r,en(e),ns.Default)}else{let t=Ue.EMPTY_NODE;return Rn(n,(i,s)=>{if(ps(n,i)&&i.substring(0,1)!=="."){const r=en(s);(r.isLeafNode()||!r.isEmpty())&&(t=t.updateImmediateChild(i,r))}}),t.updatePriority(en(e))}}yT(en);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST extends Ph{constructor(e){super(),this.indexPath_=e,Ce(!it(e)&&tt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),s=this.extractChild(t.node),r=i.compareTo(s);return r===0?pa(e.name,t.name):r}makePost(e,t){const i=en(e),s=Ue.EMPTY_NODE.updateChild(this.indexPath_,i);return new nt(t,s)}maxPost(){const e=Ue.EMPTY_NODE.updateChild(this.indexPath_,lc);return new nt(Ur,e)}toString(){return F5(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT extends Ph{compare(e,t){const i=e.node.compareTo(t.node);return i===0?pa(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return nt.MIN}maxPost(){return nt.MAX}makePost(e,t){const i=en(e);return new nt(t,i)}toString(){return".value"}}const MT=new TT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(n){return{type:"value",snapshotNode:n}}function na(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Xl(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Zl(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function BT(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e){this.index_=e}updateChild(e,t,i,s,r,o){Ce(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(s).equals(i.getChild(s))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(t)?o.trackChildChange(Xl(t,a)):Ce(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(na(t,i)):o.trackChildChange(Zl(t,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Lt,(s,r)=>{t.hasChild(s)||i.trackChildChange(Xl(s,r))}),t.isLeafNode()||t.forEachChild(Lt,(s,r)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(r)||i.trackChildChange(Zl(s,r,o))}else i.trackChildChange(na(s,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Ue.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this.indexedFilter_=new d0(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ql.getStartPost_(e),this.endPost_=Ql.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,i,s,r,o){return this.matches(new nt(t,i))||(i=Ue.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,s,r,o)}updateFullNode(e,t,i){t.isLeafNode()&&(t=Ue.EMPTY_NODE);let s=t.withIndex(this.index_);s=s.updatePriority(Ue.EMPTY_NODE);const r=this;return t.forEachChild(Lt,(o,a)=>{r.matches(new nt(o,a))||(s=s.updateImmediateChild(o,Ue.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this.rangedFilter_=new Ql(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,i,s,r,o){return this.rangedFilter_.matches(new nt(t,i))||(i=Ue.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,s,r,o):this.fullLimitUpdateChild_(e,t,i,r,o)}updateFullNode(e,t,i){let s;if(t.isLeafNode()||t.isEmpty())s=Ue.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){s=Ue.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const a=r.getNext();let c;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:c=this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,c)s=s.updateImmediateChild(a.name,a.node),o++;else break}}else{s=t.withIndex(this.index_),s=s.updatePriority(Ue.EMPTY_NODE);let r,o,a,c;if(this.reverse_){c=s.getReverseIterator(this.index_),r=this.rangedFilter_.getEndPost(),o=this.rangedFilter_.getStartPost();const f=this.index_.getCompare();a=(m,_)=>f(_,m)}else c=s.getIterator(this.index_),r=this.rangedFilter_.getStartPost(),o=this.rangedFilter_.getEndPost(),a=this.index_.getCompare();let u=0,h=!1;for(;c.hasNext();){const f=c.getNext();!h&&a(r,f)<=0&&(h=!0),h&&u<this.limit_&&a(f,o)<=0?u++:s=s.updateImmediateChild(f.name,Ue.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,s,r){let o;if(this.reverse_){const f=this.index_.getCompare();o=(m,_)=>f(_,m)}else o=this.index_.getCompare();const a=e;Ce(a.numChildren()===this.limit_,"");const c=new nt(t,i),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(a.hasChild(t)){const f=a.getImmediateChild(t);let m=s.getChildAfterChild(this.index_,u,this.reverse_);for(;m!=null&&(m.name===t||a.hasChild(m.name));)m=s.getChildAfterChild(this.index_,m,this.reverse_);const _=m==null?1:o(m,c);if(h&&!i.isEmpty()&&_>=0)return r!=null&&r.trackChildChange(Zl(t,i,f)),a.updateImmediateChild(t,i);{r!=null&&r.trackChildChange(Xl(t,f));const w=a.updateImmediateChild(t,Ue.EMPTY_NODE);return m!=null&&this.rangedFilter_.matches(m)?(r!=null&&r.trackChildChange(na(m.name,m.node)),w.updateImmediateChild(m.name,m.node)):w}}else return i.isEmpty()?e:h&&o(u,c)>=0?(r!=null&&(r.trackChildChange(Xl(u.name,u.node)),r.trackChildChange(na(t,i))),a.updateImmediateChild(t,i).updateImmediateChild(u.name,Ue.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Lt}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ce(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ce(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ta}hasEnd(){return this.endSet_}getIndexEndValue(){return Ce(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ce(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ur}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ce(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Lt}copy(){const e=new f0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function FT(n){return n.loadsAllData()?new d0(n.getIndex()):n.hasLimit()?new PT(n):new Ql(n)}function Ng(n){const e={};if(n.isDefault())return e;let t;return n.index_===Lt?t="$priority":n.index_===MT?t="$value":n.index_===Uo?t="$key":(Ce(n.index_ instanceof ST,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Jt(t),n.startSet_&&(e.startAt=Jt(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+Jt(n.indexStartName_))),n.endSet_&&(e.endAt=Jt(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+Jt(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Vg(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Lt&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends M5{constructor(e,t,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=ac("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(Ce(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=Ku.getListenId_(e,i),a={};this.listens_[o]=a;const c=Ng(e._queryParams);this.restRequest_(r+".json",c,(u,h)=>{let f=h;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(r,f,!1,i),ea(this.listens_,o)===a){let m;u?u===401?m="permission_denied":m="rest_error:"+u:m="ok",s(m,null)}})}unlisten(e,t){const i=Ku.getListenId_(e,t);delete this.listens_[i]}get(e){const t=Ng(e._queryParams),i=e._path.toString(),s=new e0;return this.restRequest_(i+".json",t,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(i,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(t.auth=s.accessToken),r&&r.token&&(t.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+bD(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Kl(a.responseText)}catch{In("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,c)}else a.status!==401&&a.status!==404&&In("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.rootNode_=Ue.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(){return{value:null,children:new Map}}function z5(n,e,t){if(it(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=tt(e);n.children.has(i)||n.children.set(i,Ju());const s=n.children.get(i);e=St(e),z5(s,e,t)}}function jp(n,e,t){n.value!==null?t(e,n.value):IT(n,(i,s)=>{const r=new Et(e.toString()+"/"+i);jp(s,r,t)})}function IT(n,e){n.children.forEach((t,i)=>{e(i,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Rn(this.last_,(i,s)=>{t[i]=t[i]-s}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg=10*1e3,kT=30*1e3,OT=5*60*1e3;class NT{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new RT(e);const i=Hg+(kT-Hg)*Math.random();Sl(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Rn(e,(s,r)=>{r>0&&ps(this.statsToReport_,s)&&(t[s]=r,i=!0)}),i&&this.server_.reportStats(t),Sl(this.reportStats_.bind(this),Math.floor(Math.random()*2*OT))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xi;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(xi||(xi={}));function U5(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function p0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function m0(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=xi.ACK_USER_WRITE,this.source=U5()}operationForChild(e){if(it(this.path)){if(this.affectedTree.value!=null)return Ce(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Et(e));return new Xu(dt(),t,this.revert)}}else return Ce(tt(this.path)===e,"operationForChild called for unrelated child."),new Xu(St(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,t){this.source=e,this.path=t,this.type=xi.LISTEN_COMPLETE}operationForChild(e){return it(this.path)?new Yl(this.source,dt()):new Yl(this.source,St(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=xi.OVERWRITE}operationForChild(e){return it(this.path)?new Gr(this.source,dt(),this.snap.getImmediateChild(e)):new Gr(this.source,St(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=xi.MERGE}operationForChild(e){if(it(this.path)){const t=this.children.subtree(new Et(e));return t.isEmpty()?null:t.value?new Gr(this.source,dt(),t.value):new ec(this.source,dt(),t)}else return Ce(tt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ec(this.source,St(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(it(e))return this.isFullyInitialized()&&!this.filtered_;const t=tt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function HT(n,e,t,i){const s=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(BT(o.childName,o.snapshotNode))}),sl(n,s,"child_removed",e,i,t),sl(n,s,"child_added",e,i,t),sl(n,s,"child_moved",r,i,t),sl(n,s,"child_changed",e,i,t),sl(n,s,"value",e,i,t),s}function sl(n,e,t,i,s,r){const o=i.filter(a=>a.type===t);o.sort((a,c)=>UT(n,a,c)),o.forEach(a=>{const c=zT(n,a,r);s.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(c,n.query_))})})}function zT(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function UT(n,e,t){if(e.childName==null||t.childName==null)throw fa("Should only compare child_ events.");const i=new nt(e.childName,e.snapshotNode),s=new nt(t.childName,t.snapshotNode);return n.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(n,e){return{eventCache:n,serverCache:e}}function Tl(n,e,t,i){return Fh(new $r(e,t,i),n.serverCache)}function G5(n,e,t,i){return Fh(n.eventCache,new $r(e,t,i))}function qp(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Wr(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af;const GT=()=>(Af||(Af=new Bn(AS)),Af);class Mt{constructor(e,t=GT()){this.value=e,this.children=t}static fromObject(e){let t=new Mt(null);return Rn(e,(i,s)=>{t=t.set(new Et(i),s)}),t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:dt(),value:this.value};if(it(e))return null;{const i=tt(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(St(e),t);return r!=null?{path:zt(new Et(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(it(e))return this;{const t=tt(e),i=this.children.get(t);return i!==null?i.subtree(St(e)):new Mt(null)}}set(e,t){if(it(e))return new Mt(t,this.children);{const i=tt(e),r=(this.children.get(i)||new Mt(null)).set(St(e),t),o=this.children.insert(i,r);return new Mt(this.value,o)}}remove(e){if(it(e))return this.children.isEmpty()?new Mt(null):new Mt(null,this.children);{const t=tt(e),i=this.children.get(t);if(i){const s=i.remove(St(e));let r;return s.isEmpty()?r=this.children.remove(t):r=this.children.insert(t,s),this.value===null&&r.isEmpty()?new Mt(null):new Mt(this.value,r)}else return this}}get(e){if(it(e))return this.value;{const t=tt(e),i=this.children.get(t);return i?i.get(St(e)):null}}setTree(e,t){if(it(e))return t;{const i=tt(e),r=(this.children.get(i)||new Mt(null)).setTree(St(e),t);let o;return r.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,r),new Mt(this.value,o)}}fold(e){return this.fold_(dt(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(zt(e,s),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,dt(),t)}findOnPath_(e,t,i){const s=this.value?i(t,this.value):!1;if(s)return s;if(it(e))return null;{const r=tt(e),o=this.children.get(r);return o?o.findOnPath_(St(e),zt(t,r),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,dt(),t)}foreachOnPath_(e,t,i){if(it(e))return this;{this.value&&i(t,this.value);const s=tt(e),r=this.children.get(s);return r?r.foreachOnPath_(St(e),zt(t,s),i):new Mt(null)}}foreach(e){this.foreach_(dt(),e)}foreach_(e,t){this.children.inorderTraversal((i,s)=>{s.foreach_(zt(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.writeTree_=e}static empty(){return new Ai(new Mt(null))}}function Ml(n,e,t){if(it(e))return new Ai(new Mt(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const o=Mn(s,e);return r=r.updateChild(o,t),new Ai(n.writeTree_.set(s,r))}else{const s=new Mt(t),r=n.writeTree_.setTree(e,s);return new Ai(r)}}}function zg(n,e,t){let i=n;return Rn(t,(s,r)=>{i=Ml(i,zt(e,s),r)}),i}function Ug(n,e){if(it(e))return Ai.empty();{const t=n.writeTree_.setTree(e,new Mt(null));return new Ai(t)}}function Kp(n,e){return Jr(n,e)!=null}function Jr(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Mn(t.path,e)):null}function Gg(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Lt,(i,s)=>{e.push(new nt(i,s))}):n.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new nt(i,s.value))}),e}function Ws(n,e){if(it(e))return n;{const t=Jr(n,e);return t!=null?new Ai(new Mt(t)):new Ai(n.writeTree_.subtree(e))}}function Jp(n){return n.writeTree_.isEmpty()}function ia(n,e){return $5(dt(),n.writeTree_,e)}function $5(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(Ce(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):t=$5(zt(n,s),r,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(zt(n,".priority"),i)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(n,e){return K5(e,n)}function $T(n,e,t,i,s){Ce(i>n.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:s}),s&&(n.visibleWrites=Ml(n.visibleWrites,e,t)),n.lastWriteId=i}function WT(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function jT(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);Ce(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let s=i.visible,r=!1,o=n.allWrites.length-1;for(;s&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&qT(a,i.path)?s=!1:Ci(i.path,a.path)&&(r=!0)),o--}if(s){if(r)return KT(n),!0;if(i.snap)n.visibleWrites=Ug(n.visibleWrites,i.path);else{const a=i.children;Rn(a,c=>{n.visibleWrites=Ug(n.visibleWrites,zt(i.path,c))})}return!0}else return!1}function qT(n,e){if(n.snap)return Ci(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Ci(zt(n.path,t),e))return!0;return!1}function KT(n){n.visibleWrites=W5(n.allWrites,JT,dt()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function JT(n){return n.visible}function W5(n,e,t){let i=Ai.empty();for(let s=0;s<n.length;++s){const r=n[s];if(e(r)){const o=r.path;let a;if(r.snap)Ci(t,o)?(a=Mn(t,o),i=Ml(i,a,r.snap)):Ci(o,t)&&(a=Mn(o,t),i=Ml(i,dt(),r.snap.getChild(a)));else if(r.children){if(Ci(t,o))a=Mn(t,o),i=zg(i,a,r.children);else if(Ci(o,t))if(a=Mn(o,t),it(a))i=zg(i,dt(),r.children);else{const c=ea(r.children,tt(a));if(c){const u=c.getChild(St(a));i=Ml(i,dt(),u)}}}else throw fa("WriteRecord should have .snap or .children")}}return i}function j5(n,e,t,i,s){if(!i&&!s){const r=Jr(n.visibleWrites,e);if(r!=null)return r;{const o=Ws(n.visibleWrites,e);if(Jp(o))return t;if(t==null&&!Kp(o,dt()))return null;{const a=t||Ue.EMPTY_NODE;return ia(o,a)}}}else{const r=Ws(n.visibleWrites,e);if(!s&&Jp(r))return t;if(!s&&t==null&&!Kp(r,dt()))return null;{const o=function(u){return(u.visible||s)&&(!i||!~i.indexOf(u.writeId))&&(Ci(u.path,e)||Ci(e,u.path))},a=W5(n.allWrites,o,e),c=t||Ue.EMPTY_NODE;return ia(a,c)}}}function XT(n,e,t){let i=Ue.EMPTY_NODE;const s=Jr(n.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Lt,(r,o)=>{i=i.updateImmediateChild(r,o)}),i;if(t){const r=Ws(n.visibleWrites,e);return t.forEachChild(Lt,(o,a)=>{const c=ia(Ws(r,new Et(o)),a);i=i.updateImmediateChild(o,c)}),Gg(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const r=Ws(n.visibleWrites,e);return Gg(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function ZT(n,e,t,i,s){Ce(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=zt(e,t);if(Kp(n.visibleWrites,r))return null;{const o=Ws(n.visibleWrites,r);return Jp(o)?s.getChild(t):ia(o,s.getChild(t))}}function QT(n,e,t,i){const s=zt(e,t),r=Jr(n.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(t)){const o=Ws(n.visibleWrites,s);return ia(o,i.getNode().getImmediateChild(t))}else return null}function YT(n,e){return Jr(n.visibleWrites,e)}function eM(n,e,t,i,s,r,o){let a;const c=Ws(n.visibleWrites,e),u=Jr(c,dt());if(u!=null)a=u;else if(t!=null)a=ia(c,t);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const h=[],f=o.getCompare(),m=r?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let _=m.getNext();for(;_&&h.length<s;)f(_,i)!==0&&h.push(_),_=m.getNext();return h}else return[]}function tM(){return{visibleWrites:Ai.empty(),allWrites:[],lastWriteId:-1}}function Zu(n,e,t,i){return j5(n.writeTree,n.treePath,e,t,i)}function g0(n,e){return XT(n.writeTree,n.treePath,e)}function $g(n,e,t,i){return ZT(n.writeTree,n.treePath,e,t,i)}function Qu(n,e){return YT(n.writeTree,zt(n.treePath,e))}function nM(n,e,t,i,s,r){return eM(n.writeTree,n.treePath,e,t,i,s,r)}function v0(n,e,t){return QT(n.writeTree,n.treePath,e,t)}function q5(n,e){return K5(zt(n.treePath,e),n.writeTree)}function K5(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;Ce(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),Ce(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(t==="child_added"&&r==="child_removed")this.changeMap.set(i,Zl(i,e.snapshotNode,s.snapshotNode));else if(t==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&r==="child_changed")this.changeMap.set(i,Xl(i,s.oldSnap));else if(t==="child_changed"&&r==="child_added")this.changeMap.set(i,na(i,e.snapshotNode));else if(t==="child_changed"&&r==="child_changed")this.changeMap.set(i,Zl(i,e.snapshotNode,s.oldSnap));else throw fa("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const J5=new sM;class b0{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new $r(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return v0(this.writes_,e,i)}}getChildAfterChild(e,t,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Wr(this.viewCache_),r=nM(this.writes_,s,t,1,i,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(n){return{filter:n}}function oM(n,e){Ce(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),Ce(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function aM(n,e,t,i,s){const r=new iM;let o,a;if(t.type===xi.OVERWRITE){const u=t;u.source.fromUser?o=Xp(n,e,u.path,u.snap,i,s,r):(Ce(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!it(u.path),o=Yu(n,e,u.path,u.snap,i,s,a,r))}else if(t.type===xi.MERGE){const u=t;u.source.fromUser?o=cM(n,e,u.path,u.children,i,s,r):(Ce(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=Zp(n,e,u.path,u.children,i,s,a,r))}else if(t.type===xi.ACK_USER_WRITE){const u=t;u.revert?o=dM(n,e,u.path,i,s,r):o=uM(n,e,u.path,u.affectedTree,i,s,r)}else if(t.type===xi.LISTEN_COMPLETE)o=hM(n,e,t.path,i,r);else throw fa("Unknown operation type: "+t.type);const c=r.getChanges();return lM(e,o,c),{viewCache:o,changes:c}}function lM(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=qp(n);(t.length>0||!n.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&t.push(H5(qp(e)))}}function X5(n,e,t,i,s,r){const o=e.eventCache;if(Qu(i,t)!=null)return e;{let a,c;if(it(t))if(Ce(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Wr(e),h=u instanceof Ue?u:Ue.EMPTY_NODE,f=g0(i,h);a=n.filter.updateFullNode(e.eventCache.getNode(),f,r)}else{const u=Zu(i,Wr(e));a=n.filter.updateFullNode(e.eventCache.getNode(),u,r)}else{const u=tt(t);if(u===".priority"){Ce(Xs(t)===1,"Can't have a priority with additional path components");const h=o.getNode();c=e.serverCache.getNode();const f=$g(i,t,h,c);f!=null?a=n.filter.updatePriority(h,f):a=o.getNode()}else{const h=St(t);let f;if(o.isCompleteForChild(u)){c=e.serverCache.getNode();const m=$g(i,t,o.getNode(),c);m!=null?f=o.getNode().getImmediateChild(u).updateChild(h,m):f=o.getNode().getImmediateChild(u)}else f=v0(i,u,e.serverCache);f!=null?a=n.filter.updateChild(o.getNode(),u,f,h,s,r):a=o.getNode()}}return Tl(e,a,o.isFullyInitialized()||it(t),n.filter.filtersNodes())}}function Yu(n,e,t,i,s,r,o,a){const c=e.serverCache;let u;const h=o?n.filter:n.filter.getIndexedFilter();if(it(t))u=h.updateFullNode(c.getNode(),i,null);else if(h.filtersNodes()&&!c.isFiltered()){const _=c.getNode().updateChild(t,i);u=h.updateFullNode(c.getNode(),_,null)}else{const _=tt(t);if(!c.isCompleteForPath(t)&&Xs(t)>1)return e;const y=St(t),x=c.getNode().getImmediateChild(_).updateChild(y,i);_===".priority"?u=h.updatePriority(c.getNode(),x):u=h.updateChild(c.getNode(),_,x,y,J5,null)}const f=G5(e,u,c.isFullyInitialized()||it(t),h.filtersNodes()),m=new b0(s,f,r);return X5(n,f,t,s,m,a)}function Xp(n,e,t,i,s,r,o){const a=e.eventCache;let c,u;const h=new b0(s,e,r);if(it(t))u=n.filter.updateFullNode(e.eventCache.getNode(),i,o),c=Tl(e,u,!0,n.filter.filtersNodes());else{const f=tt(t);if(f===".priority")u=n.filter.updatePriority(e.eventCache.getNode(),i),c=Tl(e,u,a.isFullyInitialized(),a.isFiltered());else{const m=St(t),_=a.getNode().getImmediateChild(f);let y;if(it(m))y=i;else{const w=h.getCompleteChild(f);w!=null?P5(m)===".priority"&&w.getChild(L5(m)).isEmpty()?y=w:y=w.updateChild(m,i):y=Ue.EMPTY_NODE}if(_.equals(y))c=e;else{const w=n.filter.updateChild(a.getNode(),f,y,m,h,o);c=Tl(e,w,a.isFullyInitialized(),n.filter.filtersNodes())}}}return c}function Wg(n,e){return n.eventCache.isCompleteForChild(e)}function cM(n,e,t,i,s,r,o){let a=e;return i.foreach((c,u)=>{const h=zt(t,c);Wg(e,tt(h))&&(a=Xp(n,a,h,u,s,r,o))}),i.foreach((c,u)=>{const h=zt(t,c);Wg(e,tt(h))||(a=Xp(n,a,h,u,s,r,o))}),a}function jg(n,e,t){return t.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function Zp(n,e,t,i,s,r,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;it(t)?u=i:u=new Mt(null).setTree(t,i);const h=e.serverCache.getNode();return u.children.inorderTraversal((f,m)=>{if(h.hasChild(f)){const _=e.serverCache.getNode().getImmediateChild(f),y=jg(n,_,m);c=Yu(n,c,new Et(f),y,s,r,o,a)}}),u.children.inorderTraversal((f,m)=>{const _=!e.serverCache.isCompleteForChild(f)&&m.value===void 0;if(!h.hasChild(f)&&!_){const y=e.serverCache.getNode().getImmediateChild(f),w=jg(n,y,m);c=Yu(n,c,new Et(f),w,s,r,o,a)}}),c}function uM(n,e,t,i,s,r,o){if(Qu(s,t)!=null)return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(i.value!=null){if(it(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return Yu(n,e,t,c.getNode().getChild(t),s,r,a,o);if(it(t)){let u=new Mt(null);return c.getNode().forEachChild(Uo,(h,f)=>{u=u.set(new Et(h),f)}),Zp(n,e,t,u,s,r,a,o)}else return e}else{let u=new Mt(null);return i.foreach((h,f)=>{const m=zt(t,h);c.isCompleteForPath(m)&&(u=u.set(h,c.getNode().getChild(m)))}),Zp(n,e,t,u,s,r,a,o)}}function hM(n,e,t,i,s){const r=e.serverCache,o=G5(e,r.getNode(),r.isFullyInitialized()||it(t),r.isFiltered());return X5(n,o,t,i,J5,s)}function dM(n,e,t,i,s,r){let o;if(Qu(i,t)!=null)return e;{const a=new b0(i,e,s),c=e.eventCache.getNode();let u;if(it(t)||tt(t)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Zu(i,Wr(e));else{const f=e.serverCache.getNode();Ce(f instanceof Ue,"serverChildren would be complete if leaf node"),h=g0(i,f)}h=h,u=n.filter.updateFullNode(c,h,r)}else{const h=tt(t);let f=v0(i,h,e.serverCache);f==null&&e.serverCache.isCompleteForChild(h)&&(f=c.getImmediateChild(h)),f!=null?u=n.filter.updateChild(c,h,f,St(t),a,r):e.eventCache.getNode().hasChild(h)?u=n.filter.updateChild(c,h,Ue.EMPTY_NODE,St(t),a,r):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Zu(i,Wr(e)),o.isLeafNode()&&(u=n.filter.updateFullNode(u,o,r)))}return o=e.serverCache.isFullyInitialized()||Qu(i,dt())!=null,Tl(e,u,o,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new d0(i.getIndex()),r=FT(i);this.processor_=rM(r);const o=t.serverCache,a=t.eventCache,c=s.updateFullNode(Ue.EMPTY_NODE,o.getNode(),null),u=r.updateFullNode(Ue.EMPTY_NODE,a.getNode(),null),h=new $r(c,o.isFullyInitialized(),s.filtersNodes()),f=new $r(u,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=Fh(f,h),this.eventGenerator_=new VT(this.query_)}get query(){return this.query_}}function pM(n){return n.viewCache_.serverCache.getNode()}function mM(n,e){const t=Wr(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!it(e)&&!t.getImmediateChild(tt(e)).isEmpty())?t.getChild(e):null}function qg(n){return n.eventRegistrations_.length===0}function _M(n,e){n.eventRegistrations_.push(e)}function Kg(n,e,t){const i=[];if(t){Ce(e==null,"A cancel should cancel all event registrations.");const s=n.query._path;n.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(t,s);o&&i.push(o)})}if(e){let s=[];for(let r=0;r<n.eventRegistrations_.length;++r){const o=n.eventRegistrations_[r];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(n.eventRegistrations_.slice(r+1));break}}n.eventRegistrations_=s}else n.eventRegistrations_=[];return i}function Jg(n,e,t,i){e.type===xi.MERGE&&e.source.queryId!==null&&(Ce(Wr(n.viewCache_),"We should always have a full cache before handling merges"),Ce(qp(n.viewCache_),"Missing event cache, even though we have a server cache"));const s=n.viewCache_,r=aM(n.processor_,s,e,t,i);return oM(n.processor_,r.viewCache),Ce(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=r.viewCache,Z5(n,r.changes,r.viewCache.eventCache.getNode(),null)}function gM(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Lt,(r,o)=>{i.push(na(r,o))}),t.isFullyInitialized()&&i.push(H5(t.getNode())),Z5(n,i,t.getNode(),e)}function Z5(n,e,t,i){const s=i?[i]:n.eventRegistrations_;return HT(n.eventGenerator_,e,t,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh;class vM{constructor(){this.views=new Map}}function bM(n){Ce(!eh,"__referenceConstructor has already been defined"),eh=n}function yM(){return Ce(eh,"Reference.ts has not been loaded"),eh}function wM(n){return n.views.size===0}function y0(n,e,t,i){const s=e.source.queryId;if(s!==null){const r=n.views.get(s);return Ce(r!=null,"SyncTree gave us an op for an invalid query."),Jg(r,e,t,i)}else{let r=[];for(const o of n.views.values())r=r.concat(Jg(o,e,t,i));return r}}function CM(n,e,t,i,s){const r=e._queryIdentifier,o=n.views.get(r);if(!o){let a=Zu(t,s?i:null),c=!1;a?c=!0:i instanceof Ue?(a=g0(t,i),c=!1):(a=Ue.EMPTY_NODE,c=!1);const u=Fh(new $r(a,c,!1),new $r(i,s,!1));return new fM(e,u)}return o}function xM(n,e,t,i,s,r){const o=CM(n,e,i,s,r);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),_M(o,t),gM(o,t)}function EM(n,e,t,i){const s=e._queryIdentifier,r=[];let o=[];const a=Zs(n);if(s==="default")for(const[c,u]of n.views.entries())o=o.concat(Kg(u,t,i)),qg(u)&&(n.views.delete(c),u.query._queryParams.loadsAllData()||r.push(u.query));else{const c=n.views.get(s);c&&(o=o.concat(Kg(c,t,i)),qg(c)&&(n.views.delete(s),c.query._queryParams.loadsAllData()||r.push(c.query)))}return a&&!Zs(n)&&r.push(new(yM())(e._repo,e._path)),{removed:r,events:o}}function Q5(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Go(n,e){let t=null;for(const i of n.views.values())t=t||mM(i,e);return t}function Y5(n,e){if(e._queryParams.loadsAllData())return Lh(n);{const i=e._queryIdentifier;return n.views.get(i)}}function ey(n,e){return Y5(n,e)!=null}function Zs(n){return Lh(n)!=null}function Lh(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th;function AM(n){Ce(!th,"__referenceConstructor has already been defined"),th=n}function DM(){return Ce(th,"Reference.ts has not been loaded"),th}let SM=1;class Xg{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Mt(null),this.pendingWriteTree_=tM(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ty(n,e,t,i,s){return $T(n.pendingWriteTree_,e,t,i,s),s?cc(n,new Gr(U5(),e,t)):[]}function Dr(n,e,t=!1){const i=WT(n.pendingWriteTree_,e);if(jT(n.pendingWriteTree_,e)){let r=new Mt(null);return i.snap!=null?r=r.set(dt(),!0):Rn(i.children,o=>{r=r.set(new Et(o),!0)}),cc(n,new Xu(i.path,r,t))}else return[]}function Ih(n,e,t){return cc(n,new Gr(p0(),e,t))}function TM(n,e,t){const i=Mt.fromObject(t);return cc(n,new ec(p0(),e,i))}function MM(n,e){return cc(n,new Yl(p0(),e))}function BM(n,e,t){const i=C0(n,t);if(i){const s=x0(i),r=s.path,o=s.queryId,a=Mn(r,e),c=new Yl(m0(o),a);return E0(n,r,c)}else return[]}function Qp(n,e,t,i){const s=e._path,r=n.syncPointTree_.get(s);let o=[];if(r&&(e._queryIdentifier==="default"||ey(r,e))){const a=EM(r,e,t,i);wM(r)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const c=a.removed;o=a.events;const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=n.syncPointTree_.findOnPath(s,(f,m)=>Zs(m));if(u&&!h){const f=n.syncPointTree_.subtree(s);if(!f.isEmpty()){const m=LM(f);for(let _=0;_<m.length;++_){const y=m[_],w=y.query,x=sy(n,y);n.listenProvider_.startListening(Bl(w),nh(n,w),x.hashFn,x.onComplete)}}}!h&&c.length>0&&!i&&(u?n.listenProvider_.stopListening(Bl(e),null):c.forEach(f=>{const m=n.queryToTagMap.get(Rh(f));n.listenProvider_.stopListening(Bl(f),m)})),IM(n,c)}return o}function PM(n,e,t,i){const s=C0(n,i);if(s!=null){const r=x0(s),o=r.path,a=r.queryId,c=Mn(o,e),u=new Gr(m0(a),c,t);return E0(n,o,u)}else return[]}function FM(n,e,t,i){const s=C0(n,i);if(s){const r=x0(s),o=r.path,a=r.queryId,c=Mn(o,e),u=Mt.fromObject(t),h=new ec(m0(a),c,u);return E0(n,o,h)}else return[]}function Zg(n,e,t){const i=e._path;let s=null,r=!1;n.syncPointTree_.foreachOnPath(i,(f,m)=>{const _=Mn(f,i);s=s||Go(m,_),r=r||Zs(m)});let o=n.syncPointTree_.get(i);o?(r=r||Zs(o),s=s||Go(o,dt())):(o=new vM,n.syncPointTree_=n.syncPointTree_.set(i,o));let a;s!=null?a=!0:(a=!1,s=Ue.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((m,_)=>{const y=Go(_,dt());y&&(s=s.updateImmediateChild(m,y))}));const c=ey(o,e);if(!c&&!e._queryParams.loadsAllData()){const f=Rh(e);Ce(!n.queryToTagMap.has(f),"View does not exist, but we have a tag");const m=RM();n.queryToTagMap.set(f,m),n.tagToQueryMap.set(m,f)}const u=_0(n.pendingWriteTree_,i);let h=xM(o,e,t,u,s,a);if(!c&&!r){const f=Y5(o,e);h=h.concat(kM(n,e,f))}return h}function w0(n,e,t){const s=n.pendingWriteTree_,r=n.syncPointTree_.findOnPath(e,(o,a)=>{const c=Mn(o,e),u=Go(a,c);if(u)return u});return j5(s,e,r,t,!0)}function cc(n,e){return ny(e,n.syncPointTree_,null,_0(n.pendingWriteTree_,dt()))}function ny(n,e,t,i){if(it(n.path))return iy(n,e,t,i);{const s=e.get(dt());t==null&&s!=null&&(t=Go(s,dt()));let r=[];const o=tt(n.path),a=n.operationForChild(o),c=e.children.get(o);if(c&&a){const u=t?t.getImmediateChild(o):null,h=q5(i,o);r=r.concat(ny(a,c,u,h))}return s&&(r=r.concat(y0(s,n,i,t))),r}}function iy(n,e,t,i){const s=e.get(dt());t==null&&s!=null&&(t=Go(s,dt()));let r=[];return e.children.inorderTraversal((o,a)=>{const c=t?t.getImmediateChild(o):null,u=q5(i,o),h=n.operationForChild(o);h&&(r=r.concat(iy(h,a,c,u)))}),s&&(r=r.concat(y0(s,n,i,t))),r}function sy(n,e){const t=e.query,i=nh(n,t);return{hashFn:()=>(pM(e)||Ue.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?BM(n,t._path,i):MM(n,t._path);{const r=TS(s,t);return Qp(n,t,null,r)}}}}function nh(n,e){const t=Rh(e);return n.queryToTagMap.get(t)}function Rh(n){return n._path.toString()+"$"+n._queryIdentifier}function C0(n,e){return n.tagToQueryMap.get(e)}function x0(n){const e=n.indexOf("$");return Ce(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Et(n.substr(0,e))}}function E0(n,e,t){const i=n.syncPointTree_.get(e);Ce(i,"Missing sync point for query tag that we're tracking");const s=_0(n.pendingWriteTree_,e);return y0(i,t,s,null)}function LM(n){return n.fold((e,t,i)=>{if(t&&Zs(t))return[Lh(t)];{let s=[];return t&&(s=Q5(t)),Rn(i,(r,o)=>{s=s.concat(o)}),s}})}function Bl(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(DM())(n._repo,n._path):n}function IM(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const s=Rh(i),r=n.queryToTagMap.get(s);n.queryToTagMap.delete(s),n.tagToQueryMap.delete(r)}}}function RM(){return SM++}function kM(n,e,t){const i=e._path,s=nh(n,e),r=sy(n,t),o=n.listenProvider_.startListening(Bl(e),s,r.hashFn,r.onComplete),a=n.syncPointTree_.subtree(i);if(s)Ce(!Zs(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((u,h,f)=>{if(!it(u)&&h&&Zs(h))return[Lh(h).query];{let m=[];return h&&(m=m.concat(Q5(h).map(_=>_.query))),Rn(f,(_,y)=>{m=m.concat(y)}),m}});for(let u=0;u<c.length;++u){const h=c[u];n.listenProvider_.stopListening(Bl(h),nh(n,h))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new A0(t)}node(){return this.node_}}class D0{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=zt(this.path_,e);return new D0(this.syncTree_,t)}node(){return w0(this.syncTree_,this.path_)}}const OM=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Qg=function(n,e,t){if(!n||typeof n!="object")return n;if(Ce(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return NM(n[".sv"],e,t);if(typeof n[".sv"]=="object")return VM(n[".sv"],e);Ce(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},NM=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:Ce(!1,"Unexpected server value: "+n)}},VM=function(n,e,t){n.hasOwnProperty("increment")||Ce(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&Ce(!1,"Unexpected increment value: "+i);const s=e.node();if(Ce(s!==null&&typeof s!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const o=s.getValue();return typeof o!="number"?i:o+i},HM=function(n,e,t,i){return S0(e,new D0(t,n),i)},ry=function(n,e,t){return S0(n,new A0(e),t)};function S0(n,e,t){const i=n.getPriority().val(),s=Qg(i,e.getImmediateChild(".priority"),t);let r;if(n.isLeafNode()){const o=n,a=Qg(o.getValue(),e,t);return a!==o.getValue()||s!==o.getPriority().val()?new Wt(a,en(s)):n}else{const o=n;return r=o,s!==o.getPriority().val()&&(r=r.updatePriority(new Wt(s))),o.forEachChild(Lt,(a,c)=>{const u=S0(c,e.getImmediateChild(a),t);u!==c&&(r=r.updateImmediateChild(a,u))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function M0(n,e){let t=e instanceof Et?e:new Et(e),i=n,s=tt(t);for(;s!==null;){const r=ea(i.node.children,s)||{children:{},childCount:0};i=new T0(s,i,r),t=St(t),s=tt(t)}return i}function _a(n){return n.node.value}function oy(n,e){n.node.value=e,Yp(n)}function ay(n){return n.node.childCount>0}function zM(n){return _a(n)===void 0&&!ay(n)}function kh(n,e){Rn(n.node.children,(t,i)=>{e(new T0(t,n,i))})}function ly(n,e,t,i){t&&!i&&e(n),kh(n,s=>{ly(s,e,!0,i)}),t&&i&&e(n)}function UM(n,e,t){let i=t?n:n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function uc(n){return new Et(n.parent===null?n.name:uc(n.parent)+"/"+n.name)}function Yp(n){n.parent!==null&&GM(n.parent,n.name,n)}function GM(n,e,t){const i=zM(t),s=ps(n.node.children,e);i&&s?(delete n.node.children[e],n.node.childCount--,Yp(n)):!i&&!s&&(n.node.children[e]=t.node,n.node.childCount++,Yp(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=/[\[\].#$\/\u0000-\u001F\u007F]/,WM=/[\[\].#$\u0000-\u001F\u007F]/,Df=10*1024*1024,cy=function(n){return typeof n=="string"&&n.length!==0&&!$M.test(n)},uy=function(n){return typeof n=="string"&&n.length!==0&&!WM.test(n)},jM=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),uy(n)},qM=function(n,e,t,i){i&&e===void 0||B0(n0(n,"value"),e,t)},B0=function(n,e,t){const i=t instanceof Et?new cT(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+br(i));if(typeof e=="function")throw new Error(n+"contains a function "+br(i)+" with contents = "+e.toString());if(d5(e))throw new Error(n+"contains "+e.toString()+" "+br(i));if(typeof e=="string"&&e.length>Df/3&&Th(e)>Df)throw new Error(n+"contains a string greater than "+Df+" utf8 bytes "+br(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(Rn(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!cy(o)))throw new Error(n+" contains an invalid key ("+o+") "+br(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);uT(i,o),B0(n,a,i),hT(i)}),s&&r)throw new Error(n+' contains ".value" child '+br(i)+" in addition to actual children.")}},hy=function(n,e,t,i){if(!(i&&t===void 0)&&!uy(t))throw new Error(n0(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},KM=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),hy(n,e,t,i)},JM=function(n,e){if(tt(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},XM=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!cy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!jM(t))throw new Error(n0(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function P0(n,e){let t=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();t!==null&&!c0(r,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:r}),t.events.push(s)}t&&n.eventLists_.push(t)}function dy(n,e,t){P0(n,t),fy(n,i=>c0(i,e))}function hs(n,e,t){P0(n,t),fy(n,i=>Ci(i,e)||Ci(e,i))}function fy(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const s=n.eventLists_[i];if(s){const r=s.path;e(r)?(QM(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function QM(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();Nr&&un("event: "+t.toString()),ma(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="repo_interrupt",eB=25;class tB{constructor(e,t,i,s){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ZM,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ju(),this.transactionQueueTree_=new T0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function nB(n,e,t){if(n.stats_=o0(n.repoInfo_),n.forceRestClient_||FS())n.server_=new Ku(n.repoInfo_,(i,s,r,o)=>{Yg(n,i,s,r,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>ev(n,!0),0);else{if(typeof t!="undefined"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Jt(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new rs(n.repoInfo_,e,(i,s,r,o)=>{Yg(n,i,s,r,o)},i=>{ev(n,i)},i=>{sB(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=VS(n.repoInfo_,()=>new NT(n.stats_,n.server_)),n.infoData_=new LT,n.infoSyncTree_=new Xg({startListening:(i,s,r,o)=>{let a=[];const c=n.infoData_.getNode(i._path);return c.isEmpty()||(a=Ih(n.infoSyncTree_,i._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),L0(n,"connected",!1),n.serverSyncTree_=new Xg({startListening:(i,s,r,o)=>(n.server_.listen(i,r,s,(a,c)=>{const u=o(a,c);hs(n.eventQueue_,i._path,u)}),[]),stopListening:(i,s)=>{n.server_.unlisten(i,s)}})}function iB(n){const t=n.infoData_.getNode(new Et(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function F0(n){return OM({timestamp:iB(n)})}function Yg(n,e,t,i,s){n.dataUpdateCount++;const r=new Et(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(s)if(i){const c=Uu(t,u=>en(u));o=FM(n.serverSyncTree_,r,c,s)}else{const c=en(t);o=PM(n.serverSyncTree_,r,c,s)}else if(i){const c=Uu(t,u=>en(u));o=TM(n.serverSyncTree_,r,c)}else{const c=en(t);o=Ih(n.serverSyncTree_,r,c)}let a=r;o.length>0&&(a=Oh(n,r)),hs(n.eventQueue_,a,o)}function ev(n,e){L0(n,"connected",e),e===!1&&oB(n)}function sB(n,e){Rn(e,(t,i)=>{L0(n,t,i)})}function L0(n,e,t){const i=new Et("/.info/"+e),s=en(t);n.infoData_.updateSnapshot(i,s);const r=Ih(n.infoSyncTree_,i,s);hs(n.eventQueue_,i,r)}function py(n){return n.nextWriteId_++}function rB(n,e,t,i,s){I0(n,"set",{path:e.toString(),value:t,priority:i});const r=F0(n),o=en(t,i),a=w0(n.serverSyncTree_,e),c=ry(o,a,r),u=py(n),h=ty(n.serverSyncTree_,e,c,u,!0);P0(n.eventQueue_,h),n.server_.put(e.toString(),o.val(!0),(m,_)=>{const y=m==="ok";y||In("set at "+e+" failed: "+m);const w=Dr(n.serverSyncTree_,u,!y);hs(n.eventQueue_,e,w),cB(n,s,m,_)});const f=by(n,e);Oh(n,f),hs(n.eventQueue_,f,[])}function oB(n){I0(n,"onDisconnectEvents");const e=F0(n),t=Ju();jp(n.onDisconnect_,dt(),(s,r)=>{const o=HM(s,r,n.serverSyncTree_,e);z5(t,s,o)});let i=[];jp(t,dt(),(s,r)=>{i=i.concat(Ih(n.serverSyncTree_,s,r));const o=by(n,s);Oh(n,o)}),n.onDisconnect_=Ju(),hs(n.eventQueue_,dt(),i)}function aB(n,e,t){let i;tt(e._path)===".info"?i=Zg(n.infoSyncTree_,e,t):i=Zg(n.serverSyncTree_,e,t),dy(n.eventQueue_,e._path,i)}function tv(n,e,t){let i;tt(e._path)===".info"?i=Qp(n.infoSyncTree_,e,t):i=Qp(n.serverSyncTree_,e,t),dy(n.eventQueue_,e._path,i)}function lB(n){n.persistentConnection_&&n.persistentConnection_.interrupt(YM)}function I0(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),un(t,...e)}function cB(n,e,t,i){e&&ma(()=>{if(t==="ok")e(null);else{const s=(t||"error").toUpperCase();let r=s;i&&(r+=": "+i);const o=new Error(r);o.code=s,e(o)}})}function my(n,e,t){return w0(n.serverSyncTree_,e,t)||Ue.EMPTY_NODE}function R0(n,e=n.transactionQueueTree_){if(e||Nh(n,e),_a(e)){const t=gy(n,e);Ce(t.length>0,"Sending zero length transaction queue"),t.every(s=>s.status===0)&&uB(n,uc(e),t)}else ay(e)&&kh(e,t=>{R0(n,t)})}function uB(n,e,t){const i=t.map(u=>u.currentWriteId),s=my(n,e,i);let r=s;const o=s.hash();for(let u=0;u<t.length;u++){const h=t[u];Ce(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=Mn(e,h.path);r=r.updateChild(f,h.currentOutputSnapshotRaw)}const a=r.val(!0),c=e;n.server_.put(c.toString(),a,u=>{I0(n,"transaction put response",{path:c.toString(),status:u});let h=[];if(u==="ok"){const f=[];for(let m=0;m<t.length;m++)t[m].status=2,h=h.concat(Dr(n.serverSyncTree_,t[m].currentWriteId)),t[m].onComplete&&f.push(()=>t[m].onComplete(null,!0,t[m].currentOutputSnapshotResolved)),t[m].unwatcher();Nh(n,M0(n.transactionQueueTree_,e)),R0(n,n.transactionQueueTree_),hs(n.eventQueue_,e,h);for(let m=0;m<f.length;m++)ma(f[m])}else{if(u==="datastale")for(let f=0;f<t.length;f++)t[f].status===3?t[f].status=4:t[f].status=0;else{In("transaction at "+c.toString()+" failed: "+u);for(let f=0;f<t.length;f++)t[f].status=4,t[f].abortReason=u}Oh(n,e)}},o)}function Oh(n,e){const t=_y(n,e),i=uc(t),s=gy(n,t);return hB(n,s,i),i}function hB(n,e,t){if(e.length===0)return;const i=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],u=Mn(t,c.path);let h=!1,f;if(Ce(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)h=!0,f=c.abortReason,s=s.concat(Dr(n.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=eB)h=!0,f="maxretry",s=s.concat(Dr(n.serverSyncTree_,c.currentWriteId,!0));else{const m=my(n,c.path,o);c.currentInputSnapshot=m;const _=e[a].update(m.val());if(_!==void 0){B0("transaction failed: Data returned ",_,c.path);let y=en(_);typeof _=="object"&&_!=null&&ps(_,".priority")||(y=y.updatePriority(m.getPriority()));const x=c.currentWriteId,M=F0(n),P=ry(y,m,M);c.currentOutputSnapshotRaw=y,c.currentOutputSnapshotResolved=P,c.currentWriteId=py(n),o.splice(o.indexOf(x),1),s=s.concat(ty(n.serverSyncTree_,c.path,P,c.currentWriteId,c.applyLocally)),s=s.concat(Dr(n.serverSyncTree_,x,!0))}else h=!0,f="nodata",s=s.concat(Dr(n.serverSyncTree_,c.currentWriteId,!0))}hs(n.eventQueue_,t,s),s=[],h&&(e[a].status=2,function(m){setTimeout(m,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(f),!1,null))))}Nh(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)ma(i[a]);R0(n,n.transactionQueueTree_)}function _y(n,e){let t,i=n.transactionQueueTree_;for(t=tt(e);t!==null&&_a(i)===void 0;)i=M0(i,t),e=St(e),t=tt(e);return i}function gy(n,e){const t=[];return vy(n,e,t),t.sort((i,s)=>i.order-s.order),t}function vy(n,e,t){const i=_a(e);if(i)for(let s=0;s<i.length;s++)t.push(i[s]);kh(e,s=>{vy(n,s,t)})}function Nh(n,e){const t=_a(e);if(t){let i=0;for(let s=0;s<t.length;s++)t[s].status!==2&&(t[i]=t[s],i++);t.length=i,oy(e,t.length>0?t:void 0)}kh(e,i=>{Nh(n,i)})}function by(n,e){const t=uc(_y(n,e)),i=M0(n.transactionQueueTree_,e);return UM(i,s=>{Sf(n,s)}),Sf(n,i),ly(i,s=>{Sf(n,s)}),t}function Sf(n,e){const t=_a(e);if(t){const i=[];let s=[],r=-1;for(let o=0;o<t.length;o++)t[o].status===3||(t[o].status===1?(Ce(r===o-1,"All SENT items should be at beginning of queue."),r=o,t[o].status=3,t[o].abortReason="set"):(Ce(t[o].status===0,"Unexpected transaction status in abort"),t[o].unwatcher(),s=s.concat(Dr(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&i.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?oy(e,void 0):t.length=r+1,hs(n.eventQueue_,uc(e),s);for(let o=0;o<i.length;o++)ma(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let s=t[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function fB(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):In(`Invalid query segment '${t}' in query '${n}'`)}return e}const nv=function(n,e){const t=pB(n),i=t.namespace;t.domain==="firebase.com"&&zr(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&zr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||xS();const s=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new kS(t.host,t.secure,i,e,s,"",i!==t.subdomain),path:new Et(t.pathString)}},pB=function(n){let e="",t="",i="",s="",r="",o=!0,a="https",c=443;if(typeof n=="string"){let u=n.indexOf("//");u>=0&&(a=n.substring(0,u-1),n=n.substring(u+2));let h=n.indexOf("/");h===-1&&(h=n.length);let f=n.indexOf("?");f===-1&&(f=n.length),e=n.substring(0,Math.min(h,f)),h<f&&(s=dB(n.substring(h,f)));const m=fB(n.substring(Math.min(n.length,f)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;const _=e.slice(0,u);if(_.toLowerCase()==="localhost")t="localhost";else if(_.split(".").length<=2)t=_;else{const y=e.indexOf(".");i=e.substring(0,y).toLowerCase(),t=e.substring(y+1),r=i}"ns"in m&&(r=m.ns)}return{host:e,port:c,domain:t,subdomain:i,secure:o,scheme:a,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,t,i,s){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Jt(this.snapshot.exportVal())}}class wy{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Ce(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,t,i,s){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=s}get key(){return it(this._path)?null:P5(this._path)}get ref(){return new ms(this._repo,this._path)}get _queryIdentifier(){const e=Vg(this._queryParams),t=s0(e);return t==="{}"?"default":t}get _queryObject(){return Vg(this._queryParams)}isEqual(e){if(e=Mh(e),!(e instanceof k0))return!1;const t=this._repo===e._repo,i=c0(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return t&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+lT(this._path)}}class ms extends k0{constructor(e,t){super(e,t,new f0,!1)}get parent(){const e=L5(this._path);return e===null?null:new ms(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class tc{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Et(e),i=ih(this.ref,e);return new tc(this._node.getChild(t),i,Lt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new tc(s,ih(this.ref,i),Lt)))}hasChild(e){const t=new Et(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Tf(n,e){return n=Mh(n),n._checkNotDeleted("ref"),e!==void 0?ih(n._root,e):n._root}function ih(n,e){return n=Mh(n),tt(n._path)===null?KM("child","path",e,!1):hy("child","path",e,!1),new ms(n._repo,zt(n._path,e))}function _B(n,e){n=Mh(n),JM("set",n._path),qM("set",e,n._path,!1);const t=new e0;return rB(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}class O0{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new yy("value",this,new tc(e.snapshotNode,new ms(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new wy(this,e,t):null}matches(e){return e instanceof O0?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class N0{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t=e==="children_added"?"child_added":e;return t=t==="children_removed"?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new wy(this,e,t):null}createEvent(e,t){Ce(e.childName!=null,"Child events should have a childName.");const i=ih(new ms(t._repo,t._path),e.childName),s=t._queryParams.getIndex();return new yy(e.type,this,new tc(e.snapshotNode,i,s),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof N0?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function gB(n,e,t,i,s){let r;if(typeof i=="object"&&(r=void 0,s=i),typeof i=="function"&&(r=i),s&&s.onlyOnce){const c=t,u=(h,f)=>{tv(n._repo,n,a),c(h,f)};u.userCallback=t.userCallback,u.context=t.context,t=u}const o=new mB(t,r||void 0),a=e==="value"?new O0(o):new N0(e,o);return aB(n._repo,n,a),()=>tv(n._repo,n,a)}function iv(n,e,t,i){return gB(n,"value",e,t,i)}bM(ms);AM(ms);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB="FIREBASE_DATABASE_EMULATOR_HOST",e1={};let bB=!1;function yB(n,e,t,i,s){let r=i||n.options.databaseURL;r===void 0&&(n.options.projectId||zr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),un("Using default host for project ",n.options.projectId),r=`${n.options.projectId}-default-rtdb.firebaseio.com`);let o=nv(r,s),a=o.repoInfo,c,u;typeof process!="undefined"&&(u=process.env[vB]),u?(c=!0,r=`http://${u}?ns=${a.namespace}`,o=nv(r,s),a=o.repoInfo):c=!o.repoInfo.secure;const h=s&&c?new Gp(Gp.OWNER):new IS(n.name,n.options,e);XM("Invalid Firebase Database URL",o),it(o.path)||zr("Database URL must point to the root of a Firebase Database (not including a child path).");const f=CB(a,n,h,new LS(n.name,t));return new xB(f,n)}function wB(n,e){const t=e1[e];(!t||t[n.key]!==n)&&zr(`Database ${e}(${n.repoInfo_}) has already been deleted.`),lB(n),delete t[n.key]}function CB(n,e,t,i){let s=e1[e.name];s||(s={},e1[e.name]=s);let r=s[n.toURLString()];return r&&zr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new tB(n,bB,t,i),s[n.toURLString()]=r,r}class xB{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(nB(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ms(this._repo,dt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(wB(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&zr("Cannot call "+e+" on a deleted database.")}}function Mf(n=oS(),e){return iS(n,"database").getImmediate({identifier:e})}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(n){vS(rS),$u(new Gu("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return yB(i,s,r,t)},"PUBLIC").setMultipleInstances(!0)),Ho(Cg,xg,n),Ho(Cg,xg,"esm2017")}rs.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};rs.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};EB();const AB={Dot:{Color:{value:"#2df8c5",params:{label:"Color"}},Opacity:{value:1,params:{min:0,max:1,step:.01,label:"Opacity"}}},"Sphere Outter":{Color:{value:"#2DF872",params:{label:"Color"}},Opacity:{value:.18,params:{min:0,max:1,step:.01,label:"Opacity"}},BorderSize:{value:.45,params:{min:0,max:1,step:.01,label:"BorderSize"}},DiscSize:{value:.02,params:{min:0,max:1,step:.01,label:"DiscSize"}},Size:{value:5,params:{min:0,max:10,step:.01,label:"Size"}}},Blob:{Color:{value:"#2df8e5",params:{label:"Color"}},Opacity:{value:.75,params:{min:0,max:1,step:.01,label:"Opacity"}},NoiseScale:{value:5,params:{min:0,max:10,step:.01,label:"NoiseScale"}},Displacement:{value:.045,params:{min:0,max:.1,step:.001,label:"Displacement"}},FresnelPower:{value:2.5,params:{min:0,max:5,step:.01,label:"FresnelPower"}}},"Sphere Inner":{Color:{value:"#2DF872",params:{label:"Color"}},Opacity:{value:1,params:{min:0,max:1,step:.01,label:"Opacity"}},BorderSize:{value:.21,params:{min:0,max:1,step:.01,label:"BorderSize"}},DiscSize:{value:.25,params:{min:0,max:1,step:.01,label:"DiscSize"}},Size:{value:4,params:{min:0,max:10,step:.01,label:"Size"}}},"Plane Halo":{Color:{value:"#2DF872",params:{label:"Color"}},Opacity:{value:.8,params:{min:0,max:1,step:.01,label:"Opacity"}},BorderSize:{value:.5,params:{min:0,max:1,step:.01,label:"BorderSize"}},DiscSize:{value:.2,params:{min:0,max:1,step:.01,label:"DiscSize"}},Size:{value:5,params:{min:0,max:10,step:.01,label:"Size"}}},Rays2:{Color:{value:"#2df8bc",params:{label:"Color"}},Scale_X:{value:5.9,params:{min:0,max:8,step:.1,label:"Scale_X"}},Fade:{value:-.5,params:{min:-1,max:3,step:.01,label:"Fade"}},TimeScale:{value:1,params:{min:0,max:3,step:.01,label:"TimeScale"}},Height:{value:.75,params:{min:0,max:3,step:.01,label:"Height"}},Width:{value:.59,params:{min:0,max:3,step:.01,label:"Width"}},Opacity:{value:.42,params:{min:0,max:1,step:.01,label:"Opacity"}}},_SplinesEditorData:{camera:{name:"camera",points:[[0,0,0],[0,15,10],[15,15,-10],[0,15,-20]]},lookat:{name:"lookat",points:[[0,0,0],[0,15,10],[15,15,-10],[0,15,-20]]}}};class DB{constructor(){this.active=!1,this._emitter={},sc(this._emitter),this.on=this._emitter.on.bind(this._emitter),this.init(),this.configs={},this.inputs={},this.savedConfigs={},this.folders={}}queryDebug(e="dev"){let t=window.location.href;e=e.replace(/[[]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),s=i.exec(t);return s?decodeURIComponent(s[2].replace(/\+/g," "))==="true":!1}initNetwork(){this.networkIsOnline=!1,this.networkInputs={},this.networkParams={status:"\u{1F534} offline",name:localStorage.getItem("firebase-gui-name")||"","config-list":[]},this.networkPane=new Dl.exports.Pane({title:"Network",expanded:!0}),this.networkPane.hidden=!this.active||this.queryDebug("demo"),this.networkPane.containerElem_.style.right="auto",this.networkPane.containerElem_.style.left="8px",this.networkPane.containerElem_.style.top="auto",this.networkPane.containerElem_.style.bottom="8px",this.networkPane.containerElem_.style.maxWidth="400px",this.networkPane.addMonitor(this.networkParams,"status",{multiline:!1,lineCount:1}),this.networkPane.addSeparator(),this.networkInputs.list=this.networkPane.addBlade({view:"list",label:"presets",options:this.networkParams["config-list"],value:"none"}),this.networkPane.addSeparator(),this.networkInputs.sync=this.networkPane.addButton({title:"Sync"}),this.networkInputs.dump=this.networkPane.addButton({title:"Dump"}),this.networkPane.addSeparator(),this.networkInputs.name=this.networkPane.addInput(this.networkParams,"name"),this.networkInputs.save=this.networkPane.addButton({title:"Save"}),this.networkInputs.dump.on("click",()=>{this._emitter.emit("beforeSave"),this.dump()})}dump(){console.log(JSON.stringify(this.configs))}initNetworkEvents(){this.networkInputs.name.on("change",e=>{localStorage.setItem("firebase-gui-name",e.value)}),this.networkInputs.dump.on("click",()=>{this._emitter.emit("beforeSave"),this.dump()}),this.networkInputs.save.on("click",()=>{if(this._emitter.emit("beforeSave"),this.networkParams.name==""){alert("Please fill a name in Network GUI");return}for(const i in this.configs)if(Object.hasOwnProperty.call(this.configs,i)){const s=this.configs[i];if(this.configs[i]){const r=this.configs[i];for(const o in s)if(Object.hasOwnProperty.call(s,o)&&(s[o],r[o])){const a=r[o];a.type=="input-image"&&(a.value="placeholder")}}}const e=`${this.networkParams.name}___${new Date().toUTCString().replaceAll(",","").replaceAll(" ","-")}`;console.log("saving",e);const t=Mf();console.log(this.configs),_B(Tf(t,"configs/"+e),this.configs).then(()=>{this.refreshNetwork()})}),this.networkInputs.sync.on("click",()=>{this.refreshNetwork()})}refreshNetwork(){const e=Mf(),t=Tf(e,"configs/");iv(t,i=>{const s=i.val();this.savedConfigs=s,this.networkParams["config-list"].length=0,this.networkParams["config-list"].push({text:"current",value:null});for(const r in s)Object.hasOwnProperty.call(s,r)&&this.networkParams["config-list"].push({text:r,value:r});this.networkInputs.list.dispose(),this.networkInputs.list=this.networkPane.addBlade({view:"list",label:"presets",index:1,options:this.networkParams["config-list"],value:"none"}),this.networkInputs.list.on("change",r=>{this.applyConfig(r.value)}),setTimeout(()=>{this.networkPane.refresh()},200)})}updateNetworkStatus(){const e=Mf(),t=Tf(e,".info/connected");iv(t,i=>{i.val()===!0?(this.networkIsOnline=!0,console.log("GUI connected"),this.refreshNetwork(),this.networkParams.status="\u{1F7E2} online"):(this.networkIsOnline=!1,console.log("GUI not connected")),this.networkInputs.sync.disabled=!this.networkIsOnline,this.networkInputs.dump.disabled=!this.networkIsOnline,this.networkInputs.save.disabled=!this.networkIsOnline,this.networkPane.refresh()})}applyConfig(e){for(const t in this.savedConfigs[e])if(Object.hasOwnProperty.call(this.savedConfigs[e],t)){const i=this.savedConfigs[e][t];if(this.configs[t]){const s=this.configs[t];for(const r in i)if(Object.hasOwnProperty.call(i,r)){const o=i[r];if(s[r]){const a=s[r];a.value=o.value}}}}config._SplinesEditorData&&(this.configs._SplinesEditorData=config._SplinesEditorData),this.pane.refresh(),this._emitter.emit("updateConfig")}applyConfigFile(e){for(const t in e)if(Object.hasOwnProperty.call(e,t)){const i=e[t];if(this.configs[t]){const s=this.configs[t];for(const r in i)if(Object.hasOwnProperty.call(i,r)){const o=i[r];if(s[r]){const a=s[r];a.value=o.value}}}}e._SplinesEditorData&&(this.configs._SplinesEditorData=e._SplinesEditorData),this.pane.refresh()}init(){this.pane=new Dl.exports.Pane({title:"Debug UI",expanded:!0}),this.pane.hidden=!this.active||this.queryDebug("demo"),this.scenePane=new Dl.exports.Pane({title:"Scene Conroller",expanded:!0}),this.scenePane.hidden=!this.active,this.scenePane.containerElem_.style.right="auto",this.scenePane.containerElem_.style.left="8px",this.pane.registerPlugin(sD),this.pane.registerPlugin(oD),this.fpsGraph=this.pane.addBlade({view:"fpsgraph",label:"FPS",lineCount:2}),this.tab=this.pane.addTab({pages:[{title:"General"},{title:"Models"},{title:"Orb"}]}),oi.onBefore=this.fpsGraph.begin.bind(this.fpsGraph),oi.onAfter=this.fpsGraph.end.bind(this.fpsGraph),document.head.insertAdjacentHTML("beforeend",`<style>
    :root {
      --tp-base-background-color: hsla(0, 0%, 10%, 1);
      --tp-base-shadow-color: hsla(0, 0%, 0%, 0.2);
      --tp-button-background-color: hsla(0, 0%, 80%, 1);
      --tp-button-background-color-active: hsla(0, 0%, 100%, 1);
      --tp-button-background-color-focus: hsla(0, 0%, 95%, 1);
      --tp-button-background-color-hover: hsla(0, 0%, 85%, 1);
      --tp-button-foreground-color: hsla(0, 0%, 0%, 0.8);
      --tp-container-background-color: hsla(0, 0%, 0%, 0.3);
      --tp-container-background-color-active: hsla(0, 0%, 0%, 0.6);
      --tp-container-background-color-focus: hsla(0, 0%, 0%, 0.5);
      --tp-container-background-color-hover: hsla(0, 0%, 0%, 0.4);
      --tp-container-foreground-color: hsla(0, 0%, 100%, 0.5);
      --tp-groove-foreground-color: hsla(0, 0%, 0%, 0.2);
      --tp-input-background-color: hsla(0, 0%, 0%, 0.3);
      --tp-input-background-color-active: hsla(0, 0%, 0%, 0.6);
      --tp-input-background-color-focus: hsla(0, 0%, 0%, 0.5);
      --tp-input-background-color-hover: hsla(0, 0%, 0%, 0.4);
      --tp-input-foreground-color: hsla(0, 0%, 100%, 0.5);
      --tp-label-foreground-color: hsla(0, 0%, 100%, 0.5);
      --tp-monitor-background-color: hsla(0, 0%, 0%, 0.3);
      --tp-monitor-foreground-color: hsla(0, 0%, 100%, 0.3);
    }
    .tp-dfwv {
      position: fixed;
      width: 500px !important;
      z-index: 1000;
      max-height: calc(100vh - 8px);
      overflow-y: scroll;
    }
    </style>`),this.pane.containerElem_.addEventListener("mouseover",()=>{this._emitter.emit("prevent")}),this.pane.containerElem_.addEventListener("mouseleave",()=>{this._emitter.emit("unprevent")}),this.scenePane.containerElem_.addEventListener("mouseover",()=>{this._emitter.emit("prevent")}),this.scenePane.containerElem_.addEventListener("mouseleave",()=>{this._emitter.emit("unprevent")})}onLoaded(){this.applyConfigFile(AB)}addConfig(){}addBladeScene(e,t){this.folders[t]=this.scenePane.addFolder({title:t,expanded:!0});for(const i in e)if(Object.hasOwnProperty.call(e,i)){const s=e[i];this.folders[t].addInput(s,"value",Object.assign(s.params,{label:i}))}}addBlade(e,t,i=0){return this.active?this.addBladeConfigActive(e,t,i):(this.addBladeConfigInactive(e,t,i),null)}addBladeConfigActive(e,t,i=0){this.folders[t]=this.tab.pages[i].addFolder({title:t,expanded:!1});let s={};this.inputs[t]={};for(const r in e)if(Object.hasOwnProperty.call(e,r)){const o=e[r];if(o.type=="input-image"){const a=this.folders[t].addInput(o,"value",{view:"input-image",imageFit:"contain",label:r});this.inputs[t][r]=a}else o.type=="bool"?this.folders[t].addInput(o,"value",{label:r}):(this.configs[t]=e,s[r]=this.folders[t].addInput(o,"value",Object.assign(o.params,{label:r})))}return s}addBladeConfigInactive(e,t){for(const i in e)Object.hasOwnProperty.call(e,i)&&(this.configs[t]=e);return{}}}const ze=new DB;class SB{constructor(){this.params={},this.guis={}}addPBRMaterial(e,t){return this.params[e]!==void 0?this.params[e]:(this.params[e]={albedoColor:{value:"#ffffff",params:{}},IBL:{value:.5,params:{min:0,max:10,step:.01}},NormalScale:{value:1,params:{min:0,max:2,step:.01}},MetalicFactor:{value:.75,params:{min:0,max:2,step:.01}},RoughnessFactor:{value:.75,params:{min:0,max:3,step:.01}},EmissiveColor:{value:"#ffffff",params:{}},EmissivePower:{value:0,params:{min:0,max:5,step:.01}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01}},SheenColor:{value:"#ffffff",params:{}},SheenOpacity:{value:1,params:{min:0,max:1,step:.01}},SheenDepth:{value:2,params:{min:1,max:8,step:.1}},Alpha:{value:1,params:{min:0,max:1,step:.01}},Tint:{value:"#ffffff",params:{}},TintOpacity:{value:0,params:{min:0,max:1,step:.01}},Exposure:{value:0,params:{min:-2,max:2,step:.01}},Contrast:{value:0,params:{min:-1,max:1,step:.01}},Saturation:{value:1,params:{min:0,max:2,step:.01}}},this.guis[e]=ze.addBlade(this.params[e],`${e} PBR`,t),this.params[e])}addUnlitMaterial(e,t,i){return this.params[e]!==void 0?this.params[e]:(this.params[e]={Tint:{value:"#ffffff",params:{}},TintOpacity:{value:0,params:{min:0,max:1,step:.01}},Exposure:{value:0,params:{min:-2,max:3,step:.01}},Contrast:{value:0,params:{min:-1,max:1,step:.01}},Saturation:{value:1,params:{min:0,max:2,step:.01}},SheenColor:{value:"#ffffff",params:{}},SheenOpacity:{value:0,params:{min:0,max:1,step:.01}},SheenDepth:{value:2,params:{min:1,max:10,step:.1}}},this.guis[e]=ze.addBlade(this.params[e],`${e} ${i&&i.sheen!==void 0?"FRESNEL":"UNLIT"}`,t),this.params[e])}getGui(e){return this.guis[e]?this.guis[e]:null}}const sh=new SB;let TB=1;const sv={};class Kn{constructor(e,{vertex:t,fragment:i,uniforms:s={},transparent:r=!1,cullFace:o=e.BACK,frontFace:a=e.CCW,depthTest:c=!0,depthWrite:u=!0,depthFunc:h=e.LESS}={}){e.canvas||console.error("gl not passed as fist argument to Program"),this.gl=e,this.uniforms=s,this.id=TB++,t||console.warn("vertex shader not supplied"),i||console.warn("fragment shader not supplied"),this.transparent=r,this.cullFace=o,this.frontFace=a,this.depthTest=c,this.depthWrite=u,this.depthFunc=h,this.blendFunc={},this.blendEquation={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA));const f=e.createShader(e.VERTEX_SHADER);e.shaderSource(f,t),e.compileShader(f),e.getShaderInfoLog(f)!==""&&console.warn(`${e.getShaderInfoLog(f)}
Vertex Shader
${rv(t)}`);const m=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(m,i),e.compileShader(m),e.getShaderInfoLog(m)!==""&&console.warn(`${e.getShaderInfoLog(m)}
Fragment Shader
${rv(i)}`),this.program=e.createProgram(),e.attachShader(this.program,f),e.attachShader(this.program,m),e.linkProgram(this.program),!e.getProgramParameter(this.program,e.LINK_STATUS))return console.warn(e.getProgramInfoLog(this.program));e.deleteShader(f),e.deleteShader(m),this.uniformLocations=new Map;let _=e.getProgramParameter(this.program,e.ACTIVE_UNIFORMS);for(let x=0;x<_;x++){let M=e.getActiveUniform(this.program,x);this.uniformLocations.set(M,e.getUniformLocation(this.program,M.name));const P=M.name.match(/(\w+)/g);M.uniformName=P[0],P.length===3?(M.isStructArray=!0,M.structIndex=Number(P[1]),M.structProperty=P[2]):P.length===2&&isNaN(Number(P[1]))&&(M.isStruct=!0,M.structProperty=P[1])}this.attributeLocations=new Map;const y=[],w=e.getProgramParameter(this.program,e.ACTIVE_ATTRIBUTES);for(let x=0;x<w;x++){const M=e.getActiveAttrib(this.program,x),P=e.getAttribLocation(this.program,M.name);y[P]=M.name,this.attributeLocations.set(M,P)}this.attributeOrder=y.join("")}setBlendFunc(e,t,i,s){this.blendFunc.src=e,this.blendFunc.dst=t,this.blendFunc.srcAlpha=i,this.blendFunc.dstAlpha=s,e&&(this.transparent=!0)}setBlendEquation(e,t){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=t}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha)}use({flipFaces:e=!1}={}){let t=-1;this.gl.renderer.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.currentProgram=this.id),this.uniformLocations.forEach((s,r)=>{let o=r.uniformName,a=this.uniforms[o];if(r.isStruct&&(a=a[r.structProperty],o+=`.${r.structProperty}`),r.isStructArray&&(a=a[r.structIndex][r.structProperty],o+=`[${r.structIndex}].${r.structProperty}`),!a)return ov(`Active uniform ${o} has not been supplied`);if(a&&a.value===void 0)return ov(`${o} uniform is missing a value parameter`);if(a.value.texture)return t=t+1,a.value.update(t),Bf(this.gl,r.type,s,t);if(a.value.length&&a.value[0].texture){const c=[];return a.value.forEach(u=>{t=t+1,u.update(t),c.push(t)}),Bf(this.gl,r.type,s,c)}Bf(this.gl,r.type,s,a.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function Bf(n,e,t,i){i=i.length?MB(i):i;const s=n.renderer.state.uniformLocations.get(t);if(i.length)if(s===void 0||s.length!==i.length)n.renderer.state.uniformLocations.set(t,i.slice(0));else{if(BB(s,i))return;s.set?s.set(i):PB(s,i),n.renderer.state.uniformLocations.set(t,s)}else{if(s===i)return;n.renderer.state.uniformLocations.set(t,i)}switch(e){case 5126:return i.length?n.uniform1fv(t,i):n.uniform1f(t,i);case 35664:return n.uniform2fv(t,i);case 35665:return n.uniform3fv(t,i);case 35666:return n.uniform4fv(t,i);case 35670:case 5124:case 35678:case 35680:return i.length?n.uniform1iv(t,i):n.uniform1i(t,i);case 35671:case 35667:return n.uniform2iv(t,i);case 35672:case 35668:return n.uniform3iv(t,i);case 35673:case 35669:return n.uniform4iv(t,i);case 35674:return n.uniformMatrix2fv(t,!1,i);case 35675:return n.uniformMatrix3fv(t,!1,i);case 35676:return n.uniformMatrix4fv(t,!1,i)}}function rv(n){let e=n.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function MB(n){const e=n.length,t=n[0].length;if(t===void 0)return n;const i=e*t;let s=sv[i];s||(sv[i]=s=new Float32Array(i));for(let r=0;r<e;r++)s.set(n[r],r*t);return s}function BB(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function PB(n,e){for(let t=0,i=n.length;t<i;t++)n[t]=e[t]}let Pf=0;function ov(n){Pf>100||(console.warn(n),Pf++,Pf>100&&console.warn("More than 100 program warnings - stopping logs."))}function FB(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}function LB(n,e,t,i,s){return n[0]=e,n[1]=t,n[2]=i,n[3]=s,n}function IB(n,e){let t=e[0],i=e[1],s=e[2],r=e[3],o=t*t+i*i+s*s+r*r;return o>0&&(o=1/Math.sqrt(o)),n[0]=t*o,n[1]=i*o,n[2]=s*o,n[3]=r*o,n}function RB(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]}function kB(n){return n[0]=0,n[1]=0,n[2]=0,n[3]=1,n}function OB(n,e,t){t=t*.5;let i=Math.sin(t);return n[0]=i*e[0],n[1]=i*e[1],n[2]=i*e[2],n[3]=Math.cos(t),n}function av(n,e,t){let i=e[0],s=e[1],r=e[2],o=e[3],a=t[0],c=t[1],u=t[2],h=t[3];return n[0]=i*h+o*a+s*u-r*c,n[1]=s*h+o*c+r*a-i*u,n[2]=r*h+o*u+i*c-s*a,n[3]=o*h-i*a-s*c-r*u,n}function NB(n,e,t){t*=.5;let i=e[0],s=e[1],r=e[2],o=e[3],a=Math.sin(t),c=Math.cos(t);return n[0]=i*c+o*a,n[1]=s*c+r*a,n[2]=r*c-s*a,n[3]=o*c-i*a,n}function VB(n,e,t){t*=.5;let i=e[0],s=e[1],r=e[2],o=e[3],a=Math.sin(t),c=Math.cos(t);return n[0]=i*c-r*a,n[1]=s*c+o*a,n[2]=r*c+i*a,n[3]=o*c-s*a,n}function HB(n,e,t){t*=.5;let i=e[0],s=e[1],r=e[2],o=e[3],a=Math.sin(t),c=Math.cos(t);return n[0]=i*c+s*a,n[1]=s*c-i*a,n[2]=r*c+o*a,n[3]=o*c-r*a,n}function zB(n,e,t,i){let s=e[0],r=e[1],o=e[2],a=e[3],c=t[0],u=t[1],h=t[2],f=t[3],m,_,y,w,x;return _=s*c+r*u+o*h+a*f,_<0&&(_=-_,c=-c,u=-u,h=-h,f=-f),1-_>1e-6?(m=Math.acos(_),y=Math.sin(m),w=Math.sin((1-i)*m)/y,x=Math.sin(i*m)/y):(w=1-i,x=i),n[0]=w*s+x*c,n[1]=w*r+x*u,n[2]=w*o+x*h,n[3]=w*a+x*f,n}function UB(n,e){let t=e[0],i=e[1],s=e[2],r=e[3],o=t*t+i*i+s*s+r*r,a=o?1/o:0;return n[0]=-t*a,n[1]=-i*a,n[2]=-s*a,n[3]=r*a,n}function GB(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=e[3],n}function $B(n,e){let t=e[0]+e[4]+e[8],i;if(t>0)i=Math.sqrt(t+1),n[3]=.5*i,i=.5/i,n[0]=(e[5]-e[7])*i,n[1]=(e[6]-e[2])*i,n[2]=(e[1]-e[3])*i;else{let s=0;e[4]>e[0]&&(s=1),e[8]>e[s*3+s]&&(s=2);let r=(s+1)%3,o=(s+2)%3;i=Math.sqrt(e[s*3+s]-e[r*3+r]-e[o*3+o]+1),n[s]=.5*i,i=.5/i,n[3]=(e[r*3+o]-e[o*3+r])*i,n[r]=(e[r*3+s]+e[s*3+r])*i,n[o]=(e[o*3+s]+e[s*3+o])*i}return n}function WB(n,e,t="YXZ"){let i=Math.sin(e[0]*.5),s=Math.cos(e[0]*.5),r=Math.sin(e[1]*.5),o=Math.cos(e[1]*.5),a=Math.sin(e[2]*.5),c=Math.cos(e[2]*.5);return t==="XYZ"?(n[0]=i*o*c+s*r*a,n[1]=s*r*c-i*o*a,n[2]=s*o*a+i*r*c,n[3]=s*o*c-i*r*a):t==="YXZ"?(n[0]=i*o*c+s*r*a,n[1]=s*r*c-i*o*a,n[2]=s*o*a-i*r*c,n[3]=s*o*c+i*r*a):t==="ZXY"?(n[0]=i*o*c-s*r*a,n[1]=s*r*c+i*o*a,n[2]=s*o*a+i*r*c,n[3]=s*o*c-i*r*a):t==="ZYX"?(n[0]=i*o*c-s*r*a,n[1]=s*r*c+i*o*a,n[2]=s*o*a-i*r*c,n[3]=s*o*c+i*r*a):t==="YZX"?(n[0]=i*o*c+s*r*a,n[1]=s*r*c+i*o*a,n[2]=s*o*a-i*r*c,n[3]=s*o*c-i*r*a):t==="XZY"&&(n[0]=i*o*c-s*r*a,n[1]=s*r*c-i*o*a,n[2]=s*o*a+i*r*c,n[3]=s*o*c+i*r*a),n}const jB=FB,qB=LB,KB=RB,JB=IB;class XB extends Array{constructor(e=0,t=0,i=0,s=1){return super(e,t,i,s),this.onChange=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this[0]=e,this.onChange()}set y(e){this[1]=e,this.onChange()}set z(e){this[2]=e,this.onChange()}set w(e){this[3]=e,this.onChange()}identity(){return kB(this),this.onChange(),this}set(e,t,i,s){return e.length?this.copy(e):(qB(this,e,t,i,s),this.onChange(),this)}rotateX(e){return NB(this,this,e),this.onChange(),this}rotateY(e){return VB(this,this,e),this.onChange(),this}rotateZ(e){return HB(this,this,e),this.onChange(),this}inverse(e=this){return UB(this,e),this.onChange(),this}conjugate(e=this){return GB(this,e),this.onChange(),this}copy(e){return jB(this,e),this.onChange(),this}normalize(e=this){return JB(this,e),this.onChange(),this}multiply(e,t){return t?av(this,e,t):av(this,this,e),this.onChange(),this}dot(e){return KB(this,e)}fromMatrix3(e){return $B(this,e),this.onChange(),this}fromEuler(e){return WB(this,e,e.order),this}fromAxisAngle(e,t){return OB(this,e,t),this}slerp(e,t){return zB(this,this,e,t),this}fromArray(e,t=0){return this[0]=e[t],this[1]=e[t+1],this[2]=e[t+2],this[3]=e[t+3],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e}}const ZB=1e-6;function QB(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function YB(n,e,t,i,s,r,o,a,c,u,h,f,m,_,y,w,x){return n[0]=e,n[1]=t,n[2]=i,n[3]=s,n[4]=r,n[5]=o,n[6]=a,n[7]=c,n[8]=u,n[9]=h,n[10]=f,n[11]=m,n[12]=_,n[13]=y,n[14]=w,n[15]=x,n}function eP(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function tP(n,e){let t=e[0],i=e[1],s=e[2],r=e[3],o=e[4],a=e[5],c=e[6],u=e[7],h=e[8],f=e[9],m=e[10],_=e[11],y=e[12],w=e[13],x=e[14],M=e[15],P=t*a-i*o,F=t*c-s*o,E=t*u-r*o,D=i*c-s*a,B=i*u-r*a,I=s*u-r*c,L=h*w-f*y,k=h*x-m*y,W=h*M-_*y,K=f*x-m*w,R=f*M-_*w,G=m*M-_*x,O=P*G-F*R+E*K+D*W-B*k+I*L;return O?(O=1/O,n[0]=(a*G-c*R+u*K)*O,n[1]=(s*R-i*G-r*K)*O,n[2]=(w*I-x*B+M*D)*O,n[3]=(m*B-f*I-_*D)*O,n[4]=(c*W-o*G-u*k)*O,n[5]=(t*G-s*W+r*k)*O,n[6]=(x*E-y*I-M*F)*O,n[7]=(h*I-m*E+_*F)*O,n[8]=(o*R-a*W+u*L)*O,n[9]=(i*W-t*R-r*L)*O,n[10]=(y*B-w*E+M*P)*O,n[11]=(f*E-h*B-_*P)*O,n[12]=(a*k-o*K-c*L)*O,n[13]=(t*K-i*k+s*L)*O,n[14]=(w*F-y*D-x*P)*O,n[15]=(h*D-f*F+m*P)*O,n):null}function nP(n){let e=n[0],t=n[1],i=n[2],s=n[3],r=n[4],o=n[5],a=n[6],c=n[7],u=n[8],h=n[9],f=n[10],m=n[11],_=n[12],y=n[13],w=n[14],x=n[15],M=e*o-t*r,P=e*a-i*r,F=e*c-s*r,E=t*a-i*o,D=t*c-s*o,B=i*c-s*a,I=u*y-h*_,L=u*w-f*_,k=u*x-m*_,W=h*w-f*y,K=h*x-m*y,R=f*x-m*w;return M*R-P*K+F*W+E*k-D*L+B*I}function lv(n,e,t){let i=e[0],s=e[1],r=e[2],o=e[3],a=e[4],c=e[5],u=e[6],h=e[7],f=e[8],m=e[9],_=e[10],y=e[11],w=e[12],x=e[13],M=e[14],P=e[15],F=t[0],E=t[1],D=t[2],B=t[3];return n[0]=F*i+E*a+D*f+B*w,n[1]=F*s+E*c+D*m+B*x,n[2]=F*r+E*u+D*_+B*M,n[3]=F*o+E*h+D*y+B*P,F=t[4],E=t[5],D=t[6],B=t[7],n[4]=F*i+E*a+D*f+B*w,n[5]=F*s+E*c+D*m+B*x,n[6]=F*r+E*u+D*_+B*M,n[7]=F*o+E*h+D*y+B*P,F=t[8],E=t[9],D=t[10],B=t[11],n[8]=F*i+E*a+D*f+B*w,n[9]=F*s+E*c+D*m+B*x,n[10]=F*r+E*u+D*_+B*M,n[11]=F*o+E*h+D*y+B*P,F=t[12],E=t[13],D=t[14],B=t[15],n[12]=F*i+E*a+D*f+B*w,n[13]=F*s+E*c+D*m+B*x,n[14]=F*r+E*u+D*_+B*M,n[15]=F*o+E*h+D*y+B*P,n}function iP(n,e,t){let i=t[0],s=t[1],r=t[2],o,a,c,u,h,f,m,_,y,w,x,M;return e===n?(n[12]=e[0]*i+e[4]*s+e[8]*r+e[12],n[13]=e[1]*i+e[5]*s+e[9]*r+e[13],n[14]=e[2]*i+e[6]*s+e[10]*r+e[14],n[15]=e[3]*i+e[7]*s+e[11]*r+e[15]):(o=e[0],a=e[1],c=e[2],u=e[3],h=e[4],f=e[5],m=e[6],_=e[7],y=e[8],w=e[9],x=e[10],M=e[11],n[0]=o,n[1]=a,n[2]=c,n[3]=u,n[4]=h,n[5]=f,n[6]=m,n[7]=_,n[8]=y,n[9]=w,n[10]=x,n[11]=M,n[12]=o*i+h*s+y*r+e[12],n[13]=a*i+f*s+w*r+e[13],n[14]=c*i+m*s+x*r+e[14],n[15]=u*i+_*s+M*r+e[15]),n}function sP(n,e,t){let i=t[0],s=t[1],r=t[2];return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n[3]=e[3]*i,n[4]=e[4]*s,n[5]=e[5]*s,n[6]=e[6]*s,n[7]=e[7]*s,n[8]=e[8]*r,n[9]=e[9]*r,n[10]=e[10]*r,n[11]=e[11]*r,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function rP(n,e,t,i){let s=i[0],r=i[1],o=i[2],a=Math.hypot(s,r,o),c,u,h,f,m,_,y,w,x,M,P,F,E,D,B,I,L,k,W,K,R,G,O,j;return Math.abs(a)<ZB?null:(a=1/a,s*=a,r*=a,o*=a,c=Math.sin(t),u=Math.cos(t),h=1-u,f=e[0],m=e[1],_=e[2],y=e[3],w=e[4],x=e[5],M=e[6],P=e[7],F=e[8],E=e[9],D=e[10],B=e[11],I=s*s*h+u,L=r*s*h+o*c,k=o*s*h-r*c,W=s*r*h-o*c,K=r*r*h+u,R=o*r*h+s*c,G=s*o*h+r*c,O=r*o*h-s*c,j=o*o*h+u,n[0]=f*I+w*L+F*k,n[1]=m*I+x*L+E*k,n[2]=_*I+M*L+D*k,n[3]=y*I+P*L+B*k,n[4]=f*W+w*K+F*R,n[5]=m*W+x*K+E*R,n[6]=_*W+M*K+D*R,n[7]=y*W+P*K+B*R,n[8]=f*G+w*O+F*j,n[9]=m*G+x*O+E*j,n[10]=_*G+M*O+D*j,n[11]=y*G+P*O+B*j,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n)}function oP(n,e){return n[0]=e[12],n[1]=e[13],n[2]=e[14],n}function Cy(n,e){let t=e[0],i=e[1],s=e[2],r=e[4],o=e[5],a=e[6],c=e[8],u=e[9],h=e[10];return n[0]=Math.hypot(t,i,s),n[1]=Math.hypot(r,o,a),n[2]=Math.hypot(c,u,h),n}function aP(n){let e=n[0],t=n[1],i=n[2],s=n[4],r=n[5],o=n[6],a=n[8],c=n[9],u=n[10];const h=e*e+t*t+i*i,f=s*s+r*r+o*o,m=a*a+c*c+u*u;return Math.sqrt(Math.max(h,f,m))}const lP=function(){const n=[0,0,0];return function(e,t){let i=n;Cy(i,t);let s=1/i[0],r=1/i[1],o=1/i[2],a=t[0]*s,c=t[1]*r,u=t[2]*o,h=t[4]*s,f=t[5]*r,m=t[6]*o,_=t[8]*s,y=t[9]*r,w=t[10]*o,x=a+f+w,M=0;return x>0?(M=Math.sqrt(x+1)*2,e[3]=.25*M,e[0]=(m-y)/M,e[1]=(_-u)/M,e[2]=(c-h)/M):a>f&&a>w?(M=Math.sqrt(1+a-f-w)*2,e[3]=(m-y)/M,e[0]=.25*M,e[1]=(c+h)/M,e[2]=(_+u)/M):f>w?(M=Math.sqrt(1+f-a-w)*2,e[3]=(_-u)/M,e[0]=(c+h)/M,e[1]=.25*M,e[2]=(m+y)/M):(M=Math.sqrt(1+w-a-f)*2,e[3]=(c-h)/M,e[0]=(_+u)/M,e[1]=(m+y)/M,e[2]=.25*M),e}}();function cP(n,e,t,i){let s=e[0],r=e[1],o=e[2],a=e[3],c=s+s,u=r+r,h=o+o,f=s*c,m=s*u,_=s*h,y=r*u,w=r*h,x=o*h,M=a*c,P=a*u,F=a*h,E=i[0],D=i[1],B=i[2];return n[0]=(1-(y+x))*E,n[1]=(m+F)*E,n[2]=(_-P)*E,n[3]=0,n[4]=(m-F)*D,n[5]=(1-(f+x))*D,n[6]=(w+M)*D,n[7]=0,n[8]=(_+P)*B,n[9]=(w-M)*B,n[10]=(1-(f+y))*B,n[11]=0,n[12]=t[0],n[13]=t[1],n[14]=t[2],n[15]=1,n}function uP(n,e){let t=e[0],i=e[1],s=e[2],r=e[3],o=t+t,a=i+i,c=s+s,u=t*o,h=i*o,f=i*a,m=s*o,_=s*a,y=s*c,w=r*o,x=r*a,M=r*c;return n[0]=1-f-y,n[1]=h+M,n[2]=m-x,n[3]=0,n[4]=h-M,n[5]=1-u-y,n[6]=_+w,n[7]=0,n[8]=m+x,n[9]=_-w,n[10]=1-u-f,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function hP(n,e,t,i,s){let r=1/Math.tan(e/2),o=1/(i-s);return n[0]=r/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=r,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=(s+i)*o,n[11]=-1,n[12]=0,n[13]=0,n[14]=2*s*i*o,n[15]=0,n}function dP(n,e,t,i,s,r,o){let a=1/(e-t),c=1/(i-s),u=1/(r-o);return n[0]=-2*a,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*c,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*u,n[11]=0,n[12]=(e+t)*a,n[13]=(s+i)*c,n[14]=(o+r)*u,n[15]=1,n}function fP(n,e,t,i){let s=e[0],r=e[1],o=e[2],a=i[0],c=i[1],u=i[2],h=s-t[0],f=r-t[1],m=o-t[2],_=h*h+f*f+m*m;_===0?m=1:(_=1/Math.sqrt(_),h*=_,f*=_,m*=_);let y=c*m-u*f,w=u*h-a*m,x=a*f-c*h;return _=y*y+w*w+x*x,_===0&&(u?a+=1e-6:c?u+=1e-6:c+=1e-6,y=c*m-u*f,w=u*h-a*m,x=a*f-c*h,_=y*y+w*w+x*x),_=1/Math.sqrt(_),y*=_,w*=_,x*=_,n[0]=y,n[1]=w,n[2]=x,n[3]=0,n[4]=f*x-m*w,n[5]=m*y-h*x,n[6]=h*w-f*y,n[7]=0,n[8]=h,n[9]=f,n[10]=m,n[11]=0,n[12]=s,n[13]=r,n[14]=o,n[15]=1,n}class $i extends Array{constructor(e=1,t=0,i=0,s=0,r=0,o=1,a=0,c=0,u=0,h=0,f=1,m=0,_=0,y=0,w=0,x=1){return super(e,t,i,s,r,o,a,c,u,h,f,m,_,y,w,x),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,t,i,s,r,o,a,c,u,h,f,m,_,y,w,x){return e.length?this.copy(e):(YB(this,e,t,i,s,r,o,a,c,u,h,f,m,_,y,w,x),this)}translate(e,t=this){return iP(this,t,e),this}rotate(e,t,i=this){return rP(this,i,e,t),this}scale(e,t=this){return sP(this,t,typeof e=="number"?[e,e,e]:e),this}multiply(e,t){return t?lv(this,e,t):lv(this,this,e),this}identity(){return eP(this),this}copy(e){return QB(this,e),this}fromPerspective({fov:e,aspect:t,near:i,far:s}={}){return hP(this,e,t,i,s),this}fromOrthogonal({left:e,right:t,bottom:i,top:s,near:r,far:o}){return dP(this,e,t,i,s,r,o),this}fromQuaternion(e){return uP(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return tP(this,e),this}compose(e,t,i){return cP(this,e,t,i),this}getRotation(e){return lP(e,this),this}getTranslation(e){return oP(e,this),this}getScaling(e){return Cy(e,this),this}getMaxScaleOnAxis(){return aP(this)}lookAt(e,t,i){return fP(this,e,t,i),this}determinant(){return nP(this)}fromArray(e,t=0){return this[0]=e[t],this[1]=e[t+1],this[2]=e[t+2],this[3]=e[t+3],this[4]=e[t+4],this[5]=e[t+5],this[6]=e[t+6],this[7]=e[t+7],this[8]=e[t+8],this[9]=e[t+9],this[10]=e[t+10],this[11]=e[t+11],this[12]=e[t+12],this[13]=e[t+13],this[14]=e[t+14],this[15]=e[t+15],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e[t+4]=this[4],e[t+5]=this[5],e[t+6]=this[6],e[t+7]=this[7],e[t+8]=this[8],e[t+9]=this[9],e[t+10]=this[10],e[t+11]=this[11],e[t+12]=this[12],e[t+13]=this[13],e[t+14]=this[14],e[t+15]=this[15],e}}function pP(n,e,t="YXZ"){return t==="XYZ"?(n[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(n[0]=Math.atan2(-e[9],e[10]),n[2]=Math.atan2(-e[4],e[0])):(n[0]=Math.atan2(e[6],e[5]),n[2]=0)):t==="YXZ"?(n[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(n[1]=Math.atan2(e[8],e[10]),n[2]=Math.atan2(e[1],e[5])):(n[1]=Math.atan2(-e[2],e[0]),n[2]=0)):t==="ZXY"?(n[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(n[1]=Math.atan2(-e[2],e[10]),n[2]=Math.atan2(-e[4],e[5])):(n[1]=0,n[2]=Math.atan2(e[1],e[0]))):t==="ZYX"?(n[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(n[0]=Math.atan2(e[6],e[10]),n[2]=Math.atan2(e[1],e[0])):(n[0]=0,n[2]=Math.atan2(-e[4],e[5]))):t==="YZX"?(n[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(n[0]=Math.atan2(-e[9],e[5]),n[1]=Math.atan2(-e[2],e[0])):(n[0]=0,n[1]=Math.atan2(e[8],e[10]))):t==="XZY"&&(n[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(n[0]=Math.atan2(e[6],e[5]),n[1]=Math.atan2(e[8],e[0])):(n[0]=Math.atan2(-e[9],e[10]),n[1]=0)),n}const cv=new $i;class mP extends Array{constructor(e=0,t=e,i=e,s="YXZ"){return super(e,t,i),this.order=s,this.onChange=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e,this.onChange()}set y(e){this[1]=e,this.onChange()}set z(e){this[2]=e,this.onChange()}set(e,t=e,i=e){return e.length?this.copy(e):(this[0]=e,this[1]=t,this[2]=i,this.onChange(),this)}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.onChange(),this}reorder(e){return this.order=e,this.onChange(),this}fromRotationMatrix(e,t=this.order){return pP(this,e,t),this}fromQuaternion(e,t=this.order){return cv.fromQuaternion(e),this.fromRotationMatrix(cv,t)}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}}class Un{constructor({scale:e=1}={}){this.parent=null,this.children=[],this.visible=!0,this.castable=!0,this.matrix=new $i,this.worldMatrix=new $i,this.matrixAutoUpdate=!0,this.position=new oe,this.worldPosition=new oe,this.quaternion=new XB,this.scale=new oe(e,e,e),this.rotation=new mP,this.up=new oe(0,1,0),this.rotation.onChange=()=>this.quaternion.fromEuler(this.rotation),this.quaternion.onChange=()=>this.rotation.fromQuaternion(this.quaternion)}setParent(e,t=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,t&&e&&e.addChild(this,!1)}addChild(e,t=!0){~this.children.indexOf(e)||this.children.push(e),t&&e.setParent(this,!1)}removeChild(e,t=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),t&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0,this.worldMatrix.getTranslation(this.worldPosition));for(let t=0,i=this.children.length;t<i;t++)this.children[t].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let t=0,i=this.children.length;t<i;t++)this.children[t].traverse(e)}decompose(){this.matrix.getTranslation(this.position),this.matrix.getRotation(this.quaternion),this.matrix.getScaling(this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,t=!1){t?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion),this.rotation.fromQuaternion(this.quaternion)}lookAtWorld(e,t=!1){const i=[this.worldMatrix[12],this.worldMatrix[13],this.worldMatrix[14]];t?this.matrix.lookAt(i,e,this.up):this.matrix.lookAt(e,i,this.up),this.matrix.getRotation(this.quaternion),this.rotation.fromQuaternion(this.quaternion)}}const uv=new oe;let _P=1,gP=1,hv=!1;class li{constructor(e,t={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=t,this.id=_P++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let i in t)this.addAttribute(i,t[i])}addAttribute(e,t){if(this.attributes[e]=t,t.id=gP++,t.size=t.size||1,t.type=t.type||(t.data.constructor===Float32Array?this.gl.FLOAT:t.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),t.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,t.normalized=t.normalized||!1,t.stride=t.stride||0,t.offset=t.offset||0,t.count=t.count||(t.stride?t.data.byteLength/t.stride:t.data.length/t.size),t.divisor=t.instanced||0,t.needsUpdate=!1,t.buffer||(t.buffer=this.gl.createBuffer(),this.updateAttribute(t)),t.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==t.count*t.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,t.count*t.divisor);this.instancedCount=t.count*t.divisor}else e==="index"?this.drawRange.count=t.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,t.count))}updateAttribute(e){this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),this.gl.bufferData(e.target,e.data,this.gl.STATIC_DRAW),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((t,{name:i,type:s})=>{if(!this.attributes[i]){console.warn(`active attribute ${i} not being supplied`);return}const r=this.attributes[i];this.gl.bindBuffer(r.target,r.buffer),this.glState.boundBuffer=r.buffer;let o=1;s===35674&&(o=2),s===35675&&(o=3),s===35676&&(o=4);const a=r.size/o,c=o===1?0:o*o*o,u=o===1?0:o*o;for(let h=0;h<o;h++)this.gl.vertexAttribPointer(t+h,a,r.type,r.normalized,r.stride+c,r.offset+h*u),this.gl.enableVertexAttribArray(t+h),this.gl.renderer.vertexAttribDivisor(t+h,r.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:t=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((i,{name:s})=>{const r=this.attributes[s];r.needsUpdate&&this.updateAttribute(r)}),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(t,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*2,this.instancedCount):this.gl.renderer.drawArraysInstanced(t,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(t,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*2):this.gl.drawArrays(t,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!hv)return console.warn("No position buffer data found to compute bounds"),hv=!0}computeBoundingBox(e){e||(e=this.getPosition());const t=e.data,i=e.offset||0,s=e.stride||e.size;this.bounds||(this.bounds={min:new oe,max:new oe,center:new oe,scale:new oe,radius:1/0});const r=this.bounds.min,o=this.bounds.max,a=this.bounds.center,c=this.bounds.scale;r.set(1/0),o.set(-1/0);for(let u=i,h=t.length;u<h;u+=s){const f=t[u],m=t[u+1],_=t[u+2];r.x=Math.min(f,r.x),r.y=Math.min(m,r.y),r.z=Math.min(_,r.z),o.x=Math.max(f,o.x),o.y=Math.max(m,o.y),o.z=Math.max(_,o.z)}c.sub(o,r),a.add(r,o).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const t=e.data,i=e.offset||0,s=e.stride||e.size;this.bounds||this.computeBoundingBox(e);let r=0;for(let o=i,a=t.length;o<a;o+=s)uv.fromArray(t,o),r=Math.max(r,this.bounds.center.squaredDistance(uv));this.bounds.radius=Math.sqrt(r)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}function vP(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[4],n[4]=e[5],n[5]=e[6],n[6]=e[8],n[7]=e[9],n[8]=e[10],n}function bP(n,e){let t=e[0],i=e[1],s=e[2],r=e[3],o=t+t,a=i+i,c=s+s,u=t*o,h=i*o,f=i*a,m=s*o,_=s*a,y=s*c,w=r*o,x=r*a,M=r*c;return n[0]=1-f-y,n[3]=h-M,n[6]=m+x,n[1]=h+M,n[4]=1-u-y,n[7]=_-w,n[2]=m-x,n[5]=_+w,n[8]=1-u-f,n}function yP(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}function wP(n,e,t,i,s,r,o,a,c,u){return n[0]=e,n[1]=t,n[2]=i,n[3]=s,n[4]=r,n[5]=o,n[6]=a,n[7]=c,n[8]=u,n}function CP(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n}function xP(n,e){let t=e[0],i=e[1],s=e[2],r=e[3],o=e[4],a=e[5],c=e[6],u=e[7],h=e[8],f=h*o-a*u,m=-h*r+a*c,_=u*r-o*c,y=t*f+i*m+s*_;return y?(y=1/y,n[0]=f*y,n[1]=(-h*i+s*u)*y,n[2]=(a*i-s*o)*y,n[3]=m*y,n[4]=(h*t-s*c)*y,n[5]=(-a*t+s*r)*y,n[6]=_*y,n[7]=(-u*t+i*c)*y,n[8]=(o*t-i*r)*y,n):null}function dv(n,e,t){let i=e[0],s=e[1],r=e[2],o=e[3],a=e[4],c=e[5],u=e[6],h=e[7],f=e[8],m=t[0],_=t[1],y=t[2],w=t[3],x=t[4],M=t[5],P=t[6],F=t[7],E=t[8];return n[0]=m*i+_*o+y*u,n[1]=m*s+_*a+y*h,n[2]=m*r+_*c+y*f,n[3]=w*i+x*o+M*u,n[4]=w*s+x*a+M*h,n[5]=w*r+x*c+M*f,n[6]=P*i+F*o+E*u,n[7]=P*s+F*a+E*h,n[8]=P*r+F*c+E*f,n}function EP(n,e,t){let i=e[0],s=e[1],r=e[2],o=e[3],a=e[4],c=e[5],u=e[6],h=e[7],f=e[8],m=t[0],_=t[1];return n[0]=i,n[1]=s,n[2]=r,n[3]=o,n[4]=a,n[5]=c,n[6]=m*i+_*o+u,n[7]=m*s+_*a+h,n[8]=m*r+_*c+f,n}function AP(n,e,t){let i=e[0],s=e[1],r=e[2],o=e[3],a=e[4],c=e[5],u=e[6],h=e[7],f=e[8],m=Math.sin(t),_=Math.cos(t);return n[0]=_*i+m*o,n[1]=_*s+m*a,n[2]=_*r+m*c,n[3]=_*o-m*i,n[4]=_*a-m*s,n[5]=_*c-m*r,n[6]=u,n[7]=h,n[8]=f,n}function DP(n,e,t){let i=t[0],s=t[1];return n[0]=i*e[0],n[1]=i*e[1],n[2]=i*e[2],n[3]=s*e[3],n[4]=s*e[4],n[5]=s*e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}function SP(n,e){let t=e[0],i=e[1],s=e[2],r=e[3],o=e[4],a=e[5],c=e[6],u=e[7],h=e[8],f=e[9],m=e[10],_=e[11],y=e[12],w=e[13],x=e[14],M=e[15],P=t*a-i*o,F=t*c-s*o,E=t*u-r*o,D=i*c-s*a,B=i*u-r*a,I=s*u-r*c,L=h*w-f*y,k=h*x-m*y,W=h*M-_*y,K=f*x-m*w,R=f*M-_*w,G=m*M-_*x,O=P*G-F*R+E*K+D*W-B*k+I*L;return O?(O=1/O,n[0]=(a*G-c*R+u*K)*O,n[1]=(c*W-o*G-u*k)*O,n[2]=(o*R-a*W+u*L)*O,n[3]=(s*R-i*G-r*K)*O,n[4]=(t*G-s*W+r*k)*O,n[5]=(i*W-t*R-r*L)*O,n[6]=(w*I-x*B+M*D)*O,n[7]=(x*E-y*I-M*F)*O,n[8]=(y*B-w*E+M*P)*O,n):null}class TP extends Array{constructor(e=1,t=0,i=0,s=0,r=1,o=0,a=0,c=0,u=1){return super(e,t,i,s,r,o,a,c,u),this}set(e,t,i,s,r,o,a,c,u){return e.length?this.copy(e):(wP(this,e,t,i,s,r,o,a,c,u),this)}translate(e,t=this){return EP(this,t,e),this}rotate(e,t=this){return AP(this,t,e),this}scale(e,t=this){return DP(this,t,e),this}multiply(e,t){return t?dv(this,e,t):dv(this,this,e),this}identity(){return CP(this),this}copy(e){return yP(this,e),this}fromMatrix4(e){return vP(this,e),this}fromQuaternion(e){return bP(this,e),this}fromBasis(e,t,i){return this.set(e[0],e[1],e[2],t[0],t[1],t[2],i[0],i[1],i[2]),this}inverse(e=this){return xP(this,e),this}getNormalMatrix(e){return SP(this,e),this}}let MP=0;class sn extends Un{constructor(e,{geometry:t,program:i,mode:s=e.TRIANGLES,frustumCulled:r=!0,renderOrder:o=0,forceRenderOrder:a=!1,transform:c=null}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=MP++,c!==null&&(this.position.copy(c.position),this.scale.copy(c.scale),this.rotation.copy(c.rotation)),this.geometry=t,this.program=i,this.mode=s,this.forceRenderOrder=a,this.frustumCulled=r,this.renderOrder=o,this.modelViewMatrix=new $i,this.normalMatrix=new TP,this.isCameraFliped=!1,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){this.beforeRenderCallbacks.forEach(s=>s&&s({mesh:this,camera:e}));let t=!1;e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null},isCameraFliped:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.program.uniforms.isCameraFliped.value=e.isFliped,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix,t=e.isFliped);let i=this.program.cullFace&&this.worldMatrix.determinant()<0||t;this.program.use({flipFaces:i}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(s=>s&&s({mesh:this,camera:e}))}}const fv={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function pv(n){n.length===4&&(n=n[0]+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return e||console.warn(`Unable to convert hex string ${n} to rgb values`),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function BP(n){return n=parseInt(n),[(n>>16&255)/255,(n>>8&255)/255,(n&255)/255]}function mv(n){return n===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(n)?n[0]==="#"?pv(n):fv[n.toLowerCase()]?pv(fv[n.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):BP(n)}function Ff(n){var e=n.toString(16);return e.length==1?"0"+e:e}function PP(n,e,t){return"#"+Ff(n)+Ff(e)+Ff(t)}class Xe extends Array{constructor(e){return Array.isArray(e)?super(...e):super(...mv(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}getHex(){return PP(Math.round(this[0]*255),Math.round(this[1]*255),Math.round(this[2]*255))}getRGBA(){return[this[0],this[1],this[2],1]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(mv(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}}Tn();us();cs();function FP(n){return n!=null}class _v{constructor(e,t,i,{parent:s=null,id:r=0,blendFunc:o={src:e.gl.SRC_ALPHA,dst:e.gl.ONE_MINUS_SRC_ALPHA},gltf:a=null,node:c=null,name:u="",materialName:h="",shaderName:f="unlit",material:m=null,transparent:_=!1,depthTest:y=!0,depthWrite:w=!0,forceRenderOrder:x=!1,renderOrder:M=0,globalConfig:P=null,fog:F=!0,alpha:E=1}={}){this.gl=e.gl,this.scene=e,this.gltf=a,this.data=t,this.node=c,this.name=u,this.parent=s||e.root,this.transparent=_,this.blendFunc=o,this.depthTest=y,this.depthWrite=w,this.videoTexture=null,this.video=null,this.fog=F,this.forceRenderOrder=x,this.renderOrder=M,this.groupId=r,this.geom={},this.materialInfos=m,this.materialName=h,this.shaderName=f,this.globalConfig=P,this.alpha=E,this.textureId=i,this.defines={},this.seed=Math.random(),this.transform=new Un,this.getDataFromGltf(),this.initConfig(),this.init(),this.cleanConfig()}getDataFromGltf(){this.geom={options:{}};const e=this.data.primitives,t=this.node;t.rotation&&(this.transform.quaternion.x=t.rotation[0],this.transform.quaternion.y=t.rotation[1],this.transform.quaternion.z=t.rotation[2],this.transform.quaternion.w=t.rotation[3]),t.scale&&Sn(this.transform.scale,t.scale),t.translation&&Sn(this.transform.position,t.translation);for(let s=0;s<e.length;s++){var i=e[Object.keys(e)[s]];for(let r in i.attributes)switch(r){case"NORMAL":this.defines.HAS_NORMALS=1;break;case"TANGENT":this.defines.HAS_TANGENTS=1;break;case"TEXCOORD_0":this.defines.HAS_UV=1;break}for(let r in i.attributes)this.getAccessorData(i.attributes[r],r);this.getAccessorData(i.indices,"INDEX")}}getAccessorData(e,t){if(this.gltf.isDracoCompressed){const m=e.value;switch(t){case"POSITION":this.geom.vertices=m,this.geom.options.vertices={byteStride:0,byteOffset:0},this.geom.bounds={max:e.max,min:e.min};break;case"NORMAL":this.geom.normals=m,this.geom.options.normals={byteStride:0,byteOffset:12};break;case"TANGENT":this.geom.tangents=m,this.geom.options.tangents={byteStride:0,byteOffset:null};break;case"TEXCOORD_0":this.geom.uvs=m,this.geom.options.uvs={byteStride:0,byteOffset:24};break;case"INDEX":this.geom.indices=m,this.geom.options.indices={byteStride:0,byteOffset:null};break;default:console.warn("Unknown attribute semantic: "+t)}return}const i=this.gltf.accessors[e],s=this.gltf.bufferViews[i.bufferView],r=this.gltf.bin;let o=null;s&&s.byteStride&&(o=s.byteStride);const c=FP(s.byteOffset)?s.byteOffset:0,u=c+s.byteLength,h=r.slice(c,u);let f;switch(i.componentType===5126?f=new Float32Array(h):i.componentType===5123?f=new Uint16Array(h):i.componentType===5125?f=new Uint32Array(h):console.warn("no type defined for this componentType:",i.componentType),f||console.warn("no data",e,t,f),t){case"POSITION":this.geom.vertices=f,this.geom.verticesAccessor=i,this.geom.options.vertices={byteStride:o,byteOffset:0},this.geom.bounds={max:e.max,min:e.min};break;case"NORMAL":this.geom.normals=f,this.geom.normalsAccessor=i,this.geom.options.normals={byteStride:o,byteOffset:12};break;case"TANGENT":this.geom.tangents=f,this.geom.tangentsAccessor=i,this.geom.options.tangents={byteStride:o,byteOffset:null};break;case"TEXCOORD_0":this.geom.uvs=f,this.geom.uvsAccessor=i,this.geom.options.uvs={byteStride:o,byteOffset:24};break;case"INDEX":this.geom.indices=f,this.geom.indicesAccessor=i,this.geom.options.indices={byteStride:o,byteOffset:s.byteOffset?s.byteOffset:null};break;default:console.warn("Unknown attribute semantic: "+t)}}initConfig(){this.config=sh.addUnlitMaterial(this.materialName,this.groupId,this.materialInfos),this.gui=sh.getGui(this.materialName)}computeBoundingBox(){this.geometry.bounds||(this.geometry.bounds={min:new oe,max:new oe,center:new oe,scale:new oe,radius:1/0});const e=this.geometry.bounds.min,t=this.geometry.bounds.max,i=this.geometry.bounds.center,s=this.geometry.bounds.scale;e.x=this.geom.bounds.min[0],e.y=this.geom.bounds.min[1],e.z=this.geom.bounds.min[2],t.x=this.geom.bounds.max[0],t.y=this.geom.bounds.max[1],t.z=this.geom.bounds.max[2],s.sub(t,e),i.add(e,t).divide(2),this.geometry.bounds.radius=Math.max(this.geometry.bounds.center.squaredDistance(t),this.geometry.bounds.center.squaredDistance(e))*2}cleanConfig(){!this.gui||this.gui==={}||this.defines.HAS_SHEEN==null&&(this.gui.SheenColor.hidden=!0,this.gui.SheenOpacity.hidden=!0,this.gui.SheenDepth.hidden=!0)}initVideoTexture(e){this.videoTexture=new Rt(this.gl,{generateMipmaps:!1,width:1024,height:512});let t=document.createElement("video");t.src=e,t.loop=!0,t.muted=!0,this.video=t}init(){const e={position:{size:3,data:this.geom.vertices},uv:{size:2,data:this.geom.uvs},index:{data:this.geom.indices}};this.geometry=new li(this.gl,e),this.computeBoundingBox();let t={uTime:{value:this.scene.time},uAlpha:{value:this.alpha},uSeed:{value:this.seed},uTint:{value:new Xe(this.config.Tint.value)},uCamera:{value:this.scene.camera.position}};this.defines.HAS_COLOR_CORRECTION=1,t=Object.assign(t,{uTint:{value:new Xe(this.config.Tint.value)},uTintOpacity:this.config.TintOpacity,uExposure:this.config.Exposure,uContrast:this.config.Contrast,uSaturation:this.config.Saturation}),this.scene.textureLoader.isTextureRegistered(`${this.textureId}`)?(this.defines.HAS_COLORMAP=1,this.texture=new Rt(this.gl),t=Object.assign(t,{uTexture:{value:this.texture}})):t=Object.assign(t,{uColor:{value:new Xe(this.materialInfos.color)}}),this.scene.textureLoader.isTextureRegistered(`${this.textureId}_Opacity`)&&(this.defines.HAS_ALPHAMAP=1,this.alphaTexture=new Rt(this.gl),this.transparent=!0,this.renderOrder=1,this.forceRenderOrder=!0,this.materialInfos&&(this.renderOrder=this.materialInfos.hasOwnProperty("renderOrder")?this.materialInfos.renderOrder:1,this.depthTest=this.materialInfos.hasOwnProperty("depthTest")?this.materialInfos.depthTest:!0,this.depthWrite=this.materialInfos.hasOwnProperty("depthWrite")?this.materialInfos.depthWrite:!0),t=Object.assign(t,{uAlphaTexture:{value:this.alphaTexture}})),this.materialInfos&&this.materialInfos.sheen!==void 0&&(this.defines.HAS_SHEEN=1,t=Object.assign(t,{uSheenOpacity:this.config.SheenOpacity,uSheenDepth:this.config.SheenDepth,uSheenColor:{value:new Xe(this.config.SheenColor.value)}})),this.materialInfos&&this.materialInfos.exposure!==void 0&&(this.config.Exposure.value=this.materialInfos.exposure),this.globalConfig.FogColor&&this.fog&&(this.defines.HAS_FOG=1,t=Object.assign(t,{uFogColor:{value:new Xe(this.globalConfig.FogColor.value)},uFogNear:{value:this.globalConfig.FogNear.value},uFogFar:{value:this.globalConfig.FogFar.value}})),this.shader=new qn(fn[this.shaderName],1,this.defines),this.program=new Kn(this.gl,{vertex:this.shader.vert,fragment:this.shader.frag,depthTest:this.depthTest,depthWrite:this.depthWrite,transparent:this.transparent,uniforms:t}),this.materialInfos&&this.materialInfos.cullface!==void 0&&(this.materialInfos.cullface==!1?this.program.cullFace=!1:this.program.cullFace=this.gl[this.materialInfos.cullface]),this.mesh=new sn(this.gl,{geometry:this.geometry,program:this.program,forceRenderOrder:this.forceRenderOrder,renderOrder:this.renderOrder,transform:this.transform}),this.mesh.name=this.name,this.mesh.setParent(this.parent),this.mesh.updateMatrixWorld(!0),this.parent.updateMatrixWorld(!0)}onLoaded(){this.texture&&(this.texture=this.scene.textureLoader.getTexture(this.textureId),this.texture.needsUpdate=!0,this.program.uniforms.uTexture.value=this.texture),this.alphaTexture&&(this.alphaTexture=this.scene.textureLoader.getTexture(`${this.textureId}_Opacity`),this.alphaTexture.needsUpdate=!0,this.program.uniforms.uAlphaTexture.value=this.alphaTexture)}getFirstDrawPromise(){const e=new Promise(t=>{this.firstDrawResolve=t});return this.scene.pendingReadyMeshes.push(this),this.firstdrawResolve=!1,e}drawInit(){this.gl.finish(),this.mesh.visible=!0,this.scene.renderer.render({scene:this.mesh,camera:this.scene.camera,clear:!1,frustumCull:!0,sort:!1}),this.gl.finish(),this.firstdrawResolve||(this.firstdrawResolve=!0,requestAnimationFrame(()=>{this.firstDrawResolve(this)}))}preRender(){this.program.uniforms.uTime.value=this.scene.time,this.program.uniforms.uAlpha.value=this.alpha,this.program.uniforms.uTint.value=new Xe(this.config.Tint.value),this.defines.HAS_FOG!==void 0&&(this.program.uniforms.uFogColor.value=new Xe(this.globalConfig.FogColor.value),this.program.uniforms.uFogNear.value=this.globalConfig.FogNear.value,this.program.uniforms.uFogFar.value=this.globalConfig.FogFar.value),this.program.uniforms.uCamera.value=this.scene.camera.position,this.video&&this.video.currentTime>0&&this.video.readyState>=this.video.HAVE_ENOUGH_DATA&&(this.videoTexture.image||(this.videoTexture.image=this.video),this.videoTexture.needsUpdate=!0,this.program.uniforms.uTexture.value=this.videoTexture),this.defines.HAS_SHEEN!==void 0&&(this.program.uniforms.uSheenColor.value=new Xe(this.config.SheenColor.value))}dispose(){this.mesh.setParent(null),this.geometry.remove(),this.program.remove()}}Tn();Tn();us();us();us();class LP{constructor(e,t,i,{parent:s=null,id:r=0,blendFunc:o={src:e.gl.SRC_ALPHA,dst:e.gl.ONE_MINUS_SRC_ALPHA},gltf:a=null,node:c=null,name:u="",materialName:h="",transparent:f=!1,depthTest:m=!0,depthWrite:_=!0,renderOrder:y=0,globalConfig:w=null,fog:x=!0,alpha:M=1}={}){this.gl=e.gl,this.scene=e,this.gltf=a,this.data=t,this.node=c,this.name=u,this.parent=s||e.root,this.transparent=f,this.blendFunc=o,this.depthTest=m,this.depthWrite=_,this.videoTexture=null,this.video=null,this.fog=x,this.renderOrder=y,this.groupId=r,this.geom={},this.materialName=h,this.globalConfig=w,this.alpha=M,this.textureId=i,this.defines={},this.seed=Math.random(),this.transform=new Un,this.geomData=t,this.lastEnv=null,this.lastEnvDiffuse=null,this.localState={uniforms:{}},this.normalMatrix=cs(),this.MVPMatrix=cs(),this.maxTextureIndex=0,this.defines={},this.defines.USE_IBL=1,this.defines.MANUAL_SRGB=1,this.defines.HAS_NORMALS=1,this.defines.HAS_UV=1,this.getDataFromGltf(),this.initConfig(),this.initTextures(),this.cleanConfig(),this.createUniforms(),this.init()}getDataFromGltf(){this.geom={options:{}};const e=this.data.primitives,t=this.node;t.rotation&&(this.transform.quaternion.x=t.rotation[0],this.transform.quaternion.y=t.rotation[1],this.transform.quaternion.z=t.rotation[2],this.transform.quaternion.w=t.rotation[3]),t.scale&&Sn(this.transform.scale,t.scale),t.translation&&Sn(this.transform.position,t.translation);for(let s=0;s<e.length;s++){var i=e[Object.keys(e)[s]];for(let r in i.attributes)switch(r){case"NORMAL":this.defines.HAS_NORMALS=1;break;case"TANGENT":this.defines.HAS_TANGENTS=1;break;case"TEXCOORD_0":this.defines.HAS_UV=1;break}for(let r in i.attributes)this.getAccessorData(i.attributes[r],r);this.getAccessorData(i.indices,"INDEX")}}getAccessorData(e,t){if(this.gltf.isDracoCompressed){const m=e.value;switch(t){case"POSITION":this.geom.vertices=m,this.geom.options.vertices={byteStride:0,byteOffset:0},this.geom.bounds={max:e.max,min:e.min};break;case"NORMAL":this.geom.normals=m,this.geom.options.normals={byteStride:0,byteOffset:12};break;case"TANGENT":this.geom.tangents=m,this.geom.options.tangents={byteStride:0,byteOffset:null};break;case"TEXCOORD_0":this.geom.uvs=m,this.geom.options.uvs={byteStride:0,byteOffset:24};break;case"INDEX":this.geom.indices=m,this.geom.options.indices={byteStride:0,byteOffset:null};break;default:console.warn("Unknown attribute semantic: "+t)}return}const i=this.gltf.accessors[e],s=this.gltf.bufferViews[i.bufferView],r=this.gltf.bin;let o=null;s&&s.byteStride&&(o=s.byteStride);const c=defined(s.byteOffset)?s.byteOffset:0,u=c+s.byteLength,h=r.slice(c,u);let f;switch(i.componentType===5126?f=new Float32Array(h):i.componentType===5123?f=new Uint16Array(h):i.componentType===5125?f=new Uint32Array(h):console.warn("no type defined for this componentType:",i.componentType),f||console.warn("no data",e,t,f),t){case"POSITION":this.geom.vertices=f,this.geom.verticesAccessor=i,this.geom.options.vertices={byteStride:o,byteOffset:0},this.geom.bounds={max:e.max,min:e.min};break;case"NORMAL":this.geom.normals=f,this.geom.normalsAccessor=i,this.geom.options.normals={byteStride:o,byteOffset:12};break;case"TANGENT":this.geom.tangents=f,this.geom.tangentsAccessor=i,this.geom.options.tangents={byteStride:o,byteOffset:null};break;case"TEXCOORD_0":this.geom.uvs=f,this.geom.uvsAccessor=i,this.geom.options.uvs={byteStride:o,byteOffset:24};break;case"INDEX":this.geom.indices=f,this.geom.indicesAccessor=i,this.geom.options.indices={byteStride:o,byteOffset:s.byteOffset?s.byteOffset:null};break;default:console.warn("Unknown attribute semantic: "+t)}}computeBoundingBox(){this.geometry.bounds||(this.geometry.bounds={min:new oe,max:new oe,center:new oe,scale:new oe,radius:1/0});const e=this.geometry.bounds.min,t=this.geometry.bounds.max,i=this.geometry.bounds.center,s=this.geometry.bounds.scale;e.x=this.geom.bounds.min[0],e.y=this.geom.bounds.min[1],e.z=this.geom.bounds.min[2],t.x=this.geom.bounds.max[0],t.y=this.geom.bounds.max[1],t.z=this.geom.bounds.max[2],s.sub(t,e),i.add(e,t).divide(2),this.geometry.bounds.radius=Math.max(this.geometry.bounds.center.squaredDistance(t),this.geometry.bounds.center.squaredDistance(e))*2}initConfig(){this.config=sh.addPBRMaterial(this.materialName,this.groupId),this.gui=sh.getGui(this.materialName)}cleanConfig(){!this.gui||this.gui==={}||(this.defines.HAS_NORMALMAP==null&&(this.gui.NormalScale.hidden=!0),this.defines.HAS_OCCLUSIONMAP==null&&(this.gui.OcclusionFactor.hidden=!0),this.defines.HAS_EMISSIVECOLOR==null&&(this.gui.EmissiveColor.hidden=!0,this.gui.EmissivePower.hidden=!0),this.defines.HAS_SHEEN==null&&(this.gui.SheenColor.hidden=!0,this.gui.SheenOpacity.hidden=!0,this.gui.SheenDepth.hidden=!0))}init(){this.environement=this.globalConfig.Environement.value,this.diffuseEnvironement=this.globalConfig.EnvironementDiffuse.value,this.shader=new qn(fn.standard,1,this.defines);const e={position:{size:3,data:this.geom.vertices},uv:{size:2,data:this.geom.uvs},normal:{size:3,data:this.geom.normals},index:{data:this.geom.indices}};this.geometry=new li(this.gl,e),this.computeBoundingBox(),this.program=new Kn(this.gl,{vertex:this.shader.vert,fragment:this.shader.frag,depthTest:this.depthTest,depthWrite:this.depthWrite,transparent:this.transparent,cullFace:this.gl.BACK,uniforms:this.localState.uniforms}),this.mesh=new sn(this.gl,{geometry:this.geometry,program:this.program,transform:this.transform,frustumCulled:!1}),this.mesh.frustumCulled=!1,this.mesh.setParent(this.parent)}getImageInfo(e,t,i){this.localState.uniforms[i]={type:t,uri:e,textIndx:this.maxTextureIndex},this.maxTextureIndex++}initTextures(){const e=this.gl;this.gltf;let t=bt.materials[this.materialName]?bt.materials[this.materialName]:null;this.config.IBL.value=t&&t.IBL?t.IBL:this.config.IBL.value,this.localState.uniforms.uDiffuseEnvSampler={type:"texture",uri:"env_diffuse",textIndx:this.maxTextureIndex},this.maxTextureIndex++,this.localState.uniforms.uSpecularEnvSampler={type:"texture",uri:"env_default",textIndx:this.maxTextureIndex},this.maxTextureIndex++,t&&t.Alpha&&(this.config.Alpha.value=t.Alpha),this.localState.uniforms.uUvScale={type:"float1",value:t&&t.UvScale?t.UvScale:1};var i=t&&t.albedoColor?new Xe(t.albedoColor).getRGBA():[1,1,1,1];if(this.config.albedoColor.value=t&&t.albedoColor?t.albedoColor:new Xe(i).getHex(),this.localState.uniforms.uBaseColorFactor={type:"float4",value:i},t&&t.albedoMap?(this.getImageInfo(t.albedoMap,"texture","uBaseColorSampler"),this.defines.HAS_BASECOLORMAP=1):this.localState.uniforms.uBaseColorSampler&&delete this.localState.uniforms.uBaseColorSampler,t&&t.alphaTexture&&(this.getImageInfo(t.alphaTexture,"texture","uAlphaMapSampler"),this.defines.HAS_ALPHAMAP=1),this.config.MetalicFactor.value=t&&t.MetalicFactor?t.MetalicFactor:this.config.MetalicFactor.value,this.config.RoughnessFactor.value=t&&t.RoughnessFactor?t.RoughnessFactor:this.config.RoughnessFactor.value,this.localState.uniforms.uMetallicRoughnessValues={type:"float2",value:[this.config.MetalicFactor.value,this.config.RoughnessFactor.value]},t&&t.metallicRoughnessTexture?(this.getImageInfo(t.metallicRoughnessTexture,"texture","uMetallicRoughnessSampler",e.RGBA),this.defines.HAS_METALROUGHNESSMAP=1):this.localState.uniforms.uMetallicRoughnessSampler&&delete this.localState.uniforms.uMetallicRoughnessSampler,t&&t.normalTexture?(this.getImageInfo(t.normalTexture,"texture","uNormalSampler",e.RGBA),this.config.NormalScale.value=t.NormalScale?t.NormalScale:this.config.NormalScale.value,this.localState.uniforms.uNormalScale={type:"float1",value:this.config.NormalScale.value},this.defines.HAS_NORMALMAP=1):this.localState.uniforms.uNormalSampler&&delete this.localState.uniforms.uNormalSampler,this.localState.uniforms.uBrdfLUT={type:"texture",uri:"brdfLUT",textIndx:this.maxTextureIndex},this.maxTextureIndex++,t&&t.emissiveTexture){this.getImageInfo(t.emissiveTexture,"texture","uEmissiveSampler"),this.defines.HAS_EMISSIVEMAP=1;var s=t.emissiveFactor?t.emissiveFactor:[0,0,0];this.globalConfig.emissiveColor.value=new Xe(s).getHex(),this.localState.uniforms.uEmissiveFactor={type:"float3",value:s}}else this.localState.uniforms.uEmissiveSampler&&delete this.localState.uniforms.uEmissiveSampler;if(t&&t.emissiveColor){this.defines.HAS_EMISSIVECOLOR=1;var r=t.emissiveColor?new Xe(t.emissiveColor):[0,0,0],o=t.emissivePower?t.emissivePower:1;this.config.EmissiveColor.value=t.emissiveColor,this.localState.uniforms.uEmissiveColor={type:"float3",value:r},this.localState.uniforms.uEmissivePower={type:"float1",value:o}}if(t&&t.occlusionTexture?(this.getImageInfo(t.occlusionTexture,"texture","uOcclusionSampler"),this.config.OcclusionFactor.value=t.OcclusionFactor?t.OcclusionFactor:this.config.OcclusionFactor.value,this.localState.uniforms.uOcclusionStrength={type:"float1",value:this.config.OcclusionFactor.value},this.defines.HAS_OCCLUSIONMAP=1):this.localState.uniforms.uOcclusionSampler&&delete this.localState.uniforms.uOcclusionSampler,t&&t.sheenColor){var a=t.sheenColor?new Xe(t.sheenColor):[1,1,1],c=t.sheenOpacity?t.sheenOpacity:1,u=t.sheenDepth?t.sheenDepth:2;this.localState.uniforms.uSheenColor={type:"float3",value:a},this.localState.uniforms.uSheenOpacity={type:"float1",value:c},this.localState.uniforms.uSheenDepth={type:"float1",value:u},this.config.SheenColor.value=t.sheenColor,this.config.SheenOpacity.value=c,this.config.SheenDepth.value=u,this.defines.HAS_SHEEN=1}this.globalConfig.FogColor&&this.fog&&(this.defines.HAS_FOG=1,this.localState.uniforms.uFogColor={type:"float3",value:new Xe(this.globalConfig.FogColor.value)},this.localState.uniforms.uFogNear={type:"float1",value:this.globalConfig.FogNear.value},this.localState.uniforms.uFogFar={type:"float1",value:this.globalConfig.FogFar.value})}createUniforms(){this.localState.uniforms.uTime={type:"float1",value:0},this.localState.uniforms.uAlpha={type:"float1",value:1},this.localState.uniforms.uLightDirection={type:"float3",value:[0,.5,.5]},this.localState.uniforms.uLightColor={type:"float3",value:[1,1,1]},this.localState.uniforms.uScaleDiffBaseMR={type:"float4",value:[0,0,0,0]},this.localState.uniforms.uScaleFGDSpec={type:"float4",value:[0,0,0,0]},this.localState.uniforms.uScaleIBLAmbient={type:"float4",value:[1.5,1.5,0,0]},this.localState.uniforms.uEnvOffset={type:"float4",value:0},this.localState.uniforms.uCamera={type:"float3",value:[0,0,0]},this.defines.HAS_COLOR_CORRECTION=1,this.localState.uniforms.uTint={type:"float3",value:[1,1,1]},this.localState.uniforms.uTintOpacity={type:"float1",value:0},this.localState.uniforms.uExposure={type:"float1",value:0},this.localState.uniforms.uContrast={type:"float1",value:0},this.localState.uniforms.uSaturation={type:"float1",value:0};for(const e in this.localState.uniforms)Object.hasOwnProperty.call(this.localState.uniforms,e)&&this.localState.uniforms[e].type=="texture"&&(this.localState.uniforms[e].value=new Rt(this.gl))}onLoaded(){for(const e in this.localState.uniforms)Object.hasOwnProperty.call(this.localState.uniforms,e)&&this.localState.uniforms[e].type=="texture"&&(this.localState.uniforms[e].value=this.scene.textureLoader.getTexture(this.localState.uniforms[e].uri),this.localState.uniforms[e].value.needsUpdate=!0)}getFirstDrawPromise(){const e=new Promise(t=>{this.firstDrawResolve=t});return this.scene.pendingReadyMeshes.push(this),this.firstdrawResolve=!1,e}drawInit(){this.gl.finish(),this.mesh.visible=!0,this.scene.renderer.render({scene:this.mesh,camera:this.scene.camera,clear:!1,frustumCull:!0,sort:!1}),this.gl.finish(),this.firstdrawResolve||(this.firstdrawResolve=!0,requestAnimationFrame(()=>{this.firstDrawResolve(this)}))}preRender(){this.program.uniforms.uTime.value=this.scene.time,this.program.uniforms.needsUpdate=!0,this.program.uniforms.uLightDirection.value=[this.globalConfig.lightPosition.value.x*this.scene.root.scale.x-this.mesh.worldMatrix[12],this.globalConfig.lightPosition.value.y*this.scene.root.scale.y-this.mesh.worldMatrix[13],this.globalConfig.lightPosition.value.z*this.scene.root.scale.z-this.mesh.worldMatrix[14]];const e=new Xe(this.globalConfig.lightColor.value);this.localState.uniforms.uLightColor.value=[e[0]*this.globalConfig.lightPower.value,e[1]*this.globalConfig.lightPower.value,e[2]*this.globalConfig.lightPower.value],this.localState.uniforms.uScaleIBLAmbient.value=[this.config.IBL.value*this.globalConfig.IBLDiffuseFactor.value,this.config.IBL.value*this.globalConfig.IBLSpecularFactor.value,0,0];const t=this.globalConfig.Debug.value;this.localState.uniforms.uScaleDiffBaseMR.value=[t=="mathDiff"?1:0,t=="baseColor"?1:0,t=="metallic"?1:0,t=="roughness"?1:0],this.localState.uniforms.uScaleFGDSpec.value=[t=="specRef"?1:0,t=="geomOcc"?1:0,t=="mcrfctDist"?1:0,t=="spec"?1:0],this.localState.uniforms.uEnvOffset.value=this.globalConfig.EnvRotationOffset.value,this.localState.uniforms.uMetallicRoughnessValues.value=[this.config.MetalicFactor.value,this.config.RoughnessFactor.value],this.localState.uniforms.uNormalScale&&(this.localState.uniforms.uNormalScale.value=this.config.NormalScale.value),this.localState.uniforms.uOcclusionStrength&&(this.localState.uniforms.uOcclusionStrength.value=this.config.OcclusionFactor.value);const i=new Xe(this.config.albedoColor.value);if(this.localState.uniforms.uBaseColorFactor.value=[i[0],i[1],i[2],this.config.Alpha.value*this.globalConfig.Alpha.value],this.localState.uniforms.uEmissiveFactor){const s=new Xe(this.globalConfig.emissiveColor.value);this.localState.uniforms.uEmissiveFactor.value=[s[0],s[1],s[2]]}this.localState.uniforms.uEmissiveColor&&(this.localState.uniforms.uEmissiveColor.value=new Xe(this.config.EmissiveColor.value)),this.localState.uniforms.uEmissivePower&&(this.localState.uniforms.uEmissivePower.value=this.config.EmissivePower.value),this.localState.uniforms.uSheenColor&&(this.localState.uniforms.uSheenOpacity.value=this.config.SheenOpacity.value,this.localState.uniforms.uSheenDepth.value=this.config.SheenDepth.value,this.localState.uniforms.uSheenColor.value=new Xe(this.config.SheenColor.value)),this.globalConfig.FogColor&&this.fog&&(this.localState.uniforms.uFogNear.value=this.globalConfig.FogNear.value,this.localState.uniforms.uFogFar.value=this.globalConfig.FogFar.value,this.localState.uniforms.uFogColor.value=new Xe(this.globalConfig.FogColor.value)),this.localState.uniforms.uCamera.value=this.scene.camera.position,this.environement=this.globalConfig.Environement.value,this.environement!==this.lastEnv&&(this.lastEnv=this.environement,this.localState.uniforms.uSpecularEnvSampler.value=this.scene.textureLoader.getTexture(this.environement),this.localState.uniforms.uSpecularEnvSampler.value.needsUpdate=!0),this.diffuseEnvironement=this.globalConfig.EnvironementDiffuse.value,this.diffuseEnvironement!==this.lastEnvDiffuse&&(this.lastEnvDiffuse=this.diffuseEnvironement,this.localState.uniforms.uDiffuseEnvSampler.value=this.scene.textureLoader.getTexture(this.diffuseEnvironement),this.localState.uniforms.uDiffuseEnvSampler.value.needsUpdate=!0),this.localState.uniforms.uTint.value=new Xe(this.config.Tint.value),this.localState.uniforms.uTintOpacity.value=this.config.TintOpacity.value,this.localState.uniforms.uExposure.value=this.config.Exposure.value,this.localState.uniforms.uContrast.value=this.config.Contrast.value,this.localState.uniforms.uSaturation.value=this.config.Saturation.value}dispose(){this.mesh.setParent(null),this.geometry.remove(),this.program.remove()}}function rh(n,e,t){return Math.min(t,Math.max(e,n))}function xy(n,e,t){return n*(1-t)+e*t}function oh(n,e,t,i,s,r=!1){return r&&(n=Math.min(t,Math.max(e,n))),(n-e)/(t-e)*(s-i)+i}function gv(n){const e=[];for(let t=0;t<n.length/3;t++)e.push(new oe(n[t*3+0],n[t*3+1],n[t*3+2]));return e}function IP(n){const e=[];for(let t=0;t<n.length/3;t++)e.push(Tt(n[t*3+0],n[t*3+1],n[t*3+2]));return e}function RP(n,e,t){t/=100;const i=e*Math.min(t,1-t)/100,s=r=>{const o=(r+n/30)%12,a=t-i*Math.max(Math.min(o-3,9-o,1),-1);return Math.round(255*a).toString(16).padStart(2,"0")};return`#${s(0)}${s(8)}${s(4)}`}class kP{constructor(e,t,{parent:i=null,id:s=0,blendFunc:r={src:e.gl.SRC_ALPHA,dst:e.gl.ONE_MINUS_SRC_ALPHA},gltf:o=null,node:a=null,name:c="",transparent:u=!0,depthTest:h=!0,depthWrite:f=!1,renderOrder:m=1,alpha:_=1}={}){this.gl=e.gl,this.scene=e,this.gltf=o,this.data=t,this.node=a,this.name=c,this.parent=i||e.root,this.transparent=u,this.blendFunc=r,this.depthTest=h,this.depthWrite=f,this.renderOrder=m,this.groupId=s,this.geom={},this.alpha=_,this.videoTexture=null,this.video=null,this.defines={},this.seed=Math.random(),this.transform=new Un,this.geomData=t,this.visualOpacityFactor=1,this.transitionDelay=0,this.isPlaying=!1,this.waypointId="",this.textureIds=this.getScreenTextures(this.node.name),this.textureOverlayDiffuse=new Rt(this.gl),this.textureOverlayOpacity=new Rt(this.gl),this.textureVisualsDiffuse=new Rt(this.gl),this.textureVisualsOpacity=new Rt(this.gl),this.textureMask=new Rt(this.gl),this.videoFactor={current:0,target:0,ease:.05},this.localState={uniforms:{}},this.normalMatrix=cs(),this.MVPMatrix=cs(),this.maxTextureIndex=0,this.defines={},this.defines.USE_IBL=1,this.defines.MANUAL_SRGB=1,this.defines.HAS_NORMALS=1,this.defines.HAS_UV=1,this.getDataFromGltf(),this.init(),this.addEventListeners(),this.canPlayVideo=Vs&&this.textureIds.video,this.canPlayVideo&&this.initVideoTexture(this.textureIds.video)}getDataFromGltf(){this.geom={options:{}};const e=this.data.primitives,t=this.node;t.rotation&&(this.transform.quaternion.x=t.rotation[0],this.transform.quaternion.y=t.rotation[1],this.transform.quaternion.z=t.rotation[2],this.transform.quaternion.w=t.rotation[3]),t.scale&&Sn(this.transform.scale,t.scale),t.translation&&Sn(this.transform.position,t.translation);for(let s=0;s<e.length;s++){var i=e[Object.keys(e)[s]];for(let r in i.attributes)switch(r){case"NORMAL":this.defines.HAS_NORMALS=1;break;case"TANGENT":this.defines.HAS_TANGENTS=1;break;case"TEXCOORD_0":this.defines.HAS_UV=1;break}for(let r in i.attributes)this.getAccessorData(i.attributes[r],r);this.getAccessorData(i.indices,"INDEX")}}getAccessorData(e,t){if(this.gltf.isDracoCompressed){const m=e.value;switch(t){case"POSITION":this.geom.vertices=m,this.geom.options.vertices={byteStride:0,byteOffset:0};break;case"NORMAL":this.geom.normals=m,this.geom.options.normals={byteStride:0,byteOffset:12};break;case"TANGENT":this.geom.tangents=m,this.geom.options.tangents={byteStride:0,byteOffset:null};break;case"TEXCOORD_0":this.geom.uvs=m,this.geom.options.uvs={byteStride:0,byteOffset:24};break;case"INDEX":this.geom.indices=m,this.geom.options.indices={byteStride:0,byteOffset:null};break;default:console.warn("Unknown attribute semantic: "+t)}return}const i=this.gltf.accessors[e],s=this.gltf.bufferViews[i.bufferView],r=this.gltf.bin;let o=null;s&&s.byteStride&&(o=s.byteStride);const c=defined(s.byteOffset)?s.byteOffset:0,u=c+s.byteLength,h=r.slice(c,u);let f;switch(i.componentType===5126?f=new Float32Array(h):i.componentType===5123?f=new Uint16Array(h):i.componentType===5125?f=new Uint32Array(h):console.warn("no type defined for this componentType:",i.componentType),f||console.warn("no data",e,t,f),t){case"POSITION":this.geom.vertices=f,this.geom.verticesAccessor=i,this.geom.options.vertices={byteStride:o,byteOffset:0};break;case"NORMAL":this.geom.normals=f,this.geom.normalsAccessor=i,this.geom.options.normals={byteStride:o,byteOffset:12};break;case"TANGENT":this.geom.tangents=f,this.geom.tangentsAccessor=i,this.geom.options.tangents={byteStride:o,byteOffset:null};break;case"TEXCOORD_0":this.geom.uvs=f,this.geom.uvsAccessor=i,this.geom.options.uvs={byteStride:o,byteOffset:24};break;case"INDEX":this.geom.indices=f,this.geom.indicesAccessor=i,this.geom.options.indices={byteStride:o,byteOffset:s.byteOffset?s.byteOffset:null};break;default:console.warn("Unknown attribute semantic: "+t)}}init(){this.shader=new qn(fn.screen);const e={position:{size:3,data:this.geom.vertices},uv:{size:2,data:this.geom.uvs},normal:{size:3,data:this.geom.normals},index:{data:this.geom.indices}};this.geometry=new li(this.gl,e),this.program=new Kn(this.gl,{vertex:this.shader.vert,fragment:this.shader.frag,depthTest:this.depthTest,depthWrite:this.depthWrite,transparent:this.transparent,cullFace:null,uniforms:{uTextureOverlayDiffuse:{value:this.textureOverlayDiffuse},uTextureOverlayOpacity:{value:this.textureOverlayOpacity},uTextureVisualsDiffuse:{value:this.textureVisualsDiffuse},uTextureVisualsDiffuseVideo:{value:this.textureVisualsDiffuse},uTextureVisualsOpacity:{value:this.textureVisualsOpacity},uTextureMask:{value:this.textureMask},uVisualOpacityFactor:{value:this.visualOpacityFactor},uVisualVideoFactor:{value:this.videoFactor.current},uTime:{value:this.scene.time},uAlpha:{value:this.alpha}}}),this.mesh=new sn(this.gl,{geometry:this.geometry,program:this.program,transform:this.transform,frustumCulled:!0,forceRenderOrder:!0,renderOrder:this.renderOrder}),this.mesh.setParent(this.parent)}initVideoTexture(e){this.videoTexture=new Rt(this.gl,{generateMipmaps:!1,width:512,height:512,flipY:!1});let t=document.createElement("video");t.src=e,t.loop=!0,t.muted=!0,this.video=t,this.video.load()}getScreenTextures(e){switch(e){case"Screen_L_01":return this.waypointId="screen_left",{visualsDiffuse:"screenHannahVisualsDiffuse",visualsOpacity:"screenItwVisualsOpacity",mask:"screenItwMask",overlayDiffuse:"screenHannahOverlayDiffuse",overlayOpacity:"screenHannahOverlayOpacity",video:"/zerolimits/glxp/videos/video-screen-hannah-small.mp4"};case"Screen_L_02":return this.waypointId="screen_left",this.transitionDelay=100,{visualsDiffuse:"screenJasmineVisualsDiffuse",visualsOpacity:"screenItwVisualsOpacity",mask:"screenItwMask",overlayDiffuse:"screenJasmineOverlayDiffuse",overlayOpacity:"screenJasmineOverlayOpacity",video:"/zerolimits/glxp/videos/video-screen-jasmine-small.mp4"};case"Screen_L_03":return this.waypointId="screen_left",this.transitionDelay=200,{visualsDiffuse:"screenAliciaVisualsDiffuse",visualsOpacity:"screenItwVisualsOpacity",mask:"screenItwMask",overlayDiffuse:"screenAliciaOverlayDiffuse",overlayOpacity:"screenAliciaOverlayOpacity",video:"/zerolimits/glxp/videos/video-screen-alicia-small.mp4"};case"Screen_R_01":return this.waypointId="screen_right",{visualsDiffuse:"screenNayaVisualsDiffuse",visualsOpacity:"screenItwVisualsOpacity",mask:"screenItwMask",overlayDiffuse:"screenNayaOverlayDiffuse",overlayOpacity:"screenNayaOverlayOpacity",video:"/zerolimits/glxp/videos/video-screen-naya-small.mp4"};case"Screen_R_02":return this.waypointId="screen_right",this.transitionDelay=100,{visualsDiffuse:"screenReynaVisualsDiffuse",visualsOpacity:"screenItwVisualsOpacity",mask:"screenItwMask",overlayDiffuse:"screenReynaOverlayDiffuse",overlayOpacity:"screenReynaOverlayOpacity",video:"/zerolimits/glxp/videos/video-screen-reyna-small.mp4"};case"Screen_R_03":return this.waypointId="screen_right",this.transitionDelay=200,{visualsDiffuse:"screenJoanVisualsDiffuse",visualsOpacity:"screenItwVisualsOpacity",mask:"screenItwMask",overlayDiffuse:"screenJoanOverlayDiffuse",overlayOpacity:"screenJoanOverlayOpacity",video:"/zerolimits/glxp/videos/video-screen-joan-small.mp4"};case"Screen_Trailer":return this.waypointId="screen_tree",this.visualOpacityFactor=.9,{visualsDiffuse:"screenTrailerVisualsDiffuse",visualsOpacity:"screenWideVisualsOpacity",mask:"screenWideMask",overlayDiffuse:"screenTrailerOverlayDiffuse",overlayOpacity:"screenTrailerOverlayOpacity",video:"/zerolimits/glxp/videos/video-screen-tvc.mp4"}}return{visualsDiffuse:"screenHannahVisualsDiffuse",visualsOpacity:"screenItwVisualsOpacity",mask:"screenItwMask",overlayDiffuse:"screenHannahOverlayDiffuse",overlayOpacity:"screenHannahOverlayOpacity"}}onLoaded(){this.textureIds&&(this.textureVisualsDiffuse=this.scene.textureLoader.getTexture(this.textureIds.visualsDiffuse),this.textureVisualsDiffuse.needsUpdate=!0,this.program.uniforms.uTextureVisualsDiffuse.value=this.textureVisualsDiffuse,this.program.uniforms.uTextureVisualsDiffuseVideo.value=this.textureVisualsDiffuse,this.textureVisualsOpacity=this.scene.textureLoader.getTexture(this.textureIds.visualsOpacity),this.textureVisualsOpacity.needsUpdate=!0,this.program.uniforms.uTextureVisualsOpacity.value=this.textureVisualsOpacity,this.textureMask=this.scene.textureLoader.getTexture(this.textureIds.mask),this.textureMask.needsUpdate=!0,this.program.uniforms.uTextureMask.value=this.textureMask,this.textureOverlayDiffuse=this.scene.textureLoader.getTexture(this.textureIds.overlayDiffuse),this.textureOverlayDiffuse.needsUpdate=!0,this.program.uniforms.uTextureOverlayDiffuse.value=this.textureOverlayDiffuse,this.textureOverlayOpacity=this.scene.textureLoader.getTexture(this.textureIds.overlayOpacity),this.textureOverlayOpacity.needsUpdate=!0,this.program.uniforms.uTextureOverlayOpacity.value=this.textureOverlayOpacity)}addEventListeners(){ue.on("perfs_test",this.handlePerfsTest.bind(this)),ue.on("waypoint_enter",this.handleWaypointEnter.bind(this)),ue.on("waypoint_leave",this.handleWaypointLeave.bind(this))}handlePerfsTest({isDeviceSlow:e}){this.canPlayVideo=this.canPlayVideo&&!e,this.video&&!this.canPlayVideo&&this.pauseVideo()}resumeVideo(){this.video.play(),this.isPlaying=!0}pauseVideo(){this.video.pause(),this.isPlaying=!1}handleWaypointEnter({id:e}){this.canPlayVideo&&e===this.waypointId&&(this.resumeVideo(),this.transitionDelay>0?setTimeout(()=>{this.videoFactor.target=1},this.transitionDelay):this.videoFactor.target=1)}handleWaypointLeave({id:e}){this.canPlayVideo&&e===this.waypointId&&(this.pauseVideo(),this.videoFactor.target=0)}getFirstDrawPromise(){const e=new Promise(t=>{this.firstDrawResolve=t});return this.scene.pendingReadyMeshes.push(this),this.firstdrawResolve=!1,e}drawInit(){this.gl.finish(),this.mesh.visible=!0,this.scene.renderer.render({scene:this.mesh,camera:this.scene.camera,clear:!1,frustumCull:!0,sort:!1}),this.gl.finish(),this.firstdrawResolve||(this.firstdrawResolve=!0,requestAnimationFrame(()=>{this.firstDrawResolve(this)}))}preRender(){this.program.uniforms.uTime.value=this.scene.time,this.program.uniforms.uAlpha.value=this.alpha,this.canPlayVideo&&(this.videoFactor.current=xy(this.videoFactor.current,this.videoFactor.target,this.videoFactor.ease),this.program.uniforms.uVisualVideoFactor.value=this.videoFactor.current),this.canPlayVideo&&this.isPlaying&&this.video&&this.video.currentTime>0&&this.video.readyState>=this.video.HAVE_ENOUGH_DATA&&(this.videoTexture.image||(this.videoTexture.image=this.video),this.videoTexture.needsUpdate=!0,this.program.uniforms.uTextureVisualsDiffuseVideo.value=this.videoTexture)}dispose(){this.mesh.setParent(null),this.geometry.remove(),this.program.remove()}}const hu=Ub();class OP{constructor(e){this.cursor=mr(0,0),this.lastCursor=mr(0,0),this.velocity=mr(0,0),this.dampedCursor=mr(.5,.5),this.target=e||window,this.wheelVelocity=mr(0,0),this.wheel=mr(0,0),this.lastWheel=mr(0,0),this.screenWidth=window.innerWidth,this.screenHeight=window.innerHeight,this.isDown=!1,this.wheelDir=null,this.wheelConfigBy=.08,this.wheelSpeed=1,this.wheelMobileSpeed=-.07,this.isWheelLock=!1,this.normalizeWheel=0,this.current=0,this.maxWheel=3500,this.clampWheel=!1,this.emitter={},this.preventDamping=!1,sc(this.emitter),this.on=this.emitter.on.bind(this.emitter),this.off=this.emitter.off.bind(this.emitter),oi.subscribe("mouse",()=>{this.update()}),this.config={damping:{value:.05,params:{min:0,max:.05,step:.001}}},this.initEvents(),window.__debugMouse=this}initEvents(){Hi?(this.target.addEventListener("touchstart",e=>{this.onDown(e.touches[0])}),this.target.addEventListener("touchend",e=>{this.onUp(e.touches[0])}),this.target.addEventListener("touchmove",e=>{this.onMove(e.touches[0])})):(this.target.addEventListener("mousedown",e=>{this.onDown(e)}),this.target.addEventListener("mousemove",e=>{this.onMove(e)}),this.target.addEventListener("mouseup",e=>{this.onUp(e)}),this.target.addEventListener("wheel",e=>{this.onWheel(e)},{passive:!1})),this.target.addEventListener("click",()=>{this.emitter.emit("click")}),this.target.addEventListener("resize",()=>{this.screenWidth=window.innerWidth,this.screenHeight=window.innerHeight})}lockWheel(){this.isWheelLock=!0}unlockWheel(){this.isWheelLock=!1}setProgress(e){this.current=e*this.maxWheel,this.normalizeWheel=e}onDown(e){this.cursor[0]=(e.clientX/this.screenWidth-.5)*2,this.cursor[1]=(e.clientY/this.screenHeight-.5)*2,this.lastCursor[0]=this.cursor[0],this.lastCursor[1]=this.cursor[1],this.isDown=!0,this.emitter.emit("down",this)}onUp(e){this.isDown=!1,this.emitter.emit("up",this)}onWheel(e){this.isWheelLock||(this.lastWheel[0]=this.wheel[0],this.lastWheel[1]=this.wheel[1],this.wheel[0]=e.deltaX,this.wheel[1]=e.deltaY,this.wheelDir=e.deltaY<0?"up":"down",this.current+=e.deltaY*this.wheelConfigBy*this.wheelSpeed,this.clampWheel&&(this.current=rh(this.current,0,this.maxWheel)),this.normalizeWheel=this.current/this.maxWheel,this.emitter.emit("wheel",this))}onMove(e){if(this.cursor[0]=(e.clientX/this.screenWidth-.5)*2,this.cursor[1]=(e.clientY/this.screenHeight-.5)*2,this.emitter.emit("move",this),this.isDown&&this.emitter.emit("drag",this),!this.isWheelLock&&Hi){let t=(this.cursor[1]-this.lastCursor[1])*this.wheelMobileSpeed;this.clampWheel?this.normalizeWheel=rh(t+this.normalizeWheel,0,1):this.normalizeWheel=t+this.normalizeWheel}}update(){this.velocity[0]=this.cursor[0]-this.lastCursor[0],this.velocity[1]=this.cursor[1]-this.lastCursor[1],this.wheelVelocity[0]=this.wheel[0]-this.lastWheel[0],this.wheelVelocity[1]=this.wheel[1]-this.lastWheel[1],this.lastCursor[0]=this.cursor[0],this.lastCursor[1]=this.cursor[1],this.preventDamping||(HE(hu,this.cursor,this.dampedCursor),VE(hu,hu,this.config.damping.value),OE(this.dampedCursor,this.dampedCursor,hu))}}const mt=new OP;class Ey extends li{constructor(e,{radius:t=.5,widthSegments:i=16,heightSegments:s=Math.ceil(i*.5),phiStart:r=0,phiLength:o=Math.PI*2,thetaStart:a=0,thetaLength:c=Math.PI,attributes:u={}}={}){const h=i,f=s,m=r,_=o,y=a,w=c,x=(h+1)*(f+1),M=h*f*6,P=new Float32Array(x*3),F=new Float32Array(x*3),E=new Float32Array(x*2),D=x>65536?new Uint32Array(M):new Uint16Array(M);let B=0,I=0,L=0,k=y+w;const W=[];let K=new oe;for(let R=0;R<=f;R++){let G=[],O=R/f;for(let j=0;j<=h;j++,B++){let $=j/h,se=-t*Math.cos(m+$*_)*Math.sin(y+O*w),X=t*Math.cos(y+O*w),Le=t*Math.sin(m+$*_)*Math.sin(y+O*w);P[B*3]=se,P[B*3+1]=X,P[B*3+2]=Le,K.set(se,X,Le).normalize(),F[B*3]=K.x,F[B*3+1]=K.y,F[B*3+2]=K.z,E[B*2]=$,E[B*2+1]=1-O,G.push(I++)}W.push(G)}for(let R=0;R<f;R++)for(let G=0;G<h;G++){let O=W[R][G+1],j=W[R][G],$=W[R+1][G],se=W[R+1][G+1];(R!==0||y>0)&&(D[L*3]=O,D[L*3+1]=j,D[L*3+2]=se,L++),(R!==f-1||k<Math.PI)&&(D[L*3]=j,D[L*3+1]=$,D[L*3+2]=se,L++)}Object.assign(u,{position:{size:3,data:P},normal:{size:3,data:F},uv:{size:2,data:E},index:{data:D}}),super(e,u)}}class t1 extends li{constructor(e,{radiusTop:t=.5,radiusBottom:i=.5,height:s=1,radialSegments:r=8,heightSegments:o=1,openEnded:a=!1,thetaStart:c=0,thetaLength:u=Math.PI*2,attributes:h={}}={}){const f=r,m=o,_=c,y=u,w=a?0:i&&t?2:1,x=(f+1)*(m+1+w)+w,M=f*m*6+w*f*3,P=new Float32Array(x*3),F=new Float32Array(x*3),E=new Float32Array(x*2),D=x>65536?new Uint32Array(M):new Uint16Array(M);let B=0,I=0;const L=[];k(),a||(t&&W(!0),i&&W(!1));function k(){let K,R;const G=new oe,O=(i-t)/s;for(R=0;R<=m;R++){const j=[],$=R/m,se=$*(i-t)+t;for(K=0;K<=f;K++){const X=K/f,Le=X*y+_,Pe=Math.sin(Le),He=Math.cos(Le);P.set([se*Pe,(.5-$)*s,se*He],B*3),G.set(Pe,O,He).normalize(),F.set([G.x,G.y,G.z],B*3),E.set([X,1-$],B*2),j.push(B++)}L.push(j)}for(K=0;K<f;K++)for(R=0;R<m;R++){const j=L[R][K],$=L[R+1][K],se=L[R+1][K+1],X=L[R][K+1];D.set([j,$,X,$,se,X],I*3),I+=2}}function W(K){let R;const G=K===!0?t:i,O=K===!0?1:-1,j=B;for(P.set([0,.5*s*O,0],B*3),F.set([0,O,0],B*3),E.set([.5,.5],B*2),B++,R=0;R<=f;R++){const se=R/f*y+_,X=Math.cos(se),Le=Math.sin(se);P.set([G*Le,.5*s*O,G*X],B*3),F.set([0,O,0],B*3),E.set([X*.5+.5,Le*.5*O+.5],B*2),B++}for(R=0;R<f;R++){const $=j+R+1;K?D.set([$,$+1,j],I*3):D.set([$+1,$,j],I*3),I++}}Object.assign(h,{position:{size:3,data:P},normal:{size:3,data:F},uv:{size:2,data:E},index:{data:D}}),super(e,h)}}class NP{constructor(e,t,{parent:i=null,blendFunc:s={},transparent:r=!0,depthTest:o=!0,depthWrite:a=!1,alpha:c=1,id:u=null,renderOrder:h=1}={}){this.gl=e.gl,this.scene=e,this.transparent=r,this.blendFunc=s,this.depthTest=o,this.depthWrite=a,this.textureId=t,this.meshId=u,this.renderOrder=h,this.parent=i||e.root,this.shader=new qn(fn.godrays),this.texture=new Rt(this.gl),this.textureShadow=new Rt(this.gl),this.alpha=c,this.config={BaseAlpha:{value:.35,params:{min:0,max:1,step:.01}},GlowAlpha:{value:.5,params:{min:0,max:1,step:.01}},TopFade:{value:.25,params:{min:0,max:1,step:.01}},RaysColor:{value:"#ffffff",params:{}},GlowColor:{value:"#ffffff",params:{}},RaysStepMin:{value:.2,params:{min:0,max:1,step:.01}},RaysStepMax:{value:.8,params:{min:0,max:1,step:.01}},GlowStepMin:{value:.5,params:{min:0,max:1,step:.01}}},ze.addBlade(this.config,"Godrays",this.meshId+1),this.init()}init(){this.geometryEntrance=new t1(this.gl,{height:13,radiusTop:2.5,radiusBottom:8,radialSegments:16,openEnded:!0,thetaStart:Math.PI,thetaLength:Math.PI}),this.geometryHall=new t1(this.gl,{height:28,radiusTop:4.65,radiusBottom:9.15,radialSegments:16,openEnded:!0}),this.program=new Kn(this.gl,{vertex:this.shader.vert,fragment:this.shader.frag,depthTest:this.depthTest,depthWrite:this.depthWrite,transparent:this.transparent,uniforms:{uTexture:{value:this.texture},uTime:{value:this.scene.time},uBaseAlpha:this.config.BaseAlpha,uGlowAlpha:this.config.GlowAlpha,uTopFade:this.config.TopFade,uRaysColor:new Xe(this.config.RaysColor.value),uGlowColor:new Xe(this.config.GlowColor.value),uRaysStepMin:this.config.RaysStepMin,uRaysStepMax:this.config.RaysStepMax,uGlowStepMin:this.config.GlowStepMin}}),this.program.cullFace=!1,this.meshEntrance=new sn(this.gl,{geometry:this.geometryEntrance,program:this.program,forceRenderOrder:!0,renderOrder:this.renderOrder}),this.meshHall=new sn(this.gl,{geometry:this.geometryHall,program:this.program,forceRenderOrder:!0,renderOrder:this.renderOrder}),this.meshEntrance.position.set(-30,12,0),this.meshEntrance.rotation.set(0,0,.5),this.meshHall.position.set(0,14,0),this.meshEntrance.setParent(this.parent),this.meshHall.setParent(this.parent)}onLoaded(){this.texture=this.scene.textureLoader.getTexture("noiseFbm"),this.texture.needsUpdate=!0,this.program.uniforms.uTexture.value=this.texture}preRender(){this.program.uniforms.uTime.value=this.scene.time,this.program.uniforms.uRaysColor.value=new Xe(this.config.RaysColor.value),this.program.uniforms.uGlowColor.value=new Xe(this.config.GlowColor.value)}dispose(){this.meshHall.setParent(null),this.geometryHall.remove(),this.disposeEntrance(),this.program.remove()}disposeEntrance(){this.meshEntrance.setParent(null),this.geometryEntrance.remove()}}class VP{constructor(e,{volumeCorner:t=new oe(-2e3,-400,-2e3),volumeSize:i=new oe(4e3,3e3,4e3),wind:s=new oe(0,0,0),count:r=300,gravity:o=30,color:a="#fbb13e",color1:c="#FF0000",timeScale:u=1,name:h="Particles",meshId:f=0,noiseIntensity:m=30,noiseFrenquency:_=.1,fadeDistance:y=150,particleOpacity:w=.75,particleScale:x=300,alpha:M=1,parent:P=!1}={}){this.gl=e.gl,this.scene=e,this.transparent=!0,this.depthTest=!0,this.depthWrite=!1,this.shader=new qn(fn.fairyDust),this.count=r,this.offset=new oe,this.wind=s,this.volumeCorner=t,this.volumeSize=i,this.gravity=o,this.timeScale=u,this.color=a,this.color1=c,this.name=h,this.meshId=f,this.alpha=M,this.time=0,this.noiseIntensity=m,this.noiseFrenquency=_,this.fadeDistance=y,this.particleOpacity=w,this.particleScale=x,this.pixelRatio=this.scene.dpr,this.parent=P||e.root,this.initConfig(),this.createParticles(),this.init()}initConfig(){this.config={count:{value:4500,params:{min:1,max:1e4,step:1}},color:{value:"#46d83c",params:{}},color1:{value:"#4f3115",params:{}},wind_X:{value:0,params:{min:-30,max:30,step:.1}},wind_Y:{value:0,params:{min:-30,max:30,step:.1}},wind_Z:{value:0,params:{min:-30,max:30,step:.1}},TimeScale:{value:.7,params:{min:0,max:2,step:.01}},Gravity:{value:30,params:{min:-100,max:100,step:.1}},FadeDistance:{value:500,params:{min:0,max:1e3,step:1}},NoiseIntensity:{value:30,params:{min:0,max:150,step:.1}},NoiseFrenquency:{value:.1,params:{min:0,max:2,step:.01}},ParticleOpacity:{value:.75,params:{min:0,max:1,step:.01}},ParticleScale:{value:100,params:{min:0,max:1e3,step:1}}},this.gui=ze.addBlade(this.config,this.name+this.meshId,this.meshId),this.gui&&this.gui.count.on("change",()=>{this.mesh.visible=!1,this.createParticles(),this.init()})}createParticles(){this.count=this.config.count.value;let e=[],t=[];for(;this.count--;)e.push(Math.random()*this.volumeSize[0]-this.volumeSize[0]/2),e.push(Math.random()*this.volumeSize[1]-this.volumeSize[1]/2),e.push(Math.random()*this.volumeSize[2]-this.volumeSize[2]/2),t.push(Math.random()),t.push(Math.random()),t.push(Math.random()),t.push(Math.random());this.vertices=new Float32Array(e),this.seeds=new Float32Array(t)}init(){const e={position:{size:3,data:this.vertices},seeds:{size:4,data:this.seeds}};this.geometry=new li(this.gl,e),this.program=new Kn(this.gl,{vertex:this.shader.vert,fragment:this.shader.frag,depthTest:this.depthTest,depthWrite:this.depthWrite,transparent:this.transparent,uniforms:{uTime:{value:this.scene.time},uVolumeCorner:{value:this.volumeCorner},uVolumeSize:{value:this.volumeSize},uOffset:{value:this.offset},uColor:{value:new Xe(this.color)},uColor1:{value:new Xe(this.color1)},uPixelRatio:{value:this.pixelRatio},uAlpha:{value:this.alpha},uNoiseIntensity:{value:this.noiseIntensity},uNoiseFrequency:{value:this.noiseFrenquency},uTimeScale:{value:this.timeScale},uParticleOpacity:{value:this.particleOpacity},uFadeDistance:{value:this.fadeDistance},uParticleScale:{value:this.particleScale}}}),this.program.cullFace=!1,this.mesh=new sn(this.gl,{geometry:this.geometry,program:this.program,forceRenderOrder:!0,renderOrder:10,mode:this.gl.POINTS}),this.mesh.scale.x=.01,this.mesh.scale.y=.01,this.mesh.scale.z=.01,this.mesh.setParent(this.parent)}onLoaded(){}preRender(){this.program.uniforms.uColor.value=new Xe(this.config.color.value),this.program.uniforms.uColor1.value=new Xe(this.config.color1.value),this.wind[0]=this.config.wind_X.value,this.wind[1]=this.config.wind_Y.value,this.wind[2]=this.config.wind_Z.value,this.timeScale=this.config.TimeScale.value,this.gravity=this.config.Gravity.value,this.fadeDistance=this.config.FadeDistance.value,this.noiseIntensity=this.config.NoiseIntensity.value,this.noiseFrenquency=this.config.NoiseFrenquency.value,this.time+=this.scene.dt/1e3,this.offset[0]=this.wind[0]*this.time*this.timeScale,this.offset[1]=(this.wind[1]+this.gravity)*this.time*this.timeScale,this.offset[2]=this.wind[2]*this.time*this.timeScale,this.program.uniforms.uTime.value=this.scene.time,this.program.uniforms.uFadeDistance.value=this.fadeDistance,this.program.uniforms.uNoiseIntensity.value=this.noiseIntensity,this.program.uniforms.uNoiseFrequency.value=this.noiseFrenquency,this.program.uniforms.uTimeScale.value=this.timeScale,this.program.uniforms.uOffset.value=this.offset,this.program.uniforms.uParticleOpacity.value=this.config.ParticleOpacity.value,this.program.uniforms.uParticleScale.value=this.config.ParticleScale.value}}class n1{constructor(e,t=1,i="rgb",s=null,r=!1,o="linear",a=!1,c=null){this.scene=e,this.gl=e.gl,this.pixelRatio=t,this.format=i,this.size=s,this.depth=r,this.filter=o,this.transparent=a,this.depthTexture=null,this.previousFrameBuffer=null,this.preventResize=!1,this.data=c,s===null?(this.width=this.scene.width*this.pixelRatio,this.height=this.scene.height*this.pixelRatio):(this.width=s,this.height=s),this.createTexture(),r&&this.createDepthTexture(),this.createFB(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),window.addEventListener("resize",this.onResize.bind(this))}createTexture(){let e=this.gl;this.targetTexture=this.gl.createTexture(),e.bindTexture(e.TEXTURE_2D,this.targetTexture);let t=0,i=e.RGBA,s=0,r=e.RGBA,o=e.UNSIGNED_BYTE;this.format==="float"&&(o=Vs?e.FLOAT:e.HALF_FLOAT||e.renderer.extensions.OES_texture_half_float.HALF_FLOAT_OES,i=e.renderer.isWebgl2?o===e.FLOAT?e.RGBA32F:e.RGBA16F:e.RGBA);let a=this.data;e.texImage2D(e.TEXTURE_2D,t,i,this.width,this.height,s,r,o,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),this.filter=="nearest"&&(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST)),e.bindTexture(e.TEXTURE_2D,null)}createDepthTexture(){let e=this.scene.gl;this.depthTexture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.depthTexture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),this.filter=="nearest"&&(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST)),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.renderer.isWebgl2?e.DEPTH_COMPONENT24:e.DEPTH_COMPONENT,this.width,this.height,0,e.DEPTH_COMPONENT,e.UNSIGNED_INT,null),e.bindTexture(e.TEXTURE_2D,null)}onResize(){if(this.preventResize)return;let e=this.gl;this.size===null?(this.width=this.scene.width*this.pixelRatio,this.height=this.scene.height*this.pixelRatio):(this.width=this.size,this.height=this.size),e.deleteTexture(this.targetTexture),this.depth&&e.deleteTexture(this.depthTexture),e.deleteFramebuffer(this.fb),this.createTexture(),this.depth&&this.createDepthTexture(),this.createFB(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null)}createFB(){let e=this.gl;this.fb=e.createFramebuffer(),this.fb.width=this.width,this.fb.height=this.height,e.bindFramebuffer(e.FRAMEBUFFER,this.fb);const t=0,i=e.COLOR_ATTACHMENT0;e.framebufferTexture2D(e.FRAMEBUFFER,i,e.TEXTURE_2D,this.targetTexture,t);const s=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,s),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,this.width,this.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,s),this.depth&&e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,this.depthTexture,0)}clear(){let e=this.gl;this.transparent?(e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)):(e.clearColor(this.scene.clearColor[0],this.scene.clearColor[1],this.scene.clearColor[2],this.scene.clearColor[3]),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT))}preRender(){let e=this.gl;this.previousFrameBuffer=this.scene.activeFrameBuffer!==void 0?this.scene.activeFrameBuffer:null,this.scene.activeFrameBuffer=this.fb,e.bindFramebuffer(e.FRAMEBUFFER,this.scene.activeFrameBuffer),e.viewport(0,0,this.width,this.height),this.clear()}postRender(){let e=this.gl;this.scene.activeFrameBuffer=this.previousFrameBuffer,e.bindFramebuffer(e.FRAMEBUFFER,this.scene.activeFrameBuffer),e.viewport(0,0,this.scene.width,this.scene.height)}bind(){let e=this.gl;e.bindTexture(e.TEXTURE_2D,this.targetTexture)}bindDepth(){let e=this.gl;this.depth&&e.bindTexture(e.TEXTURE_2D,this.depthTexture)}getTexture(){return this.targetTexture}getDepthTexture(){return this.depthTexture}}class HP{constructor(e){this.scene=e,this.gl=e.gl,this.uniforms={},this.hasNormal=!0,this.onlyVertices=!1,this.customAttributes=[],this.node=new Sh,this.defines={},this.buffersOptions={},this.isHidden=!1}initProgram(e,t){let i=this.gl,r=function(h){let f="";for(let m in h)f+="#define "+m+" "+h[m]+`
`;return f}(this.defines),o=i.createShader(i.VERTEX_SHADER);i.shaderSource(o,r+e),i.compileShader(o);let a=i.createShader(i.FRAGMENT_SHADER);if(i.shaderSource(a,r+t),i.compileShader(a),!i.getShaderParameter(o,i.COMPILE_STATUS))return console.error("error vert",this,i.getShaderInfoLog(o)),null;if(!i.getShaderParameter(a,i.COMPILE_STATUS))return console.error("error frag",this,i.getShaderInfoLog(a)),null;let c=i.createProgram();i.attachShader(c,o),i.attachShader(c,a),i.linkProgram(c),i.getProgramParameter(c,i.LINK_STATUS)||console.error("Could not initialise shaders",i.getProgramInfoLog(c)),i.useProgram(c),c.vertexPositionAttribute=i.getAttribLocation(c,"aPos"),this.onlyVertices||(c.vertexUvAttribute=i.getAttribLocation(c,"aUvs")),this.hasNormal&&(c.vertexNormalAttribute=i.getAttribLocation(c,"aNormal")),this.customAttributes.forEach(h=>{c[`${h.name}Attribute`]=i.getAttribLocation(c,h.attributeName)}),this.vertShader=o,this.fragSahder=a,this.program=c;const u=i.getProgramParameter(c,i.ACTIVE_ATTRIBUTES);for(let h=0;h<u;++h){const f=i.getActiveAttrib(c,h);i.getAttribLocation(c,f.name)}}initVao(){let e=this.gl,t=this.buffersOptions;this.vao=e.createVertexArray(),e.bindVertexArray(this.vao),e.bindBuffer(e.ARRAY_BUFFER,this.vertexPositionBuffer),e.vertexAttribPointer(this.program.vertexPositionAttribute,3,e.FLOAT,!1,t.vertices?t.vertices.byteStride:0,t.vertices?t.vertices.byteOffset:0),e.enableVertexAttribArray(this.program.vertexPositionAttribute),this.onlyVertices||(e.bindBuffer(e.ARRAY_BUFFER,this.uvsBuffer),e.vertexAttribPointer(this.program.vertexUvAttribute,2,e.FLOAT,!1,t.uvs?t.uvs.byteStride:0,t.uvs?t.uvs.byteOffset:0),e.enableVertexAttribArray(this.program.vertexUvAttribute)),this.hasNormal&&(e.bindBuffer(e.ARRAY_BUFFER,this.normalBuffer),e.vertexAttribPointer(this.program.vertexNormalAttribute,3,e.FLOAT,!1,t.normals?t.normals.byteStride:0,t.normals?t.normals.byteOffset:0),e.enableVertexAttribArray(this.program.vertexNormalAttribute));for(let i=0;i<this.customAttributes.length;i++){const s=this.customAttributes[i];e.bindBuffer(e.ARRAY_BUFFER,s.buffer),e.vertexAttribPointer(this.program[s.name+"Attribute"],s.dimensions,e.FLOAT,!1,0,0),e.enableVertexAttribArray(this.program[s.name+"Attribute"])}this.onlyVertices||e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),e.bindVertexArray(null)}initBuffer(e){let t=this.gl;e.options&&(this.buffersOptions=e.options);let i=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,i),t.bufferData(t.ARRAY_BUFFER,new Float32Array(e.vertices),t.STATIC_DRAW);let s=t.createBuffer();this.hasNormal&&(t.bindBuffer(t.ARRAY_BUFFER,s),t.bufferData(t.ARRAY_BUFFER,new Float32Array(e.normal),t.STATIC_DRAW));let r=t.createBuffer(),o=t.createBuffer();this.onlyVertices||(t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,new Float32Array(e.uvs),t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,o),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(e.indices),t.STATIC_DRAW)),this.customAttributes.forEach(a=>{a.buffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,a.buffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(a.data),t.STATIC_DRAW)}),this.vertexPositionBuffer=i,this.uvsBuffer=r,this.hasNormal&&(this.normalBuffer=s),this.indicesBuffer=o}initMatrix(){this.createUniform("uPMatrix","mat4"),this.createUniform("uVMatrix","mat4"),this.createUniform("uMMatrix","mat4")}bindMatrixUniforms(e){this.bindUniform("uPMatrix",e.getProjectionMatrix()),this.bindUniform("uVMatrix",e.getViewMatrix()),this.bindUniform("uMMatrix",this.node.getMatrix())}createUniform(e,t="float1"){return this.program[e+"Uniform"]=this.gl.getUniformLocation(this.program,e),this.uniforms[e+"Uniform"]={name:e,type:t,uniform:this.program[e+"Uniform"]},this.program[e+"Uniform"]}createAttribute(e,t,i,s){this.customAttributes.push({name:e,attributeName:t,dimensions:i,buffer:null,data:s})}bindUniform(e,t){let i=this.gl;this.uniforms[e+"Uniform"].type==="texture"&&i.uniform1i(this.program[e+"Uniform"],t),this.uniforms[e+"Uniform"].type==="textureCube"?i.uniform1i(this.program[e+"Uniform"],t):this.uniforms[e+"Uniform"].type==="float1"?i.uniform1f(this.program[e+"Uniform"],t):this.uniforms[e+"Uniform"].type==="float2"?i.uniform2fv(this.program[e+"Uniform"],t):this.uniforms[e+"Uniform"].type==="float3"?i.uniform3fv(this.program[e+"Uniform"],t):this.uniforms[e+"Uniform"].type==="float4"?i.uniform4fv(this.program[e+"Uniform"],t):this.uniforms[e+"Uniform"].type==="mat4"?i.uniformMatrix4fv(this.program[e+"Uniform"],!1,t):this.uniforms[e+"Uniform"].type==="[mat4]"&&i.uniformMatrix4fv(this.program[e+"Uniform"],!1,t)}checkVisibility(){return this.isHidden}}const zP=[-1,1,0,-1,-1,0,1,-1,0,1,1,0],Lf=[0,1,2,0,2,3],UP=[0,1,0,0,1,0,1,1];class GP extends HP{constructor(e,t,i){super(e),this.hasNormal=!1,this.parent=t,this.rtScale=.5,this.power=0,this.id=i,this.transparent=!0,this.direction=[0,0],this.threshold=0,this.color=Tt(1,1,1),this.blurPass=[[4,-1],[-1,4],[1,0],[0,1]];var s=new qn(fn.postBlur,2,{TRANSPARENT:this.transparent?1:0});this.initProgram(s.vert,s.passes[0]),this.initBuffer({vertices:zP,uvs:UP,indices:Lf}),this.initVao(),this.createUniforms(),this.activeRt=0,this.disabledRt=1,this.rts=[new n1(this.scene,this.rtScale,"rgba",null,!0,"linear",this.transparent),new n1(this.scene,this.rtScale,"rgba",null,!0,"linear",this.transparent)],this.config={BloomTint:{value:"#ffffff",params:{}},Threshold:{value:.4,params:{min:0,max:1.25,step:.01}},Blur:{value:.75,params:{min:0,max:1,step:.01}},Overdrive:{value:.3,params:{min:0,max:1,step:.01}},Similarity:{value:.05,params:{min:0,max:.2,step:.001}}},ze.addBlade(this.config,"Bloom",this.id)}createUniforms(){this.createUniform("uTexture","texture"),this.createUniform("uRez","float2"),this.createUniform("uDir","float2"),this.createUniform("uTint","float3"),this.createUniform("uPower"),this.createUniform("uIsFirstPass"),this.createUniform("uThresold"),this.createUniform("uSimilarity"),this.createUniform("uOverdrive")}applyState(){let e=this.gl;this.scene.applyDefaultState(),e.disable(e.DEPTH_TEST),e.depthMask(!1)}preRender(){this.rts[this.disabledRt].preRender()}postRender(){this.rts[this.disabledRt].postRender(),this.activeRt=this.activeRt===1?0:1,this.disabledRt=this.disabledRt===1?0:1}clear(){this.rts[this.activeRt].clear(),this.rts[this.disabledRt].clear()}bind(){this.rts[this.activeRt].bind()}getTexture(){return this.rts[this.activeRt].getTexture()}render(){let e=this.gl;e.useProgram(this.program),e.bindVertexArray(this.vao),this.applyState(),this.preRender(),this.power=this.config.Blur.value,this.color=new Xe(this.config.BloomTint.value),this.threshold=this.config.Threshold.value,this.bindUniform("uRez",[this.scene.width,this.scene.height]),this.direction=this.blurPass[0],this.bindUniform("uDir",[this.direction[0]*this.scene.dpr,this.direction[1]*this.scene.dpr]),e.activeTexture(e.TEXTURE0),this.parent.rt.bind(),this.bindUniform("uTexture",0),this.bindUniform("uPower",this.power),this.bindUniform("uIsFirstPass",1),this.bindUniform("uTint",this.color),this.bindUniform("uThresold",this.threshold),this.bindUniform("uSimilarity",this.config.Similarity.value),this.bindUniform("uOverdrive",this.config.Overdrive.value),e.drawElements(e.TRIANGLES,Lf.length,e.UNSIGNED_SHORT,0),this.postRender();for(let t=1;t<this.blurPass.length;t++)this.preRender(),this.direction=this.blurPass[t],this.bindUniform("uDir",[this.direction[0]*this.scene.dpr,this.direction[1]*this.scene.dpr]),e.activeTexture(e.TEXTURE0),this.rts[this.activeRt].bind(),this.bindUniform("uTexture",0),this.bindUniform("uIsFirstPass",0),e.drawElements(e.TRIANGLES,Lf.length,e.UNSIGNED_SHORT,0),this.postRender();e.bindVertexArray(null),e.bindFramebuffer(e.FRAMEBUFFER,null)}}class yi extends li{constructor(e,{width:t=1,height:i=1,widthSegments:s=1,heightSegments:r=1,attributes:o={}}={}){const a=s,c=r,u=(a+1)*(c+1),h=a*c*6,f=new Float32Array(u*3),m=new Float32Array(u*3),_=new Float32Array(u*2),y=h>65536?new Uint32Array(h):new Uint16Array(h);yi.buildPlane(f,m,_,y,t,i,0,a,c),Object.assign(o,{position:{size:3,data:f},normal:{size:3,data:m},uv:{size:2,data:_},index:{data:y}}),super(e,o)}static buildPlane(e,t,i,s,r,o,a,c,u,h=0,f=1,m=2,_=1,y=-1,w=0,x=0){const M=w,P=r/c,F=o/u;for(let E=0;E<=u;E++){let D=E*F-o/2;for(let B=0;B<=c;B++,w++){let I=B*P-r/2;if(e[w*3+h]=I*_,e[w*3+f]=D*y,e[w*3+m]=a/2,t[w*3+h]=0,t[w*3+f]=0,t[w*3+m]=a>=0?1:-1,i[w*2]=B/c,i[w*2+1]=1-E/u,E===u||B===c)continue;let L=M+B+E*(c+1),k=M+B+(E+1)*(c+1),W=M+B+(E+1)*(c+1)+1,K=M+B+E*(c+1)+1;s[x*6]=L,s[x*6+1]=k,s[x*6+2]=K,s[x*6+3]=k,s[x*6+4]=W,s[x*6+5]=K,x++}}}}const $P=[-1,1,0,-1,-1,0,1,-1,0,1,1,0],WP=[0,1,2,0,2,3],jP=[0,1,0,0,1,0,1,1];class qP{constructor(e,{blendFunc:t={},transparent:i=!1,depthTest:s=!1,depthWrite:r=!1,panelId:o=0,renderOrder:a=0,alpha:c=1}={}){this.gl=e.gl,this.scene=e,this.rt=new n1(this.scene,1,"rgb",null,!0),this.transparent=i,this.blendFunc=t,this.depthTest=s,this.depthWrite=r,this.textureId=null,this.renderOrder=a,this.shader=new qn(fn.post),this.texture=new Rt(this.gl,{rt:this.rt,width:this.rt.width,height:this.rt.height}),this.bloomTexture=new Rt(this.gl),this.alpha=c,this.config={BloomOpacity:{value:.35,params:{min:0,max:1,step:.01}},NoiseOpacity:{value:.1,params:{min:0,max:1,step:.01}},Gamma:{value:.95,params:{min:0,max:2,step:.01}},Exposure:{value:1.1,params:{min:-2,max:2,step:.01}},Contrast:{value:-.02,params:{min:-1,max:1,step:.01}},Vignette:{value:.25,params:{min:0,max:1,step:.01}},ChromaticAberations:{value:.1,params:{min:0,max:1,step:.01}},VignetteStrength:{value:.8,params:{min:0,max:1,step:.01}},FXAA:{value:Vs,type:"bool"}},ze.addBlade(this.config,"Post Processing",o),this.init()}init(){this.geometry=new yi(this.gl);const e={position:{size:3,data:new Float32Array($P)},uv:{size:2,data:new Float32Array(jP)},index:{data:new Uint16Array(WP)}};this.geometry=new li(this.gl,e),this.program=new Kn(this.gl,{vertex:this.shader.vert,fragment:this.shader.frag,depthTest:this.depthTest,depthWrite:this.depthWrite,transparent:this.transparent,uniforms:{uTexture:{value:this.texture},uBloom:{value:this.bloomTexture},uTime:{value:this.scene.time},uRez:{value:[this.scene.width,this.scene.height]},uMouse:{value:mt.cursor},uFxaa:{value:Vs},uVignette:this.config.Vignette,uVignetteStrength:this.config.VignetteStrength,uNoiseOpacity:this.config.NoiseOpacity,uChromaticAberations:this.config.ChromaticAberations,uGamma:this.config.Gamma,uBloomOpacity:this.config.BloomOpacity,uExposure:this.config.Exposure,uContrast:this.config.Contrast}}),this.program.cullFace=!1,this.mesh=new sn(this.gl,{geometry:this.geometry,program:this.program,renderOrder:this.renderOrder})}onLoaded(){this.bloomTexture=new Rt(this.gl,{rt:this.scene.bloomPass.rts[0],width:this.scene.bloomPass.rts[0].width,height:this.scene.bloomPass.rts[0].height}),this.program.uniforms.uBloom.value=this.bloomTexture}preRender(){this.rt.preRender()}postRender(){this.rt.postRender()}render(){this.program.uniforms.uTime.value=this.scene.time,this.program.uniforms.uRez.value=[this.scene.width,this.scene.height],this.program.uniforms.uMouse.value=mt.cursor,this.program.uniforms.uFxaa.value=this.config.FXAA.value,this.texture.needsUpdate=!0,this.scene.renderer.render({scene:this.mesh,clear:!0,frustumCull:!1,sort:!1})}dispose(){this.mesh.setParent(null),this.geometry.remove(),this.program.remove()}}class nc{constructor(e){this.points=Array.from(e),this.points.unshift(this.points[0]),this.points.push(this.points[this.points.length-1]),this.params=[],this.totalLength=0,this.node=new Sh}applyNodeMatrix(){let e=this.node.getMatrix();for(let t=0;t<this.points.length;t++)this.points[t]=FE(this.points[t],this.points[t],e)}generate(){this.applyNodeMatrix();let e=this.points;for(let t=0;t+3<e.length;t++)this.params.push({p1:e[t+0],p2:e[t+1],p3:e[t+2],p4:e[t+3],dt:BE(e[t+1],e[t+2])});for(let t=0;t<this.params.length;t++)this.totalLength+=this.params[t].dt}getPointsUniform(e){const t=Math.ceil(e/this.params.length),i=[];for(let s=0;s<this.params.length;s++){this.params[s];for(let r=0;r<t;r++){let o=this.catmullRom(this.params[s].p1,this.params[s].p2,this.params[s].p3,this.params[s].p4,r/t);i.push(o[0]),i.push(o[1]),i.push(o[2])}}return i}getPointLinearMotion(e){e=Math.min(Math.max(e,1e-7),1);let t=e*this.totalLength,i=0,s=0,r=0;for(let a=0;a<this.params.length;a++)if(i<t)s=i,i+=this.params[a].dt,r=a;else continue;let o=(t-s)/(i-s);return this.catmullRom(this.params[r].p1,this.params[r].p2,this.params[r].p3,this.params[r].p4,o)}getPointProgress(e){const t=e>1?e%1:e,i=oh(t,0,1,0,this.params.length);let s=i<.01?0:parseInt(i);s=rh(s,0,this.params.length-1);const r=i-s;return this.catmullRom(this.params[s].p1,this.params[s].p2,this.params[s].p3,this.params[s].p4,r)}catmullRom(e,t,i,s,r){return Tt(this.calc(e[0],t[0],i[0],s[0],r),this.calc(e[1],t[1],i[1],s[1],r),this.calc(e[2],t[2],i[2],s[2],r))}calc(e,t,i,s,r){return(((-e+3*t-3*i+s)*r+(2*e-5*t+4*i-s))*r+i-e)*.5*r+t}}const Sr={CONFIG_ENTRANCE:{IBLDiffuseFactor:{value:1,params:{min:0,max:2,step:.01}},IBLSpecularFactor:{value:1,params:{min:0,max:2,step:.01}},Environement:{value:"env_entrance_blur",params:{options:{default:"env_default",hall:"env_hall",hall_blur:"env_hall_blur",entrance:"env_entrance",entranceBlur:"env_entrance_blur",hall_diffuse:"env_hall_diffuse"}}},EnvironementDiffuse:{value:"env_entrance",params:{options:{default:"env_diffuse",hall:"env_hall",hall_blur:"env_hall_blur",entrance:"env_entrance",entrance_blur:"env_entrance_blur",hall_diffuse:"env_hall_diffuse"}}},EnvRotationOffset:{value:0,params:{min:0,max:1,step:.001}},lightColor:{value:"#ffb96f",params:{}},lightPosition:{value:{x:-100,y:55,z:0},params:{x:{step:1},y:{step:1},z:{step:1}}},emissiveColor:{value:"#000000",params:{}},FogColor:{value:"#ffffff",params:{}},FogNear:{value:0,params:{min:0,max:50,step:.01}},FogFar:{value:10,params:{min:0,max:50,step:.01}},lightPower:{value:1,params:{min:0,max:10,step:.01}},Alpha:{value:1,params:{min:0,max:1,step:.01}},Debug:{value:"disabled",params:{options:{disabled:"disabled",baseColor:"baseColor",metallic:"metallic",roughness:"roughness",specRef:"specRef",geomOcc:"geomOcc",mcrfctDist:"mcrfctDist",spec:"spec",mathDiff:"mathDiff"}}},OverwriteEnvIBL:{value:!1,type:"bool"},EnvIBL:{value:"placeholder",type:"input-image",input:null}},CONFIG_HALL:{IBLDiffuseFactor:{value:1,params:{min:0,max:2,step:.01}},IBLSpecularFactor:{value:1,params:{min:0,max:2,step:.01}},Environement:{value:"env_hall_blur",params:{options:{default:"env_default",hall:"env_hall",hall_blur:"env_hall_blur",statues:"env_statues",statuesBlur:"env_statues_blur",hall_diffuse:"env_hall_diffuse"}}},EnvironementDiffuse:{value:"env_hall",params:{options:{default:"env_diffuse",hall:"env_hall",hall_blur:"env_hall_blur",statues:"env_statues",statuesBlur:"env_statues_blur",hall_diffuse:"env_hall_diffuse"}}},EnvRotationOffset:{value:.666,params:{min:0,max:1,step:.001}},lightColor:{value:"#fbf5d4",params:{}},lightPosition:{value:{x:30,y:30,z:0},params:{x:{step:1},y:{step:1},z:{step:1}}},emissiveColor:{value:"#000000",params:{}},FogColor:{value:"#ffffff",params:{}},FogNear:{value:0,params:{min:0,max:50,step:.01}},FogFar:{value:10,params:{min:0,max:50,step:.01}},lightPower:{value:1.3,params:{min:0,max:10,step:.01}},Alpha:{value:1,params:{min:0,max:1,step:.01}},Debug:{value:"disabled",params:{options:{disabled:"disabled",baseColor:"baseColor",metallic:"metallic",roughness:"roughness",specRef:"specRef",geomOcc:"geomOcc",mcrfctDist:"mcrfctDist",spec:"spec",mathDiff:"mathDiff"}}},OverwriteEnvIBL:{value:!1,type:"bool"},EnvIBL:{value:"placeholder",type:"input-image",input:null}},CONFIG_HALL_DOORS:{IBLDiffuseFactor:{value:1,params:{min:0,max:2,step:.01}},IBLSpecularFactor:{value:1,params:{min:0,max:2,step:.01}},Environement:{value:"env_hall_blur",params:{options:{default:"env_default",hall:"env_hall",hall_blur:"env_hall_blur",statues:"env_statues",statuesBlur:"env_statues_blur",hall_diffuse:"env_hall_diffuse"}}},EnvironementDiffuse:{value:"env_hall",params:{options:{default:"env_diffuse",hall:"env_hall",hall_blur:"env_hall_blur",statues:"env_statues",statuesBlur:"env_statues_blur",hall_diffuse:"env_hall_diffuse"}}},EnvRotationOffset:{value:.848,params:{min:0,max:1,step:.001}},lightColor:{value:"#fbf5d4",params:{}},lightPosition:{value:{x:-10,y:30,z:0},params:{x:{step:1},y:{step:1},z:{step:1}}},emissiveColor:{value:"#000000",params:{}},FogColor:{value:"#ffffff",params:{}},FogNear:{value:0,params:{min:0,max:50,step:.01}},FogFar:{value:10,params:{min:0,max:50,step:.01}},lightPower:{value:1.3,params:{min:0,max:10,step:.01}},Alpha:{value:1,params:{min:0,max:1,step:.01}},Debug:{value:"disabled",params:{options:{disabled:"disabled",baseColor:"baseColor",metallic:"metallic",roughness:"roughness",specRef:"specRef",geomOcc:"geomOcc",mcrfctDist:"mcrfctDist",spec:"spec",mathDiff:"mathDiff"}}},OverwriteEnvIBL:{value:!1,type:"bool"},EnvIBL:{value:"placeholder",type:"input-image",input:null}}};ze.addBlade(Sr.CONFIG_ENTRANCE,"PBR_CONFIG_ENTRANCE",0);ze.addBlade(Sr.CONFIG_HALL,"PBR_CONFIG_HALL",0);ze.addBlade(Sr.CONFIG_HALL_DOORS,"PBR_HALL_CONFIG_DOORS",0);function ds(n,e){if(!n)throw new Error(e||"loader assertion failed.")}const sa=Boolean(typeof process!="object"||String(process)!=="[object process]"||process.browser),vv=typeof process!="undefined"&&process.version&&/v([0-9]*)/.exec(process.version);vv&&parseFloat(vv[1]);const KP="3.2.4";function ji(n,e){if(!n)throw new Error(e||"loaders.gl assertion failed.")}const If={self:typeof self!="undefined"&&self,window:typeof window!="undefined"&&window,global:typeof global!="undefined"&&global,document:typeof document!="undefined"&&document},JP=If.global||If.self||If.window||{},ra=typeof process!="object"||String(process)!=="[object process]"||process.browser,V0=typeof importScripts=="function",XP=typeof window!="undefined"&&typeof window.orientation!="undefined",bv=typeof process!="undefined"&&process.version&&/v([0-9]*)/.exec(process.version);bv&&parseFloat(bv[1]);function Be(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}class ZP{constructor(e,t){Be(this,"name",void 0),Be(this,"workerThread",void 0),Be(this,"isRunning",!0),Be(this,"result",void 0),Be(this,"_resolve",()=>{}),Be(this,"_reject",()=>{}),this.name=e,this.workerThread=t,this.result=new Promise((i,s)=>{this._resolve=i,this._reject=s})}postMessage(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}done(e){ji(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){ji(this.isRunning),this.isRunning=!1,this._reject(e)}}class Rf{}const kf=new Map;function QP(n){ji(n.source&&!n.url||!n.source&&n.url);let e=kf.get(n.source||n.url);return e||(n.url&&(e=YP(n.url),kf.set(n.url,e)),n.source&&(e=Ay(n.source),kf.set(n.source,e))),ji(e),e}function YP(n){if(!n.startsWith("http"))return n;const e=eF(n);return Ay(e)}function Ay(n){const e=new Blob([n],{type:"application/javascript"});return URL.createObjectURL(e)}function eF(n){return`try {
  importScripts('`.concat(n,`');
} catch (error) {
  console.error(error);
  throw error;
}`)}function Dy(n,e=!0,t){const i=t||new Set;if(n){if(yv(n))i.add(n);else if(yv(n.buffer))i.add(n.buffer);else if(!ArrayBuffer.isView(n)){if(e&&typeof n=="object")for(const s in n)Dy(n[s],e,i)}}return t===void 0?Array.from(i):[]}function yv(n){return n?n instanceof ArrayBuffer||typeof MessagePort!="undefined"&&n instanceof MessagePort||typeof ImageBitmap!="undefined"&&n instanceof ImageBitmap||typeof OffscreenCanvas!="undefined"&&n instanceof OffscreenCanvas:!1}const Of=()=>{};class i1{static isSupported(){return typeof Worker!="undefined"&&ra||typeof Rf!==void 0}constructor(e){Be(this,"name",void 0),Be(this,"source",void 0),Be(this,"url",void 0),Be(this,"terminated",!1),Be(this,"worker",void 0),Be(this,"onMessage",void 0),Be(this,"onError",void 0),Be(this,"_loadableURL","");const{name:t,source:i,url:s}=e;ji(i||s),this.name=t,this.source=i,this.url=s,this.onMessage=Of,this.onError=r=>console.log(r),this.worker=ra?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=Of,this.onError=Of,this.worker.terminate(),this.terminated=!0}get isRunning(){return Boolean(this.onMessage)}postMessage(e,t){t=t||Dy(e),this.worker.postMessage(e,t)}_getErrorFromErrorEvent(e){let t="Failed to load ";return t+="worker ".concat(this.name," from ").concat(this.url,". "),e.message&&(t+="".concat(e.message," in ")),e.lineno&&(t+=":".concat(e.lineno,":").concat(e.colno)),new Error(t)}_createBrowserWorker(){this._loadableURL=QP({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=t=>{t.data?this.onMessage(t.data):this.onError(new Error("No data received"))},e.onerror=t=>{this.onError(this._getErrorFromErrorEvent(t)),this.terminated=!0},e.onmessageerror=t=>console.error(t),e}_createNodeWorker(){let e;if(this.url){const i=this.url.includes(":/")||this.url.startsWith("/")?this.url:"./".concat(this.url);e=new Rf(i,{eval:!1})}else if(this.source)e=new Rf(this.source,{eval:!0});else throw new Error("no worker");return e.on("message",t=>{this.onMessage(t)}),e.on("error",t=>{this.onError(t)}),e.on("exit",t=>{}),e}}class tF{static isSupported(){return i1.isSupported()}constructor(e){Be(this,"name","unnamed"),Be(this,"source",void 0),Be(this,"url",void 0),Be(this,"maxConcurrency",1),Be(this,"maxMobileConcurrency",1),Be(this,"onDebug",()=>{}),Be(this,"reuseWorkers",!0),Be(this,"props",{}),Be(this,"jobQueue",[]),Be(this,"idleQueue",[]),Be(this,"count",0),Be(this,"isDestroyed",!1),this.source=e.source,this.url=e.url,this.setProps(e)}destroy(){this.idleQueue.forEach(e=>e.destroy()),this.isDestroyed=!0}setProps(e){this.props=et(et({},this.props),e),e.name!==void 0&&(this.name=e.name),e.maxConcurrency!==void 0&&(this.maxConcurrency=e.maxConcurrency),e.maxMobileConcurrency!==void 0&&(this.maxMobileConcurrency=e.maxMobileConcurrency),e.reuseWorkers!==void 0&&(this.reuseWorkers=e.reuseWorkers),e.onDebug!==void 0&&(this.onDebug=e.onDebug)}async startJob(e,t=(s,r,o)=>s.done(o),i=(s,r)=>s.error(r)){const s=new Promise(r=>(this.jobQueue.push({name:e,onMessage:t,onError:i,onStart:r}),this));return this._startQueuedJob(),await s}async _startQueuedJob(){if(!this.jobQueue.length)return;const e=this._getAvailableWorker();if(!e)return;const t=this.jobQueue.shift();if(t){this.onDebug({message:"Starting job",name:t.name,workerThread:e,backlog:this.jobQueue.length});const i=new ZP(t.name,e);e.onMessage=s=>t.onMessage(i,s.type,s.payload),e.onError=s=>t.onError(i,s),t.onStart(i);try{await i.result}finally{this.returnWorkerToQueue(e)}}}returnWorkerToQueue(e){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new i1({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return XP?this.maxMobileConcurrency:this.maxConcurrency}}const nF={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class ts{static isSupported(){return i1.isSupported()}static getWorkerFarm(e={}){return ts._workerFarm=ts._workerFarm||new ts({}),ts._workerFarm.setProps(e),ts._workerFarm}constructor(e){Be(this,"props",void 0),Be(this,"workerPools",new Map),this.props=et({},nF),this.setProps(e),this.workerPools=new Map}destroy(){for(const e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props=et(et({},this.props),e);for(const t of this.workerPools.values())t.setProps(this._getWorkerPoolProps())}getWorkerPool(e){const{name:t,source:i,url:s}=e;let r=this.workerPools.get(t);return r||(r=new tF({name:t,source:i,url:s}),r.setProps(this._getWorkerPoolProps()),this.workerPools.set(t,r)),r}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}Be(ts,"_workerFarm",void 0);const iF="latest";function sF(n,e={}){const t=e[n.id]||{},i="".concat(n.id,"-worker.js");let s=t.workerUrl;if(!s&&n.id==="compression"&&(s=e.workerUrl),e._workerType==="test"&&(s="modules/".concat(n.module,"/dist/").concat(i)),!s){let r=n.version;r==="latest"&&(r=iF);const o=r?"@".concat(r):"";s="https://unpkg.com/@loaders.gl/".concat(n.module).concat(o,"/dist/").concat(i)}return ji(s),s}function rF(n,e=KP){ji(n,"no worker provided");const t=n.version;return!(!e||!t)}var oF={},aF=Object.freeze(Object.defineProperty({__proto__:null,default:oF},Symbol.toStringTag,{value:"Module"}));const lF="3.2.4",Nf={};async function Vr(n,e=null,t={}){return e&&(n=cF(n,e,t)),Nf[n]=Nf[n]||uF(n),await Nf[n]}function cF(n,e,t){if(n.startsWith("http"))return n;const i=t.modules||{};return i[n]?i[n]:ra?t.CDN?(ji(t.CDN.startsWith("http")),"".concat(t.CDN,"/").concat(e,"@").concat(lF,"/dist/libs/").concat(n)):V0?"../src/libs/".concat(n):"modules/".concat(e,"/src/libs/").concat(n):"modules/".concat(e,"/dist/libs/").concat(n)}async function uF(n){if(n.endsWith("wasm"))return await(await fetch(n)).arrayBuffer();if(!ra)try{return aF&&void 0}catch{return null}if(V0)return importScripts(n);const t=await(await fetch(n)).text();return hF(t,n)}function hF(n,e){if(!ra)return;if(V0)return eval.call(JP,n),null;const t=document.createElement("script");t.id=e;try{t.appendChild(document.createTextNode(n))}catch{t.text=n}return document.body.appendChild(t),null}function dF(n,e){return!ts.isSupported()||!ra&&!(e!=null&&e._nodeWorkers)?!1:n.worker&&(e==null?void 0:e.worker)}async function fF(n,e,t,i,s){const r=n.id,o=sF(n,t),c=ts.getWorkerFarm(t).getWorkerPool({name:r,url:o});t=JSON.parse(JSON.stringify(t)),i=JSON.parse(JSON.stringify(i||{}));const u=await c.startJob("process-on-worker",pF.bind(null,s));return u.postMessage("process",{input:e,options:t,context:i}),await(await u.result).result}async function pF(n,e,t,i){switch(t){case"done":e.done(i);break;case"error":e.error(new Error(i.error));break;case"process":const{id:s,input:r,options:o}=i;try{const a=await n(r,o);e.postMessage("done",{id:s,result:a})}catch(a){const c=a instanceof Error?a.message:"unknown error";e.postMessage("error",{id:s,error:c})}break;default:console.warn("parse-with-worker unknown message ".concat(t))}}function mF(n,e=5){return typeof n=="string"?n.slice(0,e):ArrayBuffer.isView(n)?wv(n.buffer,n.byteOffset,e):n instanceof ArrayBuffer?wv(n,0,e):""}function wv(n,e,t){if(n.byteLength<=e+t)return"";const i=new DataView(n);let s="";for(let r=0;r<t;r++)s+=String.fromCharCode(i.getUint8(e+r));return s}function _F(n){try{return JSON.parse(n)}catch{throw new Error('Failed to parse JSON from data starting with "'.concat(mF(n),'"'))}}function Sy(n){return n&&typeof n=="object"&&n.isBuffer}function gF(n){return Sy(n)?new Uint8Array(n.buffer,n.byteOffset,n.length).slice().buffer:n}function Ty(n){if(Sy(n))return gF(n);if(n instanceof ArrayBuffer)return n;if(ArrayBuffer.isView(n))return n.byteOffset===0&&n.byteLength===n.buffer.byteLength?n.buffer:n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength);if(typeof n=="string"){const e=n;return new TextEncoder().encode(e).buffer}if(n&&typeof n=="object"&&n._toArrayBuffer)return n._toArrayBuffer();throw new Error("toArrayBuffer")}function vF(n,e,t){if(t=t||n.byteLength,n.byteLength<t||e.byteLength<t)return!1;const i=new Uint8Array(n),s=new Uint8Array(e);for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}function bF(...n){const e=n.map(r=>r instanceof ArrayBuffer?new Uint8Array(r):r),t=e.reduce((r,o)=>r+o.byteLength,0),i=new Uint8Array(t);let s=0;for(const r of e)i.set(r,s),s+=r.byteLength;return i.buffer}function My(n,e,t){const i=t!==void 0?new Uint8Array(n).subarray(e,e+t):new Uint8Array(n).subarray(e);return new Uint8Array(i).buffer}function hc(n,e){return ds(n>=0),ds(e>0),n+(e-1)&~(e-1)}function yF(n,e,t){let i;if(n instanceof ArrayBuffer)i=new Uint8Array(n);else{const s=n.byteOffset,r=n.byteLength;i=new Uint8Array(n.buffer||n.arrayBuffer,s,r)}return e.set(i,t),t+hc(i.byteLength,4)}async function wF(n){const e=[];for await(const t of n)e.push(t);return bF(...e)}let CF="";const Cv={};function xF(n){for(const e in Cv)if(n.startsWith(e)){const t=Cv[e];n=n.replace(e,t)}return!n.startsWith("http://")&&!n.startsWith("https://")&&(n="".concat(CF).concat(n)),n}function EF(n){const e=n&&n.lastIndexOf("/");return e>=0?n.substr(e+1):""}const AF=n=>typeof n=="boolean",Pl=n=>typeof n=="function",dc=n=>n!==null&&typeof n=="object",xv=n=>dc(n)&&n.constructor==={}.constructor,DF=n=>n&&typeof n[Symbol.iterator]=="function",SF=n=>n&&typeof n[Symbol.asyncIterator]=="function",ga=n=>typeof Response!="undefined"&&n instanceof Response||n&&n.arrayBuffer&&n.text&&n.json,va=n=>typeof Blob!="undefined"&&n instanceof Blob,TF=n=>n&&typeof n=="object"&&n.isBuffer,MF=n=>typeof ReadableStream!="undefined"&&n instanceof ReadableStream||dc(n)&&Pl(n.tee)&&Pl(n.cancel)&&Pl(n.getReader),BF=n=>dc(n)&&Pl(n.read)&&Pl(n.pipe)&&AF(n.readable),By=n=>MF(n)||BF(n),PF=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,FF=/^([-\w.]+\/[-\w.+]+)/;function LF(n){const e=FF.exec(n);return e?e[1]:n}function Ev(n){const e=PF.exec(n);return e?e[1]:""}const IF=/\?.*/;function Vh(n){if(ga(n)){const e=Vf(n.url||""),t=n.headers.get("content-type")||"";return{url:e,type:LF(t)||Ev(e)}}return va(n)?{url:Vf(n.name||""),type:n.type||""}:typeof n=="string"?{url:Vf(n),type:Ev(n)}:{url:"",type:""}}function RF(n){return ga(n)?n.headers["content-length"]||-1:va(n)?n.size:typeof n=="string"?n.length:n instanceof ArrayBuffer||ArrayBuffer.isView(n)?n.byteLength:-1}function Vf(n){return n.replace(IF,"")}async function Py(n){if(ga(n))return n;const e={},t=RF(n);t>=0&&(e["content-length"]=String(t));const{url:i,type:s}=Vh(n);s&&(e["content-type"]=s);const r=await NF(n);r&&(e["x-first-bytes"]=r),typeof n=="string"&&(n=new TextEncoder().encode(n));const o=new Response(n,{headers:e});return Object.defineProperty(o,"url",{value:i}),o}async function kF(n){if(!n.ok){const e=await OF(n);throw new Error(e)}}async function OF(n){let e="Failed to fetch resource ".concat(n.url," (").concat(n.status,"): ");try{const t=n.headers.get("Content-Type");let i=n.statusText;t.includes("application/json")&&(i+=" ".concat(await n.text())),e+=i,e=e.length>60?"".concat(e.slice(0,60),"..."):e}catch{}return e}async function NF(n){if(typeof n=="string")return"data:,".concat(n.slice(0,5));if(n instanceof Blob){const t=n.slice(0,5);return await new Promise(i=>{const s=new FileReader;s.onload=r=>{var o;return i(r==null||(o=r.target)===null||o===void 0?void 0:o.result)},s.readAsDataURL(t)})}if(n instanceof ArrayBuffer){const t=n.slice(0,5),i=VF(t);return"data:base64,".concat(i)}return null}function VF(n){let e="";const t=new Uint8Array(n);for(let i=0;i<t.byteLength;i++)e+=String.fromCharCode(t[i]);return btoa(e)}async function Av(n,e){if(typeof n=="string"){n=xF(n);let t=e;return e!=null&&e.fetch&&typeof(e==null?void 0:e.fetch)!="function"&&(t=e.fetch),await fetch(n,t)}return await Py(n)}function HF(n){if(typeof window!="undefined"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process!="undefined"&&typeof process.versions=="object"&&Boolean(process.versions.electron))return!0;const e=typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent,t=n||e;return!!(t&&t.indexOf("Electron")>=0)}function fc(){return!(typeof process=="object"&&String(process)==="[object process]"&&!process.browser)||HF()}const wu={self:typeof self!="undefined"&&self,window:typeof window!="undefined"&&window,global:typeof global!="undefined"&&global,document:typeof document!="undefined"&&document,process:typeof process=="object"&&process},du=wu.window||wu.self||wu.global,rl=wu.process||{},Fy=typeof __VERSION__!="undefined"?__VERSION__:"untranspiled source";fc();function zF(n){try{const e=window[n],t="__storage_test__";return e.setItem(t,t),e.removeItem(t),e}catch{return null}}class UF{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"sessionStorage";Be(this,"storage",void 0),Be(this,"id",void 0),Be(this,"config",{}),this.storage=zF(i),this.id=e,this.config={},Object.assign(this.config,t),this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){return this.config={},this.updateConfiguration(e)}updateConfiguration(e){if(Object.assign(this.config,e),this.storage){const t=JSON.stringify(this.config);this.storage.setItem(this.id,t)}return this}_loadConfiguration(){let e={};if(this.storage){const t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}function GF(n){let e;return n<10?e="".concat(n.toFixed(2),"ms"):n<100?e="".concat(n.toFixed(1),"ms"):n<1e3?e="".concat(n.toFixed(0),"ms"):e="".concat((n/1e3).toFixed(2),"s"),e}function $F(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8;const t=Math.max(e-n.length,0);return"".concat(" ".repeat(t)).concat(n)}function Hf(n,e,t){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:600;const s=n.src.replace(/\(/g,"%28").replace(/\)/g,"%29");n.width>i&&(t=Math.min(t,i/n.width));const r=n.width*t,o=n.height*t,a=["font-size:1px;","padding:".concat(Math.floor(o/2),"px ").concat(Math.floor(r/2),"px;"),"line-height:".concat(o,"px;"),"background:url(".concat(s,");"),"background-size:".concat(r,"px ").concat(o,"px;"),"color:transparent;"].join("");return["".concat(e," %c+"),a]}let ah;(function(n){n[n.BLACK=30]="BLACK",n[n.RED=31]="RED",n[n.GREEN=32]="GREEN",n[n.YELLOW=33]="YELLOW",n[n.BLUE=34]="BLUE",n[n.MAGENTA=35]="MAGENTA",n[n.CYAN=36]="CYAN",n[n.WHITE=37]="WHITE",n[n.BRIGHT_BLACK=90]="BRIGHT_BLACK",n[n.BRIGHT_RED=91]="BRIGHT_RED",n[n.BRIGHT_GREEN=92]="BRIGHT_GREEN",n[n.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",n[n.BRIGHT_BLUE=94]="BRIGHT_BLUE",n[n.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",n[n.BRIGHT_CYAN=96]="BRIGHT_CYAN",n[n.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(ah||(ah={}));function Dv(n){return typeof n=="string"?ah[n.toUpperCase()]||ah.WHITE:n}function WF(n,e,t){return!fc&&typeof n=="string"&&(e&&(e=Dv(e),n="\x1B[".concat(e,"m").concat(n,"\x1B[39m")),t&&(e=Dv(t),n="\x1B[".concat(t+10,"m").concat(n,"\x1B[49m"))),n}function jF(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["constructor"];const t=Object.getPrototypeOf(n),i=Object.getOwnPropertyNames(t);for(const s of i)typeof n[s]=="function"&&(e.find(r=>s===r)||(n[s]=n[s].bind(n)))}function lh(n,e){if(!n)throw new Error(e||"Assertion failed")}function yo(){let n;if(fc&&"performance"in du){var e,t;n=du==null||(e=du.performance)===null||e===void 0||(t=e.now)===null||t===void 0?void 0:t.call(e)}else if("hrtime"in rl){var i;const s=rl==null||(i=rl.hrtime)===null||i===void 0?void 0:i.call(rl);n=s[0]*1e3+s[1]/1e6}else n=Date.now();return n}const wo={debug:fc&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},qF={enabled:!0,level:0};function ti(){}const Sv={},Tv={once:!0};class H0{constructor(){let{id:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{id:""};Be(this,"id",void 0),Be(this,"VERSION",Fy),Be(this,"_startTs",yo()),Be(this,"_deltaTs",yo()),Be(this,"_storage",void 0),Be(this,"userData",{}),Be(this,"LOG_THROTTLE_TIMEOUT",0),this.id=e,this._storage=new UF("__probe-".concat(this.id,"__"),qF),this.userData={},this.timeStamp("".concat(this.id," started")),jF(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((yo()-this._startTs).toPrecision(10))}getDelta(){return Number((yo()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this._storage.updateConfiguration({enabled:e}),this}setLevel(e){return this._storage.updateConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,t){this._storage.updateConfiguration({[e]:t})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,t){lh(e,t)}warn(e){return this._getLogFunction(0,e,wo.warn,arguments,Tv)}error(e){return this._getLogFunction(0,e,wo.error,arguments)}deprecated(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}removed(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}probe(e,t){return this._getLogFunction(e,t,wo.log,arguments,{time:!0,once:!0})}log(e,t){return this._getLogFunction(e,t,wo.debug,arguments)}info(e,t){return this._getLogFunction(e,t,console.info,arguments)}once(e,t){for(var i=arguments.length,s=new Array(i>2?i-2:0),r=2;r<i;r++)s[r-2]=arguments[r];return this._getLogFunction(e,t,wo.debug||wo.info,arguments,Tv)}table(e,t,i){return t?this._getLogFunction(e,t,console.table||ti,i&&[i],{tag:ZF(t)}):ti}image(e){let{logLevel:t,priority:i,image:s,message:r="",scale:o=1}=e;return this._shouldLog(t||i)?fc?XF({image:s,message:r,scale:o}):JF({image:s,message:r,scale:o}):ti}time(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}timeEnd(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,t){return this._getLogFunction(e,t,console.timeStamp||ti)}group(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{collapsed:!1};const s=Mv({logLevel:e,message:t,opts:i}),{collapsed:r}=i;return s.method=(r?console.groupCollapsed:console.group)||console.info,this._getLogFunction(s)}groupCollapsed(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.group(e,t,Object.assign({},i,{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||ti)}withGroup(e,t,i){this.group(e,t)();try{i()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=Ly(e)}_getLogFunction(e,t,i,s,r){if(this._shouldLog(e)){r=Mv({logLevel:e,message:t,args:s,opts:r}),i=i||r.method,lh(i),r.total=this.getTotal(),r.delta=this.getDelta(),this._deltaTs=yo();const o=r.tag||r.message;if(r.once)if(!Sv[o])Sv[o]=yo();else return ti;return t=KF(this.id,r.message,r),i.bind(console,t,...r.args)}return ti}}Be(H0,"VERSION",Fy);function Ly(n){if(!n)return 0;let e;switch(typeof n){case"number":e=n;break;case"object":e=n.logLevel||n.priority||0;break;default:return 0}return lh(Number.isFinite(e)&&e>=0),e}function Mv(n){const{logLevel:e,message:t}=n;n.logLevel=Ly(e);const i=n.args?Array.from(n.args):[];for(;i.length&&i.shift()!==t;);switch(typeof e){case"string":case"function":t!==void 0&&i.unshift(t),n.message=e;break;case"object":Object.assign(n,e);break}typeof n.message=="function"&&(n.message=n.message());const s=typeof n.message;return lh(s==="string"||s==="object"),Object.assign(n,{args:i},n.opts)}function KF(n,e,t){if(typeof e=="string"){const i=t.time?$F(GF(t.total)):"";e=t.time?"".concat(n,": ").concat(i,"  ").concat(e):"".concat(n,": ").concat(e),e=WF(e,t.color,t.background)}return e}function JF(n){let{image:e,message:t="",scale:i=1}=n,s=null;try{s=V4.require("asciify-image")}catch{}return s?()=>s(e,{fit:"box",width:"".concat(Math.round(80*i),"%")}).then(r=>console.log(r)):ti}function XF(n){let{image:e,message:t="",scale:i=1}=n;if(typeof e=="string"){const r=new Image;return r.onload=()=>{const o=Hf(r,t,i);console.log(...o)},r.src=e,ti}const s=e.nodeName||"";if(s.toLowerCase()==="img")return console.log(...Hf(e,t,i)),ti;if(s.toLowerCase()==="canvas"){const r=new Image;return r.onload=()=>console.log(...Hf(r,t,i)),r.src=e.toDataURL(),ti}return ti}function ZF(n){for(const e in n)for(const t in n[e])return t||"untitled";return"empty"}const Bv=new H0({id:"loaders.gl"});class QF{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}class YF{constructor(){Be(this,"console",void 0),this.console=console}log(...e){return this.console.log.bind(this.console,...e)}info(...e){return this.console.info.bind(this.console,...e)}warn(...e){return this.console.warn.bind(this.console,...e)}error(...e){return this.console.error.bind(this.console,...e)}}const Iy={fetch:null,mimeType:void 0,nothrow:!1,log:new YF,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:sa,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},eL={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function Ry(){globalThis.loaders=globalThis.loaders||{};const{loaders:n}=globalThis;return n._state=n._state||{},n._state}const ky=()=>{const n=Ry();return n.globalOptions=n.globalOptions||et({},Iy),n.globalOptions};function tL(n,e,t,i){return t=t||[],t=Array.isArray(t)?t:[t],nL(n,t),sL(e,n,i)}function Oy(n,e){const t=ky(),i=n||t;return typeof i.fetch=="function"?i.fetch:dc(i.fetch)?s=>Av(s,i):e!=null&&e.fetch?e==null?void 0:e.fetch:Av}function nL(n,e){Pv(n,null,Iy,eL,e);for(const t of e){const i=n&&n[t.id]||{},s=t.options&&t.options[t.id]||{},r=t.deprecatedOptions&&t.deprecatedOptions[t.id]||{};Pv(i,t.id,s,r,e)}}function Pv(n,e,t,i,s){const r=e||"Top level",o=e?"".concat(e,"."):"";for(const a in n){const c=!e&&dc(n[a]),u=a==="baseUri"&&!e,h=a==="workerUrl"&&e;if(!(a in t)&&!u&&!h){if(a in i)Bv.warn("".concat(r," loader option '").concat(o).concat(a,"' no longer supported, use '").concat(i[a],"'"))();else if(!c){const f=iL(a,s);Bv.warn("".concat(r," loader option '").concat(o).concat(a,"' not recognized. ").concat(f))()}}}}function iL(n,e){const t=n.toLowerCase();let i="";for(const s of e)for(const r in s.options){if(n===r)return"Did you mean '".concat(s.id,".").concat(r,"'?");const o=r.toLowerCase();(t.startsWith(o)||o.startsWith(t))&&(i=i||"Did you mean '".concat(s.id,".").concat(r,"'?"))}return i}function sL(n,e,t){const i=n.options||{},s=et({},i);return rL(s,t),s.log===null&&(s.log=new QF),Fv(s,ky()),Fv(s,e),s}function Fv(n,e){for(const t in e)if(t in e){const i=e[t];xv(i)&&xv(n[t])?n[t]=et(et({},n[t]),e[t]):n[t]=e[t]}}function rL(n,e){e&&!("baseUri"in n)&&(n.baseUri=e)}function z0(n){var e;return n?(Array.isArray(n)&&(n=n[0]),Array.isArray((e=n)===null||e===void 0?void 0:e.extensions)):!1}function Ny(n){var e,t;ds(n,"null loader"),ds(z0(n),"invalid loader");let i;return Array.isArray(n)&&(i=n[1],n=n[0],n=bi(et({},n),{options:et(et({},n.options),i)})),((e=n)!==null&&e!==void 0&&e.parseTextSync||(t=n)!==null&&t!==void 0&&t.parseText)&&(n.text=!0),n.text||(n.binary=!0),n}const oL=()=>{const n=Ry();return n.loaderRegistry=n.loaderRegistry||[],n.loaderRegistry};function aL(){return oL()}const lL=new H0({id:"loaders.gl"}),cL=/\.([^.]+)$/;async function uL(n,e=[],t,i){if(!Vy(n))return null;let s=Lv(n,e,bi(et({},t),{nothrow:!0}),i);if(s)return s;if(va(n)&&(n=await n.slice(0,10).arrayBuffer(),s=Lv(n,e,t,i)),!s&&!(t!=null&&t.nothrow))throw new Error(Hy(n));return s}function Lv(n,e=[],t,i){if(!Vy(n))return null;if(e&&!Array.isArray(e))return Ny(e);let s=[];e&&(s=s.concat(e)),t!=null&&t.ignoreRegisteredLoaders||s.push(...aL()),dL(s);const r=hL(n,s,t,i);if(!r&&!(t!=null&&t.nothrow))throw new Error(Hy(n));return r}function hL(n,e,t,i){const{url:s,type:r}=Vh(n),o=s||(i==null?void 0:i.url);let a=null,c="";if(t!=null&&t.mimeType&&(a=zf(e,t==null?void 0:t.mimeType),c="match forced by supplied MIME type ".concat(t==null?void 0:t.mimeType)),a=a||fL(e,o),c=c||(a?"matched url ".concat(o):""),a=a||zf(e,r),c=c||(a?"matched MIME type ".concat(r):""),a=a||mL(e,n),c=c||(a?"matched initial data ".concat(zy(n)):""),a=a||zf(e,t==null?void 0:t.fallbackMimeType),c=c||(a?"matched fallback MIME type ".concat(r):""),c){var u;lL.log(1,"selectLoader selected ".concat((u=a)===null||u===void 0?void 0:u.name,": ").concat(c,"."))}return a}function Vy(n){return!(n instanceof Response&&n.status===204)}function Hy(n){const{url:e,type:t}=Vh(n);let i="No valid loader found (";i+=e?"".concat(EF(e),", "):"no url provided, ",i+="MIME type: ".concat(t?'"'.concat(t,'"'):"not provided",", ");const s=n?zy(n):"";return i+=s?' first bytes: "'.concat(s,'"'):"first bytes: not available",i+=")",i}function dL(n){for(const e of n)Ny(e)}function fL(n,e){const t=e&&cL.exec(e),i=t&&t[1];return i?pL(n,i):null}function pL(n,e){e=e.toLowerCase();for(const t of n)for(const i of t.extensions)if(i.toLowerCase()===e)return t;return null}function zf(n,e){for(const t of n)if(t.mimeTypes&&t.mimeTypes.includes(e)||e==="application/x.".concat(t.id))return t;return null}function mL(n,e){if(!e)return null;for(const t of n)if(typeof e=="string"){if(_L(e,t))return t}else if(ArrayBuffer.isView(e)){if(Iv(e.buffer,e.byteOffset,t))return t}else if(e instanceof ArrayBuffer&&Iv(e,0,t))return t;return null}function _L(n,e){return e.testText?e.testText(n):(Array.isArray(e.tests)?e.tests:[e.tests]).some(i=>n.startsWith(i))}function Iv(n,e,t){return(Array.isArray(t.tests)?t.tests:[t.tests]).some(s=>gL(n,e,t,s))}function gL(n,e,t,i){if(i instanceof ArrayBuffer)return vF(i,n,i.byteLength);switch(typeof i){case"function":return i(n,t);case"string":const s=s1(n,e,i.length);return i===s;default:return!1}}function zy(n,e=5){return typeof n=="string"?n.slice(0,e):ArrayBuffer.isView(n)?s1(n.buffer,n.byteOffset,e):n instanceof ArrayBuffer?s1(n,0,e):""}function s1(n,e,t){if(n.byteLength<e+t)return"";const i=new DataView(n);let s="";for(let r=0;r<t;r++)s+=String.fromCharCode(i.getUint8(e+r));return s}const vL=256*1024;function*bL(n,e){const t=(e==null?void 0:e.chunkSize)||vL;let i=0;const s=new TextEncoder;for(;i<n.length;){const r=Math.min(n.length-i,t),o=n.slice(i,i+r);i+=r,yield s.encode(o)}}const yL=256*1024;function*wL(n,e={}){const{chunkSize:t=yL}=e;let i=0;for(;i<n.byteLength;){const s=Math.min(n.byteLength-i,t),r=new ArrayBuffer(s),o=new Uint8Array(n,i,s);new Uint8Array(r).set(o),i+=s,yield r}}const CL=1024*1024;async function*xL(n,e){const t=(e==null?void 0:e.chunkSize)||CL;let i=0;for(;i<n.size;){const s=i+t,r=await n.slice(i,s).arrayBuffer();i=s,yield r}}function Rv(n,e){return sa?EL(n,e):AL(n)}async function*EL(n,e){const t=n.getReader();let i;try{for(;;){const s=i||t.read();e!=null&&e._streamReadAhead&&(i=t.read());const{done:r,value:o}=await s;if(r)return;yield Ty(o)}}catch{t.releaseLock()}}async function*AL(n,e){for await(const t of n)yield Ty(t)}function DL(n,e){if(typeof n=="string")return bL(n,e);if(n instanceof ArrayBuffer)return wL(n,e);if(va(n))return xL(n,e);if(By(n))return Rv(n,e);if(ga(n))return Rv(n.body,e);throw new Error("makeIterator")}const Uy="Cannot convert supplied data type";function SL(n,e,t){if(e.text&&typeof n=="string")return n;if(TF(n)&&(n=n.buffer),n instanceof ArrayBuffer){const i=n;return e.text&&!e.binary?new TextDecoder("utf8").decode(i):i}if(ArrayBuffer.isView(n)){if(e.text&&!e.binary)return new TextDecoder("utf8").decode(n);let i=n.buffer;const s=n.byteLength||n.length;return(n.byteOffset!==0||s!==i.byteLength)&&(i=i.slice(n.byteOffset,n.byteOffset+s)),i}throw new Error(Uy)}async function TL(n,e,t){const i=n instanceof ArrayBuffer||ArrayBuffer.isView(n);if(typeof n=="string"||i)return SL(n,e);if(va(n)&&(n=await Py(n)),ga(n)){const s=n;return await kF(s),e.binary?await s.arrayBuffer():await s.text()}if(By(n)&&(n=DL(n,t)),DF(n)||SF(n))return wF(n);throw new Error(Uy)}function ML(n,e,t=null){if(t)return t;const i=et({fetch:Oy(e,n)},n);return Array.isArray(i.loaders)||(i.loaders=null),i}function BL(n,e){if(!e&&n&&!Array.isArray(n))return n;let t;if(n&&(t=Array.isArray(n)?n:[n]),e&&e.loaders){const i=Array.isArray(e.loaders)?e.loaders:[e.loaders];t=t?[...t,...i]:i}return t&&t.length?t:null}async function U0(n,e,t,i){ji(!i||typeof i=="object"),e&&!Array.isArray(e)&&!z0(e)&&(i=void 0,t=e,e=void 0),n=await n,t=t||{};const{url:s}=Vh(n),o=BL(e,i),a=await uL(n,o,t);return a?(t=tL(t,a,o,s),i=ML({url:s,parse:U0,loaders:o},t,i),await PL(a,n,t,i)):null}async function PL(n,e,t,i){if(rF(n),ga(e)){const s=e,{ok:r,redirected:o,status:a,statusText:c,type:u,url:h}=s,f=Object.fromEntries(s.headers.entries());i.response={headers:f,ok:r,redirected:o,status:a,statusText:c,type:u,url:h}}if(e=await TL(e,n,t),n.parseTextSync&&typeof e=="string")return t.dataType="text",n.parseTextSync(e,t,i,n);if(dF(n,t))return await fF(n,e,t,i,U0);if(n.parseText&&typeof e=="string")return await n.parseText(e,t,i,n);if(n.parse)return await n.parse(e,t,i,n);throw ji(!n.parseSync),new Error("".concat(n.id," loader - no parser found and worker is disabled"))}async function kv(n,e,t,i){!Array.isArray(e)&&!z0(e)&&(t=e,e=void 0);const s=Oy(t);let r=n;return typeof n=="string"&&(r=await s(n)),va(n)&&(r=await s(n)),await U0(r,e,t)}const Gy="3.2.4",FL="3.2.4",$y="3.2.4",LL="https://unpkg.com/@loaders.gl/textures@".concat($y,"/dist/libs/basis_encoder.wasm"),IL="https://unpkg.com/@loaders.gl/textures@".concat($y,"/dist/libs/basis_encoder.js");let Uf;async function Ov(n){const e=n.modules||{};return e.basis?e.basis:(Uf=Uf||RL(n),await Uf)}async function RL(n){let e=null,t=null;return[e,t]=await Promise.all([await Vr("basis_transcoder.js","textures",n),await Vr("basis_transcoder.wasm","textures",n)]),e=e||globalThis.BASIS,await kL(e,t)}function kL(n,e){const t={};return e&&(t.wasmBinary=e),new Promise(i=>{n(t).then(s=>{const{BasisFile:r,initializeBasis:o}=s;o(),i({BasisFile:r})})})}let Gf;async function Nv(n){const e=n.modules||{};return e.basisEncoder?e.basisEncoder:(Gf=Gf||OL(n),await Gf)}async function OL(n){let e=null,t=null;return[e,t]=await Promise.all([await Vr(IL,"textures",n),await Vr(LL,"textures",n)]),e=e||globalThis.BASIS,await NL(e,t)}function NL(n,e){const t={};return e&&(t.wasmBinary=e),new Promise(i=>{n(t).then(s=>{const{BasisFile:r,KTX2File:o,initializeBasis:a,BasisEncoder:c}=s;a(),i({BasisFile:r,KTX2File:o,BasisEncoder:c})})})}const Co={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35987,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,COMPRESSED_RGBA_ASTC_4X4_KHR:37808,COMPRESSED_RGBA_ASTC_5X4_KHR:37809,COMPRESSED_RGBA_ASTC_5X5_KHR:37810,COMPRESSED_RGBA_ASTC_6X5_KHR:37811,COMPRESSED_RGBA_ASTC_6X6_KHR:37812,COMPRESSED_RGBA_ASTC_8X5_KHR:37813,COMPRESSED_RGBA_ASTC_8X6_KHR:37814,COMPRESSED_RGBA_ASTC_8X8_KHR:37815,COMPRESSED_RGBA_ASTC_10X5_KHR:37816,COMPRESSED_RGBA_ASTC_10X6_KHR:37817,COMPRESSED_RGBA_ASTC_10X8_KHR:37818,COMPRESSED_RGBA_ASTC_10X10_KHR:37819,COMPRESSED_RGBA_ASTC_12X10_KHR:37820,COMPRESSED_RGBA_ASTC_12X12_KHR:37821,COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR:37840,COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR:37841,COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR:37842,COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR:37843,COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR:37844,COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR:37845,COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR:37846,COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR:37847,COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR:37848,COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR:37849,COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR:37850,COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR:37851,COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR:37852,COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR:37853,COMPRESSED_RED_RGTC1_EXT:36283,COMPRESSED_SIGNED_RED_RGTC1_EXT:36284,COMPRESSED_RED_GREEN_RGTC2_EXT:36285,COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT:36286,COMPRESSED_SRGB_S3TC_DXT1_EXT:35916,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT:35917,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT:35918,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT:35919},VL=["","WEBKIT_","MOZ_"],Vv={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"};let fu=null;function HL(n){if(!fu){n=n||zL()||void 0,fu=new Set;for(const e of VL)for(const t in Vv)if(n&&n.getExtension("".concat(e).concat(t))){const i=Vv[t];fu.add(i)}}return fu}function zL(){try{return document.createElement("canvas").getContext("webgl")}catch{return null}}var Hv,zv,Uv,Gv,$v,Wv,jv,qv;(function(n){n[n.NONE=0]="NONE",n[n.BASISLZ=1]="BASISLZ",n[n.ZSTD=2]="ZSTD",n[n.ZLIB=3]="ZLIB"})(Hv||(Hv={})),function(n){n[n.BASICFORMAT=0]="BASICFORMAT"}(zv||(zv={})),function(n){n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.ETC1S=163]="ETC1S",n[n.UASTC=166]="UASTC"}(Uv||(Uv={})),function(n){n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.SRGB=1]="SRGB"}(Gv||(Gv={})),function(n){n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.LINEAR=1]="LINEAR",n[n.SRGB=2]="SRGB",n[n.ITU=3]="ITU",n[n.NTSC=4]="NTSC",n[n.SLOG=5]="SLOG",n[n.SLOG2=6]="SLOG2"}($v||($v={})),function(n){n[n.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",n[n.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(Wv||(Wv={})),function(n){n[n.RGB=0]="RGB",n[n.RRR=3]="RRR",n[n.GGG=4]="GGG",n[n.AAA=15]="AAA"}(jv||(jv={})),function(n){n[n.RGB=0]="RGB",n[n.RGBA=3]="RGBA",n[n.RRR=4]="RRR",n[n.RRRG=5]="RRRG"}(qv||(qv={}));const On=[171,75,84,88,32,50,48,187,13,10,26,10];function UL(n){const e=new Uint8Array(n);return!(e.byteLength<On.length||e[0]!==On[0]||e[1]!==On[1]||e[2]!==On[2]||e[3]!==On[3]||e[4]!==On[4]||e[5]!==On[5]||e[6]!==On[6]||e[7]!==On[7]||e[8]!==On[8]||e[9]!==On[9]||e[10]!==On[10]||e[11]!==On[11])}const GL={etc1:{basisFormat:0,compressed:!0,format:Co.COMPRESSED_RGB_ETC1_WEBGL},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:Co.COMPRESSED_RGB_S3TC_DXT1_EXT},bc3:{basisFormat:3,compressed:!0,format:Co.COMPRESSED_RGBA_S3TC_DXT5_EXT},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:Co.COMPRESSED_RGB_PVRTC_4BPPV1_IMG},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:Co.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG},"astc-4x4":{basisFormat:10,compressed:!0,format:Co.COMPRESSED_RGBA_ASTC_4X4_KHR},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};async function $L(n,e){if(e.basis.containerFormat==="auto"){if(UL(n)){const i=await Nv(e);return Kv(i.KTX2File,n,e)}const{BasisFile:t}=await Ov(e);return $f(t,n,e)}switch(e.basis.module){case"encoder":const t=await Nv(e);switch(e.basis.containerFormat){case"ktx2":return Kv(t.KTX2File,n,e);case"basis":default:return $f(t.BasisFile,n,e)}case"transcoder":default:const{BasisFile:i}=await Ov(e);return $f(i,n,e)}}function $f(n,e,t){const i=new n(new Uint8Array(e));try{if(!i.startTranscoding())throw new Error("Failed to start basis transcoding");const s=i.getNumImages(),r=[];for(let o=0;o<s;o++){const a=i.getNumLevels(o),c=[];for(let u=0;u<a;u++)c.push(WL(i,o,u,t));r.push(c)}return r}finally{i.close(),i.delete()}}function WL(n,e,t,i){const s=n.getImageWidth(e,t),r=n.getImageHeight(e,t),o=n.getHasAlpha(),{compressed:a,format:c,basisFormat:u}=Wy(i,o),h=n.getImageTranscodedSizeInBytes(e,t,u),f=new Uint8Array(h);if(!n.transcodeImage(f,e,t,u,0,0))throw new Error("failed to start Basis transcoding");return{width:s,height:r,data:f,compressed:a,format:c,hasAlpha:o}}function Kv(n,e,t){const i=new n(new Uint8Array(e));try{if(!i.startTranscoding())throw new Error("failed to start KTX2 transcoding");const s=i.getLevels(),r=[];for(let o=0;o<s;o++){r.push(jL(i,o,t));break}return[r]}finally{i.close(),i.delete()}}function jL(n,e,t){const{alphaFlag:i,height:s,width:r}=n.getImageLevelInfo(e,0,0),{compressed:o,format:a,basisFormat:c}=Wy(t,i),u=n.getImageTranscodedSizeInBytes(e,0,0,c),h=new Uint8Array(u);if(!n.transcodeImage(h,e,0,0,c,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:r,height:s,data:h,compressed:o,hasAlpha:i,format:a}}function Wy(n,e){let t=n&&n.basis&&n.basis.format;return t==="auto"&&(t=jy()),typeof t=="object"&&(t=e?t.alpha:t.noAlpha),t=t.toLowerCase(),GL[t]}function jy(){const n=HL();return n.has("astc")?"astc-4x4":n.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:n.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:n.has("etc1")?"etc1":n.has("etc2")?"etc2":"rgb565"}const qL={name:"Basis",id:"basis",module:"textures",version:FL,worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}}},KL=bi(et({},qL),{parse:$L}),JL="3.2.4",{_parseImageNode:XL}=globalThis,r1=typeof Image!="undefined",o1=typeof ImageBitmap!="undefined",ZL=Boolean(XL),a1=sa?!0:ZL;function QL(n){switch(n){case"auto":return o1||r1||a1;case"imagebitmap":return o1;case"image":return r1;case"data":return a1;default:throw new Error("@loaders.gl/images: image ".concat(n," not supported in this environment"))}}function YL(){if(o1)return"imagebitmap";if(r1)return"image";if(a1)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function eI(n){const e=nI(n);if(!e)throw new Error("Not an image");return e}function tI(n){switch(eI(n)){case"data":return n;case"image":case"imagebitmap":const e=document.createElement("canvas"),t=e.getContext("2d");if(!t)throw new Error("getImageData");return e.width=n.width,e.height=n.height,t.drawImage(n,0,0),t.getImageData(0,0,n.width,n.height);default:throw new Error("getImageData")}}function nI(n){return typeof ImageBitmap!="undefined"&&n instanceof ImageBitmap?"imagebitmap":typeof Image!="undefined"&&n instanceof Image?"image":n&&typeof n=="object"&&n.data&&n.width&&n.height?"data":null}const iI=/^data:image\/svg\+xml/,sI=/\.svg((\?|#).*)?$/;function G0(n){return n&&(iI.test(n)||sI.test(n))}function rI(n,e){if(G0(e)){let i=new TextDecoder().decode(n);try{typeof unescape=="function"&&typeof encodeURIComponent=="function"&&(i=unescape(encodeURIComponent(i)))}catch(r){throw new Error(r.message)}return"data:image/svg+xml;base64,".concat(btoa(i))}return qy(n,e)}function qy(n,e){if(G0(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(n)])}async function Ky(n,e,t){const i=rI(n,t),s=self.URL||self.webkitURL,r=typeof i!="string"&&s.createObjectURL(i);try{return await oI(r||i,e)}finally{r&&s.revokeObjectURL(r)}}async function oI(n,e){const t=new Image;return t.src=n,e.image&&e.image.decode&&t.decode?(await t.decode(),t):await new Promise((i,s)=>{try{t.onload=()=>i(t),t.onerror=r=>s(new Error("Could not load image ".concat(n,": ").concat(r)))}catch(r){s(r)}})}const aI={};let Jv=!0;async function lI(n,e,t){let i;G0(t)?i=await Ky(n,e,t):i=qy(n,t);const s=e&&e.imagebitmap;return await cI(i,s)}async function cI(n,e=null){if((uI(e)||!Jv)&&(e=null),e)try{return await createImageBitmap(n,e)}catch(t){console.warn(t),Jv=!1}return await createImageBitmap(n)}function uI(n){for(const e in n||aI)return!1;return!0}const zi=!1,Fl=!0;function $0(n){const e=pc(n);return hI(e)||pI(e)||dI(e)||fI(e)}function hI(n){const e=pc(n);return e.byteLength>=24&&e.getUint32(0,zi)===2303741511?{mimeType:"image/png",width:e.getUint32(16,zi),height:e.getUint32(20,zi)}:null}function dI(n){const e=pc(n);return e.byteLength>=10&&e.getUint32(0,zi)===1195984440?{mimeType:"image/gif",width:e.getUint16(6,Fl),height:e.getUint16(8,Fl)}:null}function fI(n){const e=pc(n);return e.byteLength>=14&&e.getUint16(0,zi)===16973&&e.getUint32(2,Fl)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,Fl),height:e.getUint32(22,Fl)}:null}function pI(n){const e=pc(n);if(!(e.byteLength>=3&&e.getUint16(0,zi)===65496&&e.getUint8(2)===255))return null;const{tableMarkers:i,sofMarkers:s}=mI();let r=2;for(;r+9<e.byteLength;){const o=e.getUint16(r,zi);if(s.has(o))return{mimeType:"image/jpeg",height:e.getUint16(r+5,zi),width:e.getUint16(r+7,zi)};if(!i.has(o))return null;r+=2,r+=e.getUint16(r,zi)}return null}function mI(){const n=new Set([65499,65476,65484,65501,65534]);for(let t=65504;t<65520;++t)n.add(t);return{tableMarkers:n,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}function pc(n){if(n instanceof DataView)return n;if(ArrayBuffer.isView(n))return new DataView(n.buffer);if(n instanceof ArrayBuffer)return new DataView(n);throw new Error("toDataView")}async function _I(n,e){const{mimeType:t}=$0(n)||{},i=globalThis._parseImageNode;return ds(i),await i(n,t)}async function gI(n,e,t){e=e||{};const s=(e.image||{}).type||"auto",{url:r}=t||{},o=vI(s);let a;switch(o){case"imagebitmap":a=await lI(n,e,r);break;case"image":a=await Ky(n,e,r);break;case"data":a=await _I(n);break;default:ds(!1)}return s==="data"&&(a=tI(a)),a}function vI(n){switch(n){case"auto":case"data":return YL();default:return QL(n),n}}const bI=["png","jpg","jpeg","gif","webp","bmp","ico","svg"],yI=["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],wI={image:{type:"auto",decode:!0}},CI={id:"image",module:"images",name:"Images",version:JL,mimeTypes:yI,extensions:bI,parse:gI,tests:[n=>Boolean($0(new DataView(n)))],options:wI},xI=["image/png","image/jpeg","image/gif"],Wf={};function EI(n){return Wf[n]===void 0&&(Wf[n]=AI(n)),Wf[n]}function AI(n){switch(n){case"image/webp":return DI();case"image/svg":return sa;default:if(!sa){const{_parseImageNode:e}=globalThis;return Boolean(e)&&xI.includes(n)}return!0}}function DI(){if(!sa)return!1;try{return document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")===0}catch{return!1}}function Gn(n,e){if(!n)throw new Error(e||"assert failed: gltf")}function Jy(n,e){if(n.startsWith("data:")||n.startsWith("http:")||n.startsWith("https:"))return n;const i=e.baseUri||e.uri;if(!i)throw new Error("'baseUri' must be provided to resolve relative url ".concat(n));return i.substr(0,i.lastIndexOf("/")+1)+n}function SI(n,e,t){const i=n.bufferViews[t];Gn(i);const s=i.buffer,r=e[s];Gn(r);const o=(i.byteOffset||0)+r.byteOffset;return new Uint8Array(r.arrayBuffer,o,i.byteLength)}const Xv=["SCALAR","VEC2","VEC3","VEC4"],TI=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],MI=new Map(TI),BI={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},PI={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},FI={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function Xy(n){return Xv[n-1]||Xv[0]}function Zy(n){const e=MI.get(n.constructor);if(!e)throw new Error("Illegal typed array");return e}function Qy(n,e){const t=FI[n.componentType],i=BI[n.type],s=PI[n.componentType],r=n.count*i,o=n.count*i*s;return Gn(o>=0&&o<=e.byteLength),{ArrayType:t,length:r,byteLength:o}}const LI={asset:{version:"2.0",generator:"loaders.gl"},buffers:[]};class ui{constructor(e){Be(this,"gltf",void 0),Be(this,"sourceBuffers",void 0),Be(this,"byteLength",void 0),this.gltf=e||{json:et({},LI),buffers:[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(e){return this.json[e]}getExtraData(e){return(this.json.extras||{})[e]}getExtension(e){const t=this.getUsedExtensions().find(s=>s===e),i=this.json.extensions||{};return t?i[e]||!0:null}getRequiredExtension(e){return this.getRequiredExtensions().find(i=>i===e)?this.getExtension(e):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getObjectExtension(e,t){return(e.extensions||{})[t]}getScene(e){return this.getObject("scenes",e)}getNode(e){return this.getObject("nodes",e)}getSkin(e){return this.getObject("skins",e)}getMesh(e){return this.getObject("meshes",e)}getMaterial(e){return this.getObject("materials",e)}getAccessor(e){return this.getObject("accessors",e)}getTexture(e){return this.getObject("textures",e)}getSampler(e){return this.getObject("samplers",e)}getImage(e){return this.getObject("images",e)}getBufferView(e){return this.getObject("bufferViews",e)}getBuffer(e){return this.getObject("buffers",e)}getObject(e,t){if(typeof t=="object")return t;const i=this.json[e]&&this.json[e][t];if(!i)throw new Error("glTF file error: Could not find ".concat(e,"[").concat(t,"]"));return i}getTypedArrayForBufferView(e){e=this.getBufferView(e);const t=e.buffer,i=this.gltf.buffers[t];Gn(i);const s=(e.byteOffset||0)+i.byteOffset;return new Uint8Array(i.arrayBuffer,s,e.byteLength)}getTypedArrayForAccessor(e){e=this.getAccessor(e);const t=this.getBufferView(e.bufferView),s=this.getBuffer(t.buffer).data,{ArrayType:r,length:o}=Qy(e,t),a=t.byteOffset+e.byteOffset;return new r(s,a,o)}getTypedArrayForImageData(e){e=this.getAccessor(e);const t=this.getBufferView(e.bufferView),s=this.getBuffer(t.buffer).data,r=t.byteOffset||0;return new Uint8Array(s,r,t.byteLength)}addApplicationData(e,t){return this.json[e]=t,this}addExtraData(e,t){return this.json.extras=this.json.extras||{},this.json.extras[e]=t,this}addObjectExtension(e,t,i){return e.extensions=e.extensions||{},e.extensions[t]=i,this.registerUsedExtension(t),this}setObjectExtension(e,t,i){const s=e.extensions||{};s[t]=i}removeObjectExtension(e,t){const i=e.extensions||{},s=i[t];return delete i[t],s}addExtension(e,t={}){return Gn(t),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=t,this.registerUsedExtension(e),t}addRequiredExtension(e,t={}){return Gn(t),this.addExtension(e,t),this.registerRequiredExtension(e),t}registerUsedExtension(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find(t=>t===e)||this.json.extensionsUsed.push(e)}registerRequiredExtension(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find(t=>t===e)||this.json.extensionsRequired.push(e)}removeExtension(e){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e]}setDefaultScene(e){this.json.scene=e}addScene(e){const{nodeIndices:t}=e;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:t}),this.json.scenes.length-1}addNode(e){const{meshIndex:t,matrix:i}=e;this.json.nodes=this.json.nodes||[];const s={mesh:t};return i&&(s.matrix=i),this.json.nodes.push(s),this.json.nodes.length-1}addMesh(e){const{attributes:t,indices:i,material:s,mode:r=4}=e,a={primitives:[{attributes:this._addAttributes(t),mode:r}]};if(i){const c=this._addIndices(i);a.primitives[0].indices=c}return Number.isFinite(s)&&(a.primitives[0].material=s),this.json.meshes=this.json.meshes||[],this.json.meshes.push(a),this.json.meshes.length-1}addPointCloud(e){const i={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(i),this.json.meshes.length-1}addImage(e,t){const i=$0(e),s=t||(i==null?void 0:i.mimeType),o={bufferView:this.addBufferView(e),mimeType:s};return this.json.images=this.json.images||[],this.json.images.push(o),this.json.images.length-1}addBufferView(e){const t=e.byteLength;Gn(Number.isFinite(t)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);const i={buffer:0,byteOffset:this.byteLength,byteLength:t};return this.byteLength+=hc(t,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(i),this.json.bufferViews.length-1}addAccessor(e,t){const i={bufferView:e,type:Xy(t.size),componentType:t.componentType,count:t.count,max:t.max,min:t.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(i),this.json.accessors.length-1}addBinaryBuffer(e,t={size:3}){const i=this.addBufferView(e);let s={min:t.min,max:t.max};(!s.min||!s.max)&&(s=this._getAccessorMinMax(e,t.size));const r={size:t.size,componentType:Zy(e),count:Math.round(e.length/t.size),min:s.min,max:s.max};return this.addAccessor(i,Object.assign(r,t))}addTexture(e){const{imageIndex:t}=e,i={source:t};return this.json.textures=this.json.textures||[],this.json.textures.push(i),this.json.textures.length-1}addMaterial(e){return this.json.materials=this.json.materials||[],this.json.materials.push(e),this.json.materials.length-1}createBinaryChunk(){var e,t;this.gltf.buffers=[];const i=this.byteLength,s=new ArrayBuffer(i),r=new Uint8Array(s);let o=0;for(const a of this.sourceBuffers||[])o=yF(a,r,o);(e=this.json)!==null&&e!==void 0&&(t=e.buffers)!==null&&t!==void 0&&t[0]?this.json.buffers[0].byteLength=i:this.json.buffers=[{byteLength:i}],this.gltf.binary=s,this.sourceBuffers=[s]}_removeStringFromArray(e,t){let i=!0;for(;i;){const s=e.indexOf(t);s>-1?e.splice(s,1):i=!1}}_addAttributes(e={}){const t={};for(const i in e){const s=e[i],r=this._getGltfAttributeName(i),o=this.addBinaryBuffer(s.value,s);t[r]=o}return t}_addIndices(e){return this.addBinaryBuffer(e,{size:1})}_getGltfAttributeName(e){switch(e.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return e}}_getAccessorMinMax(e,t){const i={min:null,max:null};if(e.length<t)return i;i.min=[],i.max=[];const s=e.subarray(0,t);for(const r of s)i.min.push(r),i.max.push(r);for(let r=t;r<e.length;r+=t)for(let o=0;o<t;o++)i.min[0+o]=Math.min(i.min[0+o],e[r+o]),i.max[0+o]=Math.max(i.max[0+o],e[r+o]);return i}}const II="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",RI="B9h9z9tFBBBF8dL9gBB9gLaaaaaFa9gEaaaB9gGaaB9gFaFaEQSBBFBFFGEGEGIILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBNn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBcI9z9iqlBMc/j9JSIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMkRIbaG97FaK978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAnDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAnDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBRnCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBHiCFD9tAiAPD9OD9hD9RHiDQBTFtGmEYIPLdKeOnH8ZAIAQJDBIBHpCFD9tApAPD9OD9hD9RHpAIASJDBIBHyCFD9tAyAPD9OD9hD9RHyDQBTFtGmEYIPLdKeOnH8cDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAnD9uHnDyBjGBAEAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnA8ZA8cDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNiV8ZcpMyS8cQ8df8eb8fHdApAyDQNiV8ZcpMyS8cQ8df8eb8fHiDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/xLGEaK978jUUUUBCAlHE8kUUUUBGXGXAGCI9HQBGXAFC98ZHI9FQBABRGCBRLEXAGAGDBBBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMBBAGCTJRGALCIJHLAI9JQBMMAIAF9PQFAEAFCEZHLCGWHGqCBCTAGl/8MBAEABAICGWJHIAG/8cBBGXAL9FQBAEAEDBIBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMIBMAIAEAG/8cBBSFMABAFC98ZHGT+HUUUBAGAF9PQBAEAFCEZHICEWHLJCBCAALl/8MBAEABAGCEWJHGAL/8cBBAEAIT+HUUUBAGAEAL/8cBBMAECAJ8kUUUUBM+yEGGaO97GXAF9FQBCBRGEXABCTJHEAEDBBBHICBDtHLCUU98D8cFCUU98D8cEHKD9OABDBBBHOAIDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAOAIDQBFGENVcMTtmYi8ZpyHICTD+sFD/6FHND/gFAICTD+rFCTD+sFD/6FHVD/gFD/kFD/lFHI9DB/+g6DYAVAIALD+2FHLAVCUUUU94DtHcD9OD9RD/kFHVAVD/mFAIAID/mFANALANAcD9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHLD/kFCTD+rFAVAND/mFALD/kFCggEDtD9OD9QHVAIAND/mFALD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHIDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAOAKD9OAVAIDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM94FEa8jUUUUBCAlHE8kUUUUBABAFC98ZHIT+JUUUBGXAIAF9PQBAEAFCEZHLCEWHFJCBCAAFl/8MBAEABAICEWJHBAF/8cBBAEALT+JUUUBABAEAF/8cBBMAECAJ8kUUUUBM/hEIGaF97FaL978jUUUUBCTlRGGXAF9FQBCBREEXAGABDBBBHIABCTJHLDBBBHKDQILKOSQfbPden8c8d8e8fHOCTD+sFHNCID+rFDMIBAB9DBBU8/DY9D/zI818/DYANCEDtD9QD/6FD/nFHNAIAKDQBFGENVcMTtmYi8ZpyHICTD+rFCTD+sFD/6FD/mFHKAKD/mFANAICTD+sFD/6FD/mFHVAVD/mFANAOCTD+rFCTD+sFD/6FD/mFHOAOD/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHND/mF9DBBX9LDYHID/kFCggEDtHcD9OAVAND/mFAID/kFCTD+rFD9QHVAOAND/mFAID/kFCTD+rFAKAND/mFAID/kFAcD9OD9QHNDQBFTtGEmYILPdKOenHID8dBAGDBIBDyB+t+J83EBABCNJAID8dFAGDBIBDyF+t+J83EBALAVANDQNVi8ZcMpySQ8c8dfb8e8fHND8dBAGDBIBDyG+t+J83EBABCiJAND8dFAGDBIBDyE+t+J83EBABCAJRBAECIJHEAF9JQBMMM/3FGEaF978jUUUUBCoBlREGXAGCGrAF9sHIC98ZHL9FQBCBRGABRFEXAFAFDBBBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBAFCTJRFAGCIJHGAL9JQBMMGXALAI9PQBAEAICEZHGCGWHFqCBCoBAFl/8MBAEABALCGWJHLAF/8cBBGXAG9FQBAEAEDBIBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMIBMALAEAF/8cBBMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",kI=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),OI=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),NI={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},VI={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};async function HI(n,e,t,i,s,r="NONE"){const o=await zI();$I(o,o.exports[VI[s]],n,e,t,i,o.exports[NI[r||"NONE"]])}let jf;async function zI(){return jf||(jf=UI()),jf}async function UI(){let n=II;WebAssembly.validate(kI)&&(n=RI,console.log("Warning: meshopt_decoder is using experimental SIMD support"));const e=await WebAssembly.instantiate(GI(n),{});return await e.instance.exports.__wasm_call_ctors(),e.instance}function GI(n){const e=new Uint8Array(n.length);for(let i=0;i<n.length;++i){const s=n.charCodeAt(i);e[i]=s>96?s-71:s>64?s-65:s>47?s+4:s>46?63:62}let t=0;for(let i=0;i<n.length;++i)e[t++]=e[i]<60?OI[e[i]]:(e[i]-60)*64+e[++i];return e.buffer.slice(0,t)}function $I(n,e,t,i,s,r,o){const a=n.exports.sbrk,c=i+3&-4,u=a(c*s),h=a(r.length),f=new Uint8Array(n.exports.memory.buffer);f.set(r,h);const m=e(u,i,s,h,r.length);if(m===0&&o&&o(u,c,s),t.set(f.subarray(u,u+i*s)),a(u-a(0)),m!==0)throw new Error("Malformed buffer data: ".concat(m))}const W0="EXT_meshopt_compression",WI=W0;async function jI(n,e){var t;const i=new ui(n);if(!(e!=null&&(t=e.gltf)!==null&&t!==void 0&&t.decompressMeshes))return;const s=[];for(const r of n.json.bufferViews||[])s.push(qI(i,r));await Promise.all(s),i.removeExtension(W0)}async function qI(n,e){const t=n.getObjectExtension(e,W0);if(t){const{byteOffset:i=0,byteLength:s=0,byteStride:r,count:o,mode:a,filter:c="NONE",buffer:u}=t,h=n.gltf.buffers[u],f=new Uint8Array(h.arrayBuffer,h.byteOffset+i,s),m=new Uint8Array(n.gltf.buffers[e.buffer].arrayBuffer,e.byteOffset,e.byteLength);return await HI(m,o,r,f,a,c),m}return null}var KI=Object.freeze(Object.defineProperty({__proto__:null,name:WI,decode:jI},Symbol.toStringTag,{value:"Module"}));const So="EXT_texture_webp",JI=So;function XI(n,e){const t=new ui(n);if(!EI("image/webp")){if(t.getRequiredExtensions().includes(So))throw new Error("gltf: Required extension ".concat(So," not supported by browser"));return}const{json:i}=t;for(const s of i.textures||[]){const r=t.getObjectExtension(s,So);r&&(s.source=r.source),t.removeObjectExtension(s,So)}t.removeExtension(So)}var ZI=Object.freeze(Object.defineProperty({__proto__:null,name:JI,preprocess:XI},Symbol.toStringTag,{value:"Module"}));const Cu="KHR_texture_basisu",QI=Cu;function YI(n,e){const t=new ui(n),{json:i}=t;for(const s of i.textures||[]){const r=t.getObjectExtension(s,Cu);r&&(s.source=r.source),t.removeObjectExtension(s,Cu)}t.removeExtension(Cu)}var eR=Object.freeze(Object.defineProperty({__proto__:null,name:QI,preprocess:YI},Symbol.toStringTag,{value:"Module"}));const tR="3.2.4",nR={draco:{decoderType:typeof WebAssembly=="object"?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}},iR={name:"Draco",id:"draco",module:"draco",shapes:["mesh"],version:tR,worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:nR};function sR(n){let e=1/0,t=1/0,i=1/0,s=-1/0,r=-1/0,o=-1/0;const a=n.POSITION?n.POSITION.value:[],c=a&&a.length;for(let u=0;u<c;u+=3){const h=a[u],f=a[u+1],m=a[u+2];e=h<e?h:e,t=f<t?f:t,i=m<i?m:i,s=h>s?h:s,r=f>r?f:r,o=m>o?m:o}return[[e,t,i],[s,r,o]]}function rR(n,e){if(!n)throw new Error(e||"loader assertion failed.")}class Po{constructor(e,t){Be(this,"fields",void 0),Be(this,"metadata",void 0),rR(Array.isArray(e)),oR(e),this.fields=e,this.metadata=t||new Map}compareTo(e){if(this.metadata!==e.metadata||this.fields.length!==e.fields.length)return!1;for(let t=0;t<this.fields.length;++t)if(!this.fields[t].compareTo(e.fields[t]))return!1;return!0}select(...e){const t=Object.create(null);for(const s of e)t[s]=!0;const i=this.fields.filter(s=>t[s.name]);return new Po(i,this.metadata)}selectAt(...e){const t=e.map(i=>this.fields[i]).filter(Boolean);return new Po(t,this.metadata)}assign(e){let t,i=this.metadata;if(e instanceof Po){const o=e;t=o.fields,i=Zv(Zv(new Map,this.metadata),o.metadata)}else t=e;const s=Object.create(null);for(const o of this.fields)s[o.name]=o;for(const o of t)s[o.name]=o;const r=Object.values(s);return new Po(r,i)}}function oR(n){const e={};for(const t of n)e[t.name]&&console.warn("Schema: duplicated field name",t.name,t),e[t.name]=!0}function Zv(n,e){return new Map([...n||new Map,...e||new Map])}class ch{constructor(e,t,i=!1,s=new Map){Be(this,"name",void 0),Be(this,"type",void 0),Be(this,"nullable",void 0),Be(this,"metadata",void 0),this.name=e,this.type=t,this.nullable=i,this.metadata=s}get typeId(){return this.type&&this.type.typeId}clone(){return new ch(this.name,this.type,this.nullable,this.metadata)}compareTo(e){return this.name===e.name&&this.type===e.type&&this.nullable===e.nullable&&this.metadata===e.metadata}toString(){return"".concat(this.type).concat(this.nullable?", nullable":"").concat(this.metadata?", metadata: ".concat(this.metadata):"")}}let Bt;(function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.Float=3]="Float",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct=13]="Struct",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Dictionary=-1]="Dictionary",n[n.Int8=-2]="Int8",n[n.Int16=-3]="Int16",n[n.Int32=-4]="Int32",n[n.Int64=-5]="Int64",n[n.Uint8=-6]="Uint8",n[n.Uint16=-7]="Uint16",n[n.Uint32=-8]="Uint32",n[n.Uint64=-9]="Uint64",n[n.Float16=-10]="Float16",n[n.Float32=-11]="Float32",n[n.Float64=-12]="Float64",n[n.DateDay=-13]="DateDay",n[n.DateMillisecond=-14]="DateMillisecond",n[n.TimestampSecond=-15]="TimestampSecond",n[n.TimestampMillisecond=-16]="TimestampMillisecond",n[n.TimestampMicrosecond=-17]="TimestampMicrosecond",n[n.TimestampNanosecond=-18]="TimestampNanosecond",n[n.TimeSecond=-19]="TimeSecond",n[n.TimeMillisecond=-20]="TimeMillisecond",n[n.TimeMicrosecond=-21]="TimeMicrosecond",n[n.TimeNanosecond=-22]="TimeNanosecond",n[n.DenseUnion=-23]="DenseUnion",n[n.SparseUnion=-24]="SparseUnion",n[n.IntervalDayTime=-25]="IntervalDayTime",n[n.IntervalYearMonth=-26]="IntervalYearMonth"})(Bt||(Bt={}));let Yy,e4,t4;class j0{static isNull(e){return e&&e.typeId===Bt.Null}static isInt(e){return e&&e.typeId===Bt.Int}static isFloat(e){return e&&e.typeId===Bt.Float}static isBinary(e){return e&&e.typeId===Bt.Binary}static isUtf8(e){return e&&e.typeId===Bt.Utf8}static isBool(e){return e&&e.typeId===Bt.Bool}static isDecimal(e){return e&&e.typeId===Bt.Decimal}static isDate(e){return e&&e.typeId===Bt.Date}static isTime(e){return e&&e.typeId===Bt.Time}static isTimestamp(e){return e&&e.typeId===Bt.Timestamp}static isInterval(e){return e&&e.typeId===Bt.Interval}static isList(e){return e&&e.typeId===Bt.List}static isStruct(e){return e&&e.typeId===Bt.Struct}static isUnion(e){return e&&e.typeId===Bt.Union}static isFixedSizeBinary(e){return e&&e.typeId===Bt.FixedSizeBinary}static isFixedSizeList(e){return e&&e.typeId===Bt.FixedSizeList}static isMap(e){return e&&e.typeId===Bt.Map}static isDictionary(e){return e&&e.typeId===Bt.Dictionary}get typeId(){return Bt.NONE}compareTo(e){return this===e}}Yy=Symbol.toStringTag;class ba extends j0{constructor(e,t){super(),Be(this,"isSigned",void 0),Be(this,"bitWidth",void 0),this.isSigned=e,this.bitWidth=t}get typeId(){return Bt.Int}get[Yy](){return"Int"}toString(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}class aR extends ba{constructor(){super(!0,8)}}class lR extends ba{constructor(){super(!0,16)}}class cR extends ba{constructor(){super(!0,32)}}class uR extends ba{constructor(){super(!1,8)}}class hR extends ba{constructor(){super(!1,16)}}class dR extends ba{constructor(){super(!1,32)}}const n4={HALF:16,SINGLE:32,DOUBLE:64};e4=Symbol.toStringTag;class i4 extends j0{constructor(e){super(),Be(this,"precision",void 0),this.precision=e}get typeId(){return Bt.Float}get[e4](){return"Float"}toString(){return"Float".concat(this.precision)}}class fR extends i4{constructor(){super(n4.SINGLE)}}class pR extends i4{constructor(){super(n4.DOUBLE)}}t4=Symbol.toStringTag;class mR extends j0{constructor(e,t){super(),Be(this,"listSize",void 0),Be(this,"children",void 0),this.listSize=e,this.children=[t]}get typeId(){return Bt.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get[t4](){return"FixedSizeList"}toString(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}function _R(n){switch(n.constructor){case Int8Array:return new aR;case Uint8Array:return new uR;case Int16Array:return new lR;case Uint16Array:return new hR;case Int32Array:return new cR;case Uint32Array:return new dR;case Float32Array:return new fR;case Float64Array:return new pR;default:throw new Error("array type not supported")}}function gR(n,e,t){const i=_R(e.value),s=t||vR(e);return new ch(n,new mR(e.size,new ch("value",i)),!1,s)}function vR(n){const e=new Map;return"byteOffset"in n&&e.set("byteOffset",n.byteOffset.toString(10)),"byteStride"in n&&e.set("byteStride",n.byteStride.toString(10)),"normalized"in n&&e.set("normalized",n.normalized.toString()),e}function bR(n,e,t){const i=s4(e.metadata),s=[],r=yR(e.attributes);for(const o in n){const a=n[o],c=Qv(o,a,r[o]);s.push(c)}if(t){const o=Qv("indices",t);s.push(o)}return new Po(s,i)}function yR(n){const e={};for(const t in n){const i=n[t];e[i.name||"undefined"]=i}return e}function Qv(n,e,t){const i=t?s4(t.metadata):void 0;return gR(n,e,i)}function s4(n){const e=new Map;for(const t in n)e.set("".concat(t,".string"),JSON.stringify(n[t]));return e}const Yv={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},wR={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},CR=4;class xR{constructor(e){Be(this,"draco",void 0),Be(this,"decoder",void 0),Be(this,"metadataQuerier",void 0),this.draco=e,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(e,t={}){const i=new this.draco.DecoderBuffer;i.Init(new Int8Array(e),e.byteLength),this._disableAttributeTransforms(t);const s=this.decoder.GetEncodedGeometryType(i),r=s===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let o;switch(s){case this.draco.TRIANGULAR_MESH:o=this.decoder.DecodeBufferToMesh(i,r);break;case this.draco.POINT_CLOUD:o=this.decoder.DecodeBufferToPointCloud(i,r);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!o.ok()||!r.ptr){const m="DRACO decompression failed: ".concat(o.error_msg());throw new Error(m)}const a=this._getDracoLoaderData(r,s,t),c=this._getMeshData(r,a,t),u=sR(c.attributes),h=bR(c.attributes,a,c.indices);return bi(et({loader:"draco",loaderData:a,header:{vertexCount:r.num_points(),boundingBox:u}},c),{schema:h})}finally{this.draco.destroy(i),r&&this.draco.destroy(r)}}_getDracoLoaderData(e,t,i){const s=this._getTopLevelMetadata(e),r=this._getDracoAttributes(e,i);return{geometry_type:t,num_attributes:e.num_attributes(),num_points:e.num_points(),num_faces:e instanceof this.draco.Mesh?e.num_faces():0,metadata:s,attributes:r}}_getDracoAttributes(e,t){const i={};for(let s=0;s<e.num_attributes();s++){const r=this.decoder.GetAttribute(e,s),o=this._getAttributeMetadata(e,s);i[r.unique_id()]={unique_id:r.unique_id(),attribute_type:r.attribute_type(),data_type:r.data_type(),num_components:r.num_components(),byte_offset:r.byte_offset(),byte_stride:r.byte_stride(),normalized:r.normalized(),attribute_index:s,metadata:o};const a=this._getQuantizationTransform(r,t);a&&(i[r.unique_id()].quantization_transform=a);const c=this._getOctahedronTransform(r,t);c&&(i[r.unique_id()].octahedron_transform=c)}return i}_getMeshData(e,t,i){const s=this._getMeshAttributes(t,e,i);if(!s.POSITION)throw new Error("DRACO: No position attribute found.");if(e instanceof this.draco.Mesh)switch(i.topology){case"triangle-strip":return{topology:"triangle-strip",mode:4,attributes:s,indices:{value:this._getTriangleStripIndices(e),size:1}};case"triangle-list":default:return{topology:"triangle-list",mode:5,attributes:s,indices:{value:this._getTriangleListIndices(e),size:1}}}return{topology:"point-list",mode:0,attributes:s}}_getMeshAttributes(e,t,i){const s={};for(const r of Object.values(e.attributes)){const o=this._deduceAttributeName(r,i);r.name=o;const{value:a,size:c}=this._getAttributeValues(t,r);s[o]={value:a,size:c,byteOffset:r.byte_offset,byteStride:r.byte_stride,normalized:r.normalized}}return s}_getTriangleListIndices(e){const i=e.num_faces()*3,s=i*CR,r=this.draco._malloc(s);try{return this.decoder.GetTrianglesUInt32Array(e,s,r),new Uint32Array(this.draco.HEAPF32.buffer,r,i).slice()}finally{this.draco._free(r)}}_getTriangleStripIndices(e){const t=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(e,t),DR(t)}finally{this.draco.destroy(t)}}_getAttributeValues(e,t){const i=wR[t.data_type],s=t.num_components,o=e.num_points()*s,a=o*i.BYTES_PER_ELEMENT,c=ER(this.draco,i);let u;const h=this.draco._malloc(a);try{const f=this.decoder.GetAttribute(e,t.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(e,f,c,a,h),u=new i(this.draco.HEAPF32.buffer,h,o).slice()}finally{this.draco._free(h)}return{value:u,size:s}}_deduceAttributeName(e,t){const i=e.unique_id;for(const[o,a]of Object.entries(t.extraAttributes||{}))if(a===i)return o;const s=e.attribute_type;for(const o in Yv)if(this.draco[o]===s)return Yv[o];const r=t.attributeNameEntry||"name";return e.metadata[r]?e.metadata[r].string:"CUSTOM_ATTRIBUTE_".concat(i)}_getTopLevelMetadata(e){const t=this.decoder.GetMetadata(e);return this._getDracoMetadata(t)}_getAttributeMetadata(e,t){const i=this.decoder.GetAttributeMetadata(e,t);return this._getDracoMetadata(i)}_getDracoMetadata(e){if(!e||!e.ptr)return{};const t={},i=this.metadataQuerier.NumEntries(e);for(let s=0;s<i;s++){const r=this.metadataQuerier.GetEntryName(e,s);t[r]=this._getDracoMetadataField(e,r)}return t}_getDracoMetadataField(e,t){const i=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(e,t,i);const s=AR(i);return{int:this.metadataQuerier.GetIntEntry(e,t),string:this.metadataQuerier.GetStringEntry(e,t),double:this.metadataQuerier.GetDoubleEntry(e,t),intArray:s}}finally{this.draco.destroy(i)}}_disableAttributeTransforms(e){const{quantizedAttributes:t=[],octahedronAttributes:i=[]}=e,s=[...t,...i];for(const r of s)this.decoder.SkipAttributeTransform(this.draco[r])}_getQuantizationTransform(e,t){const{quantizedAttributes:i=[]}=t,s=e.attribute_type();if(i.map(o=>this.decoder[o]).includes(s)){const o=new this.draco.AttributeQuantizationTransform;try{if(o.InitFromAttribute(e))return{quantization_bits:o.quantization_bits(),range:o.range(),min_values:new Float32Array([1,2,3]).map(a=>o.min_value(a))}}finally{this.draco.destroy(o)}}return null}_getOctahedronTransform(e,t){const{octahedronAttributes:i=[]}=t,s=e.attribute_type();if(i.map(o=>this.decoder[o]).includes(s)){const o=new this.draco.AttributeQuantizationTransform;try{if(o.InitFromAttribute(e))return{quantization_bits:o.quantization_bits()}}finally{this.draco.destroy(o)}}return null}}function ER(n,e){switch(e){case Float32Array:return n.DT_FLOAT32;case Int8Array:return n.DT_INT8;case Int16Array:return n.DT_INT16;case Int32Array:return n.DT_INT32;case Uint8Array:return n.DT_UINT8;case Uint16Array:return n.DT_UINT16;case Uint32Array:return n.DT_UINT32;default:return n.DT_INVALID}}function AR(n){const e=n.size(),t=new Int32Array(e);for(let i=0;i<e;i++)t[i]=n.GetValue(i);return t}function DR(n){const e=n.size(),t=new Int32Array(e);for(let i=0;i<e;i++)t[i]=n.GetValue(i);return t}const q0="1.4.1",SR="https://www.gstatic.com/draco/versioned/decoders/".concat(q0,"/draco_decoder.js"),TR="https://www.gstatic.com/draco/versioned/decoders/".concat(q0,"/draco_wasm_wrapper.js"),MR="https://www.gstatic.com/draco/versioned/decoders/".concat(q0,"/draco_decoder.wasm");let ol;async function BR(n){const e=n.modules||{};return e.draco3d?ol=ol||e.draco3d.createDecoderModule({}).then(t=>({draco:t})):ol=ol||PR(n),await ol}async function PR(n){let e,t;switch(n.draco&&n.draco.decoderType){case"js":e=await Vr(SR,"draco",n);break;case"wasm":default:[e,t]=await Promise.all([await Vr(TR,"draco",n),await Vr(MR,"draco",n)])}return e=e||globalThis.DracoDecoderModule,await FR(e,t)}function FR(n,e){const t={};return e&&(t.wasmBinary=e),new Promise(i=>{n(bi(et({},t),{onModuleLoaded:s=>i({draco:s})}))})}const r4=bi(et({},iR),{parse:LR});async function LR(n,e){const{draco:t}=await BR(e),i=new xR(t);try{return i.parseSync(n,e==null?void 0:e.draco)}finally{i.destroy()}}function IR(n){const e={};for(const t in n){const i=n[t];if(t!=="indices"){const s=o4(i);e[t]=s}}return e}function o4(n){const{buffer:e,size:t,count:i}=RR(n);return{value:e,size:t,byteOffset:0,count:i,type:Xy(t),componentType:Zy(e)}}function RR(n){let e=n,t=1,i=0;return n&&n.value&&(e=n.value,t=n.size||1),e&&(ArrayBuffer.isView(e)||(e=kR(e,Float32Array)),i=e.length/t),{buffer:e,size:t,count:i}}function kR(n,e,t=!1){return n?Array.isArray(n)?new e(n):t&&!(n instanceof e)?new e(n):n:null}const jr="KHR_draco_mesh_compression",OR=jr;function NR(n,e,t){const i=new ui(n);for(const s of a4(i))i.getObjectExtension(s,jr)}async function VR(n,e,t){var i;if(!(e!=null&&(i=e.gltf)!==null&&i!==void 0&&i.decompressMeshes))return;const s=new ui(n),r=[];for(const o of a4(s))s.getObjectExtension(o,jr)&&r.push(zR(s,o,e,t));await Promise.all(r),s.removeExtension(jr)}function HR(n,e={}){const t=new ui(n);for(const i of t.json.meshes||[])UR(i),t.addRequiredExtension(jr)}async function zR(n,e,t,i){const s=n.getObjectExtension(e,jr);if(!s)return;const r=n.getTypedArrayForBufferView(s.bufferView),o=My(r.buffer,r.byteOffset),{parse:a}=i,c=et({},t);delete c["3d-tiles"];const u=await a(o,r4,c,i),h=IR(u.attributes);for(const[f,m]of Object.entries(h))if(f in e.attributes){const _=e.attributes[f],y=n.getAccessor(_);y!=null&&y.min&&y!==null&&y!==void 0&&y.max&&(m.min=y.min,m.max=y.max)}e.attributes=h,u.indices&&(e.indices=o4(u.indices)),GR(e)}function UR(n,e,t=4,i,s){var r;if(!i.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");const o=i.DracoWriter.encodeSync({attributes:n}),a=s==null||(r=s.parseSync)===null||r===void 0?void 0:r.call(s,{attributes:n}),c=i._addFauxAttributes(a.attributes),u=i.addBufferView(o);return{primitives:[{attributes:c,mode:t,extensions:{[jr]:{bufferView:u,attributes:c}}}]}}function GR(n){if(!n.attributes&&Object.keys(n.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}function*a4(n){for(const e of n.json.meshes||[])for(const t of e.primitives)yield t}var $R=Object.freeze(Object.defineProperty({__proto__:null,name:OR,preprocess:NR,decode:VR,encode:HR},Symbol.toStringTag,{value:"Module"}));const Tr="KHR_lights_punctual",WR=Tr;async function jR(n){const e=new ui(n),{json:t}=e,i=e.getExtension(Tr);i&&(e.json.lights=i.lights,e.removeExtension(Tr));for(const s of t.nodes||[]){const r=e.getObjectExtension(s,Tr);r&&(s.light=r.light),e.removeObjectExtension(s,Tr)}}async function qR(n){const e=new ui(n),{json:t}=e;if(t.lights){const i=e.addExtension(Tr);Gn(!i.lights),i.lights=t.lights,delete t.lights}if(e.json.lights){for(const i of e.json.lights){const s=i.node;e.addObjectExtension(s,Tr,i)}delete e.json.lights}}var KR=Object.freeze(Object.defineProperty({__proto__:null,name:WR,decode:jR,encode:qR},Symbol.toStringTag,{value:"Module"}));const ic="KHR_materials_unlit",JR=ic;async function XR(n){const e=new ui(n),{json:t}=e;e.removeExtension(ic);for(const i of t.materials||[])i.extensions&&i.extensions.KHR_materials_unlit&&(i.unlit=!0),e.removeObjectExtension(i,ic)}function ZR(n){const e=new ui(n),{json:t}=e;if(e.materials)for(const i of t.materials||[])i.unlit&&(delete i.unlit,e.addObjectExtension(i,ic,{}),e.addExtension(ic))}var QR=Object.freeze(Object.defineProperty({__proto__:null,name:JR,decode:XR,encode:ZR},Symbol.toStringTag,{value:"Module"}));const fl="KHR_techniques_webgl",YR=fl;async function ek(n){const e=new ui(n),{json:t}=e,i=e.getExtension(fl);if(i){const s=nk(i,e);for(const r of t.materials||[]){const o=e.getObjectExtension(r,fl);o&&(r.technique=Object.assign({},o,s[o.technique]),r.technique.values=ik(r.technique,e)),e.removeObjectExtension(r,fl)}e.removeExtension(fl)}}async function tk(n,e){}function nk(n,e){const{programs:t=[],shaders:i=[],techniques:s=[]}=n,r=new TextDecoder;return i.forEach(o=>{if(Number.isFinite(o.bufferView))o.code=r.decode(e.getTypedArrayForBufferView(o.bufferView));else throw new Error("KHR_techniques_webgl: no shader code")}),t.forEach(o=>{o.fragmentShader=i[o.fragmentShader],o.vertexShader=i[o.vertexShader]}),s.forEach(o=>{o.program=t[o.program]}),s}function ik(n,e){const t=Object.assign({},n.values);return Object.keys(n.uniforms||{}).forEach(i=>{n.uniforms[i].value&&!(i in t)&&(t[i]=n.uniforms[i].value)}),Object.keys(t).forEach(i=>{typeof t[i]=="object"&&t[i].index!==void 0&&(t[i].texture=e.getTexture(t[i].index))}),t}var sk=Object.freeze(Object.defineProperty({__proto__:null,name:YR,decode:ek,encode:tk},Symbol.toStringTag,{value:"Module"}));const l4=[KI,ZI,eR,$R,KR,QR,sk];function rk(n,e={},t){const i=l4.filter(r=>c4(r.name,e));for(const r of i){var s;(s=r.preprocess)===null||s===void 0||s.call(r,n,e,t)}}async function ok(n,e={},t){const i=l4.filter(r=>c4(r.name,e));for(const r of i){var s;await((s=r.decode)===null||s===void 0?void 0:s.call(r,n,e,t))}}function c4(n,e){var t;const i=(e==null||(t=e.gltf)===null||t===void 0?void 0:t.excludeExtensions)||{};return!(n in i&&!i[n])}const qf="KHR_binary_glTF";function ak(n){const e=new ui(n),{json:t}=e;for(const i of t.images||[]){const s=e.getObjectExtension(i,qf);s&&Object.assign(i,s),e.removeObjectExtension(i,qf)}t.buffers&&t.buffers[0]&&delete t.buffers[0].uri,e.removeExtension(qf)}const e2={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},lk={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"};class ck{constructor(){Be(this,"idToIndexMap",{animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}}),Be(this,"json",void 0)}normalize(e,t){this.json=e.json;const i=e.json;switch(i.asset&&i.asset.version){case"2.0":return;case void 0:case"1.0":break;default:console.warn("glTF: Unknown version ".concat(i.asset.version));return}if(!t.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(i),this._convertTopLevelObjectsToArrays(i),ak(e),this._convertObjectIdsToArrayIndices(i),this._updateObjects(i),this._updateMaterial(i)}_addAsset(e){e.asset=e.asset||{},e.asset.version="2.0",e.asset.generator=e.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(e){for(const t in e2)this._convertTopLevelObjectToArray(e,t)}_convertTopLevelObjectToArray(e,t){const i=e[t];if(!(!i||Array.isArray(i))){e[t]=[];for(const s in i){const r=i[s];r.id=r.id||s;const o=e[t].length;e[t].push(r),this.idToIndexMap[t][s]=o}}}_convertObjectIdsToArrayIndices(e){for(const t in e2)this._convertIdsToIndices(e,t);"scene"in e&&(e.scene=this._convertIdToIndex(e.scene,"scene"));for(const t of e.textures)this._convertTextureIds(t);for(const t of e.meshes)this._convertMeshIds(t);for(const t of e.nodes)this._convertNodeIds(t);for(const t of e.scenes)this._convertSceneIds(t)}_convertTextureIds(e){e.source&&(e.source=this._convertIdToIndex(e.source,"image"))}_convertMeshIds(e){for(const t of e.primitives){const{attributes:i,indices:s,material:r}=t;for(const o in i)i[o]=this._convertIdToIndex(i[o],"accessor");s&&(t.indices=this._convertIdToIndex(s,"accessor")),r&&(t.material=this._convertIdToIndex(r,"material"))}}_convertNodeIds(e){e.children&&(e.children=e.children.map(t=>this._convertIdToIndex(t,"node"))),e.meshes&&(e.meshes=e.meshes.map(t=>this._convertIdToIndex(t,"mesh")))}_convertSceneIds(e){e.nodes&&(e.nodes=e.nodes.map(t=>this._convertIdToIndex(t,"node")))}_convertIdsToIndices(e,t){e[t]||(console.warn("gltf v1: json doesn't contain attribute ".concat(t)),e[t]=[]);for(const i of e[t])for(const s in i){const r=i[s],o=this._convertIdToIndex(r,s);i[s]=o}}_convertIdToIndex(e,t){const i=lk[t];if(i in this.idToIndexMap){const s=this.idToIndexMap[i][e];if(!Number.isFinite(s))throw new Error("gltf v1: failed to resolve ".concat(t," with id ").concat(e));return s}return e}_updateObjects(e){for(const t of this.json.buffers)delete t.type}_updateMaterial(e){for(const s of e.materials){var t,i;s.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};const r=((t=s.values)===null||t===void 0?void 0:t.tex)||((i=s.values)===null||i===void 0?void 0:i.texture2d_0),o=e.textures.findIndex(a=>a.id===r);o!==-1&&(s.pbrMetallicRoughness.baseColorTexture={index:o})}}}function uk(n,e={}){return new ck().normalize(n,e)}const hk={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},dk={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},ei={TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,REPEAT:10497,LINEAR:9729,NEAREST_MIPMAP_LINEAR:9986},fk={magFilter:ei.TEXTURE_MAG_FILTER,minFilter:ei.TEXTURE_MIN_FILTER,wrapS:ei.TEXTURE_WRAP_S,wrapT:ei.TEXTURE_WRAP_T},pk={[ei.TEXTURE_MAG_FILTER]:ei.LINEAR,[ei.TEXTURE_MIN_FILTER]:ei.NEAREST_MIPMAP_LINEAR,[ei.TEXTURE_WRAP_S]:ei.REPEAT,[ei.TEXTURE_WRAP_T]:ei.REPEAT};function mk(n){return dk[n]}function _k(n){return hk[n]}class gk{constructor(){Be(this,"baseUri",""),Be(this,"json",{}),Be(this,"buffers",[]),Be(this,"images",[])}postProcess(e,t={}){const{json:i,buffers:s=[],images:r=[],baseUri:o=""}=e;return Gn(i),this.baseUri=o,this.json=i,this.buffers=s,this.images=r,this._resolveTree(this.json,t),this.json}_resolveTree(e,t={}){e.bufferViews&&(e.bufferViews=e.bufferViews.map((i,s)=>this._resolveBufferView(i,s))),e.images&&(e.images=e.images.map((i,s)=>this._resolveImage(i,s))),e.samplers&&(e.samplers=e.samplers.map((i,s)=>this._resolveSampler(i,s))),e.textures&&(e.textures=e.textures.map((i,s)=>this._resolveTexture(i,s))),e.accessors&&(e.accessors=e.accessors.map((i,s)=>this._resolveAccessor(i,s))),e.materials&&(e.materials=e.materials.map((i,s)=>this._resolveMaterial(i,s))),e.meshes&&(e.meshes=e.meshes.map((i,s)=>this._resolveMesh(i,s))),e.nodes&&(e.nodes=e.nodes.map((i,s)=>this._resolveNode(i,s))),e.skins&&(e.skins=e.skins.map((i,s)=>this._resolveSkin(i,s))),e.scenes&&(e.scenes=e.scenes.map((i,s)=>this._resolveScene(i,s))),e.scene!==void 0&&(e.scene=e.scenes[this.json.scene])}getScene(e){return this._get("scenes",e)}getNode(e){return this._get("nodes",e)}getSkin(e){return this._get("skins",e)}getMesh(e){return this._get("meshes",e)}getMaterial(e){return this._get("materials",e)}getAccessor(e){return this._get("accessors",e)}getCamera(e){return null}getTexture(e){return this._get("textures",e)}getSampler(e){return this._get("samplers",e)}getImage(e){return this._get("images",e)}getBufferView(e){return this._get("bufferViews",e)}getBuffer(e){return this._get("buffers",e)}_get(e,t){if(typeof t=="object")return t;const i=this.json[e]&&this.json[e][t];return i||console.warn("glTF file error: Could not find ".concat(e,"[").concat(t,"]")),i}_resolveScene(e,t){return e.id=e.id||"scene-".concat(t),e.nodes=(e.nodes||[]).map(i=>this.getNode(i)),e}_resolveNode(e,t){return e.id=e.id||"node-".concat(t),e.children&&(e.children=e.children.map(i=>this.getNode(i))),e.mesh!==void 0?e.mesh=this.getMesh(e.mesh):e.meshes!==void 0&&e.meshes.length&&(e.mesh=e.meshes.reduce((i,s)=>{const r=this.getMesh(s);return i.id=r.id,i.primitives=i.primitives.concat(r.primitives),i},{primitives:[]})),e.camera!==void 0&&(e.camera=this.getCamera(e.camera)),e.skin!==void 0&&(e.skin=this.getSkin(e.skin)),e}_resolveSkin(e,t){return e.id=e.id||"skin-".concat(t),e.inverseBindMatrices=this.getAccessor(e.inverseBindMatrices),e}_resolveMesh(e,t){return e.id=e.id||"mesh-".concat(t),e.primitives&&(e.primitives=e.primitives.map(i=>{i=et({},i);const s=i.attributes;i.attributes={};for(const r in s)i.attributes[r]=this.getAccessor(s[r]);return i.indices!==void 0&&(i.indices=this.getAccessor(i.indices)),i.material!==void 0&&(i.material=this.getMaterial(i.material)),i})),e}_resolveMaterial(e,t){if(e.id=e.id||"material-".concat(t),e.normalTexture&&(e.normalTexture=et({},e.normalTexture),e.normalTexture.texture=this.getTexture(e.normalTexture.index)),e.occlusionTexture&&(e.occlustionTexture=et({},e.occlustionTexture),e.occlusionTexture.texture=this.getTexture(e.occlusionTexture.index)),e.emissiveTexture&&(e.emmisiveTexture=et({},e.emmisiveTexture),e.emissiveTexture.texture=this.getTexture(e.emissiveTexture.index)),e.emissiveFactor||(e.emissiveFactor=e.emmisiveTexture?[1,1,1]:[0,0,0]),e.pbrMetallicRoughness){e.pbrMetallicRoughness=et({},e.pbrMetallicRoughness);const i=e.pbrMetallicRoughness;i.baseColorTexture&&(i.baseColorTexture=et({},i.baseColorTexture),i.baseColorTexture.texture=this.getTexture(i.baseColorTexture.index)),i.metallicRoughnessTexture&&(i.metallicRoughnessTexture=et({},i.metallicRoughnessTexture),i.metallicRoughnessTexture.texture=this.getTexture(i.metallicRoughnessTexture.index))}return e}_resolveAccessor(e,t){if(e.id=e.id||"accessor-".concat(t),e.bufferView!==void 0&&(e.bufferView=this.getBufferView(e.bufferView)),e.bytesPerComponent=mk(e.componentType),e.components=_k(e.type),e.bytesPerElement=e.bytesPerComponent*e.components,e.bufferView){const i=e.bufferView.buffer,{ArrayType:s,byteLength:r}=Qy(e,e.bufferView),o=(e.bufferView.byteOffset||0)+(e.byteOffset||0)+i.byteOffset;let a=i.arrayBuffer.slice(o,o+r);e.bufferView.byteStride&&(a=this._getValueFromInterleavedBuffer(i,o,e.bufferView.byteStride,e.bytesPerElement,e.count)),e.value=new s(a)}return e}_getValueFromInterleavedBuffer(e,t,i,s,r){const o=new Uint8Array(r*s);for(let a=0;a<r;a++){const c=t+a*i;o.set(new Uint8Array(e.arrayBuffer.slice(c,c+s)),a*s)}return o.buffer}_resolveTexture(e,t){return e.id=e.id||"texture-".concat(t),e.sampler="sampler"in e?this.getSampler(e.sampler):pk,e.source=this.getImage(e.source),e}_resolveSampler(e,t){e.id=e.id||"sampler-".concat(t),e.parameters={};for(const i in e){const s=this._enumSamplerParameter(i);s!==void 0&&(e.parameters[s]=e[i])}return e}_enumSamplerParameter(e){return fk[e]}_resolveImage(e,t){e.id=e.id||"image-".concat(t),e.bufferView!==void 0&&(e.bufferView=this.getBufferView(e.bufferView));const i=this.images[t];return i&&(e.image=i),e}_resolveBufferView(e,t){const i=e.buffer,s=bi(et({id:"bufferView-".concat(t)},e),{buffer:this.buffers[i]}),r=this.buffers[i].arrayBuffer;let o=this.buffers[i].byteOffset||0;return"byteOffset"in e&&(o+=e.byteOffset),s.data=new Uint8Array(r,o,e.byteLength),s}_resolveCamera(e,t){return e.id=e.id||"camera-".concat(t),e.perspective,e.orthographic,e}}function vk(n,e){return new gk().postProcess(n,e)}const t2=1735152710,K0=12,uh=8,bk=1313821514,yk=5130562,wk=0,Ck=1,xk=0,oa=!0;function Ek(n,e=0){return"".concat(String.fromCharCode(n.getUint8(e+0))).concat(String.fromCharCode(n.getUint8(e+1))).concat(String.fromCharCode(n.getUint8(e+2))).concat(String.fromCharCode(n.getUint8(e+3)))}function Ak(n,e=0,t={}){const i=new DataView(n),{magic:s=t2}=t,r=i.getUint32(e,!1);return r===s||r===t2}function u4(n,e,t=0,i={}){const s=new DataView(e),r=Ek(s,t+0),o=s.getUint32(t+4,oa),a=s.getUint32(t+8,oa);switch(Object.assign(n,{header:{byteOffset:t,byteLength:a,hasBinChunk:!1},type:r,version:o,json:{},binChunks:[]}),t+=K0,n.version){case 1:return Dk(n,s,t);case 2:return Sk(n,s,t,i={});default:throw new Error("Invalid GLB version ".concat(n.version,". Only supports v1 and v2."))}}function Dk(n,e,t){ds(n.header.byteLength>K0+uh);const i=e.getUint32(t+0,oa),s=e.getUint32(t+4,oa);return t+=uh,ds(s===xk),l1(n,e,t,i),t+=i,t+=c1(n,e,t,n.header.byteLength),t}function Sk(n,e,t,i){return ds(n.header.byteLength>K0+uh),Tk(n,e,t,i),t+n.header.byteLength}function Tk(n,e,t,i){for(;t+8<=n.header.byteLength;){const s=e.getUint32(t+0,oa),r=e.getUint32(t+4,oa);switch(t+=uh,r){case bk:l1(n,e,t,s);break;case yk:c1(n,e,t,s);break;case wk:i.strict||l1(n,e,t,s);break;case Ck:i.strict||c1(n,e,t,s);break}t+=hc(s,4)}return t}function l1(n,e,t,i){const s=new Uint8Array(e.buffer,t,i),o=new TextDecoder("utf8").decode(s);return n.json=JSON.parse(o),hc(i,4)}function c1(n,e,t,i){return n.header.hasBinChunk=!0,n.binChunks.push({byteOffset:t,byteLength:i,arrayBuffer:e.buffer}),hc(i,4)}async function Mk(n,e,t=0,i,s){var r,o,a,c;Bk(n,e,t,i),uk(n,{normalize:i==null||(r=i.gltf)===null||r===void 0?void 0:r.normalize}),rk(n,i,s);const u=[];if(i!=null&&(o=i.gltf)!==null&&o!==void 0&&o.loadBuffers&&n.json.buffers&&await Pk(n,i,s),i!=null&&(a=i.gltf)!==null&&a!==void 0&&a.loadImages){const f=Fk(n,i,s);u.push(f)}const h=ok(n,i,s);return u.push(h),await Promise.all(u),i!=null&&(c=i.gltf)!==null&&c!==void 0&&c.postProcess?vk(n,i):n}function Bk(n,e,t,i){if(i.uri&&(n.baseUri=i.uri),e instanceof ArrayBuffer&&!Ak(e,t,i)&&(e=new TextDecoder().decode(e)),typeof e=="string")n.json=_F(e);else if(e instanceof ArrayBuffer){const o={};t=u4(o,e,t,i.glb),Gn(o.type==="glTF","Invalid GLB magic string ".concat(o.type)),n._glb=o,n.json=o.json}else Gn(!1,"GLTF: must be ArrayBuffer or string");const s=n.json.buffers||[];if(n.buffers=new Array(s.length).fill(null),n._glb&&n._glb.header.hasBinChunk){const{binChunks:o}=n._glb;n.buffers[0]={arrayBuffer:o[0].arrayBuffer,byteOffset:o[0].byteOffset,byteLength:o[0].byteLength}}const r=n.json.images||[];n.images=new Array(r.length).fill({})}async function Pk(n,e,t){const i=n.json.buffers||[];for(let o=0;o<i.length;++o){const a=i[o];if(a.uri){var s,r;const{fetch:c}=t;Gn(c);const u=Jy(a.uri,e),h=await(t==null||(s=t.fetch)===null||s===void 0?void 0:s.call(t,u)),f=await(h==null||(r=h.arrayBuffer)===null||r===void 0?void 0:r.call(h));n.buffers[o]={arrayBuffer:f,byteOffset:0,byteLength:f.byteLength},delete a.uri}else n.buffers[o]===null&&(n.buffers[o]={arrayBuffer:new ArrayBuffer(a.byteLength),byteOffset:0,byteLength:a.byteLength})}}async function Fk(n,e,t){const i=Lk(n),s=n.json.images||[],r=[];for(const o of i)r.push(Ik(n,s[o],o,e,t));return await Promise.all(r)}function Lk(n){const e=new Set,t=n.json.textures||[];for(const i of t)i.source!==void 0&&e.add(i.source);return Array.from(e).sort()}async function Ik(n,e,t,i,s){const{fetch:r,parse:o}=s;let a;if(e.uri){const u=Jy(e.uri,i);a=await(await r(u)).arrayBuffer()}if(Number.isFinite(e.bufferView)){const u=SI(n.json,n.buffers,e.bufferView);a=My(u.buffer,u.byteOffset,u.byteLength)}Gn(a,"glTF image has no data");let c=await o(a,[CI,KL],{mimeType:e.mimeType,basis:i.basis||{format:jy()}},s);c&&c[0]&&(c={compressed:!0,mipmaps:!1,width:c[0].width,height:c[0].height,data:c[0]}),n.images=n.images||[],n.images[t]=c}const u1={name:"glTF",id:"gltf",module:"gltf",version:Gy,extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:Rk,options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0,postProcess:!0},log:console},deprecatedOptions:{fetchImages:"gltf.loadImages",createImages:"gltf.loadImages",decompress:"gltf.decompressMeshes",postProcess:"gltf.postProcess",gltf:{decompress:"gltf.decompressMeshes"}}};async function Rk(n,e={},t){e=et(et({},u1.options),e),e.gltf=et(et({},u1.options.gltf),e.gltf);const{byteOffset:i=0}=e;return await Mk({},n,i,e,t)}const kk={name:"GLB",id:"glb",module:"gltf",version:Gy,extensions:["glb"],mimeTypes:["model/gltf-binary"],binary:!0,parse:Ok,parseSync:h4,options:{glb:{strict:!1}}};async function Ok(n,e){return h4(n,e)}function h4(n,e){const{byteOffset:t=0}=e||{},i={};return u4(i,n,t,e==null?void 0:e.glb),i}const Nk=function(n,e){var t=new Uint8Array(n.byteLength+e.byteLength);return t.set(new Uint8Array(n),0),t.set(new Uint8Array(e),n.byteLength),t.buffer};class Vk{constructor(e,t=!0){return this.url=e,this.hasDracoCompression=t,this.promise=new Promise((i,s)=>{this.resolve=i}),this.load(),this.promise}async load(){if(this.hasDracoCompression){const e=await kv(this.url,u1,{DracoLoader:r4,decompress:!0});e.isDracoCompressed=!0,this.resolve(e)}else{const e=await kv(this.url,kk);let t=new ArrayBuffer;for(let i=0;i<e.binChunks.length;i++){const s=e.binChunks[i];t=Nk(t,s.arrayBuffer.slice(s.byteOffset,s.byteOffset+s.byteLength))}e.json.bin=t,this.resolve(e.json)}}}const Hk=new $i,zk=new oe,Uk=new oe;class J0 extends Un{constructor(e,{near:t=.1,far:i=100,fov:s=45,aspect:r=1,left:o,right:a,bottom:c,top:u,zoom:h=1}={}){super(),Object.assign(this,{near:t,far:i,fov:s,aspect:r,left:o,right:a,bottom:c,top:u,zoom:h}),this.projectionMatrix=new $i,this.viewMatrix=new $i,this.projectionViewMatrix=new $i,this.worldPosition=new oe,this.isFliped=!1,this.type=o||a?"orthographic":"perspective",this.type==="orthographic"?this.orthographic():this.perspective()}perspective({near:e=this.near,far:t=this.far,fov:i=this.fov,aspect:s=this.aspect}={}){return Object.assign(this,{near:e,far:t,fov:i,aspect:s}),this.projectionMatrix.fromPerspective({fov:i*(Math.PI/180),aspect:s,near:e,far:t}),this.type="perspective",this}orthographic({near:e=this.near,far:t=this.far,left:i=this.left,right:s=this.right,bottom:r=this.bottom,top:o=this.top,zoom:a=this.zoom}={}){return Object.assign(this,{near:e,far:t,left:i,right:s,bottom:r,top:o,zoom:a}),i/=a,s/=a,r/=a,o/=a,this.projectionMatrix.fromOrthogonal({left:i,right:s,bottom:r,top:o,near:e,far:t}),this.type="orthographic",this}updateMatrixWorld(e=!1){return super.updateMatrixWorld(),e&&(this.worldMatrix[1]*=-1,this.worldMatrix[5]*=-1,this.worldMatrix[9]*=-1,this.worldMatrix[13]*=-1),this.isFliped=e,this.viewMatrix.inverse(this.worldMatrix),this.worldMatrix.getTranslation(this.worldPosition),this.projectionViewMatrix.multiply(this.projectionMatrix,this.viewMatrix),this}lookAt(e){return super.lookAt(e,!0),this}project(e){return e.applyMatrix4(this.viewMatrix),e.applyMatrix4(this.projectionMatrix),this}unproject(e){return e.applyMatrix4(Hk.inverse(this.projectionMatrix)),e.applyMatrix4(this.worldMatrix),this}updateFrustum(){this.frustum||(this.frustum=[new oe,new oe,new oe,new oe,new oe,new oe]);const e=this.projectionViewMatrix;this.frustum[0].set(e[3]-e[0],e[7]-e[4],e[11]-e[8]).constant=e[15]-e[12],this.frustum[1].set(e[3]+e[0],e[7]+e[4],e[11]+e[8]).constant=e[15]+e[12],this.frustum[2].set(e[3]+e[1],e[7]+e[5],e[11]+e[9]).constant=e[15]+e[13],this.frustum[3].set(e[3]-e[1],e[7]-e[5],e[11]-e[9]).constant=e[15]-e[13],this.frustum[4].set(e[3]-e[2],e[7]-e[6],e[11]-e[10]).constant=e[15]-e[14],this.frustum[5].set(e[3]+e[2],e[7]+e[6],e[11]+e[10]).constant=e[15]+e[14];for(let t=0;t<6;t++){const i=1/this.frustum[t].distance();this.frustum[t].multiply(i),this.frustum[t].constant*=i}}frustumIntersectsMesh(e){if(!e.geometry.attributes.position||((!e.geometry.bounds||e.geometry.bounds.radius===1/0)&&e.geometry.computeBoundingSphere(),!e.geometry.bounds))return!0;const t=zk;t.copy(e.geometry.bounds.center),t.applyMatrix4(e.worldMatrix);const i=e.geometry.bounds.radius*e.worldMatrix.getMaxScaleOnAxis();return this.frustumIntersectsSphere(t,i)}frustumIntersectsSphere(e,t){const i=Uk;for(let s=0;s<6;s++){const r=this.frustum[s];if(i.copy(r).dot(e)+r.constant<-t)return!1}return!0}}const Gk=new Ot,$k=new Ot,Wk=new Ot,n2=new oe,i2=new oe,s2=new oe,jk=new oe,qk=new oe,Kk=new oe,r2=new oe,Kf=new oe,o2=new oe,a2=new oe,Jk=new oe,l2=new $i;class d4{constructor(){this.origin=new oe,this.direction=new oe}castMouse(e,t=[0,0]){if(e.type==="orthographic"){const{left:i,right:s,bottom:r,top:o,zoom:a}=e,c=i/a+(s-i)/a*(t[0]*.5+.5),u=r/a+(o-r)/a*(t[1]*.5+.5);this.origin.set(c,u,0),this.origin.applyMatrix4(e.worldMatrix),this.direction.x=-e.worldMatrix[8],this.direction.y=-e.worldMatrix[9],this.direction.z=-e.worldMatrix[10]}else e.worldMatrix.getTranslation(this.origin),this.direction.set(t[0],t[1],.5),e.unproject(this.direction),this.direction.sub(this.origin).normalize()}intersectBounds(e,{maxDistance:t,output:i=[]}={}){Array.isArray(e)||(e=[e]);const s=l2,r=n2,o=i2,a=i;return a.length=0,e.forEach(c=>{if(!c.castable)return;(!c.geometry.bounds||c.geometry.bounds.radius===1/0)&&c.geometry.computeBoundingSphere();const u=c.geometry.bounds;s.inverse(c.worldMatrix);let h;if(t&&(o.copy(this.direction).scaleRotateMatrix4(s),h=t*o.len()),r.copy(this.origin).applyMatrix4(s),o.copy(this.direction).transformDirection(s),t&&r.distance(u.center)-u.radius>h)return;let f=0;if(c.geometry.raycast==="sphere"){if(r.distance(u.center)>u.radius&&(f=this.intersectSphere(u,r,o),!f))return}else if((r.x<u.min.x||r.x>u.max.x||r.y<u.min.y||r.y>u.max.y||r.z<u.min.z||r.z>u.max.z)&&(f=this.intersectBox(u,r,o),!f))return;t&&f>h||(c.hit||(c.hit={localPoint:new oe,point:new oe}),c.hit.localPoint.copy(o).multiply(f).add(r),c.hit.point.copy(c.hit.localPoint).applyMatrix4(c.worldMatrix),c.hit.distance=c.hit.point.distance(this.origin),a.push(c))}),a.sort((c,u)=>c.hit.distance-u.hit.distance),a}intersectMeshes(e,{cullFace:t=!0,maxDistance:i,includeUV:s=!0,includeNormal:r=!0,output:o=[]}={}){const a=this.intersectBounds(e,{maxDistance:i,output:o});if(!a.length)return a;const c=l2,u=n2,h=i2,f=s2,m=jk,_=qk,y=Kk,w=r2,x=Kf,M=Gk,P=$k,F=Wk;for(let E=a.length-1;E>=0;E--){const D=a[E];c.inverse(D.worldMatrix);let B;i&&(h.copy(this.direction).scaleRotateMatrix4(c),B=i*h.len()),u.copy(this.origin).applyMatrix4(c),h.copy(this.direction).transformDirection(c);let I=0,L,k,W;const K=D.geometry,R=K.attributes,G=R.index,O=Math.max(0,K.drawRange.start),j=Math.min(G?G.count:R.position.count,K.drawRange.start+K.drawRange.count);for(let $=O;$<j;$+=3){const se=G?G.data[$]:$,X=G?G.data[$+1]:$+1,Le=G?G.data[$+2]:$+2;f.fromArray(R.position.data,se*3),m.fromArray(R.position.data,X*3),_.fromArray(R.position.data,Le*3);const Pe=this.intersectTriangle(f,m,_,t,u,h,w);!Pe||i&&Pe>B||(!I||Pe<I)&&(I=Pe,L=se,k=X,W=Le,y.copy(w))}I||a.splice(E,1),D.hit.localPoint.copy(h).multiply(I).add(u),D.hit.point.copy(D.hit.localPoint).applyMatrix4(D.worldMatrix),D.hit.distance=D.hit.point.distance(this.origin),D.hit.faceNormal||(D.hit.localFaceNormal=new oe,D.hit.faceNormal=new oe,D.hit.uv=new Ot,D.hit.localNormal=new oe,D.hit.normal=new oe),D.hit.localFaceNormal.copy(y),D.hit.faceNormal.copy(D.hit.localFaceNormal).transformDirection(D.worldMatrix),(s||r)&&(f.fromArray(R.position.data,L*3),m.fromArray(R.position.data,k*3),_.fromArray(R.position.data,W*3),this.getBarycoord(D.hit.localPoint,f,m,_,x)),s&&R.uv&&(M.fromArray(R.uv.data,L*2),P.fromArray(R.uv.data,k*2),F.fromArray(R.uv.data,W*2),D.hit.uv.set(M.x*x.x+P.x*x.y+F.x*x.z,M.y*x.x+P.y*x.y+F.y*x.z)),r&&R.normal&&(f.fromArray(R.normal.data,L*3),m.fromArray(R.normal.data,k*3),_.fromArray(R.normal.data,W*3),D.hit.localNormal.set(f.x*x.x+m.x*x.y+_.x*x.z,f.y*x.x+m.y*x.y+_.y*x.z,f.z*x.x+m.z*x.y+_.z*x.z),D.hit.normal.copy(D.hit.localNormal).transformDirection(D.worldMatrix))}return a.sort((E,D)=>E.hit.distance-D.hit.distance),a}intersectSphere(e,t=this.origin,i=this.direction){const s=s2;s.sub(e.center,t);const r=s.dot(i),o=s.dot(s)-r*r,a=e.radius*e.radius;if(o>a)return 0;const c=Math.sqrt(a-o),u=r-c,h=r+c;return u<0&&h<0?0:u<0?h:u}intersectBox(e,t=this.origin,i=this.direction){let s,r,o,a,c,u;const h=1/i.x,f=1/i.y,m=1/i.z,_=e.min,y=e.max;return s=((h>=0?_.x:y.x)-t.x)*h,r=((h>=0?y.x:_.x)-t.x)*h,o=((f>=0?_.y:y.y)-t.y)*f,a=((f>=0?y.y:_.y)-t.y)*f,s>a||o>r||(o>s&&(s=o),a<r&&(r=a),c=((m>=0?_.z:y.z)-t.z)*m,u=((m>=0?y.z:_.z)-t.z)*m,s>u||c>r)||(c>s&&(s=c),u<r&&(r=u),r<0)?0:s>=0?s:r}intersectTriangle(e,t,i,s=!0,r=this.origin,o=this.direction,a=r2){const c=Kf,u=o2,h=a2;c.sub(t,e),u.sub(i,e),a.cross(c,u);let f=o.dot(a);if(!f)return 0;let m;if(f>0){if(s)return 0;m=1}else m=-1,f=-f;h.sub(r,e);let _=m*o.dot(u.cross(h,u));if(_<0)return 0;let y=m*o.dot(c.cross(h));if(y<0||_+y>f)return 0;let w=-m*h.dot(a);return w<0?0:w/f}getBarycoord(e,t,i,s,r=Kf){const o=o2,a=a2,c=Jk;o.sub(s,t),a.sub(i,t),c.sub(e,t);const u=o.dot(o),h=o.dot(a),f=o.dot(c),m=a.dot(a),_=a.dot(c),y=u*m-h*h;if(y===0)return r.set(-2,-1,-1);const w=1/y,x=(m*f-h*_)*w,M=(u*_-h*f)*w;return r.set(1-x-M,M,x)}}const Bs=Tn(),c2=Tn(),Xk=Tt(0,1,0);class Zk{constructor(e,t,{pan:i=!0,startDistance:s=10,minDistance:r=1e-4,maxDistance:o=1/0,applyTransform:a=!0,startAngleX:c=Math.PI,startAngleY:u=-Math.PI/2,angleLimitY:h=[-Math.PI+.1,-.1],dragVelocity:f=5,target:m=[0,0,0]}={}){this.scene=e,this.camera=t,this.node=new Sh,this.offset=Tt(u,c,0),this.offsetTarget=Tt(u,c,0),this.radiusTarget=s,this.radius=s,this.target=Tt(m[0],m[1],m[2]),this.canPan=i,this.dragVelocity=f,this.angleLimitY=h,this.pan=Tn(),this.altPressed=!1,this.prevent=!1,this.applyTransform=a,this.canZoom=!0,this.canRotate=!0,this.config={camera_damping:{value:.2,range:[.001,.1]}},mt.on("wheel",()=>{!this.canZoom||(this.prevent||(mt.wheelDir=="up"?this.radiusTarget+=1:this.radiusTarget-=1),this.radiusTarget=Math.max(Math.min(this.radiusTarget,o),r))}),this.canPan&&(window.addEventListener("keydown",_=>{_.key=="Alt"&&(this.altPressed=!0)}),window.addEventListener("keyup",_=>{_.key=="Alt"&&(this.altPressed=!1)})),ze.on("prevent",()=>{this.prevent=!0}),ze.on("unprevent",()=>{this.prevent=!1}),ze.addConfig(this.config,"Orbit")}update(){if(!this.prevent)if(this.altPressed){if(mt.isDown){let i=Tn(),s=Tn(),r=Tn();this.pan[0]=mt.velocity[0]*-10,this.pan[1]=mt.velocity[1]*(this.scene.width/this.scene.height)*5,ql(i,this.node.position,this.target),jl(i,i),Or(r,Xk,i),jl(r,r),Or(s,i,r),Vo(Bs,r,this.pan[0]),Vo(c2,s,this.pan[1]),Al(Bs,Bs,c2),Al(this.target,this.target,Bs)}}else mt.isDown&&this.canRotate&&(this.offsetTarget[1]+=mt.velocity[0]*this.dragVelocity,this.offsetTarget[0]+=mt.velocity[1]*(this.scene.width/this.scene.height)*this.dragVelocity);this.offsetTarget[0]=Math.min(Math.max(this.offsetTarget[0],this.angleLimitY[0]),this.angleLimitY[1]),ql(Bs,this.offsetTarget,this.offset),Vo(Bs,Bs,this.config.camera_damping.value),Al(this.offset,this.offset,Bs);let e=this.radiusTarget-this.radius;e*=this.config.camera_damping.value,this.radius+=e;let t=this.radius;if(this.node.position[0]=t*-Math.sin(this.offset[0])*Math.sin(this.offset[1])+this.target[0],this.node.position[1]=t*Math.cos(this.offset[0])+this.target[1],this.node.position[2]=t*Math.sin(this.offset[0])*Math.cos(this.offset[1])+this.target[2],this.applyTransform){this.camera.position.set(this.node.position[0],this.node.position[1],this.node.position[2]);const i=new oe;i.set(this.target[0],this.target[1],this.target[2]),this.camera.lookAt(i)}}}const Qk=(n,e)=>{const t=new ut.timeline({paused:!0,duration:100});return t.to(n,{followProgress:.075,duration:8.5,ease:"linear"},0),t.to(n,{followProgress:.2,duration:8.5,ease:"linear"},8.5),t.to(n,{followProgress:.4,duration:9,ease:"linear"},17),t.to(n,{followProgress:.535,duration:10,ease:"linear"},26),t.to(n,{followProgress:.56,duration:8,ease:"linear"},36),t.to(n,{followProgress:.6,duration:10,ease:"linear"},44),t.to(n,{followProgress:.675,duration:4,ease:"linear"},54),t.to(n,{followProgress:.845,duration:11,ease:"linear"},58),t.to(n,{followProgress:.91,duration:11,ease:"linear"},69),t.to(n,{followProgress:1,duration:20,ease:"linear"},80),t},Yk=(n,e)=>{const t=new ut.timeline({paused:!0,duration:100});return t.to(n,{x:0,y:5.25,z:0,duration:0,ease:"Quad.easeInOut"},0),t.to(n,{x:e?-5.35:-2,y:7,z:-20,duration:7,ease:"Quad.easeInOut"},0),t.to(n,{x:0,y:7,z:-20,duration:5,ease:"linear"},8),t.to(n,{x:e?5.35:1,y:7,z:-20,duration:2,ease:"linear"},13),t.to(n,{x:20,y:7,z:-14,duration:7,ease:"Quad.easeInOut"},15),e?(t.to(n,{x:36,y:5.25,z:0,duration:5,ease:"Quad.easeInOut"},23),t.to(n,{x:34.6,y:5.25,z:-3.52,duration:3,ease:"Quad.easeInOut"},32),t.to(n,{x:36,y:5.25,z:0,duration:3,ease:"Quad.easeInOut"},35),t.to(n,{x:34.6,y:5.25,z:3.52,duration:3,ease:"Quad.easeInOut"},38)):t.to(n,{x:40,y:5.75,z:0,duration:7,ease:"Quad.easeInOut"},23),t.to(n,{x:35,y:8.5,z:19,duration:2.5,ease:"Quad.easeIn"},41.5),t.to(n,{x:28,y:8.25,z:21,duration:1,ease:"linear"},44),t.to(n,{x:20,y:8,z:22,duration:1,ease:"linear"},45),t.to(n,{x:13,y:7.75,z:18,duration:1,ease:"linear"},46),t.to(n,{x:7,y:7.5,z:11,duration:1,ease:"linear"},47),t.to(n,{x:3,y:6.5,z:0,duration:4,ease:"Power1.easeOut"},48),t.to(n,{x:20.83,y:7.5,z:13.9,duration:5,ease:"Power1.easeInOut"},54),t.to(n,{x:0,y:7,z:21,duration:3,ease:"Power1.easeInOut"},59),t.to(n,{x:e?5.35:2,y:7,z:20,duration:3,ease:"Power1.easeInOut"},62),t.to(n,{x:0,y:7,z:20,duration:2.5,ease:"linear"},66.5),t.to(n,{x:e?-5.35:-1,y:7,z:20,duration:3,ease:"linear"},69),t.to(n,{x:-13.65,y:1.5,z:9.7,duration:7,ease:"Quad.easeInOut"},73.5),t.to(n,{x:-30,y:3.5,z:0,duration:6,ease:"Power1.easeInOut"},84),t.to(n,{x:-21,y:5.25,z:-12.5,duration:2.5,ease:"Power1.easeIn"},90),t.to(n,{x:-12,y:5.5,z:-15,duration:1.5,ease:"linear"},92.5),t.to(n,{x:-5,y:5.5,z:-12,duration:1.5,ease:"linear"},94),t.to(n,{x:0,y:5.25,z:0,duration:2.5,ease:"Power1.easeOut"},95.5),t},eO=.03,tO=.03;class nO{constructor(e,t){this.width=t.width,this.height=t.height,this.scene=t.scene,this.debug=t.debug,this.shouldOrbit=t.orbit,this.gl=e,this.toGo=new oe(0,0,10),this.toLook=new oe(0,0,0),this.toLookAnim=new oe(0,5.25,0),this.toLookIntro=new oe(-20,10,0),this.followProgress=0,this.magnetAnim={current:0,target:0,ease:.03},this.introFactor={current:1,target:1,ease:Vs?.004:.005},this.magnet={name:"default",follow:new oe(0,0,0),lookat:new oe(1,0,0)},this.lastWheel=0,this.catmulls={},this.mouse=[0,0],this.camera=new J0(this.gl,{near:.01,far:1e5,fov:Vs?55:70,aspect:this.width/this.height}),this.debug&&this.shouldOrbit&&(this.debugMode=!0,this.orbit=new Zk(this.scene,this.camera,{startAngleY:-1.15,startAngleX:10.2,target:[0,2,0]}),this.initDebugEvents()),this.createLookatTimeline(),window.__cameraManager=this}resize(e,t){this.camera.perspective({aspect:e/t})}initDebugEvents(){this.guiIsEnabled&&(ze.panel.domElement.addEventListener("mouseover",()=>{this.preventUpdateOrbit=!0}),ze.panel.domElement.addEventListener("mouseleave",()=>{this.preventUpdateOrbit=!1}))}addSplineFromCurve(e,t){const i=new nc(IP(e._data.vertices));i.node.position=Er(e._data.translate),i.node.rotation=Er(e._data.rotation),i.node.scale=Er(e._data.scale),i.generate(),this.catmulls[t]=i}addSpline(e,t){this.catmulls[t]=e}createLookatTimeline(){this.followTimeline=Qk(this),this.lookatTimeline=Yk(this.toLookAnim,!Vs)}enableMagnet(e,t=!1){this.magnetAnim.target=1,this.magnet=e,t&&(this.magnetAnim.current=this.magnetAnim.target)}disableMagnet(e=!1){this.magnetAnim.target=0,e&&(this.magnetAnim.current=this.magnetAnim.target)}enableIntroLookat(){this.introFactor.target=1}disableIntroLookat(){this.introFactor.target=0}preRender(){this.update(),this.orbit&&(this.orbit.enabled=!this.preventUpdateOrbit,this.orbit.update())}update(){if(this.debugMode&&this.shouldOrbit?(this.scene.progressTarget=this.scene.time*.01%1,this.scene.progress=this.scene.progressTarget):(this.introFactor.current>0&&(this.introFactor.current<.001&&(this.introFactor.current=0),this.introFactor.current=xy(this.introFactor.current,this.introFactor.target,this.introFactor.ease)),this.followTimeline&&this.followTimeline.progress(this.scene.progress%1),this.lookatTimeline&&this.lookatTimeline.progress(this.scene.progress%1),this.catmulls.camera&&uf(this.toGo,this.catmulls.camera.getPointProgress(this.followProgress),this.magnet.follow,this.magnetAnim.current),this.catmulls.cameraIntro&&uf(this.toGo,this.toGo,this.catmulls.cameraIntro.getPointProgress(this.scene.progressIntro),this.scene.introFactor),hf(this.camera.position,this.toGo,this.scene.debugManager.splineEditor.root.scale)),hf(this.camera.position,this.toGo,this.scene.root.scale),uf(this.toLook,this.toLookAnim,this.toLookIntro,this.introFactor.current),hf(this.toLook,this.toLook,this.scene.root.scale),this.camera.lookAt(this.toLook),Vs&&!this.debug&&!this.orbit){const e=1-this.introFactor.current*.5;this.camera.rotation.x+=-mt.dampedCursor[1]*Math.PI*eO*e,this.camera.rotation.y+=-mt.dampedCursor[0]*Math.PI*tO*e}}}const Qn=new oe,al=new $i;class iO{constructor(e,t){this.gl=e,this.scene=t.scene,this.debug=t.debug,this.ratioWidth=this.scene.width/this.scene.dpr,this.ratioHeight=this.scene.height/this.scene.dpr,this.hotspots=[{name:"screen_left_1",worldPosition:new oe(-5.35,7,-20),screenPosition:new oe,screenPositionPx:new Ot,distanceToCamera:1,inview:!1},{name:"screen_left_2",worldPosition:new oe(0,7,-20),screenPosition:new oe,screenPositionPx:new Ot,distanceToCamera:1,inview:!1},{name:"screen_left_3",worldPosition:new oe(5.35,7,-20),screenPosition:new oe,screenPositionPx:new Ot,distanceToCamera:1,inview:!1},{name:"statue_1",worldPosition:new oe(34.348,4.75,-3.2),screenPosition:new oe,screenPositionPx:new Ot,distanceToCamera:1,inview:!1},{name:"statue_2",worldPosition:new oe(35.85,4.75,0),screenPosition:new oe,screenPositionPx:new Ot,distanceToCamera:1,inview:!1},{name:"statue_3",worldPosition:new oe(34.348,4.75,3.2),screenPosition:new oe,screenPositionPx:new Ot,distanceToCamera:1,inview:!1},{name:"screen_tree",worldPosition:new oe(6,6,0),screenPosition:new oe,screenPositionPx:new Ot,distanceToCamera:1,inview:!1},{name:"screen_right_1",worldPosition:new oe(5.35,7,20),screenPosition:new oe,screenPositionPx:new Ot,distanceToCamera:1,inview:!1},{name:"screen_right_2",worldPosition:new oe(0,7,20),screenPosition:new oe,screenPositionPx:new Ot,distanceToCamera:1,inview:!1},{name:"screen_right_3",worldPosition:new oe(-5.35,7,20),screenPosition:new oe,screenPositionPx:new Ot,distanceToCamera:1,inview:!1},{name:"table",worldPosition:new oe(-14.195,1.9941,9.461),screenPosition:new oe,screenPositionPx:new Ot,distanceToCamera:1,inview:!1}]}setHotspotLinkScreenSpaceInfos(e){Qn.copy(e.worldPosition),al.identity(),al.translate(Qn),al.multiply(this.scene.camera.projectionViewMatrix,al),Qn.set(0,0,0),Qn.applyMatrix4(al),e.screenPosition.copy(Qn),e.screenPositionPx.x=oh(Qn.x,-1,1,0,this.ratioWidth),e.screenPositionPx.y=oh(Qn.y,1,-1,0,this.ratioHeight),e.inview=Qn.z<1&&Qn.x>-1&&Qn.x<1&&Qn.y>-1&&Qn.y<1,e.distanceToCamera=e.worldPosition.distance(this.scene.camera.position)}resize(e,t){this.ratioWidth=e/this.scene.dpr,this.ratioHeight=t/this.scene.dpr}update(){for(let e=0;e<this.hotspots.length;e+=1){const t=this.hotspots[e];this.setHotspotLinkScreenSpaceInfos(t),this.hotspots[e]=t,ue.emit("hotspot_position",{hotspot:t})}}}new oe;new oe;new oe;new oe;const xo=new oe;class f4{constructor(e,{points:t,vertex:i=sO,fragment:s=rO,uniforms:r={},attributes:o={}}){this.gl=e,this.points=t,this.count=t.length,this.position=new Float32Array(this.count*3*2),this.prev=new Float32Array(this.count*3*2),this.next=new Float32Array(this.count*3*2);const a=new Float32Array(this.count*1*2),c=new Float32Array(this.count*2*2),u=new Uint16Array((this.count-1)*3*2);for(let m=0;m<this.count;m++){a.set([-1,1],m*2);const _=m/(this.count-1);if(c.set([0,_,1,_],m*4),m===this.count-1)continue;const y=m*2;u.set([y+0,y+1,y+2],(y+0)*3),u.set([y+2,y+1,y+3],(y+1)*3)}const h=this.geometry=new li(e,Object.assign(o,{position:{size:3,data:this.position},prev:{size:3,data:this.prev},next:{size:3,data:this.next},side:{size:1,data:a},uv:{size:2,data:c},index:{size:1,data:u}}));this.updateGeometry(),r.uResolution||(this.resolution=r.uResolution={value:new Ot}),r.uDPR||(this.dpr=r.uDPR={value:1}),r.uThickness||(this.thickness=r.uThickness={value:1}),r.uColor||(this.color=r.uColor={value:new Xe("#000")}),r.uMiter||(this.miter=r.uMiter={value:1}),this.resize();const f=this.program=new Kn(e,{vertex:i,fragment:s,uniforms:r});this.mesh=new sn(e,{geometry:h,program:f})}updateGeometry(){this.points.forEach((e,t)=>{e.toArray(this.position,t*3*2),e.toArray(this.position,t*3*2+3),t?(e.toArray(this.next,(t-1)*3*2),e.toArray(this.next,(t-1)*3*2+3)):(xo.copy(e).sub(this.points[t+1]).add(e),xo.toArray(this.prev,t*3*2),xo.toArray(this.prev,t*3*2+3)),t===this.points.length-1?(xo.copy(e).sub(this.points[t-1]).add(e),xo.toArray(this.next,t*3*2),xo.toArray(this.next,t*3*2+3)):(e.toArray(this.prev,(t+1)*3*2),e.toArray(this.prev,(t+1)*3*2+3))}),this.geometry.attributes.position.needsUpdate=!0,this.geometry.attributes.prev.needsUpdate=!0,this.geometry.attributes.next.needsUpdate=!0}resize(){this.resolution&&this.resolution.value.set(this.gl.canvas.width,this.gl.canvas.height),this.dpr&&(this.dpr.value=this.gl.renderer.dpr)}}const sO=`
    precision highp float;

    attribute vec3 position;
    attribute vec3 next;
    attribute vec3 prev;
    attribute vec2 uv;
    attribute float side;

    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;
    uniform vec2 uResolution;
    uniform float uDPR;
    uniform float uThickness;
    uniform float uMiter;

    varying vec2 vUv;

    vec4 getPosition() {
        mat4 mvp = projectionMatrix * modelViewMatrix;
        vec4 current = mvp * vec4(position, 1);
        vec4 nextPos = mvp * vec4(next, 1);
        vec4 prevPos = mvp * vec4(prev, 1);

        vec2 aspect = vec2(uResolution.x / uResolution.y, 1);    
        vec2 currentScreen = current.xy / current.w * aspect;
        vec2 nextScreen = nextPos.xy / nextPos.w * aspect;
        vec2 prevScreen = prevPos.xy / prevPos.w * aspect;
    
        vec2 dir1 = normalize(currentScreen - prevScreen);
        vec2 dir2 = normalize(nextScreen - currentScreen);
        vec2 dir = normalize(dir1 + dir2);
    
        vec2 normal = vec2(-dir.y, dir.x);
        normal /= mix(1.0, max(0.3, dot(normal, vec2(-dir1.y, dir1.x))), uMiter);
        normal /= aspect;

        float pixelWidthRatio = 1.0 / (uResolution.y / uDPR);
        float pixelWidth = current.w * pixelWidthRatio;
        normal *= pixelWidth * uThickness;
        current.xy -= normal * side;
    
        return current;
    }

    void main() {
        vUv = uv;
        gl_Position = getPosition();
    }
`,rO=`
    precision highp float;

    uniform vec3 uColor;
    
    varying vec2 vUv;

    void main() {
        gl_FragColor.rgb = uColor;
        gl_FragColor.a = 1.0;
    }
`;class oO extends li{constructor(e,{width:t=1,height:i=1,depth:s=1,widthSegments:r=1,heightSegments:o=1,depthSegments:a=1,attributes:c={}}={}){const u=r,h=o,f=a,m=(u+1)*(h+1)*2+(u+1)*(f+1)*2+(h+1)*(f+1)*2,_=(u*h*2+u*f*2+h*f*2)*6,y=new Float32Array(m*3),w=new Float32Array(m*3),x=new Float32Array(m*2),M=m>65536?new Uint32Array(_):new Uint16Array(_);let P=0,F=0;yi.buildPlane(y,w,x,M,s,i,t,f,h,2,1,0,-1,-1,P,F),P+=(f+1)*(h+1),F+=f*h,yi.buildPlane(y,w,x,M,s,i,-t,f,h,2,1,0,1,-1,P,F),P+=(f+1)*(h+1),F+=f*h,yi.buildPlane(y,w,x,M,t,s,i,f,u,0,2,1,1,1,P,F),P+=(u+1)*(f+1),F+=u*f,yi.buildPlane(y,w,x,M,t,s,-i,f,u,0,2,1,1,-1,P,F),P+=(u+1)*(f+1),F+=u*f,yi.buildPlane(y,w,x,M,t,i,-s,u,h,0,1,2,-1,-1,P,F),P+=(u+1)*(h+1),F+=u*h,yi.buildPlane(y,w,x,M,t,i,s,u,h,0,1,2,1,-1,P,F),Object.assign(c,{position:{size:3,data:y},normal:{size:3,data:w},uv:{size:2,data:x},index:{data:M}}),super(e,c)}}const aO=[0,-.15,-1.45,.15,0,-1.45,0,0,-1.45,0,0,-1.75,0,0,-1.75,.15,0,-1.45,0,-.15,-1.45,-.15,0,-1.45,0,0,-1.75,0,0,-1.75,0,-.15,-1.45,-.15,0,-1.45,0,.15,-1.45,0,0,-1.75,0,0,-1.75,-.15,0,-1.45,0,.15,-1.45,0,0,-1.75,0,0,-1.75,0,.15,-1.45,.15,0,-1.45,.05,.05,0,-.05,.05,0,-.05,-.05,0,.05,-.05,0,.05,.05,-1.5,.05,.05,0,.05,-.05,0,.05,-.05,-1.5,-.05,.05,-1.5,.05,.05,-1.5,.05,-.05,-1.5,-.05,-.05,-1.5,-.05,.05,0,-.05,.05,-1.5,-.05,-.05,-1.5,-.05,-.05,0,.05,.05,-1.5,-.05,.05,-1.5,-.05,.05,0,.05,.05,0,.05,-.05,0,-.05,-.05,0,-.05,-.05,-1.5,.05,-.05,-1.5],lO=[0,1,2,3,4,5,6,3,5,7,0,2,8,9,10,11,8,10,12,7,2,13,14,15,16,13,15,1,12,2,17,18,19,20,17,19,21,22,23,24,21,23,25,26,27,28,25,27,29,30,31,32,29,31,33,34,35,36,33,35,37,38,39,40,37,39,41,42,43,44,41,43],cO=[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1],uO=new Array(135);var Jf={vertices:aO,uvs:cO,indices:lO,normal:uO};const hO=[-.36,.62,1.35,-.72,0,1.35,0,0,1.35,0,0,.15,0,0,.15,-.72,0,1.35,-.36,.62,1.35,.36,.62,1.35,0,0,.15,0,0,.15,-.36,.62,1.35,.36,.62,1.35,.72,0,1.35,0,0,.15,0,0,.15,.36,.62,1.35,.72,0,1.35,.36,-.62,1.35,0,0,.15,0,0,.15,.72,0,1.35,.36,-.62,1.35,-.36,-.62,1.35,0,0,.15,0,0,.15,.36,-.62,1.35,-.36,-.62,1.35,0,0,.15,0,0,.15,-.36,-.62,1.35,-.72,0,1.35,-.28,.43,-1,.28,.43,-1,.28,-.43,-1,-.28,-.43,-1,-.28,.43,.5,-.28,.43,-1,-.28,-.43,-1,-.28,-.43,.5,.28,.43,.5,-.28,.43,.5,-.28,-.43,.5,.28,-.43,.5,.28,.43,-1,.28,.43,.5,.28,-.43,.5,.28,-.43,-1,-.28,.43,.5,.28,.43,.5,.28,.43,-1,-.28,.43,-1,-.28,-.43,-1,.28,-.43,-1,.28,-.43,.5,-.28,-.43,.5],dO=[0,1,2,3,4,5,6,3,5,7,0,2,8,9,10,11,8,10,12,7,2,13,14,15,16,13,15,17,12,2,18,19,20,21,18,20,22,17,2,23,24,25,26,23,25,1,22,2,27,28,29,30,27,29,31,32,33,34,31,33,35,36,37,38,35,37,39,40,41,42,39,41,43,44,45,46,43,45,47,48,49,50,47,49,51,52,53,54,51,53],fO=[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1];var Xf={vertices:hO,uvs:fO,indices:dO};const Zf=Tn(),Qf=.15;class pO{constructor(e,t){this.scene=e,this.manager=t,this.root=new Un,this.raycast=new d4(this.scene.gl),this.currentGizmosId=0,this.currentSplineId=0,this.gizmosMeshes=[],this.gizmosPointGroups=[],this.splines={},this.raycastHit=null,this.needsDrag=!1,this.dragAxis=null,this.dragActiveGroup=null,this.init(),this.initEvents()}init(){if(Sn(this.root.position,this.scene.root.position),Sn(this.root.rotation,this.scene.root.rotation),Sn(this.root.scale,this.scene.root.scale),Vo(this.root.scale,this.root.scale,.01),localStorage.getItem("_SplinesEditorData")){this.data=JSON.parse(localStorage.getItem("_SplinesEditorData"));for(const e in this.data)this.activeSpline=e,Object.hasOwnProperty.call(this.data,e)&&(this.data[e].points.forEach((i,s)=>{this.addControlPoint(Tt(i[0],i[1],i[2]),e,s)}),this.createSpline(e))}else if(ze.configs._SplinesEditorData==null)this.data={},this.addSpline("camera"),this.activeSpline="camera",ze.configs._SplinesEditorData=this.data,this.addControlPoint(Tn()),this.addControlPoint(Tt(0,15,10)),this.addControlPoint(Tt(15,15,-10)),this.addControlPoint(Tt(0,15,-20)),this.createSpline("camera");else{this.data=ze.configs._SplinesEditorData;for(const e in this.data)this.activeSpline=e,Object.hasOwnProperty.call(this.data,e)&&(this.data[e].points.forEach((i,s)=>{this.addControlPoint(Tt(i[0],i[1],i[2]),e,s)}),this.createSpline(e))}}addSpline(e){this.data[e]={name:e,points:[]}}initEvents(){mt.on("down",()=>{this.raycastHit!==null&&(this.needsDrag=!0,this.dragAxis=this.raycastHit,this.dragActiveGroup=this.gizmosPointGroups[this.raycastHit.groupId],ze._emitter.emit("prevent"))}),mt.on("up",()=>{this.dragAxis!==null&&(this.needsDrag=!1,this.dragAxis=null,this.dragActiveGroup=null,ze._emitter.emit("unprevent"))}),this.guiInputs={},ze.scenePane.addSeparator();let e=ze.scenePane.addFolder({title:"Spline Editor"});this.guiInputs.splineList=e.addBlade({view:"list",label:"Spline to edit",options:this.data,value:this.data[this.activeSpline]}),e.addSeparator(),this.guiInputs.add=e.addButton({title:"Add control point"}),this.guiInputs.remove=e.addButton({title:"Remove control point"}),e.addSeparator(),this.guiInputs.save=e.addButton({title:"SAVE Spline Locally"}),this.guiInputs.clear=e.addButton({title:"CLEAR Local config"}),e.addSeparator(),this.guiInputs.dump=e.addButton({title:"Dump config (Dev Only)"}),this.guiInputs.clear.disabled=!localStorage.getItem("_SplinesEditorData"),this.guiInputs.add.on("click",()=>{const t=this.data[this.activeSpline].points[this.data[this.activeSpline].points.length-1];this.addControlPoint(Tt(t[0]+2,t[1]+2,t[2]+2),this.activeSpline),this.updateSpline(this.activeSpline)}),this.guiInputs.dump.on("click",()=>{ze.configs._SplinesEditorData=JSON.parse(JSON.stringify(this.data)),ze.dump()}),this.guiInputs.save.on("click",()=>{localStorage.setItem("_SplinesEditorData",JSON.stringify(this.data))}),this.guiInputs.clear.on("click",()=>{localStorage.removeItem("_SplinesEditorData")}),this.guiInputs.splineList.on("change",t=>{this.activeSpline=t.value.name}),ze.on("beforeSave",()=>{ze.configs._SplinesEditorData=JSON.parse(JSON.stringify(this.data))})}addControlPoint(e,t="default",i=null){this.activeSpline&&(t=this.activeSpline);let s=this.currentGizmosId,r=new Un;r.setParent(this.root),this.gizmosPointGroups.push(r);let o;if(i==null?(this.data[t].points.push(Array.from(e)),o=this.data[t].points.length-1):o=i,Sn(r.position,e),!(ze.active&&ze.queryDebug("orbit")))return;let a=this.manager.createDebugCube(.12*(.1/this.root.scale.x),"#FFFFFF",.3,r),c=this.manager.createDebugAxis(.3*(.1/this.root.scale.x),"#FF0000",.3,"X+",r),u=this.manager.createDebugAxis(.3*(.1/this.root.scale.x),"#00FF00",.3,"Y+",r),h=this.manager.createDebugAxis(.3*(.1/this.root.scale.x),"#0000FF",.3,"Z+",r);c.point=u.point=h.point=a,this.gizmosMeshes.push(a),this.gizmosMeshes.push(c),this.gizmosMeshes.push(u),this.gizmosMeshes.push(h),a.groupId=s,c.groupId=s,u.groupId=s,h.groupId=s,a.splineName=t,c.splineName=t,u.splineName=t,h.splineName=t,a.name=`GizmoPoint_${s}_${o}`,c.name=`GizmoAxisX_${s}_${o}`,u.name=`GizmoAxisY_${s}_${o}`,h.name=`GizmoAxisZ_${s}_${o}`,this.currentGizmosId++}updateSpline(e){if(this.data[e].points.length<4||(this.splines[e].catmull=new nc(this.data[e].points),this.splines[e].catmull.generate(),!(ze.active&&ze.queryDebug("orbit"))))return;let t=this.splines[e].catmull.getPointsUniform(500);this.splines[e].polyline.points=gv(t),this.splines[e].polyline.updateGeometry()}createSpline(e){if(this.splines[e]==null&&(this.splines[e]={}),this.data[e].points.length<3||(this.splines[e].catmull=new nc(this.data[e].points),this.splines[e].catmull.generate(),!(ze.active&&ze.queryDebug("orbit"))))return;let t=this.splines[e].catmull.getPointsUniform(500);t=gv(t),this.splines[e].polyline=new f4(this.scene.gl,{points:t,uniforms:{uColor:{value:new Xe(RP(this.currentSplineId/7*360,100,50))},uThickness:{value:1*this.scene.dpr}}}),this.currentSplineId++}preRender(){this.raycastHit=null,this.raycast.castMouse(this.scene.camera,[mt.cursor[0],-mt.cursor[1]]),this.gizmosMeshes.forEach(t=>{t.isHit=!1,t.visible=t.splineName==this.activeSpline,t.castable=t.splineName==this.activeSpline,t.program.uniforms.uAlpha.value=0});const e=this.raycast.intersectBounds(this.gizmosMeshes);if(e.forEach(t=>t.isHit=!0),e.length>0&&(this.raycastHit=e[0],this.raycastHit.point&&(this.raycastHit.program.uniforms.uAlpha.value=1,this.raycastHit.point.program.uniforms.uAlpha.value=1)),this.needsDrag){const t=this.dragAxis.axis,i=parseInt(this.dragAxis.name.split("_")[2]);ql(Zf,this.scene.camera.worldPosition,this.dragActiveGroup.worldPosition),t=="X+"?this.dragActiveGroup.position.x+=mt.velocity[0]*(this.scene.width/this.scene.dpr)*.5*Math.sign(Zf[2])*Qf:t=="Y+"?this.dragActiveGroup.position.y+=mt.velocity[1]*(this.scene.height/this.scene.dpr)*-.5*Qf:t=="Z+"&&(this.dragActiveGroup.position.z+=mt.velocity[0]*(this.scene.width/this.scene.dpr)*-.5*Math.sign(Zf[0])*Qf),Sn(this.data[this.dragAxis.splineName].points[i],this.dragActiveGroup.position),this.updateSpline(this.dragAxis.splineName)}}render(){this.preRender(),this.scene.renderer.render({scene:this.root,camera:this.scene.camera,clear:!1,frustumCull:!1,sort:!1})}}class mO{constructor(e){this.scene=e,this.debugMeshes=[],this.root=new Un}onLoaded(){Sn(this.root.position,this.scene.root.position),Sn(this.root.rotation,this.scene.root.rotation),Sn(this.root.scale,this.scene.root.scale),this.initSplineEditor()}initSplineEditor(){this.splineEditor=new pO(this.scene,this)}createDebugProgram(){let e=new qn(fn.debugUnlit);return new Kn(this.scene.gl,{vertex:e.vert,fragment:e.frag,transparent:!0,uniforms:{uColor:{value:new Xe("#FF0000")},uAlpha:{value:1}}})}createDebugAxis(e,t="#FF0000",i=1,s="Z+",r=this.root){let o=new li(this.scene.gl,{position:{size:3,data:new Float32Array(Jf.vertices)},uv:{size:2,data:new Float32Array(Jf.uvs)},index:{data:new Uint16Array(Jf.indices)}}),a=this.createDebugProgram();a.uniforms.uColor.value=new Xe(t),a.uniforms.uAlpha.value=i;let c=new sn(this.scene.gl,{geometry:o,program:a});return c.alpha=i,c.setParent(r),e.x?c.scale.set(e.x,e.y,e.z):c.scale.set(e,e,e),c.axis=s,this.debugMeshes.push(c),s=="X+"?c.rotation.y=-Math.PI/2:s=="Y+"&&(c.rotation.x=Math.PI/2),c}createDebugCube(e,t="#FF0000",i=1,s=this.root){let r=this.createDebugProgram();r.uniforms.uColor.value=new Xe(t),r.uniforms.uAlpha.value=i;let o=new sn(this.scene.gl,{geometry:new oO(this.scene.gl,1,1,1),program:r});return o.setParent(s),o.alpha=i,e.x?o.scale.set(e.x,e.y,e.z):o.scale.set(e,e,e),this.debugMeshes.push(o),o}createDebugCamera(e,t="#FFFFFF",i=1,s=this.root){let r=this.createDebugProgram();r.uniforms.uColor.value=new Xe(t),r.uniforms.uAlpha.value=i;let o=new li(this.scene.gl,{position:{size:3,data:new Float32Array(Xf.vertices)},uv:{size:2,data:new Float32Array(Xf.uvs)},index:{data:new Uint16Array(Xf.indices)}}),a=new sn(this.scene.gl,{geometry:o,program:r});return a.setParent(s),a.alpha=i,e.x?a.scale.set(e.x,e.y,e.z):a.scale.set(e,e,e),this.debugMeshes.push(a),a}createDebugSpline(e,t){const i=t.getPoints(),s={Camera_Spline:"#f00",Lookat_Spline:"#0f0",Light_Spline:"#00f"},r=new f4(this.scene.gl,{points:i,uniforms:{uColor:{value:new Xe(s[e.name])},uThickness:{value:1.5}}}),o=new sn(this.scene.gl,{geometry:r.geometry,program:r.program});o.position.set(e.translate[0],e.translate[1],e.translate[2]),o.rotation.set(e.rotation[0],e.rotation[1],e.rotation[2]),o.scale.set(e.scale[0],e.scale[1],e.scale[2]),o.setParent(this.scene.root),o.visible=this.sceneConfig.Splines_Debug.value=="on",this.debugMeshes.push(o)}render(){var e;this.scene.renderer.render({scene:this.root,camera:this.scene.camera,clear:!1,frustumCull:!1,sort:!1}),(e=this.splineEditor)==null||e.render()}}const _O=[[-14.747112274169922,11084863444921211e-22,1.850000023841858],[-2.799999952316284,11.5,3],[0,11.75,3],[2.799999952316284,11.5,3],[8.113064765930176,8.703104019165039,2.5],[12.868993759155273,2.2865962982177734,2],[18.75692367553711,.24595968425273895,1.85],[28.174442291259766,0,2.75],[18,0,2],[12.91537094116211,-2.6024746894836426,2.25],[8.453042030334473,-8.91465950012207,2.75],[-11084863444921211e-22,-12,3],[-10.699999809265137,-7.699999809265137,1.75]],gO=[[-14.747112274169922,11084863444921211e-22,1.850000023841858],[-2.799999952316284,11.5,3],[0,11.75,3],[2.799999952316284,11.5,3],[8.113064765930176,8.703104019165039,2.5],[12.868993759155273,2.2865962982177734,2],[18.75692367553711,.24595968425273895,1.85],[29.5,0,2.75],[18,0,2],[12.91537094116211,-2.6024746894836426,2.25],[8.453042030334473,-8.91465950012207,2.75],[-11084863444921211e-22,-12,3],[-10.699999809265137,-7.699999809265137,1.75]],vO=[[-41.5159797668457,-2432430790122453e-22,2.467794418334961],[-32.659751892089844,-12162153950612264e-23,4],[-28.00914764404297,-.19577234983444214,4],[-26.604631423950195,1.479650616645813,4],[-26.877910614013672,4.686384677886963,3.9699289798736572],[-24.78449249267578,5.445197105407715,2.78358793258667],[-22.619415283203125,3.96125864982605,2.1244232654571533],[-21.60150909423828,0,2.11965274810791],[-17.29950714111328,0,1.727759599685669],[-14.747112274169922,0,1.85]],u2=[{name:"tree",target:0,start:0,end:.015,active:!1},{name:"screen_left",target:.045,start:.043,end:.18,active:!1},{name:"statues",target:.32,start:.3,end:.44,active:!1},{name:"screen_tree",target:.535,start:.53,end:.575,active:!1},{name:"screen_right",target:.62,start:.615,end:.75,active:!1},{name:"table",target:.83,start:.79,end:.85,active:!1},{name:"end",target:.89,start:.888,end:1,active:!1}],bO=[{name:"screen_left",follow:new oe(0,3,-10),lookat:new oe(0,7,-20),target:.045,start:.043,end:.25,active:!1},{name:"screen_left_2",follow:new oe(0,3,-12),lookat:new oe(0,7,-20),target:.15,start:.13,end:.17,active:!1},{name:"screen_tree",follow:new oe(18,2,0),lookat:new oe(6,5.5,0),target:.57,start:.53,end:.62,active:!1},{name:"screen_right",follow:new oe(0,3,12),lookat:new oe(0,6.5,22),target:.75,start:.72,end:.78,active:!1},{name:"table",follow:new oe(-10.7,1.75,7.7),lookat:new oe(-13.65,1.5,9.7),target:.87,start:.84,end:.89,active:!1}],yO=[{name:"screen_left",follow:new oe(0,3,-10),lookat:new oe(0,7,-20),target:.045,start:.043,end:.25,active:!1},{name:"screen_left_1",follow:new oe(-2.8,3,-11.5),lookat:new oe(-5.35,7,-20),target:.1,start:.08,end:.13,active:!1},{name:"screen_left_2",follow:new oe(0,3,-12),lookat:new oe(0,7,-20),target:.15,start:.13,end:.17,active:!1},{name:"screen_left_3",follow:new oe(2.8,3,-11.5),lookat:new oe(5.35,7,-20),target:.2,start:.17,end:.22,active:!1},{name:"screen_tree",follow:new oe(18,2,0),lookat:new oe(6,5.5,0),target:.57,start:.53,end:.62,active:!1},{name:"screen_right",follow:new oe(0,3,12),lookat:new oe(0,6.5,22),target:.75,start:.72,end:.78,active:!1},{name:"table",follow:new oe(-10.7,1.75,7.7),lookat:new oe(-13.65,1.5,9.7),target:.87,start:.84,end:.89,active:!1}],wO=[{name:"tree",target:0,start:0,end:.015},{name:"screen_left",target:.045,start:.043,end:.055},{name:"screen_left_2",target:.13,start:.11,end:.14},{name:"statues",target:.32,start:.3,end:.34},{name:"statues_2",target:.38,start:.37,end:.39},{name:"screen_tree",target:.535,start:.53,end:.575},{name:"screen_right",target:.62,start:.615,end:.65},{name:"screen_right_2",target:.69,start:.67,end:.7},{name:"table",target:.83,start:.79,end:.85},{name:"end",target:.89,start:.888,end:1}],CO=[{name:"tree",target:0,start:0,end:.015},{name:"screen_left",target:.045,start:.043,end:.055},{name:"screen_left_1",target:.07,start:.065,end:.11},{name:"screen_left_2",target:.13,start:.11,end:.14},{name:"screen_left_3",target:.15,start:.14,end:.17},{name:"statues",target:.32,start:.3,end:.34},{name:"statues_1",target:.355,start:.35,end:.37},{name:"statues_2",target:.38,start:.37,end:.39},{name:"statues_3",target:.407,start:.39,end:.44},{name:"screen_tree",target:.535,start:.53,end:.575},{name:"screen_right",target:.62,start:.615,end:.65},{name:"screen_right_1",target:.665,start:.655,end:.67},{name:"screen_right_2",target:.69,start:.67,end:.7},{name:"screen_right_3",target:.72,start:.7,end:.75},{name:"table",target:.83,start:.79,end:.85},{name:"end",target:.89,start:.888,end:1}];cs();let Yf=165;const ep=60,tp=1;class xO extends Wb{constructor(e,t=null){super(e,t),this.manager=t,this.renderer=t.renderer,this.time=0,this.dt=0,this.drawcalls=0,this.animFrame=0,this.animTime=0,this.direction=1,this.timescale=1,this.forceAllDraw=!0,this.progress=0,this.progressOverride=!1,this.progressDelta=0,this.progressTarget=1e-5,this.progressIntro=0,this.introFactor=1,this.hasShowedEnd=!1,this.root=new Un,this.UIroot=new Un,this.debugManager=new mO(this),this.initCameras(),this.preventScroll=!0,this.savedPreventScroll=!0,this.lastWheel=0,this.raycast=new d4(this.gl),this.raycastMouse=new Ot,this.raycastMeshes=[],this.clearColor=this.manager.clearColor,this.loaded=!1,this.active=!1,this.ready=!1,this.pendingReadyMeshes=[],this.pendingReadyMeshesPassed=[],this.textureLoader=new jb(this),this.meshes=[],this.entranceMeshes=[],this.skinedMeshes=[],this.nodes=[],this.trackers=[],this.splines={},this.domElements={},this.isMobile=Hi,this.currentWaypoint=-1,this.waypoints=u2,this.hasMagnet=!1,this.currentMagnet=null,this.magnets=Hi?yO:bO,this.currentControlPoint=-1,this.controlPoints=Hi?CO:wO,this.root.scale.set(1,1,1),this.UIroot.position.x=-(this.width/this.dpr)/2,this.UIroot.position.y=this.height/this.dpr/2+window.pageYOffset,this.config={Pause:{value:!1,type:"bool"},time_scale:{value:1.5,params:{min:0,max:3,step:.01}},scroll_damping:{value:.05,params:{min:0,max:1,step:.01}},scroll_speed:{value:5,params:{min:0,max:10,step:.1}},reflectionHeight:{value:1.75,params:{min:0,max:10,step:.01}},reflectionAlphaMin:{value:100,params:{min:0,max:1e3,step:1}},reflectionAlphaLimit:{value:1e3,params:{min:0,max:1e3,step:1}}},this.initHotspots(),this.initGodrays(),this.addEventListeners(),mt.lockWheel(),ze.addBlade(this.config,"Global Settings"),ze.queryDebug("noui")&&(document.querySelector(".ui").style.display="none",mt.unlockWheel())}initCameras(){this.cameraManager=new nO(this.gl,{width:this.width,height:this.height,scene:this,debug:ze.active,orbit:ze.queryDebug("orbit")}),this.camera=this.cameraManager.camera,this.uiCamera=new J0(this.gl,{near:.1,far:20,left:window.innerWidth/-2,right:window.innerWidth/2,bottom:window.innerHeight/-2,top:window.innerHeight/2}),this.uiCamera.position.z=10}initCameraTracks(){const e=new nc(this.parseCameraPoints(Hi?gO:_O,!0));e.generate(),this.cameraManager.addSpline(e,"camera");const t=new nc(this.parseCameraPoints(vO));t.generate(),this.cameraManager.addSpline(t,"cameraIntro")}parseCameraPoints(e,t=!1){const i=[];return e.forEach(s=>{i.push([s[0]*tp,s[2]*tp,-s[1]*tp])}),t&&i.push(i[0]),i}initGodrays(){this.godrays=new NP(this),this.meshes.push(this.godrays)}initHotspots(){this.hotspotManager=new iO(this.gl,{width:this.width,height:this.height,scene:this,debug:ze.active})}enableMagnet(e=!1){this.hasMagnet=!0,this.timeoutMagnet=setTimeout(()=>{this.currentMagnet&&this.cameraManager.enableMagnet(this.magnets[this.currentMagnet],e)},1e3)}disableMagnet(e=!1){this.hasMagnet=!1,this.timeoutMagnet&&clearTimeout(this.timeoutMagnet),this.cameraManager.disableMagnet(e)}setDomElement(e,t,i){this.domElements[t]=e,this.domElements[t].options=i}removeDomElement(e){this.domElements[e]=null}postFirstDraw(){}activate(){return new Promise(e=>{this.active=!0,this.activationResolve=e,this.postFirstDraw()})}onLoaded(){let e=[];for(let i=0;i<this.meshes.length;i++)this.meshes[i].getFirstDrawPromise&&e.push(this.meshes[i].getFirstDrawPromise());let t=0;for(let i=0;i<e.length;i++)e[i].then(s=>{t++;const r=Math.round(t/e.length*100),o=Math.round(90+r*.1);this._emitter.emit("first-draw-progress",r),this._emitter.emit("progress",o),ue.emit("loading_progress",{progress:o})});Promise.all(e).then(()=>{this.ready=!0,ue.emit("webgl_loaded"),this.startPerfsTest()}),this.active=!0,this._emitter.emit("loaded");for(let i=0;i<this.meshes.length;i++)this.meshes[i].onLoaded();this.bloomPass=new GP(this,this.post),this.post.onLoaded(),ze.onLoaded(),ze.pane.refresh(),this.debugManager.onLoaded(),this.initCameraTracks()}async load(){const e=Object.keys(bt.unlit)||[];let t=[],i=new VP(this,{meshId:1});this.meshes.push(i),this.post=new qP(this);for(const o in bt.main)if(bt.main.hasOwnProperty(o)&&bt.main[o].url){const a=bt.main[o].url;t.push(this.textureLoader.load(a,o,bt.main[o].options))}if(!ze.queryDebug("notextures")){for(const o in bt.pbr)if(bt.pbr.hasOwnProperty(o)&&bt.pbr[o].url){const a=bt.pbr[o].url;t.push(this.textureLoader.load(a,o,bt.pbr[o].options))}for(const o in bt.unlit)if(bt.unlit.hasOwnProperty(o)&&bt.unlit[o].url){const a=bt.unlit[o].url;t.push(this.textureLoader.load(a,o,bt.unlit[o].options))}for(const o in bt.screens)if(bt.screens.hasOwnProperty(o)&&bt.screens[o].url){const a=bt.screens[o].url;t.push(this.textureLoader.load(a,o,bt.screens[o].options))}}let s="/zerolimits/glxp/models/wakanda_scene_09_draco";t.push(new Vk(s+".glb").then(o=>{var u,h,f;let a=new Un;a.scale.set(1,1,1),a.setParent(this.root);let c={};for(let m=0;m<o.nodes.length;m++){const _=o.nodes[m];if(_.children&&_.children.length>0){c[_.name]={transform:new Un,childrenIds:[]},c[_.name].transform.position.copy(_.translation),c[_.name].transform.scale.copy(_.scale),c[_.name].transform.quaternion.x=_.rotation[0],c[_.name].transform.quaternion.y=_.rotation[1],c[_.name].transform.quaternion.z=_.rotation[2],c[_.name].transform.quaternion.w=_.rotation[3],c[_.name].transform.setParent(a),c[_.name].transform.updateMatrixWorld(!0);for(let y=0;y<_.children.length;y++)c[_.name].childrenIds.push(_.children[y].name)}}for(let m=0;m<o.nodes.length;m++){const _=o.nodes[m];if(_.mesh!==void 0){const y=_.mesh,w=y.name;if(y.primitives[0].material){const x=y.primitives[0].material.name;let M=this.getParentInNodeTree(c,_.name),P;const F=_.name.includes("Hall")||_.name.includes("Statue")?Sr.CONFIG_HALL:Sr.CONFIG_ENTRANCE,E={id:1,parent:M!==void 0?M:a,gltf:o,name:w,node:_,fog:!1};ze.queryDebug("notextures")?P=new _v(this,y,"test",bi(et({},E),{materialName:"test",material:(u=bt.main[x])==null?void 0:u.material,globalConfig:F})):x==="M_Screens"?P=new kP(this,y,et({},E)):e.includes(x)?P=new _v(this,y,bt.unlit[x]!==void 0?x:"test",bi(et({},E),{shaderName:this.getUnlitShader(x),materialName:x,material:(h=bt.unlit[x])==null?void 0:h.material,globalConfig:F})):P=new LP(this,y,"testPng",bi(et({},E),{materialName:x,material:(f=bt.pbr[x])==null?void 0:f.material,globalConfig:F})),this.meshes.push(P),_.name.indexOf("Entrance_")===0&&this.entranceMeshes.push(P),_.name==="Door_L"&&(this.doorLeft=P),_.name==="Door_R"&&(this.doorRight=P),_.name==="Hall_Neon_Tree_01"&&(this.neonTreeTop=P),_.name==="Hall_Neon_Tree_02"&&(this.neonTreeBot=P),_.name==="Screen_Trailer"&&(this.screenTrailer=P,this.screenTrailer.mesh.renderOrder=2)}}}})),this.animations={},Promise.all(t).then(()=>{this.onLoaded()});let r=0;for(let o=0;o<t.length;o++)t[o].then(()=>{r++;const a=Math.round(r/t.length*90);this._emitter.emit("progress",a),ue.emit("loading_progress",{progress:a})})}applyDefaultState(){let e=this.gl;e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.enable(e.BLEND),e.enable(e.DEPTH_TEST),e.depthMask(!0)}getUnlitShader(e){return["M_Entrance_Plants_Outside","M_Branch_01","M_Branch_02","M_Branch_03","M_Hall_Foliage_01","M_Hall_Foliage_02","M_Hall_Foliage_03"].includes(e)?"branch":e.includes("M_Table_Screen")?"tableScreen":"unlit"}startPerfsTest(){this.perfsTimes=[],this.isTestingPerfs=!0,setTimeout(()=>{this.stopPerfsTest()},5e3)}stopPerfsTest(){this.isTestingPerfs=!1;let e=null,t=!0;this.perfsTimes.length>0&&(e=this.perfsTimes.reduce((i,s)=>i+s)/this.perfsTimes.length,t=e>=20),ue.emit("perfs_test",{averageDt:e,isDeviceSlow:t})}startIntro(){this.preventScroll=!0,mt.lockWheel();const e=ut.timeline();this.cameraManager.disableIntroLookat(),e.to(this,{progressIntro:1,duration:8.5,ease:"Quad.easeInOut"},0),e.call(()=>{ue.emit("introduction_show"),this.handleIntroFinish()})}completeTutorial(){const e=ut.timeline();e.to(this,{introFactor:0,duration:1,ease:"Quad.easeInOut"},"-=0.5"),e.call(()=>{this.preventScroll=!1,mt.unlockWheel()})}goToProgress(e,t){if(this.progressOverride)return;this.progressOverride=!0,this.handleScrollDisable(),this.disableMagnet();let i=2;t?i=t:(i=Math.abs(e-this.progress)*15,i=Math.max(1.5,i),i=Math.min(3,i)),ut.to(this,{progress:e,duration:i,ease:"Power1.easeOut",onComplete:()=>{this.handleScrollEnable(),this.progressTarget=this.progress,this.progressOverride=!1}})}addEventListeners(){mt.emitter.on("wheel",this.handleProgressChange.bind(this)),mt.emitter.on("drag",this.handleProgressChange.bind(this)),ue.on("intro_start",this.startIntro.bind(this)),ue.on("tutorial_complete",this.completeTutorial.bind(this)),ue.on("waypoint_seek",this.seekWaypoint.bind(this)),ue.on("controls_prev",this.handleControlsPrev.bind(this)),ue.on("controls_next",this.handleControlsNext.bind(this)),ue.on("scroll_enable",this.handleScrollEnable.bind(this)),ue.on("scroll_disable",this.handleScrollDisable.bind(this))}resize(){let e=window.innerWidth,t=window.innerHeight;this.uiCamera.orthographic({near:.1,far:10,left:e/-2,right:e/2,bottom:t/-2,top:t/2}),this.UIroot.position.x=-(this.width/this.dpr)/2,this.UIroot.position.y=this.height/this.dpr/2+window.pageYOffset,this.cameraManager.resize(this.width,this.height),this.hotspotManager.resize(this.width,this.height)}handleProgressChange(){this.hasMagnet&&(this.disableMagnet(),this.enableMagnet())}seekWaypoint(e,t=!1){const i=this.waypoints.find(r=>r.name===e.name),s=Math.floor(this.progressTarget);i&&(t?this.goToProgress(s+i.target,3):(this.disableMagnet(!0),this.progress=i.target,this.progressTarget=this.progress,this.savedPreventScroll=!1))}handleIntroFinish(){this.entranceMeshes.forEach(e=>{e.dispose()}),this.godrays.disposeEntrance(),this.doorLeft.globalConfig=Sr.CONFIG_HALL_DOORS,this.doorRight.globalConfig=Sr.CONFIG_HALL_DOORS}handleControlsPrev(){const e=Math.floor(this.progressTarget),t=this.progressTarget%1;let i=this.progressTarget,s;t>this.controlPoints[this.currentControlPoint].end?(s=this.controlPoints[this.currentControlPoint],i=e+s.target):this.currentControlPoint>0?(s=this.controlPoints[this.currentControlPoint-1],i=e+s.target):e>0&&(s=this.controlPoints[this.controlPoints.length-2],i=e-1+s.target),this.goToProgress(i)}handleControlsNext(){let e=Math.floor(this.progressTarget),t=this.progressTarget;this.currentControlPoint===this.controlPoints.length-1&&(e+=1);const i=this.controlPoints[(this.currentControlPoint+1)%this.controlPoints.length];t=e+i.target,this.goToProgress(t)}handleScrollEnable(){this.preventScroll=!1,mt.unlockWheel()}handleScrollDisable(){this.savedPreventScroll=this.preventScroll,this.preventScroll=!0,mt.lockWheel()}runCameraProgress(){if(!this.preventScroll){let e=mt.normalizeWheel-this.lastWheel;this.progressTarget+=e,this.progressTarget=Math.max(0,this.progressTarget),this.lastWheel=mt.normalizeWheel}}preRenderEntities(){const e=this.progress%1;if(this.doorLeft&&this.doorRight&&this.progressIntro<=.15){let t=oh(this.progressIntro,.025,.1,0,1);t=rh(t,0,1),this.doorLeft.mesh.rotation.y=-Math.PI*.4*t,this.doorRight.mesh.rotation.y=Math.PI*.4*t}this.doorLeft&&this.doorRight&&this.progressIntro>.2&&this.doorLeft.mesh.rotation.y!==0&&(this.doorLeft.mesh.rotation.y=0,this.doorRight.mesh.rotation.y=0),this.neonTreeTop&&(this.neonTreeTop.mesh.rotation.y+=.005),this.neonTreeBot&&(this.neonTreeBot.mesh.rotation.y-=.005),this.screenTrailer.mesh.renderOrder<10&&e>=.25&&e<=.85?this.screenTrailer.mesh.renderOrder=20:this.screenTrailer.mesh.renderOrder>10&&(e<.25||e>.85)&&(this.screenTrailer.mesh.renderOrder=2)}preRenderPOIs(){const e=this.progress%1;for(let t=0;t<this.waypoints.length;t+=1)this.waypoints[t].active?(e<this.waypoints[t].start||e>this.waypoints[t].end)&&(this.waypoints[t].active=!1,e<this.waypoints[0].start&&(this.currentWaypoint=-1),ue.emit("waypoint_leave",{id:this.waypoints[t].name,key:t})):e>=this.waypoints[t].start&&e<=this.waypoints[t].end&&(this.waypoints[t].active=!0,this.currentWaypoint=t,ue.emit("waypoint_enter",{id:this.waypoints[t].name,key:t}));for(let t=0;t<this.controlPoints.length;t+=1)e>=this.controlPoints[t].start&&e<=this.controlPoints[t].end&&this.currentControlPoint!==t&&(this.currentControlPoint=t,ue.emit("control_point",this.controlPoints[t]));!this.hasShowedEnd&&this.currentControlPoint===this.controlPoints.length-1&&(this.hasShowedEnd=!0,ue.emit("progress_end"))}preRender(){if(this.runCameraProgress(),!this.progressOverride){let e;e=this.progressTarget-this.progress,this.progressDelta=e,e*=this.config.scroll_damping.value,this.timescale=this.config.time_scale.value,this.config.Pause.value||(this.animTime+=this.dt/1e3*(1/ep*1e3/this.dt)*this.timescale,this.animTime=this.animTime%(Yf/ep),this.animFrame=Math.round(this.animTime/(Yf/ep)*Yf)),this.direction=this.progress+e>this.progress?0:-1,this.progress+=e}this.introFactor===0&&this.preRenderPOIs(),this.preRenderEntities();for(let e=0;e<this.meshes.length;e++)this.meshes[e].preRender();this.cameraManager.preRender(),this.UIroot.updateMatrixWorld(!0)}render(){if(!this.active)return;let e=this.gl;if(this.time+=oi.dt/1e3,this.dt=oi.dt,this.isTestingPerfs&&this.perfsTimes.push(this.dt),this.preRender(),!this.ready){this.pendingReadyMeshes.length>0&&(this.pendingReadyMeshes[0].drawInit(),this.pendingReadyMeshesPassed.push(this.pendingReadyMeshes.shift()));for(let t=0;t<this.pendingReadyMeshesPassed.length;t++)this.pendingReadyMeshesPassed[t].drawInit();return}e.viewport(0,0,this.width,this.height),this.camera.perspective({aspect:this.width/this.height}),this.renderer.setViewport(this.width,this.height),this.renderer.render({scene:this.root,camera:this.camera,clear:!0,frustumCull:!0,sort:!0,post:this.post}),this.bloomPass.render(),this.post.render(),this.debugManager.render(),this.postRender()}postRender(){this.gl.viewport(0,0,this.width,this.height),this.drawcalls++,this.forceAllDraw&&this.drawcalls>40&&(this.forceAllDraw=!1,this.activationResolve()),this.hotspotManager.update()}}function np(n,e,t,i){return new(t||(t=Promise))(function(s,r){function o(u){try{c(i.next(u))}catch(h){r(h)}}function a(u){try{c(i.throw(u))}catch(h){r(h)}}function c(u){var h;u.done?s(u.value):(h=u.value,h instanceof t?h:new t(function(f){f(h)})).then(o,a)}c((i=i.apply(n,e||[])).next())})}const EO=["geforce 320m","geforce 8600","geforce 8600m gt","geforce 8800 gs","geforce 8800 gt","geforce 9400","geforce 9400m g","geforce 9400m","geforce 9600m gt","geforce 9600m","geforce fx go5200","geforce gt 120","geforce gt 130","geforce gt 330m","geforce gtx 285","google swiftshader","intel g41","intel g45","intel gma 4500mhd","intel gma x3100","intel hd 3000","intel q45","legacy","mali-2","mali-3","mali-4","quadro fx 1500","quadro fx 4","quadro fx 5","radeon hd 2400","radeon hd 2600","radeon hd 4670","radeon hd 4850","radeon hd 4870","radeon hd 5670","radeon hd 5750","radeon hd 6290","radeon hd 6300","radeon hd 6310","radeon hd 6320","radeon hd 6490m","radeon hd 6630m","radeon hd 6750m","radeon hd 6770m","radeon hd 6970m","sgx 543","sgx543"];function h2(n){return n=n.toLowerCase().replace(/^angle ?\((.+)\)*$/,"$1").replace(/\s(\d{1,2}gb|direct3d.+$)|\(r\)| \([^)]+\)$/g,"")}const p4=typeof window=="undefined",Is=(()=>{if(p4)return;const{userAgent:n,platform:e,maxTouchPoints:t}=window.navigator,i=/(iphone|ipod|ipad)/i.test(n),s=e==="iPad"||e==="MacIntel"&&t>0&&!window.MSStream;return{isIpad:s,isMobile:/android/i.test(n)||i||s,isSafari12:/Version\/12.+Safari/.test(n)}})();function AO(n,e,t){if(!t)return[e];const i=function(u){const h=`
    precision highp float;
    attribute vec3 aPosition;
    varying float vvv;
    void main() {
      vvv = 0.31622776601683794;
      gl_Position = vec4(aPosition, 1.0);
    }
  `,f=`
    precision highp float;
    varying float vvv;
    void main() {
      vec4 enc = vec4(1.0, 255.0, 65025.0, 16581375.0) * vvv;
      enc = fract(enc);
      enc -= enc.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);
      gl_FragColor = enc;
    }
  `,m=u.createShader(35633),_=u.createShader(35632),y=u.createProgram();if(!(_&&m&&y))return;u.shaderSource(m,h),u.shaderSource(_,f),u.compileShader(m),u.compileShader(_),u.attachShader(y,m),u.attachShader(y,_),u.linkProgram(y),u.detachShader(y,m),u.detachShader(y,_),u.deleteShader(m),u.deleteShader(_),u.useProgram(y);const w=u.createBuffer();u.bindBuffer(34962,w),u.bufferData(34962,new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),35044);const x=u.getAttribLocation(y,"aPosition");u.vertexAttribPointer(x,3,5126,!1,0,0),u.enableVertexAttribArray(x),u.clearColor(1,1,1,1),u.clear(16384),u.viewport(0,0,1,1),u.drawArrays(4,0,3);const M=new Uint8Array(4);return u.readPixels(0,0,1,1,6408,5121,M),u.deleteProgram(y),u.deleteBuffer(w),M.join("")}(n),s="801621810",r="8016218135",o="80162181161",a=Is!=null&&Is.isIpad?[["a7",o,12],["a8",r,15],["a8x",r,15],["a9",r,15],["a9x",r,15],["a10",r,15],["a10x",r,15],["a12",s,15],["a12x",s,15],["a12z",s,15],["a14",s,15],["m1",s,15]]:[["a7",o,12],["a8",r,12],["a9",r,15],["a10",r,15],["a11",s,15],["a12",s,15],["a13",s,15],["a14",s,15]];let c;return i==="80162181255"?c=a.filter(([,,u])=>u>=14):(c=a.filter(([,u])=>u===i),c.length||(c=a)),c.map(([u])=>`apple ${u} gpu`)}const ip=[],d2=[];function DO(n,e){if(n===e)return 0;const t=n;n.length>e.length&&(n=e,e=t);let i=n.length,s=e.length;for(;i>0&&n.charCodeAt(~-i)===e.charCodeAt(~-s);)i--,s--;let r,o=0;for(;o<i&&n.charCodeAt(o)===e.charCodeAt(o);)o++;if(i-=o,s-=o,i===0)return s;let a,c,u=0,h=0,f=0;for(;h<i;)d2[h]=n.charCodeAt(o+h),ip[h]=++h;for(;f<s;)for(r=e.charCodeAt(o+f),a=f++,u=f,h=0;h<i;h++)c=r===d2[h]?a:a+1,a=ip[h],u=ip[h]=a>u?c>u?u+1:c:c>a?a+1:c;return u}function SO(n){return n!=null}class f2 extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}const TO=({mobileTiers:n=[0,15,30,60],desktopTiers:e=[0,15,30,60],override:t={},glContext:i,failIfMajorPerformanceCaveat:s=!1,benchmarksURL:r="https://unpkg.com/detect-gpu@4.0.17/dist/benchmarks"}={})=>np(void 0,void 0,void 0,function*(){const o={};if(p4)return{tier:0,type:"SSR"};const{isIpad:a=!!(Is!=null&&Is.isIpad),isMobile:c=!!(Is!=null&&Is.isMobile),screenSize:u=window.screen,loadBenchmarks:h=D=>np(void 0,void 0,void 0,function*(){const B=yield fetch(`${r}/${D}`).then(I=>I.json());if(parseInt(B.shift().split(".")[0],10)<4)throw new f2("Detect GPU benchmark data is out of date. Please update to version 4x");return B})}=t;let{renderer:f}=t;const m=(D,B,I,L,k)=>({device:k,fps:L,gpu:I,isMobile:c,tier:D,type:B});let _,y="";if(f)f=h2(f),_=[f];else{const D=i||function(I,L=!1){const k={alpha:!1,antialias:!1,depth:!1,failIfMajorPerformanceCaveat:L,powerPreference:"high-performance",stencil:!1};I&&delete k.powerPreference;const W=window.document.createElement("canvas"),K=W.getContext("webgl",k)||W.getContext("experimental-webgl",k);return K!=null?K:void 0}(Is==null?void 0:Is.isSafari12,s);if(!D)return m(0,"WEBGL_UNSUPPORTED");const B=D.getExtension("WEBGL_debug_renderer_info");if(B&&(f=D.getParameter(B.UNMASKED_RENDERER_WEBGL)),!f)return m(1,"FALLBACK");y=f,f=h2(f),_=function(I,L,k){return L==="apple gpu"?AO(I,L,k):[L]}(D,f,c)}const w=(yield Promise.all(_.map(D=>np(void 0,void 0,void 0,function*(){var B;const I=(De=>{const ce=c?["adreno","apple","mali-t","mali","nvidia","powervr"]:["intel","apple","amd","radeon","nvidia","geforce"];for(const Te of ce)if(De.includes(Te))return Te})(D);if(!I)return;const L=`${c?"m":"d"}-${I}${a?"-ipad":""}.json`,k=o[L]=(B=o[L])!==null&&B!==void 0?B:h(L);let W;try{W=yield k}catch(De){if(De instanceof f2)throw De;return}const K=function(De){var ce;const Te=(De=De.replace(/\([^)]+\)/,"")).match(/\d+/)||De.match(/(\W|^)([A-Za-z]{1,3})(\W|$)/g);return(ce=Te==null?void 0:Te.join("").replace(/\W|amd/g,""))!==null&&ce!==void 0?ce:""}(D);let R=W.filter(([,De])=>De===K);R.length||(R=W.filter(([De])=>De.includes(D)));const G=R.length;if(G===0)return;let O,[j,,,$]=G>1?R.map(De=>[De,DO(D,De[0])]).sort(([,De],[,ce])=>De-ce)[0][0]:R[0],se=Number.MAX_VALUE;const{devicePixelRatio:X}=window,Le=u.width*X*u.height*X;for(const De of $){const[ce,Te]=De,re=ce*Te,fe=Math.abs(Le-re);fe<se&&(se=fe,O=De)}if(!O)return;const[,,Pe,He]=O;return[se,Pe,j,He]})))).filter(SO).sort(([D=Number.MAX_VALUE,B],[I=Number.MAX_VALUE,L])=>D===I?B-L:D-I);if(!w.length){const D=EO.find(B=>f.includes(B));return D?m(0,"BLOCKLISTED",D):m(1,"FALLBACK",`${f} (${y})`)}const[,x,M,P]=w[0];if(x===-1)return m(0,"BLOCKLISTED",M,x,P);const F=c?n:e;let E=0;for(let D=0;D<F.length;D++)x>=F[D]&&(E=D);return m(E,"BENCHMARK",M,x,P)});class MO{constructor(){this.scenes={},this.initialized=!1,this.mobile=!1,this.clearColor=[0,0,0,0],window.GLXP=this,this._emitter={},sc(this._emitter),this.on=this._emitter.on.bind(this._emitter)}init(e){return this.dpr=Math.max(Math.min(window.devicePixelRatio,2),1),this.width=e.offsetWidth*this.dpr,this.height=e.offsetHeight*this.dpr,this.container=e,this.catchContext(),this.initialized=!0,this.mobile=typeof window.orientation!="undefined"||navigator.userAgent.indexOf("IEMobile")!==-1,this.initScenes(),window.addEventListener("resize",()=>{this.resize()}),this}initScenes(){this.addScene("main",xO)}addScene(e,t){this.scenes[e]={scene:new t(this.container,this),active:!1,callbackCanvas:null}}registerCallbackCanvas(e,t){this.scenes[e].callbackCanvas=t}getScene(e){return this.scenes[e].scene}loadScene(e){if(this.scenes[e].scene.loaded===!1)return new Promise((i,s)=>{this.scenes[e].scene.load(),this.scenes[e].scene.on("loaded",()=>{this.scenes[e].scene.onResize(),i()})})}activate(e){return this.scenes[e].active=!0,this.scenes[e].scene.activate()}resize(){this.width=this.container.offsetWidth*this.dpr,this.height=this.container.offsetHeight*this.dpr,this.renderer.setSize(this.width,this.height)}desactivate(e){this.scenes[e].active=!1,this.gl.clearColor(0,0,0,0),this.gl.clear(this.COLOR_BUFFER_BIT|this.DEPTH_BUFFER_BIT),this.gl.colorMask(!0,!0,!0,!0)}async rankGpu(){this.GPUTier=await TO({glContext:this.gl,mobileBenchmarkPercentages:[0,15,30,60],desktopBenchmarkPercentages:[0,15,30,60]}),console.log(this.GPUTier)}catchContext(){if(this.renderer=new $b({antialias:!1,autoClear:!0}),this.gl=this.renderer.gl,!this.renderer.isWebgl2){let e=this.gl.getExtension("OES_vertex_array_object");e&&(this.gl.createVertexArray=function(){return e.createVertexArrayOES()},this.gl.deleteVertexArray=function(t){e.deleteVertexArrayOES(t)},this.gl.bindVertexArray=function(t){e.bindVertexArrayOES(t)},this.gl.isVertexArray=function(t){return e.isVertexArrayOES(t)}),this.gl.getExtension("OES_standard_derivatives"),this.gl.getExtension("EXT_shader_texture_lod"),this.gl.getExtension("OES_texture_float"),this.gl.getExtension("OES_texture_float_linear"),this.gl.getExtension("OES_texture_half_float"),this.gl.getExtension("OES_texture_half_float_linear"),this.gl.getExtension("EXT_color_buffer_half_float")}this.canvas=this.gl.canvas,this.container.appendChild(this.gl.canvas),this.renderer.setSize(this.width,this.height)}render(){let e=this.gl;e.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.colorMask(!0,!0,!0,!0),this.renderer.drawCalls=0;for(const t in this.scenes)if(this.scenes.hasOwnProperty(t)){const i=this.scenes[t];i.active===!0&&i.scene.render()}}}const Fo=new MO,BO={name:"WebGL",setup(){const n=J(null);function e(){const t=Fo.init(n.value);oi.subscribe("canvas",t.render.bind(t)),Fo.getScene("main"),Fo.loadScene("main").then(()=>{Fo.activate("main")})}return Vt(()=>{ue.on("load_webgl",e)}),{canvas:n}}},PO={ref:"canvas",class:"webgl"};function FO(n,e,t,i,s,r){return ne(),Ee("div",PO,null,512)}var LO=me(BO,[["render",FO]]);function ci(n=""){return n+"_"+Math.random().toString(36).substr(2,9).toUpperCase()}const IO={setup(){return{}}},RO={width:"18",height:"13",viewBox:"0 0 18 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"icon-arrow"},kO=b("path",{d:"M5 2.26904C6.32172 3.2154 10.0474 6.27714 9.99954 6.55548C9.82715 7.5575 6.03439 10.2296 5 10.7306",stroke:"currentColor","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),OO=b("path",{d:"M11.5008 1.5C13.087 2.62923 17.0002 6.27996 17.0002 6.51812C17.0002 7.15217 12.2416 10.9022 11.0002 11.5",stroke:"currentColor","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),NO=b("path",{d:"M16 6.88464L1 6.88464",stroke:"currentColor","stroke-width":"1.2","stroke-linecap":"round"},null,-1),VO=[kO,OO,NO];function HO(n,e,t,i,s,r){return ne(),Ee("svg",RO,VO)}var Hh=me(IO,[["render",HO]]);function zO(n,e){let t={classWord:"word",classWords:"words",classLine:"line",classLetter:"letter",splitWords:!1,splitLetters:!1};Object.assign(t,e);const i=n.querySelectorAll("p"),s=[];i.length?i.forEach(o=>{r(o),n.removeChild(o)}):r(n);function r(o){const c=o.innerHTML.split("<br>");o.innerHTML="",c.forEach(u=>{if(u==="")return!1;const h=document.createElement("div");h.innerHTML=u,h.classList.add(`${t.classLine}-inner`);const f=document.createElement("div");if(f.innerHTML=h.outerHTML,f.classList.add(t.classLine),t.splitWords){const m=u.split(" "),_=document.createElement("div");_.classList.add(t.classLine);let y=!1;m.forEach(w=>{w.indexOf("<strong>")>-1?y=!0:y=!1,w=w.replace(/(<strong>)*/g,""),w=w.replace(/(<\/strong>)*/g,"");const x=document.createElement("span"),M=document.createElement("span");if(M.classList.add(t.classWord,"overflow-hidden","inline-block"),y&&M.classList.add("text-orange-500"),t.splitLetters){const P=w.split(""),F=/[ !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/;for(let E of P){const D=document.createElement("span");F.test(E)&&(y=!1),D.classList.add(t.classLetter),D.classList.add("inline-block"),y&&D.classList.add("text-orange-500"),E===" "&&(E=String.fromCharCode(160)),D.innerText=E,M.appendChild(D),x.appendChild(M)}}else{const P=document.createElement("span");P.classList.add(`${t.classWord}-inner`),P.innerHTML=w,M.appendChild(P),x.appendChild(M)}w!==""&&_.appendChild(M)}),s.push(_)}t.splitLetters&&m4(f,{setClassName:function(){return"char"}}),s.push(f)}),s.forEach(u=>{n.appendChild(u)})}}function m4(n,{tagName:e="span",split:t,setClassName:i=function(s){return"char"}}={}){n.normalize();let s=1;function r(o){const a=o.parentNode,c=o.nodeValue;(t?t(c):c.split("")).forEach(function(h){const f=document.createElement(e),m=i(s++,h);m&&(f.className=m),h===" "?h="&nbsp;":f.setAttribute("data-char",h),f.innerHTML=h,f.setAttribute("aria-hidden","true"),a.insertBefore(f,o)}),c.trim()!==""&&a.setAttribute("aria-label",c),a.removeChild(o)}(function o(a){if(a.nodeType===3)return r(a);const c=Array.prototype.slice.call(a.childNodes);if(c.length===1&&c[0].nodeType===3)return r(c[0]);c.forEach(function(h){o(h)})})(n)}const UO={props:{text:{type:String,required:!0},textLine2:{type:String,default:""}},setup(n){const e=J(!1),t=J(!1),i=J(!1),s=J(null),r=J(null),o=J(n.text);function a(h=!0){i.value=h}function c(){t.value=!1}function u(){t.value=!0}return Vt(()=>{e.value.querySelectorAll(".line").forEach(_=>{_.style="",_.classList.add("line"),m4(_)});const f="AZERTYUIOPQSDFGHJKLMWXCVBN".split(""),m=s.value.querySelectorAll(".line");for(let _=0;_<m.length;_++){const y=m[_].querySelectorAll(".char");for(let w=0;w<y.length;w++)for(let x=0;x<10;x++)y[w].style.setProperty(`--char-${x}`,`"${f[Math.floor(Math.random()*f.length)]}"`)}}),{textTransformed:o,textEl:s,textElOriginal:r,show:i,showText:a,showOriginal:t,onAfterEnter:u,onEnter:c,mainText:e}}},GO={ref:"mainText",class:"text-random"},$O={class:"line"},WO={key:0,class:"line"},jO={class:"line"},qO={key:0,class:"line"};function KO(n,e,t,i,s,r){return ne(),Ee("span",GO,[H(ot,{name:"text-random",duration:1e3,onEnter:i.onEnter,onAfterEnter:i.onAfterEnter},{default:ge(()=>[Ke(b("span",{ref:"textEl",class:Ft([{"is-hidden":i.showOriginal},"text-random__animation"])},[b("span",$O,Ye(t.text),1),t.textLine2!==""?(ne(),Ee("span",WO,Ye(t.textLine2),1)):Si("",!0)],2),[[Je,i.show]])]),_:1},8,["onEnter","onAfterEnter"]),b("span",{ref:"textElOriginal",class:Ft([{"is-hidden":!i.showOriginal},"text-random__original"])},[b("span",jO,Ye(t.text),1),t.textLine2!==""?(ne(),Ee("span",qO,Ye(t.textLine2),1)):Si("",!0)],2)],512)}var X0=me(UO,[["render",KO]]);const JO={props:{offsetX:{type:Number,default:0},offsetY:{type:Number,default:0},height:{type:Number,default:0},width:{type:Number,default:0}},setup(){return{filterId:J(ci("filter"))}}},XO=["filter"],ZO=["id","x","y","width","height"],QO=b("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"},null,-1),YO=b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"},null,-1),eN=b("feGaussianBlur",{stdDeviation:"2.5"},null,-1),tN=b("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.6 0 0 0 0 1 0 0 0 0 0.533333 0 0 0 1 0"},null,-1),nN=b("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"fx1"},null,-1),iN=b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"},null,-1),sN=b("feGaussianBlur",{stdDeviation:"1.5"},null,-1),rN=b("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.6 0 0 0 0 1 0 0 0 0 0.533333 0 0 0 0.7 0"},null,-1),oN=b("feBlend",{mode:"normal",in2:"fx1",result:"fx2"},null,-1),aN=b("feBlend",{mode:"normal",in:"SourceGraphic",in2:"fx2",result:"shape"},null,-1),lN=[QO,YO,eN,tN,nN,iN,sN,rN,oN,aN];function cN(n,e,t,i,s,r){return ne(),Ee("g",null,[b("g",{class:"green-outline",filter:`url(#${i.filterId})`},[pn(n.$slots,"default")],8,XO),b("defs",null,[b("filter",{id:i.filterId,x:t.offsetX,y:t.offsetY,width:t.width,height:t.height,filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},lN,8,ZO)])])}var uN=me(JO,[["render",cN]]);function vn(n=0){return new Promise(function(e){setTimeout(e,n)})}const hN={name:"ButtonElement",components:{IconArrow:Hh,TextRandomizer:X0,GreenOutline:uN},props:{size:{type:String,default:"md"},text:{type:String,required:!0}},setup(n){const e=J(null),t=J(null),i=pt(()=>{switch(n.size){case"lg":return{width:240,height:59};case"xl":return{width:280,height:59};default:return{width:200,height:59}}}),s=pt(()=>{switch(n.size){case"lg":return"M231,53.5H16.3c-0.5,0-1-0.2-1.4-0.6l-8.3-8.3C6.2,44.2,6,43.7,6,43.2V13.5V10c0-2.2,1.8-4,4-4h214.7 c0.5,0,1,0.2,1.4,0.6l8.3,8.3c0.4,0.4,0.6,0.9,0.6,1.4V46v3.5C235,51.7,233.2,53.5,231,53.5";case"xl":return"m270 53.5h-253.7c-.5 0-1-.2-1.4-.6l-8.3-8.3c-.4-.4-.6-.9-.6-1.4v-29.7-3.5c0-2.2 1.8-4 4-4h253.7c.5 0 1 .2 1.4.6l8.3 8.3c.4.4.6.9.6 1.4v29.7 3.5c0 2.2-1.8 4-4 4";default:return"m190 53.5h-173.7c-.5 0-1-.2-1.4-.6l-8.3-8.3c-.4-.4-.6-.9-.6-1.4v-29.7-3.5c0-2.2 1.8-4 4-4h173.7c.5 0 1 .199 1.4.6l8.3 8.3c.4.4.6.9.6 1.4v29.7 3.5c0 2.2-1.8 4-4 4"}});let r=J({md:0,lg:0,xl:0,gap1:7,gap2:13,gap3:25});const o=pt(()=>{switch(n.size){case"lg":return`12 ${r.value.gap1} 38 ${r.value.gap2} 210 ${r.value.gap3} 300 300`;case"xl":return`12 ${r.value.gap1} 38 ${r.value.gap2} 270 ${r.value.gap3} 300 300`;default:return`12 ${r.value.gap1} 38 ${r.value.gap2} 170 ${r.value.gap3} 200 200`}}),a=pt(()=>r.value[n.size]),c=pt(()=>{switch(n.size){case"lg":return"M3.1,47.6l8.9,9.2c0.8,0.8,1.8,1.2,2.9,1.2h204c1.1,0,2.1-0.4,2.9-1.2l15.8-16.2c0.7-0.7,1.1-1.8,1.1-2.8V16.2 c0-1-0.4-2-1.1-2.8L226.9,2.2C226.2,1.4,225.1,1,224,1H21.7c-1,0-2,0.4-2.7,1L3.3,16.4c-0.8,0.8-1.3,1.8-1.3,3v25.4 C2,45.8,2.4,46.8,3.1,47.6z";case"xl":return"M3.11712 47.5614L11.9772 56.7729C12.7313 57.5569 13.7722 58 14.8601 58H259.157C260.235 58 261.267 57.5652 262.02 56.7942L277.862 40.5655C278.592 39.8183 279 38.8155 279 37.7713V16.2043C279 15.1746 278.603 14.1846 277.891 13.4403L267.182 2.23607C266.427 1.44658 265.382 1 264.29 1H21.7104C20.7114 1 19.7487 1.37377 19.0114 2.04779L3.30102 16.4106C2.47214 17.1684 2 18.2397 2 19.3628V44.7885C2 45.8225 2.40036 46.8162 3.11712 47.5614Z";default:return"M3.11712 47.5614L11.9772 56.7729C12.7313 57.5569 13.7722 58 14.8601 58H179.157C180.235 58 181.267 57.5652 182.02 56.7942L197.862 40.5655C198.592 39.8183 199 38.8155 199 37.7713V16.2043C199 15.1746 198.603 14.1846 197.891 13.4403L187.182 2.23607C186.427 1.44658 185.382 1 184.29 1H21.7104C20.7114 1 19.7487 1.37377 19.0114 2.04779L3.30102 16.4106C2.47214 17.1684 2 18.2397 2 19.3628V44.7885C2 45.8225 2.40036 46.8162 3.11712 47.5614Z"}});function u(){const f=ut.timeline({onStart:async()=>{await vn(400),e.value.showText()}});f.fromTo(r.value,{md:600,lg:600,xl:600},{md:0,lg:0,xl:0,duration:2.4,ease:"expo.out"}),f.fromTo(r.value,{gap1:0,gap2:0,gap3:0},{gap1:7,gap2:13,gap3:25,duration:1.8,ease:"expo.out"},.6),f.fromTo(t.value,{x:"-1rem",opacity:0},{x:0,opacity:1,duration:1,ease:"expo.out"},.5)}function h(){e.value.showText(!1)}return{bounds:i,path1:s,path2:c,onEnter:u,onLeave:h,buttonText:e,buttonIcon:t,strokeDashArray:o,strokeDashOffset:a}},data(){return{filter1:ci("btn-ds"),filter2:ci("btn-ds")}}},dN=b("div",{class:"button__layer-1"},[b("div",{class:"button__layer-1__group"},[b("svg",{width:"148",height:"4",viewBox:"0 0 148 4",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("path",{d:"M2 2H146",stroke:"#2DF872","stroke-dasharray":"15 3 3 130","stroke-dashoffset":"0","stroke-linecap":"round"})])]),b("div",{class:"button__layer-1__group"},[b("div",{class:"button__line"}),b("svg",{width:"148",height:"4",viewBox:"0 0 148 4",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("path",{d:"M2 2H146",stroke:"#2DF872","stroke-linecap":"round"})])])],-1),fN={class:"button__outer"},pN={class:"button__bg"},mN={class:"button__bg__layer-1"},_N=["width","height","viewBox"],gN=["d"],vN={class:"button__bg__layer-2"},bN=["width","height","viewBox"],yN=["d"],wN=b("div",{class:"button__bg__layer-3"},null,-1),CN={class:"button__layer-3"},xN=["width","height","viewBox"],EN=["d"],AN={class:"button__layer-3"},DN=["width","height","viewBox"],SN=["d","stroke-dasharray","stroke-dashoffset"],TN={class:"button__inner"},MN={class:"button__text"},BN={ref:"buttonIcon",class:"button__icon"};function PN(n,e,t,i,s,r){const o=q("GreenOutline"),a=q("TextRandomizer"),c=q("IconArrow");return ne(),Ve(ot,{name:"button",duration:3e3,onEnter:i.onEnter,onLeave:i.onLeave},{default:ge(()=>[b("div",{class:Ft(`button button--${t.size}`)},[dN,b("div",fN,[b("div",pN,[b("div",mN,[(ne(),Ee("svg",{width:i.bounds.width,height:i.bounds.height,viewBox:`0 0 ${i.bounds.width} ${i.bounds.height}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("path",{d:i.path1},null,8,gN)],8,_N))]),b("div",vN,[(ne(),Ee("svg",{width:i.bounds.width,height:i.bounds.height,viewBox:`0 0 ${i.bounds.width} ${i.bounds.height}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("path",{d:i.path1},null,8,yN)],8,bN))]),wN]),b("div",CN,[(ne(),Ee("svg",{width:i.bounds.width,height:i.bounds.height,viewBox:`0 0 ${i.bounds.width} ${i.bounds.height}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("path",{opacity:"0.2",d:i.path2,stroke:"white"},null,8,EN)],8,xN))]),b("div",AN,[(ne(),Ee("svg",{width:i.bounds.width,height:i.bounds.height,viewBox:`0 0 ${i.bounds.width} ${i.bounds.height}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},[H(o,{width:i.bounds.width+40,height:i.bounds.height+40},{default:ge(()=>[b("path",{class:"button__layer__path",d:i.path1,stroke:"white","stroke-linecap":"round","stroke-linejoin":"round","stroke-dasharray":i.strokeDashArray,"stroke-dashoffset":i.strokeDashOffset},null,8,SN)]),_:1},8,["width","height"])],8,DN))]),b("div",TN,[b("div",MN,[H(a,{ref:"buttonText",text:t.text},null,8,["text"])]),b("div",BN,[H(c)],512)])])],2)]),_:1},8,["onEnter","onLeave"])}var ya=me(hN,[["render",PN]]);const FN={name:"PictureElement",props:{fallback:{type:String,default:"png"},src:{type:String,required:!0},alt:{type:String,default:""}},setup(){return{basePath:Gi}}},LN=["srcset"],IN=["srcset","type"],RN=["src","alt","role"];function kN(n,e,t,i,s,r){return ne(),Ee("picture",null,[b("source",{srcset:`${i.basePath}assets/images/${t.src}.webp`,type:"image/webp"},null,8,LN),b("source",{srcset:`${i.basePath}assets/images/${t.src}.${t.fallback}`,type:`image/${t.fallback}`},null,8,IN),b("img",{src:`${i.basePath}assets/images/${t.src}.${t.fallback}`,alt:t.alt,role:t.alt===""?"presentation":null},null,8,RN)])}var mc=me(FN,[["render",kN]]);const ON={},NN={fill:"none",height:"49",viewBox:"0 0 70 49",width:"70",xmlns:"http://www.w3.org/2000/svg"},VN=qi('<g fill="#fff"><path d="m37.0427 29.8124 3.3721-.4837 3.9746-10.1798-3.3776.4865z"></path><path d="m21.2523 28.7925c.3372-.6744.5224-1.2963.586-1.8713.1962-1.7661-.7546-3.1039-1.9155-4.2676-.6937-.6992-1.0171-1.4179-.9508-1.9983.0166-.1576.0636-.3041.1382-.4395.3925-.7159 1.3018-.9757 2.0702-.937.0664.0028.1327.0083.1963.0166.011 0 .0193 0 .0304.0028 1.2825.1575 1.9569.9646 2.3411 1.5008l.0746.105 1.1885-3.068-.0718-.0359c-.633-.2709-1.3461-.4588-2.0979-.5528-1.5257-.188-3.2007.0138-4.6103.7214 0 0-.0037.0018-.0111.0055-1.288.6219-2.4213 1.7247-2.9243 3.5075-.0691.2432-.1161.4782-.141.7104-.1326 1.1829.3151 2.2139 1.3516 3.0652.8596.7048 1.7662 1.6142 1.6418 2.717-.0414.3732-.199.7739-.5224 1.2051-.2542.34-.7628.727-1.1995.8817-.0056 0-.0166.0056-.0249.0083-.5417.2129-1.1609.293-1.7745.2184-.8126-.0995-1.6142-.4727-2.2167-1.1692l-.141-.1548-1.5672 4.0051.0636.0221c.4616.163.9647.2543 1.4345.3316.1078.0166.2211.0332.3317.047 1.6252.2018 3.4882-.0691 5.0913-.8844h.0027.0056c.0055 0 .011-.0028.0138-.0083.0055 0 0 0 .011-.0056.0056-.0055.0166-.0083.0277-.0165.3869-.2018.7546-.434 1.1001-.7049.995-.7435 1.8435-1.7247 2.4599-2.9547z"></path><path d="m31.5094 26.0036c.1575-.3538.2957-.8928.3676-1.2521.1465-.7545.0857-1.4953-.2322-2.0923-.3178-.597-.8955-1.042-1.7551-1.2079-.4063-.0774-.8762-.0939-1.4152-.0359l-3.8447.5638-5.1161 13.1014 3.372-.4837 3.9774-10.1881c.2598-.6468.5418-1.0393.8347-1.2438.2986-.1631.5086-.1658.6634-.1354.0138.0027.0276.0055.0415.0083.362.0884.5942.4533.5611.948-.0056.0967-.0277.3013-.083.586-.1105.5638-1.0779 3.6595-3.0348 5.5694-.2626.246-.4782.4395-.7297.6468-.1189.0995-.2377.1962-.3262.2681-.0442.0359-.0801.0663-.1078.0884-.0138.0111-.0221.0194-.0304.0249-.0027 0-.0055.0055-.0083.0055-.0055.0028-.0083.0083-.0138.0139-.0857.0635-.2487.1658-.3759.257-.0387.0332-.0691.0277-.0912.094-.0028.0166 0 .0276 0 .0387 0 .0276.0387.0636.0636.0636.0387.0055.058-.0028.0884-.0083 1.9155-.3234 3.9028-1.0448 5.6192-3.0598l.2764-.3455c.7491-.8872 1.0227-1.6169 1.2991-2.2305z"></path><path d="m57.3775 23.8588.3013.4975-.0221.0359c-.4892.7463-1.0448 1.371-1.6308 1.8795 0 0 0 0-.0027.0028-1.1775 1.0835-3.1482 1.9403-4.7486 1.6363-.3648-.0691-.7131-.2018-1.0226-.4063-.2903-.1825-.4754-.3649-.6634-.6413-.3483-.5141-.5804-1.299-.3621-2.4212.0995-.5169.2958-1.1084.6192-1.78.6329-1.3185 1.5533-2.518 2.8137-3.4108 1.4539-1.0503 3.0404-1.4953 4.2621-1.3875.0995.0083.1934.0221.2847.0387.5168.0995.9093.3399 1.147.691.2377.3482.3151.8015.2184 1.3073-.036.1797-.0912.3621-.1686.5528-.2516.6109-.6468 1.1139-1.1167 1.523-.9287.9674-2.9657 1.5699-4.1349 1.6998-.0359.0028-.0608.0111-.1023.0056-.0166-.0028-.0414-.0138-.058-.036-.0138-.0193-.0194-.0497-.0138-.0663.0276-.0801.0773-.0884.1188-.1216.0442-.0249.0829-.0415.0829-.0415.0056-.0027.3206-.1686.4146-.2266 1.1692-.7878 2.0592-1.8298 2.5844-3.0902.0608-.1464.1105-.2764.1354-.398.047-.2349.011-.4146-.0636-.5058-.0525-.0636-.1105-.0995-.1852-.1161-.105-.0193-.2487.0083-.4173.094-.633.3179-1.6336 1.487-2.6673 4.1018-.1244.2957-.21.5749-.2598.8402-.1879.9812.105 1.6722.7021 1.8768.058.0193.1188.0359.1824.047.8015.1547 2.1697-.3013 3.7065-2.109l.0608-.0718z"></path><path d="m35.9235 21.9572.6688-1.6861-.8651.1189-1.5395.2128-3.9719 10.1908 3.3721-.4947 2.2941-5.8763c.5777-1.6086 2.0232-1.874 3.1095-1.6667l1.2079-3.0901c-1.7552-.105-2.9188.6385-4.2787 2.2886z"></path><path d="m45.4454 15.2766c-.0829-.1244-.1963-.2322-.3483-.3096-.3842-.199-.8734-.1106-1.2603.0415-.2267.0856-.4589.2073-.6828.3703-.4698.3317-.8126.7822-1.0475 1.2742-.1189.2516-.1935.4727-.2322.6661-.0553.2764-.047.5805.0885.8348.1354.2543.409.4229.6965.4699.3206.0525.6606-.0194.9619-.1327.2266-.0857.4588-.2073.6827-.3704.4698-.3317.8126-.7822 1.0475-1.2742.1189-.2515.1935-.4726.2322-.6661.0636-.3206.0276-.6468-.1382-.9011z"></path><path d="m51.6175 18.1069-1.6474.2405 1.1167-2.9022-3.8364 1.6971-.6606 1.6915-.843.1217-.6634.0967-1.0089 2.5871 1.5037-.2073-2.9603 7.5816 3.3721-.4864 2.9602-7.5651 1.6418-.2294z"></path><path d="m69.6525 13.0873c-.8789.5252-9.9863 3.2035-12.6839-.3399-2.7447-3.60703.5445-12.74477549.5445-12.74477549-25.8986 29.00257549-45.8021 6.74136549-45.8021 6.74136549 6.1692 20.35121-9.45006 25.26291-11.711 25.85991 1.72473-.3704 11.3047-1.5617 15.1273 16.3987 0 0 8.3224-12.5098 18.0046-15.868-2.6506.6136-9.9945 3.2808-16.9515 10.1908-1.0448-6.1665-6.3406-10.9454-12.86085-11.1389-.57491-.0166-1.13876.0055-1.69709.0581 7.38262-2.062 12.89404-8.7011 13.13444-16.7332.0636-2.1421-.2542-4.2096-.89-6.13609 4.7541 4.24549 10.9897 6.56169 17.8748 6.76629 9.4113.2791 17.1588-3.9774 23.1539-10.69392-.4118.74352-.6993 1.57271-.8347 2.45995-.6136 4.04377 2.1808 7.81657 6.2438 8.43017 1.5561.2349 3.0736-.0304 4.3865-.6716 0 0-9.6077 7.7364-3.3196 17.3633-6.0863-11.4761 8.2837-19.9449 8.2837-19.9449z"></path><path d="m35.8017 35.0418 1.2991-.1907-.0304.6081-2.3439.3427-.0165-.0663 1.4566-2.3853-1.2466.1824.0277-.6109 2.2913-.3344.0194.0719-1.4567 2.3853z"></path><path d="m39.2402 32.897-1.0862.1575-.0249.5114.984-.1438-.0304.5805-.9785.1437-.0249.5583 1.0808-.1575-.0332.6081-1.7358.2543.141-2.8718 1.7385-.2543-.0276.6108z"></path><path d="m41.1722 33.798.6219.9702-.7435.1078-.4644-.8569-.0387.0056c-.0967.0138-.1575.0221-.2322.0248l-.047.9398-.655.0967.1409-2.8441c.1963-.0553.4063-.105.6772-.1465.7104-.1023 1.2134.1299 1.2936.6827.0663.4505-.1935.8016-.5473 1.0172zm-.6302-1.1249c-.0608.0083-.1189.0249-.1659.0442l-.0331.7905c.0829-.0055.1133-.0055.1907-.0166.293-.0414.5473-.2405.5058-.5334-.0359-.2405-.2432-.3234-.4948-.2847z"></path><path d="m43.3861 34.583c-.7739.1133-1.3433-.293-1.4538-1.0476-.1299-.89.4173-1.744 1.3681-1.8822.774-.1134 1.3433.2929 1.4539 1.0475.1299.89-.4174 1.7441-1.3682 1.8823zm-.0553-2.3522c-.4975.0719-.7932.5888-.7103 1.1471.0691.4643.34.6855.738.6274.4975-.0718.7933-.5887.7103-1.147-.0691-.4644-.3399-.6855-.738-.6275z"></path><path d="m47.4769 31.8964c-.2018-.1133-.4865-.2045-.7076-.1741-.2073.0304-.2819.1548-.2626.2764.0193.1382.1382.1824.5058.3317.4174.1686.6219.3676.6661.6771.0774.5252-.2653.9868-.8983 1.0808-.4118.0608-.8209-.0553-1.0862-.2073l.1935-.5805c.2266.1465.5666.2432.8458.2018.2017-.0304.3012-.1576.2763-.3123-.0193-.1382-.1271-.2018-.4532-.3317-.4395-.1742-.6579-.3511-.7076-.6965-.0719-.4948.2902-.926.8485-1.0061.3787-.0553.6938.011.9591.1437z"></path><path d="m50.2574 32.4824c-.0387.7407-.4256 1.1581-1.1083 1.2576-.6524.094-1.1056-.1548-1.1913-.7463-.0139-.0912-.0221-.2294-.0166-.3482l.0801-1.6363.6551-.0968-.0829 1.6446c0 .0498.0055.1659.0138.235.0387.2653.2073.3924.492.351.3096-.0442.4809-.2598.503-.6772l.0857-1.7026.6551-.0968-.0885 1.8132z"></path><path d="m52.9938 32.9661c-.2764.1796-.5362.2929-.9038.3455-.7629.1105-1.3958-.2599-1.5119-1.0504-.1382-.9397.4809-1.7413 1.4179-1.8795.4008-.058.6772 0 .9508.1217l-.2791.5693c-.1769-.0718-.3787-.1161-.633-.0774-.5666.083-.843.5888-.7684 1.1029.0719.492.387.702.8486.6329.1299-.0193.2045-.0497.2819-.0912l.0221-.4616-.5251.0774.0276-.5666 1.1415-.1658-.0718 1.4455z"></path><path d="m55.0971 32.8251-.1824-.4892-.9342.1355-.2294.55-.691.0995 1.4483-3.0846.0884-.0138 1.1581 2.7031-.6605.0968zm-.5915-1.6003-.2985.7076.5335-.0774z"></path><path d="m57.3802 31.4293.6219.9702-.7435.1078-.4644-.8569-.0387.0056c-.0967.0138-.1575.0221-.2322.0248l-.0469.9398-.6551.0967.141-2.8441c.1962-.0553.4063-.1051.6771-.1465.7104-.1023 1.2134.1299 1.2936.6827.0663.4505-.1935.8016-.5473 1.0171zm-.6302-1.1249c-.0608.0083-.1189.0248-.1659.0442l-.0331.7905c.0829-.0055.1133-.0055.1907-.0166.293-.0415.5473-.2405.5058-.5334-.0359-.2405-.2432-.3234-.4947-.2847z"></path><path d="m57.8197 27.4879c-.0387-.0885-.0913-.1659-.1576-.2294-.0663-.0636-.141-.1134-.2294-.1465-.0857-.036-.1769-.0526-.2736-.0526-.0968 0-.188.0166-.2764.0526-.0885.0359-.1631.0856-.2294.1492-.0664.0636-.1189.141-.1548.2294-.0387.0885-.0581.188-.0581.2985 0 .1051.0194.199.0553.2875.0359.0884.0857.1658.1493.2294.0635.0636.1382.1161.2266.152.0885.036.1852.0553.2902.0553.094 0 .1852-.0166.2737-.0525.0857-.0359.163-.0857.2294-.1493.0663-.0635.1188-.1409.1548-.2294.0387-.0884.058-.1879.058-.2985 0-.1078-.0193-.2073-.058-.2985zm-.141.5417c-.0276.0719-.0691.1354-.1189.1907-.0497.0525-.1105.094-.1768.1244-.0664.0304-.141.0442-.2184.0442-.0884 0-.1658-.0166-.2349-.047s-.1272-.0746-.1769-.1299c-.0498-.0552-.0857-.1188-.1134-.1907-.0248-.0718-.0387-.1492-.0387-.2322 0-.0884.0139-.1686.0415-.2432s.0691-.1382.1189-.1907c.0497-.0525.1105-.094.1796-.1244s.141-.0442.2211-.0442c.0774 0 .1521.0138.2184.0442.0691.0304.1271.0691.1769.1244.0497.0525.0912.1161.1188.1907.0277.0746.0443.1548.0443.2432 0 .0885-.0139.1714-.0415.2433z"></path><path d="m57.4272 27.7863c.0415-.0331.0608-.0856.0608-.1603 0-.0829-.0248-.1409-.0746-.1769-.0497-.0359-.1244-.0552-.2211-.0552h-.3068v.8043h.1327v-.3455h.1244l.21.3427h.1493l-.2267-.3538c.0608-.0055.1106-.0276.1493-.0608zm-.2598-.0414h-.1492v-.235h.1603.0608c.0221 0 .0387.0056.058.0139.0166.0083.0304.0193.0415.0331.011.0139.0166.0332.0166.0581 0 .0304-.0056.0525-.0166.0691-.0111.0166-.0249.0276-.0415.0387-.0165.0083-.0359.0138-.0608.0166-.0221 0-.047.0027-.0718.0027z"></path></g>',1),HN=[VN];function zN(n,e){return ne(),Ee("svg",NN,HN)}var _c=me(ON,[["render",zN]]);const UN={},GN={width:"8",height:"9",viewBox:"0 0 8 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$N=b("line",{x1:"0.35453",y1:"0.75631",x2:"7.35453",y2:"7.75631",stroke:"white"},null,-1),WN=b("line",{x1:"7.35526",y1:"0.686073",x2:"0.355262",y2:"7.68607",stroke:"white"},null,-1),jN=[$N,WN];function qN(n,e){return ne(),Ee("svg",GN,jN)}var zh=me(UN,[["render",qN]]);const KN={name:"LogoMarvel",components:{PictureElement:mc}};function JN(n,e,t,i,s,r){const o=q("PictureElement");return ne(),Ve(o,{src:"logos/marvel-theater",alt:"Marvels' Black Panther Wakanda Forever only in theater"})}var gc=me(KN,[["render",JN]]);const XN={name:"ButtonElementPlain",props:{link:{type:String,default:""},text:{type:String,required:!0}}},ZN={class:"button__outer"},QN=b("div",{class:"button__bg"},[b("svg",{width:"201",height:"63",viewBox:"0 0 201 63",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("g",{filter:"url(#filter0_f_1040_17652)"},[b("path",{d:"M8.92908 46.1445L15.3062 54.2378C15.6855 54.7191 16.2644 55 16.8772 55H188.5C190.709 55 192.5 53.2091 192.5 51V47.5789V18.0933C192.5 17.6442 192.349 17.2082 192.071 16.8555L185.694 8.76218C185.315 8.28089 184.736 8 184.123 8H12.5C10.2909 8 8.5 9.79086 8.5 12V15.4211V44.9067C8.5 45.3558 8.65114 45.7918 8.92908 46.1445Z",fill:"#08110A","fill-opacity":"0.8"})]),b("path",{d:"M51.5 8H182.172C182.702 8 183.211 8.21071 183.586 8.58579L191.914 16.9142C192.289 17.2893 192.5 17.798 192.5 18.3284V48V51.5C192.5 53.7091 190.709 55.5 188.5 55.5H176.5M28 8H16.5C14.2909 8 12.5 9.79086 12.5 12V15.5V45.1414C12.5 45.6896 12.725 46.2138 13.1225 46.5914L21.9211 54.95C22.2928 55.3031 22.7859 55.5 23.2986 55.5H68.5M81 55.5H168.5",stroke:"white","stroke-linecap":"round","stroke-linejoin":"round"}),b("path",{d:"M9.15937 49.5694L18.3264 58.8162C19.0775 59.5738 20.1001 60 21.167 60H177.658C178.735 60 179.767 59.5652 180.52 58.7942L196.363 42.5655C197.092 41.8183 197.5 40.8155 197.5 39.7713V18.2043C197.5 17.1746 197.103 16.1846 196.392 15.4403L185.682 4.23607C184.927 3.44658 183.882 3 182.79 3H28.0317C27.0456 3 26.0943 3.36425 25.3603 4.02283L9.3288 18.4079C8.48327 19.1666 8.00022 20.249 8.00021 21.385L8.00001 46.7533C8 47.8081 8.41669 48.8203 9.15937 49.5694Z",stroke:"white","stroke-opacity":"0.2"}),b("defs",null,[b("filter",{id:"filter0_f_1040_17652",x:"0.5",y:"0",width:"200",height:"63",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[b("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),b("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),b("feGaussianBlur",{stdDeviation:"4",result:"effect1_foregroundBlur_1040_17652"})])])])],-1),YN={class:"button__inner"},eV={class:"button__text"},tV={ref:"buttonIcon",class:"button__icon"},nV=b("svg",{width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("path",{d:"M11.5 5L16.5 10L11.5 15",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),b("path",{d:"M4.5 7L7.5 10L4.5 13",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),iV=[nV];function sV(n,e,t,i,s,r){return ne(),Ve(ot,{name:"fade"},{default:ge(()=>[(ne(),Ve(m3(t.link===""?"div":"a"),{href:t.link===""?null:t.link,class:"button--plain"},{default:ge(()=>[b("div",ZN,[QN,b("div",YN,[b("div",eV,Ye(t.text),1),b("div",tV,iV,512)])])]),_:1},8,["href"]))]),_:1})}var rV=me(XN,[["render",sV]]);const oV={props:{offsetX:{type:Number,default:0},offsetY:{type:Number,default:0},height:{type:Number,default:0},width:{type:Number,default:0}},setup(){return{filterId:J(ci("filter"))}}},aV=["filter"],lV=["id","x","y","width","height"],cV=b("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"},null,-1),uV=b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"},null,-1),hV=b("feOffset",null,null,-1),dV=b("feGaussianBlur",{stdDeviation:"13.3759"},null,-1),fV=b("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.0619048 0 0 0 0 0.433333 0 0 0 0 0 0 0 0 .7 0"},null,-1),pV=b("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"fx1"},null,-1),mV=b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"},null,-1),_V=b("feOffset",null,null,-1),gV=b("feGaussianBlur",{stdDeviation:"2.30619"},null,-1),vV=b("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.6 0 0 0 0 1 0 0 0 0 0.533333 0 0 0 0.5 0"},null,-1),bV=b("feBlend",{mode:"normal",in2:"fx1",result:"fx2"},null,-1),yV=b("feBlend",{mode:"normal",in:"SourceGraphic",in2:"fx2",result:"shape"},null,-1),wV=[cV,uV,hV,dV,fV,pV,mV,_V,gV,vV,bV,yV];function CV(n,e,t,i,s,r){return ne(),Ee("g",null,[b("g",{class:"green-text-drop-shadow",filter:`url(#${i.filterId})`},[pn(n.$slots,"default")],8,aV),b("defs",null,[b("filter",{id:i.filterId,x:t.offsetX,y:t.offsetY,width:t.width,height:t.height,filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},wV,8,lV)])])}var _4=me(oV,[["render",CV]]);const xV={components:{GreenTextDropshadow:_4},setup(){return{}}},EV={class:"logo-big","enable-background":"new 0 0 713.6 191.1",viewBox:"0 0 713.6 191.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},AV=b("clipPath",{id:"a"},[b("path",{d:"m0 0h713.6v91.7h-713.6z"})],-1),DV=b("clipPath",{id:"b"},[b("path",{d:"m0 97h713.6v94.2h-713.6z"})],-1),SV=b("g",{"clip-path":"url(#a)"},[b("g",{fill:"#fff",class:"logo-big__line-1"},[b("path",{d:"m374 85.1v-.8-.2-.5l-.4-.2c-4-2.2-5.4-4.8-8.7-12l-31-67-.7.3.7-.3-.3-.4h-.5-.4-.5l-.2.5-29 64.8c-3.3 7.3-6.1 11.9-10.2 14.1l.4.7-.4-.7-.4.2v.5.2.8h.8 18.3.8v-.8-.2-.5l-.5-.2c-3.1-1.4-5.1-4-5.1-7 0-2.4.7-4.8 1.7-7l4-9.5h30.9l5.4 11.9c1.1 2.6 1.7 4.5 1.7 6.3 0 2.2-1.4 3.9-4.6 5.3l.3.7-.3-.7-.5.2v.5.2.8h.8 27zm-46.5-60 13.7 30.2h-26.8z"}),b("path",{d:"m443.6 60.7h-.5l-.2.4c-3.3 6.3-6.5 11.2-10.5 14.5s-8.7 5-15.2 5h-15.7v-60.6c0-3.7.3-6.4 1.2-8.4s2.3-3.5 4.8-4.7l.4-.2v-.6-.2-.8h-.8-26.2-.8v.8.2.5l.4.2.3-.7-.3.7c2.5 1.2 3.9 2.7 4.8 4.7.9 2.1 1.2 4.8 1.2 8.4v50.2c0 3.7-.3 6.4-1.2 8.4s-2.3 3.5-4.8 4.7l.3.7-.3-.7-.4.2v.5.2.8h.8 59.2.7l.1-.7 3.7-22.8.1-.9h-.9-.2z"}),b("path",{d:"m230.6 85.1h.8v-.8-.2-.5l-.4-.2-.3.7.3-.7c-2.5-1.2-3.9-2.7-4.8-4.7-.9-2.1-1.2-4.8-1.2-8.4v-23.7h40v23.6c0 3.7-.3 6.4-1.2 8.4s-2.3 3.5-4.8 4.7l-.4.2v.5.2.8h.8 26.2.8v-.8-.2-.5l-.4-.2-.3.7.3-.7c-2.5-1.2-3.9-2.7-4.8-4.7-.9-2.1-1.2-4.8-1.2-8.4v-50.2c0-3.7.3-6.4 1.2-8.4s2.3-3.5 4.8-4.7l-.3-.7.3.7.4-.2v-.6-.2-.8h-.8-26.2-.8v.8.2.5l.4.2c2.5 1.2 3.9 2.7 4.8 4.7.9 2.1 1.2 4.8 1.2 8.4v21.8h-40v-21.7c0-3.7.3-6.4 1.2-8.4s2.3-3.5 4.8-4.7l-.3-.7.3.7.4-.2v-.6-.2-.8h-.8-26.2-.8v.8.2.5l.4.2c2.5 1.2 3.9 2.7 4.8 4.7.9 2.1 1.2 4.8 1.2 8.4v50.2c0 3.7-.3 6.4-1.2 8.4s-2.3 3.5-4.8 4.7l-.4.2v.5.2.8h.8 26.2z"}),b("path",{d:"m508.3 85.1h.7l.1-.7 3.7-22.8-.8-.1.8.1.1-.9h-.9-.2-.5l-.2.4c-3.3 6.3-6.5 11.2-10.5 14.5s-8.7 5-15.2 5h-15.7v-60.6c0-3.7.3-6.4 1.2-8.4s2.3-3.5 4.8-4.7l.4-.2v-.6-.2-.8h-.8-26.3-.8v.8.2.5l.4.2.3-.7-.3.7c2.5 1.2 3.9 2.7 4.8 4.7.9 2.1 1.2 4.8 1.2 8.4v50.2c0 3.7-.3 6.4-1.2 8.4s-2.3 3.5-4.8 4.7l.3.7-.3-.7-.4.2v.5.2.8h.8 59.3z"})])],-1),TV=b("g",{"clip-path":"url(#b)"},[b("g",{class:"logo-big__line-2",fill:"#fff"},[b("path",{d:"m83.5 103-48.1 70h48.3v12.5h-75.6l48-70h-45.1v-12.5zm65.7 0v12.5h-37.4v21.7h35.8v12.5h-35.8v23.3h38.2v12.5h-54.1v-82.5zm41.8 0c7.8 0 14.1 2.1 19 6.4s7.3 9.9 7.3 16.8c0 4.7-1.2 8.8-3.7 12.3-2.4 3.5-6 6.2-10.7 8.2 2.6 1.4 5 3.3 7 5.8 2 2.4 4.6 6.6 7.6 12.3 5 10 8.8 16.9 11.2 20.7h-17.7c-1.2-1.8-2.9-4.7-5-8.7-4.6-8.8-7.9-14.7-10-17.7-2.1-3.1-4.2-5.2-6.1-6.5-2-1.3-4.2-1.9-6.8-1.9h-5.8v34.8h-15.9v-82.5zm-3.6 35.2c4.2 0 7.4-1 9.8-3.1s3.6-4.9 3.6-8.6c0-3.8-1.2-6.6-3.5-8.4-2.4-1.9-5.7-2.8-10.1-2.8h-9.9v23h10.1zm85.7-36.2c8.5 0 16.2 1.8 23 5.3s12.3 8.6 16.4 15.2 6.1 13.9 6.1 21.8c0 7.7-2 14.9-6 21.5-3.9 6.6-9.4 11.7-16.3 15.4-6.9 3.6-14.7 5.4-23.3 5.4-8.5 0-16.3-1.8-23.3-5.6-7-3.7-12.4-8.8-16.3-15.2-3.9-6.5-5.8-13.7-5.8-21.5 0-7.6 1.9-14.7 5.8-21.3 3.9-6.7 9.3-11.8 16.1-15.5s14.7-5.5 23.6-5.5zm-29.1 42.3c0 5.5 1.2 10.4 3.7 14.8s5.9 7.8 10.3 10.2 9.5 3.6 15.1 3.6c8.5 0 15.4-2.7 20.8-8 5.5-5.3 8.2-12.2 8.2-20.5 0-5.5-1.2-10.4-3.7-14.8-2.4-4.4-5.9-7.8-10.4-10.2-4.4-2.4-9.5-3.6-15.1-3.6s-10.6 1.2-15.1 3.7c-4.4 2.4-7.9 5.8-10.3 10.2-2.3 4.2-3.5 9.1-3.5 14.6zm123.4-41.3v70h40v12.5h-56v-82.5zm67.3 0v82.5h-15.9v-82.5zm26.9 0 27.1 32.5 27.1-32.5h14.2v82.5h-15.9v-57.9h-.5l-23.9 29h-2.2l-23.9-29h-.5v57.9h-15.9v-82.5zm98.1 0v82.5h-15.9v-82.5zm84.5 0v12.5h-29.3v70h-15.9v-70h-29.3v-12.5zm34.8-1c8 0 15.8 2 23.2 6v14.2c-8.5-5.2-16.1-7.7-22.7-7.7-4 0-7.2.8-9.4 2.4-2.2 1.5-3.4 3.6-3.4 6.2 0 3.1 2.1 6 6.3 8.6 1.2.8 5.7 3 13.6 6.6 6.8 3.2 11.7 6.7 14.6 10.6 3 3.9 4.5 8.6 4.5 14.1 0 7.1-2.6 12.8-7.7 17.2-5.1 4.3-11.7 6.5-19.8 6.5-5.3 0-9.8-.6-13.6-1.7-3.8-1.2-8-3.2-12.8-6v-15.7c8.8 7.3 17.1 11 24.9 11 3.9 0 7-.8 9.4-2.5s3.6-3.9 3.6-6.7c0-3.8-2.1-6.9-6.3-9.3-3.5-1.9-7.9-4.2-13.4-6.8-6.5-3-11.4-6.4-14.6-10.3s-4.8-8.5-4.8-13.7c0-6.9 2.6-12.4 7.7-16.5 5.5-4.5 12.3-6.5 20.7-6.5z"}),b("g",{class:"logo-big__square"},[b("path",{d:"m267.6 137.8h13v13h-13z"})])])],-1);function MV(n,e,t,i,s,r){const o=q("GreenTextDropshadow");return ne(),Ee("svg",EV,[AV,DV,H(o,{"offset-x":-20,"offset-y":-20,width:753.6,height:231.1},{default:ge(()=>[SV,TV]),_:1},8,["width","height"])])}var BV=me(xV,[["render",MV]]);const PV={name:"Start",components:{ButtonElement:ya,PictureElement:mc,LogoSprite:_c,IconCrossXs:zh,LogoMarvel:gc,TextRandomizer:X0,ButtonElementPlain:rV,LogoBig:BV},setup(){const n=J(!1),e=J(!1),t=J(null),i=J(null),s=J(null),r=J(null),o=J(null),a=J(null),c=J(null),u=J(null),h=J(null),f=J(null),m=J(null);Vt(()=>{ue.on("loader_end",M),zO(t.value,{splitLetters:!0})});let _;function y(){_=ut.timeline();const F=h.value.querySelector("svg"),E=h.value.querySelector(".logo-big__line-1"),D=h.value.querySelector(".logo-big__line-2");h.value.querySelector(".logo-big__square");const{width:B}=t.value.getBoundingClientRect(),I=t.value.querySelectorAll(".line"),L=B/2,k=i.value.querySelectorAll(".start__title__line");_.to(a.value,{opacity:1,duration:.5,ease:"none"},0),_.fromTo(i.value,{scale:1.3,opacity:0},{opacity:1,scale:1,duration:2.4,ease:"expo.out"},.6),_.fromTo(F,{opacity:0},{opacity:.995,duration:2.4,ease:"expo.out"},.6),_.fromTo(E,{yPercent:102},{yPercent:0,duration:2.4,ease:"expo.out"},.6),_.fromTo(D,{yPercent:-102},{yPercent:0,duration:2.4,ease:"expo.out"},.6),_.fromTo(r.value,{x:"-3rem",opacity:0},{x:"0",opacity:1,duration:2.4,ease:"expo.out"},1.8),_.fromTo(s.value,{opacity:0},{opacity:1,duration:.5,ease:"none"},1.8),_.fromTo(o.value,{x:"3rem",opacity:0},{x:"0",opacity:1,duration:2.4,ease:"expo.out"},1.8),_.fromTo(k,{scaleX:0,scaleY:.5},{scaleX:1,scaleY:.5,duration:2.4,ease:"expo.out",onStart:()=>{f.value.showText(),m.value.showText()}},.6),_.fromTo(c.value,{opacity:0},{opacity:.7,duration:.5,ease:"none"},1.1),I.forEach(W=>{W.querySelectorAll(".char").forEach(R=>{_.fromTo(R,{x:-(L-R.offsetLeft)*1.5,opacity:0},{x:0,duration:2.4,opacity:1,delay:.5,ease:"expo.out"},.6)})}),_.fromTo(u.value,{opacity:0},{opacity:1,duration:.3,ease:"none",onStart:()=>{e.value=!0}},2.1)}function w(){_.kill(),_=null,f.value.showText(!1),m.value.showText(!1),e.value=!1,ut.to(a.value,{opacity:0,duration:.5,ease:"none"})}function x(){n.value=!n.value}async function M(){n.value=!0}async function P(){ue.emit("intro_start"),n.value=!1}return{start:P,show:n,isMobile:Zt,startText:t,startTitle:i,onEnter:y,symbols1:f,symbols2:m,toggleAnimation:x,logoDivider:s,spriteLogo:r,marvelLogo:o,mainScreen:a,onLeave:w,startTextBg:c,startButton:u,showButton:e,store:Ne,mainTitle:h}}},FV={class:"start__button__accessible"},LV={class:"start__inner"},IV={class:"start__logos"},RV={ref:"spriteLogo",class:"start__logo start__logo--sprite"},kV={ref:"logoDivider",class:"start__logos__divider"},OV={ref:"marvelLogo",class:"start__logo start__logo--marvel"},NV={ref:"startTitle",class:"start__title"},VV={class:"start__title__wrap"},HV={class:"start__title__elements"},zV=b("div",{class:"start__title__elements__group"},[b("div",{class:"start__title__line"}),b("div",{class:"start__title__line"})],-1),UV={class:"start__title__elements__group"},GV=b("div",{class:"start__title__line"},null,-1),$V={class:"start__title__symbols text__symbols"},WV=b("div",{class:"start__title__line"},null,-1),jV=b("div",{class:"start__title__elements__group"},[b("div",{class:"start__title__line"})],-1),qV={class:"start__title__elements__group"},KV=b("div",{class:"start__title__line"},null,-1),JV={class:"start__title__symbols text__symbols"},XV=b("div",{class:"start__title__line"},null,-1),ZV={class:"start__title__polygons"},QV={class:"start__title__polygon"},YV={class:"start__title__polygon"},eH={class:"start__title__h2","aria-label":"The Hall of Forever"},tH={ref:"mainTitle",class:"start__title__h2__main"},nH=b("span",{class:"start__title__h2__part-1"},"The",-1),iH=b("span",{class:"start__title__h2__part-3"},"Of",-1),sH={class:"start__text"},rH={ref:"startTextBg",class:"start__text__bg"},oH={ref:"startText"},aH=b("span",null,"Explore new paths.",-1),lH=b("br",null,null,-1),cH=b("span",null,"Find your gift.",-1),uH=[aH,lH,cH],hH={ref:"startButton",class:"start__button"};function dH(n,e,t,i,s,r){const o=q("ButtonElementPlain"),a=q("LogoSprite"),c=q("IconCrossXs"),u=q("LogoMarvel"),h=q("TextRandomizer"),f=q("PictureElement"),m=q("LogoBig"),_=q("ButtonElement");return ne(),Ve(ot,{name:"start",duration:4500,onEnter:i.onEnter,onLeave:i.onLeave},{default:ge(()=>[Ke(b("div",{ref:"mainScreen",class:Ft(["start",{"is-disabled":!i.show}])},[b("div",FV,[H(o,{link:"https://www.youtube.com/playlist?list=PLDjMP4ry31tvJnmVnYLWRF3w99vWym5Uf",text:"Accessible version",target:"_blank",rel:"noopener noreferrer"})]),b("div",LV,[b("div",IV,[b("div",RV,[H(a)],512),b("div",kV,[H(c)],512),b("div",OV,[H(u)],512)]),b("div",NV,[b("div",VV,[b("div",HV,[zV,b("div",UV,[GV,b("div",$V,[H(h,{ref:"symbols1",text:"zero"},null,512)]),WV]),jV,b("div",qV,[KV,b("div",JV,[H(h,{ref:"symbols2",text:"limits"},null,512)]),XV]),b("div",ZV,[b("div",QV,[H(f,{src:"shapes/polygon"})]),b("div",YV,[H(f,{src:"shapes/polygon"})])])]),b("h2",eH,[b("div",tH,[H(m)],512),nH,iH])])],512),b("div",sH,[b("div",rH,null,512),b("p",oH,uH,512)]),b("div",hH,[Ke(H(_,{text:"Enter",onClick:e[0]||(e[0]=y=>i.start())},null,512),[[Je,i.showButton]])],512)])],2),[[Je,i.show]])]),_:1},8,["onEnter","onLeave"])}var fH=me(PV,[["render",dH]]);const pH={name:"Logo",components:{GreenTextDropshadow:_4}},mH={class:"logo"},_H={"enable-background":"new 0 0 268.8 75.4",viewBox:"0 0 268.8 75.4",xmlns:"http://www.w3.org/2000/svg"},gH=b("g",{fill:"#fff"},[b("path",{d:"m202.5 24.9h-.3l-.1.2c-1.3 2.5-2.6 4.4-4.1 5.7-1.6 1.3-3.5 2-6 2h-6.2v-23.9c0-1.5.1-2.5.5-3.3.3-.8.9-1.4 1.9-1.9l.2-.1v-.2-.1-.3h-.4-10.4-.3v.3.1.2l.2.1.1-.3-.1.3c1 .5 1.6 1.1 1.9 1.9s.5 1.9.5 3.3v19.8c0 1.5-.1 2.5-.5 3.3-.3.8-.9 1.4-1.9 1.9l.1.3-.1-.3-.2.1v.2.1.3h.3 23.4.3v-.3h-.3.3l1.5-9h-.3.3l.1-.4z"}),b("path",{d:"m102.7 3h-.3v.3.1.2l.2.1.1-.3-.1.3c1 .5 1.6 1.1 1.9 1.9s.5 1.9.5 3.3v8.6h-15.9v-8.6c0-1.5.1-2.5.5-3.3.3-.8.9-1.4 1.9-1.9l.2-.1v-.2-.1-.3h-.3-10.4-.3v.3.1.2l.2.1c1 .5 1.6 1.1 1.9 1.9s.5 1.9.5 3.3v19.8c0 1.5-.1 2.5-.5 3.3-.3.8-.9 1.4-1.9 1.9l.1.3-.1-.3-.2.1v.2.1.3h.3 10.4.3v-.3-.1-.2l-.2-.1c-1-.5-1.6-1.1-1.9-1.9s-.5-1.9-.5-3.3v-9.3h15.8v9.3c0 1.5-.1 2.5-.5 3.3-.3.8-.9 1.4-1.9 1.9l.1.3-.1-.3-.2.1v.2.1.3h.3 10.4.3v-.3-.1-.2l-.2-.1-.1.3.1-.3c-1-.5-1.6-1.1-1.9-1.9s-.5-1.9-.5-3.3v-19.8c0-1.5.1-2.5.5-3.3.3-.8.9-1.4 1.9-1.9l.2-.1v-.2-.1-.3h-.3z"}),b("path",{d:"m147.7 34.2.1-.3c-1.6-.9-2.1-1.9-3.5-4.7l-12.2-26.5-.1-.1h-.2-.2-.2l-.1.2.3.1-.3-.1-11.3 25.6c-1.3 2.9-2.4 4.7-4 5.6l.1.3-.1-.3-.2.1v.2.1.3h.3 7.2.3v-.3-.1-.3l-.2-.1c-1.2-.5-2-1.6-2-2.8 0-1 .3-1.9.7-2.8l-.3-.1.3.1 1.6-3.8h12.2l2.1 4.7c.4 1 .7 1.8.7 2.5 0 .9-.6 1.6-1.8 2.1l.1.3-.1-.3-.2.1v.2.1.3h.3 10.7.3v-.3-.1-.1l-.2-.1zm-12.6-11.4h-10.6l5.2-12z"}),b("path",{d:"m175.5 24.9h-.2l-.1.2c-1.3 2.5-2.6 4.4-4.1 5.7-1.6 1.3-3.5 2-6 2h-6.2v-23.9c0-1.5.1-2.5.5-3.3.3-.8.9-1.4 1.9-1.9l.2-.1v-.2-.1-.3h-.3-10.4-.3v.3.1.2l.2.1c1 .5 1.6 1.1 1.9 1.9s.5 1.9.5 3.3v19.8c0 1.5-.1 2.5-.5 3.3-.3.8-.9 1.4-1.9 1.9l-.2.1v.2.1.3h.3 23.4.3v-.3h-.3.3l1.5-9 .1-.4z"}),b("path",{d:"m23.5 1.8h-.3v.3 1.9.3h.3 4.1v10.3.3h.3 2.4.3v-.3-10.3h4.2.3v-.3-1.9-.3h-.3z"}),b("path",{d:"m69.9 12.4h-5.5v-2.9h5.1.3v-.3-1.9-.3h-.3-5.1v-2.7h5.3.3v-.3-1.9-.3h-.3-8-.3v.3 12.5.3h.3 8.2.3v-.3-1.9-.3z"}),b("path",{d:"m51 1.8h-.3v.3 5h-5.9v-5-.3h-.3-2.4-.3v.3 12.5.3h.3 2.4.3v-.3-5h5.9v5 .3h.3 2.4.3v-.3-12.5-.3h-.3z"}),b("path",{d:"m224.8 24.5c-.6-1.1-1.5-1.9-2.6-2.4-1.1-.6-2.3-.8-3.6-.8-1.4 0-2.6.3-3.7.9s-1.9 1.4-2.6 2.5c-.6 1.1-.9 2.2-.9 3.4s.3 2.4.9 3.4l.3-.2-.3.2c.6 1 1.5 1.8 2.6 2.4l.1-.2v-.1l-.1.3c1.1.6 2.3.9 3.7.9s2.6-.3 3.7-.9v-.1.1c1.1-.6 2-1.4 2.6-2.4s.9-2.2.9-3.4c0-1.4-.4-2.5-1-3.6zm-3.1 6.6-.2-.2c-.8.7-1.7 1.1-2.9 1.1-.8 0-1.5-.2-2.1-.5s-1.1-.8-1.4-1.4-.5-1.3-.5-2.1.2-1.5.5-2.1l-.3-.1.2.1c.3-.6.8-1.1 1.4-1.4l-.1-.3.1.3c.6-.3 1.3-.5 2.1-.5s1.5.2 2.1.5l.1-.3-.1.3c.6.3 1.1.8 1.5 1.4l.2-.1-.2.1c.3.6.5 1.3.5 2.1 0 1.2-.4 2.2-1.1 2.9zm2.9.1.1.1z"}),b("path",{d:"m240.8 21.4h-7.6-.3v.3 12.5.3h.3 2.4.3v-.3-5.1h4.9.3v-.3-1.9-.3h-.3-4.9v-2.7h4.9.3v-.3-1.9-.3z"}),b("path",{d:"m30.9 41.7-18.2 26.5h18.3v4.8h-28.7l18.2-26.5h-17.1v-4.7zm24.8 0v4.7h-14.1v8.2h13.5v4.7h-13.5v8.9h14.5v4.8h-20.5v-31.3zm15.9 0c2.9 0 5.3.8 7.2 2.4 1.8 1.6 2.8 3.7 2.8 6.3 0 1.8-.5 3.3-1.4 4.6s-2.3 2.3-4.1 3.1c1 .5 1.9 1.3 2.7 2.2s1.7 2.5 2.9 4.7c1.9 3.8 3.3 6.4 4.2 7.8h-6.7c-.5-.7-1.1-1.8-1.9-3.3-1.7-3.3-3-5.6-3.8-6.7-.8-1.2-1.6-2-2.3-2.5s-1.6-.7-2.6-.7h-2.2v13.4h-6v-31.3zm-1.4 13.4c1.6 0 2.8-.4 3.7-1.2s1.4-1.9 1.4-3.2c0-1.4-.4-2.5-1.3-3.2s-2.2-1.1-3.8-1.1h-3.8v8.7zm32.4-13.8c3.2 0 6.1.7 8.7 2s4.7 3.2 6.2 5.8c1.5 2.5 2.3 5.3 2.3 8.2s-.8 5.6-2.3 8.1-3.5 4.4-6.2 5.8c-2.6 1.4-5.6 2.1-8.8 2.1s-6.2-.7-8.8-2.1-4.7-3.3-6.2-5.8-2.2-5.2-2.2-8.1.7-5.6 2.2-8.1 3.5-4.5 6.1-5.9c2.7-1.3 5.7-2 9-2zm-11 16.1c0 2.1.5 3.9 1.4 5.6s2.2 2.9 3.9 3.8 3.6 1.4 5.7 1.4c3.2 0 5.8-1 7.9-3s3.1-4.6 3.1-7.8c0-2.1-.5-3.9-1.4-5.6s-2.2-3-3.9-3.9-3.6-1.4-5.7-1.4-4 .5-5.7 1.4-3 2.2-3.9 3.8c-.9 1.7-1.4 3.6-1.4 5.7zm46.7-15.7v26.5h15.2v4.8h-21.2v-31.3zm25.5 0v31.3h-6v-31.3zm10.2 0 10.3 12.3 10.3-12.3h5.4v31.3h-6v-22h-.2l-9 11h-.9l-9-11h-.2v22h-6v-31.3zm37.1 0v31.3h-6v-31.3zm32 0v4.7h-11.1v26.6h-6v-26.5h-11.1v-4.7zm13.2-.4c3 0 6 .8 8.8 2.3v5.4c-3.2-2-6.1-2.9-8.6-2.9-1.5 0-2.7.3-3.6.9-.8.6-1.3 1.4-1.3 2.3 0 1.2.8 2.3 2.4 3.3.4.3 2.2 1.1 5.2 2.5 2.6 1.2 4.4 2.5 5.5 4s1.7 3.2 1.7 5.3c0 2.7-1 4.8-2.9 6.5-1.9 1.6-4.4 2.5-7.5 2.5-2 0-3.7-.2-5.2-.6-1.4-.4-3-1.2-4.8-2.3v-5.9c3.3 2.8 6.5 4.2 9.4 4.2 1.5 0 2.7-.3 3.6-1 .9-.6 1.4-1.5 1.4-2.5 0-1.4-.8-2.6-2.4-3.5-1.3-.7-3-1.6-5.1-2.6-2.5-1.1-4.3-2.4-5.5-3.9s-1.8-3.2-1.8-5.2c0-2.6 1-4.7 2.9-6.3 2-1.7 4.6-2.5 7.8-2.5z"}),b("path",{d:"m102.5 53.3 4.6 4.6-4.6 4.6-4.6-4.6z"})],-1);function vH(n,e,t,i,s,r){const o=q("GreenTextDropshadow");return ne(),Ee("div",mH,[(ne(),Ee("svg",_H,[H(o,{"offset-x":-20,"offset-y":-20,width:308.8,height:125.4},{default:ge(()=>[gH]),_:1},8,["width","height"])]))])}var Uh=me(pH,[["render",vH]]);const bH={name:"ButtonElement",data(){return{filter1:ci("icon-mouse")}}},yH={class:"icon-menu",width:"33",height:"28",viewBox:"0 0 33 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wH=b("path",{d:"M6 6H27.3333V10H6V14H27.3333V18H6V22H27.3333",stroke:"currentColor"},null,-1),CH=b("defs",null,null,-1),xH=[wH,CH];function EH(n,e,t,i,s,r){return ne(),Ee("svg",yH,xH)}var Z0=me(bH,[["render",EH]]);const AH={name:"MenuIcon",components:{IconMenu:Z0}},DH={class:"menu-icon"},SH=qi('<div class="menu-icon__layer menu-icon__layer-1"><svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="4" y="4" width="48" height="48" rx="5" fill="#08110A" fill-opacity="0.6"></rect></svg></div><div class="menu-icon__layer menu-icon__layer-2"><svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="4.5" y="4.5" width="47" height="47" rx="4.5" stroke="white"></rect></svg></div><div class="menu-icon__layer menu-icon__layer-3"><svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.39267 15.6985L15.0241 2.53775C15.967 1.55535 17.2698 0.999998 18.6314 0.999998L50 1C52.7614 1 55 3.23858 55 6L55 35.279C55 36.597 54.4796 37.8617 53.5519 38.798L38.9672 53.519C38.0282 54.4668 36.7494 55 35.4153 55L6 55C3.23857 55 0.999998 52.7614 0.999998 50L0.999999 19.1607C0.999999 17.8702 1.49902 16.6296 2.39267 15.6985Z" stroke="white" stroke-opacity="0.2"></path></svg></div>',3),TH={class:"menu-icon__svg"};function MH(n,e,t,i,s,r){const o=q("IconMenu");return ne(),Ee("div",DH,[SH,b("div",TH,[H(o)])])}var BH=me(AH,[["render",MH]]);const PH={name:"UiNav",components:{Logo:Uh,MenuIcon:BH},setup(){const n=J(!1),e=J(!1);ue.on("intro_start",()=>{n.value=!0}),ue.on("controls_show",()=>{e.value=!0});function t(){ue.emit("menu_show")}function i(){Ne.idle.active&&Ne.setIdleHidden(!0)}function s(){Ne.idle.active&&(Ne.idle.keepHidden||Ne.setIdleHidden(!1))}return{showLogo:n,showMenuButton:e,onMenuButton:t,onMouseEnter:i,onMouseLeave:s}}},FH={class:"ui__nav"};function LH(n,e,t,i,s,r){const o=q("Logo"),a=q("MenuIcon");return ne(),Ee("div",FH,[H(ot,{name:"fade"},{default:ge(()=>[Ke(H(o,{class:"ui__nav__logo"},null,512),[[Je,i.showLogo]])]),_:1}),H(ot,{name:"fade"},{default:ge(()=>[Ke(H(a,{onClick:i.onMenuButton,onMouseenter:i.onMouseEnter,onMouseleave:i.onMouseLeave},null,8,["onClick","onMouseenter","onMouseleave"]),[[Je,i.showMenuButton]])]),_:1})])}var IH=me(PH,[["render",LH]]);const RH={name:"UiFooter",components:{LogoMarvel:gc,LogoSprite:_c}},kH={class:"ui__footer"},OH={class:"ui__footer__logos"},NH={class:"ui__footer__logo ui__footer__logo--sprite"},VH={class:"ui__footer__logo ui__footer__logo--marvel"},HH=b("div",{class:"ui__footer__text"},"Sprite Zero Sugar\xAE | \xA9 MARVEL",-1);function zH(n,e,t,i,s,r){const o=q("LogoSprite"),a=q("LogoMarvel");return ne(),Ee("div",kH,[b("div",OH,[b("div",NH,[H(o)]),b("div",VH,[H(a)])]),HH])}var UH=me(RH,[["render",zH]]);const GH={data(){return{filter1:ci("icon-ds"),filter2:ci("icon-ds")}}},$H={class:"icon-cross",width:"35",height:"47",viewBox:"0 0 35 47",fill:"none",xmlns:"http://www.w3.org/2000/svg"},WH=["filter"],jH=b("rect",{x:"7.99951",y:"12",width:"19",height:"1",rx:"0.5",fill:"white"},null,-1),qH=b("path",{d:"M17.275 8L17.2718 38.9997",stroke:"white","stroke-linecap":"round","stroke-dasharray":".75 5 3 11 6.5 3 1"},null,-1),KH=[jH,qH],JH=["filter"],XH=b("rect",{x:"7.99951",y:"12",width:"19",height:"1",rx:"0.5",fill:"white"},null,-1),ZH=b("path",{d:"M17.275 8L17.2718 38.9997",stroke:"white","stroke-linecap":"round","stroke-dasharray":".75 5 3 11 6.5 3 1"},null,-1),QH=[XH,ZH],YH=b("rect",{x:"7.99951",y:"12",width:"19",height:"1",rx:"0.5",fill:"white"},null,-1),ez=b("path",{d:"M17.275 8L17.2718 38.9997",stroke:"white","stroke-linecap":"round","stroke-dasharray":".75 5 3 11 6.5 3 1"},null,-1),tz=["id"],nz=b("feGaussianBlur",{stdDeviation:"3.75"},null,-1),iz=[nz],sz=["id"],rz=b("feGaussianBlur",{stdDeviation:"2.5"},null,-1),oz=[rz];function az(n,e,t,i,s,r){return ne(),Ee("svg",$H,[b("g",{filter:`url(#${s.filter1})`},KH,8,WH),b("g",{filter:`url(#${s.filter2})`},QH,8,JH),YH,ez,b("filter",{id:s.filter1,x:"-10",y:"-10",width:"55",height:"67"},iz,8,tz),b("filter",{id:s.filter2,x:"-10",y:"-10",width:"55",height:"67"},oz,8,sz)])}var Gh=me(GH,[["render",az]]);const lz={components:{IconArrow:Hh,IconCross:Gh},props:{action:{type:String,default:"next"}},setup(){function n(){Ne.idle.active&&Ne.setIdleHidden(!0)}function e(){Ne.idle.active&&(Ne.idle.keepHidden||Ne.setIdleHidden(!1))}return{onMouseEnter:n,onMouseLeave:e}}},cz={class:"ui__control__icon"},uz={class:"ui__control__polygon"},hz=b("div",{class:"ui__control__polygon__layer-1"},[b("svg",{width:"218",height:"218",viewBox:"0 0 218 218",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("path",{d:"M107.278 216.745L34.0301 186.405C32.9275 185.949 32.0515 185.072 31.5947 183.97L1.2545 110.722C0.797769 109.619 0.79777 108.381 1.2545 107.278L31.5947 34.0301C32.0515 32.9275 32.9275 32.0515 34.0301 31.5947L107.278 1.25451C108.381 0.797781 109.619 0.797781 110.722 1.25451L183.97 31.5948C185.073 32.0515 185.949 32.9275 186.405 34.0301L216.746 107.278C217.202 108.381 217.202 109.619 216.746 110.722L186.405 183.97C185.949 185.073 185.073 185.949 183.97 186.405L110.722 216.745C109.619 217.202 108.381 217.202 107.278 216.745Z",stroke:"white","vector-effect":"non-scaling-stroke","stroke-linejoin":"round"})])],-1),dz=b("div",{class:"ui__control__polygon__layer-2"},[b("svg",{width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("path",{class:"ui__control__polygon__layer-2__bg",d:"M29.9134 52.2074C28.6883 52.7149 27.3117 52.7149 26.0866 52.2074L12.2357 46.4702C11.0106 45.9628 10.0372 44.9894 9.52976 43.7642L3.79256 29.9134C3.28509 28.6883 3.28509 27.3117 3.79256 26.0866L9.52977 12.2357C10.0372 11.0106 11.0106 10.0372 12.2357 9.52977L26.0866 3.79257C27.3117 3.2851 28.6883 3.2851 29.9134 3.79257L43.7643 9.52977C44.9894 10.0372 45.9628 11.0106 46.4702 12.2358L52.2074 26.0866C52.7149 27.3117 52.7149 28.6883 52.2074 29.9134L46.4702 43.7643C45.9628 44.9894 44.9894 45.9628 43.7643 46.4702L29.9134 52.2074Z",fill:"#08110A","fill-opacity":"0.6"}),b("path",{d:"M29.7216 54.7455L45.6938 48.1296C46.7964 47.6729 47.6724 46.7969 48.1291 45.6942L54.745 29.7221C55.2017 28.6194 55.2017 27.3805 54.745 26.2779L48.1291 10.3058C47.6724 9.20314 46.7964 8.32711 45.6937 7.87038L29.7216 1.2545C28.619 0.79778 27.3801 0.797781 26.2774 1.2545L10.3053 7.87039C9.20265 8.32711 8.32662 9.20314 7.86989 10.3058L1.25401 26.2779C0.797288 27.3806 0.79729 28.6195 1.25401 29.7221L7.8699 45.6942C8.32662 46.7969 9.20265 47.6729 10.3053 48.1296L26.2774 54.7455C27.3801 55.2022 28.619 55.2022 29.7216 54.7455Z",stroke:"white","stroke-opacity":"0.2","stroke-linejoin":"round"})])],-1),fz=b("div",{class:"ui__control__polygon__layer-3"},[b("svg",{width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("path",{d:"M29.7216 51.7455L43.5724 46.0083C44.6751 45.5516 45.5511 44.6755 46.0078 43.5729L51.745 29.7221C52.2017 28.6194 52.2017 27.3805 51.745 26.2779L46.0078 12.4271C45.5511 11.3245 44.675 10.4484 43.5724 9.99171L29.7216 4.25451C28.619 3.79778 27.3801 3.79778 26.2774 4.2545L12.4266 9.99171C11.324 10.4484 10.4479 11.3245 9.99122 12.4271L4.25401 26.2779C3.79729 27.3806 3.79729 28.6195 4.25401 29.7221L9.99122 43.5729C10.4479 44.6755 11.324 45.5516 12.4266 46.0083L26.2774 51.7455C27.3801 52.2022 28.619 52.2022 29.7216 51.7455Z",stroke:"white","stroke-linejoin":"round"})])],-1),pz={class:"ui__control__polygon__icon"},mz={class:"ui__control__cross"},_z={class:"ui__control__text"};function gz(n,e,t,i,s,r){const o=q("IconArrow"),a=q("IconCross");return ne(),Ve(ot,{name:"fade"},{default:ge(()=>[b("div",{class:Ft(`ui__control -${t.action}`),onMouseenter:e[0]||(e[0]=(...c)=>i.onMouseEnter&&i.onMouseEnter(...c)),onMouseleave:e[1]||(e[1]=(...c)=>i.onMouseLeave&&i.onMouseLeave(...c))},[b("div",cz,[b("div",uz,[hz,dz,fz,b("div",pz,[H(o)])]),b("div",mz,[H(a)])]),b("div",_z,Ye(t.action),1)],34)]),_:1})}var Q0=me(lz,[["render",gz]]);function p2(n,e,t){return pl((1-t)*n+t*e)}function pl(n,e=1){const t=Math.pow(10,e);return Math.round(n*t)/t}const vz={name:"ButtonElement",data(){return{filter1:ci("icon-mouse")}}},bz={class:"icon-mouse","enable-background":"new 0 0 24 31",viewBox:"0 0 24 31",xmlns:"http://www.w3.org/2000/svg"},yz=qi('<g fill="none" stroke="#fff"><path d="m12.2 24.7c-1.6 0-3.2-.7-4.4-2s-1.8-3-1.8-4.8v-5.4c0-1.8.7-3.5 1.8-4.8s2.7-2 4.4-2 3.2.7 4.4 2 1.8 3 1.8 4.8v5.4c0 .9-.2 1.8-.5 2.6s-.8 1.6-1.3 2.2c-.6.6-1.3 1.1-2 1.5-.8.3-1.6.5-2.4.5z"></path></g><path class="icon-mouse-scroll-1" d="M12.2,6v10V6z" stroke="#fff" stroke-width="1.75" stroke-linecap="round" stroke-dasharray=".1 40"></path><path class="icon-mouse-scroll-2" d="M12.2,6v10V6z" stroke="#fff" stroke-width="1.75" stroke-linecap="round" stroke-dasharray=".1 40" stroke-dashoffset="-5"></path><path class="icon-mouse-scroll-3" d="M12.2,6v10V6z" stroke="#fff" stroke-width="1.75" stroke-linecap="round" stroke-dasharray=".1 40" stroke-dashoffset="-10"></path>',4),wz=[yz];function Cz(n,e,t,i,s,r){return ne(),Ee("svg",bz,wz)}var Y0=me(vz,[["render",Cz]]);const xz={components:{IconMouse:Y0},setup(){const n=J(null);let e=0,t=0,i=0,s=0,r;ue.on("scroll_enable",()=>{Ne.idle.active&&(c(),Ne.setIdleHidden(!1),Ne.setIdleKeepHidden(!1))}),ue.on("scroll_disable",()=>{Ne.idle.active&&(clearTimeout(r),Ne.setIdleOn(!1),Ne.setIdleOff(!0),Ne.setIdleHidden(!0),Ne.setIdleKeepHidden(!0))}),Vt(()=>{window.addEventListener("mousemove",u),window.addEventListener("wheel",c),oi.subscribe("cursor-raf",h)});function o(){Ne.setIdleActive(!0),c()}function a(){Ne.setIdleActive(!1)}function c(){clearTimeout(r),Ne.setIdleOn(!1),Ne.setIdleOff(!0),r=setTimeout(()=>{Ne.setIdleOn(!0),Ne.setIdleOff(!1)},2e3)}function u({clientX:f,clientY:m}){!Ne.idle.active||(e=f,t=m)}function h(){!Ne.idle.active||(s=p2(s,e,.15),i=p2(i,t,.15),n.value.style.transform=`translate3D(${s}px, ${i}px, 0)`)}return{activate:o,deactivate:a,cursor:n,store:Ne}},computed:{showMouse(){const n=this.store.idle.on,e=this.store.idle.active,t=!this.store.idle.hidden;return n&&e&&t}}},Ez={class:"ui__control__scroll-cta"},Az={class:"ui__control__scroll-cta__cursor__inner"};function Dz(n,e,t,i,s,r){const o=q("IconMouse");return ne(),Ee("div",Ez,[H(ot,{name:"fade"},{default:ge(()=>[b("div",{ref:"cursor",class:Ft([{"is-active":r.showMouse},"ui__control__scroll-cta__cursor"])},[b("div",Az,[H(o,{class:"ui__control__scroll-cta__cursor__icon"})])],2)]),_:1})])}var Sz=me(xz,[["render",Dz]]);const Tz={name:"UiControls",components:{UiControl:Q0,UiControlScrollCta:Sz},setup(){const n=J(!1),e=J(!1),t=J(!0),i=J(null),s=J(0),r=J(0);ue.on("controls_show",()=>{n.value=!0,i.value.activate()}),ue.on("controls_hide",()=>{n.value=!1,i.value.deactivate()}),ue.on("prev_hide",()=>{e.value=!1}),ue.on("prev_show",()=>{e.value=!0});function o(){ue.emit("controls_prev")}function a(){ue.emit("controls_next")}return{show:n,treeCount:s,screenCount:r,handlePrev:o,handleNext:a,showNext:t,showPrev:e,scrollCta:i}}},Mz={class:"ui__controls"};function Bz(n,e,t,i,s,r){const o=q("UiControlScrollCta"),a=q("UiControl");return ne(),Ve(ot,{name:"fade"},{default:ge(()=>[Ke(b("div",Mz,[H(o,{ref:"scrollCta"},null,512),H(a,{class:Ft([{"is-active":i.showPrev},"ui__control__item"]),action:"prev",onClick:i.handlePrev},null,8,["class","onClick"]),H(a,{class:Ft([{"is-active":i.showNext},"ui__control__item"]),action:"next",onClick:i.handleNext},null,8,["class","onClick"])],512),[[Je,i.show]])]),_:1})}var Pz=me(Tz,[["render",Bz]]);const Fz={},Lz={class:"icon-diamond",width:"5",height:"6",viewBox:"0 0 5 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Iz=b("path",{d:"M2.5 5L0.5 3L2.5 1L4.5 3L2.5 5Z",stroke:"#2DF872","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Rz=[Iz];function kz(n,e){return ne(),Ee("svg",Lz,Rz)}var Oz=me(Fz,[["render",kz]]);const Nz={name:"WaypointTitle",components:{IconCross:Gh,IconDiamond:Oz},props:{titlePart1:{type:String,required:!0},titlePart2:{type:String,required:!0},subTitle:{type:String,required:!0}},setup(){const n=J(!0);return ue.on("title_hide",()=>{n.value=!1}),ue.on("title_show",()=>{n.value=!0}),{show:n}}},Vz={class:"waypoint__title"},Hz={class:"waypoint__title__main"},zz=b("div",{class:"waypoint__title__main__bg"},null,-1),Uz={class:"waypoint__title__main__elements"},Gz={class:"waypoint__title__main__element"},$z={class:"waypoint__title__main__element"},Wz={class:"waypoint__title__main__text"},jz={class:"waypoint__title__sub"},qz={class:"waypoint__title__symbol"};function Kz(n,e,t,i,s,r){const o=q("IconDiamond"),a=q("IconCross");return ne(),Ve(ot,{name:"fade"},{default:ge(()=>[Ke(b("div",Vz,[b("div",Hz,[zz,b("span",Uz,[b("span",Gz,[H(o)]),b("span",$z,[H(o)])]),b("div",Wz,[b("h3",null,[b("span",null,Ye(t.titlePart1),1),b("span",null,Ye(t.titlePart2),1)])])]),b("div",jz,Ye(t.subTitle),1),b("div",qz,[H(a)])],512),[[Je,i.show]])]),_:1})}var Xr=me(Nz,[["render",Kz]]);/*!
 * strings: 3.11.1
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/const Jz=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function g4(n){let e=n.nodeType,t="";if(e===1||e===9||e===11){if(typeof n.textContent=="string")return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)t+=g4(n)}else if(e===3||e===4)return n.nodeValue;return t}/*!
 * SplitText: 3.11.1
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */let Mr,v4,b4,Xz=/(?:\r|\n|\t\t)/g,Zz=/(?:\s\s+)/g,Qz=()=>{Mr=document,v4=window,b4=1},y4=n=>v4.getComputedStyle(n),Yz=Array.isArray,m2=[].slice,em=(n,e)=>{let t;return Yz(n)?n:(t=typeof n)=="string"&&!e&&n?m2.call(Mr.querySelectorAll(n),0):n&&t==="object"&&"length"in n?m2.call(n,0):n?[n]:[]},tm=n=>n.position==="absolute"||n.absolute===!0,eU=(n,e)=>{let t=e.length,i;for(;--t>-1;)if(i=e[t],n.substr(0,i.length)===i)return i.length},tU=" style='position:relative;display:inline-block;'",_2=(n="",e)=>{let t=~n.indexOf("++"),i=1;return t&&(n=n.split("++").join("")),()=>"<"+e+tU+(n?" class='"+n+(t?i++:"")+"'>":">")},nm=(n,e,t)=>{let i=n.nodeType;if(i===1||i===9||i===11)for(n=n.firstChild;n;n=n.nextSibling)nm(n,e,t);else(i===3||i===4)&&(n.nodeValue=n.nodeValue.split(e).join(t))},sp=(n,e)=>{let t=e.length;for(;--t>-1;)n.push(e[t])},g2=(n,e,t)=>{let i;for(;n&&n!==e;){if(i=n._next||n.nextSibling,i)return i.textContent.charAt(0)===t;n=n.parentNode||n._parent}},w4=n=>{let e=em(n.childNodes),t=e.length,i,s;for(i=0;i<t;i++)s=e[i],s._isSplit?w4(s):i&&s.previousSibling&&s.previousSibling.nodeType===3?(s.previousSibling.nodeValue+=s.nodeType===3?s.nodeValue:s.firstChild.nodeValue,n.removeChild(s)):s.nodeType!==3&&(n.insertBefore(s.firstChild,s),n.removeChild(s))},ki=(n,e)=>parseFloat(e[n])||0,nU=(n,e,t,i,s,r,o)=>{let a=y4(n),c=ki("paddingLeft",a),u=-999,h=ki("borderBottomWidth",a)+ki("borderTopWidth",a),f=ki("borderLeftWidth",a)+ki("borderRightWidth",a),m=ki("paddingTop",a)+ki("paddingBottom",a),_=ki("paddingLeft",a)+ki("paddingRight",a),y=ki("fontSize",a)*(e.lineThreshold||.2),w=a.textAlign,x=[],M=[],P=[],F=e.wordDelimiter||" ",E=e.tag?e.tag:e.span?"span":"div",D=e.type||e.split||"chars,words,lines",B=s&&~D.indexOf("lines")?[]:null,I=~D.indexOf("words"),L=~D.indexOf("chars"),k=tm(e),W=e.linesClass,K=~(W||"").indexOf("++"),R=[],G=a.display==="flex",O=n.style.display,j,$,se,X,Le,Pe,He,De,ce,Te,re,fe;for(K&&(W=W.split("++").join("")),G&&(n.style.display="block"),$=n.getElementsByTagName("*"),se=$.length,Le=[],j=0;j<se;j++)Le[j]=$[j];if(B||k)for(j=0;j<se;j++)X=Le[j],Pe=X.parentNode===n,(Pe||k||L&&!I)&&(fe=X.offsetTop,B&&Pe&&Math.abs(fe-u)>y&&(X.nodeName!=="BR"||j===0)&&(He=[],B.push(He),u=fe),k&&(X._x=X.offsetLeft,X._y=fe,X._w=X.offsetWidth,X._h=X.offsetHeight),B&&((X._isSplit&&Pe||!L&&Pe||I&&Pe||!I&&X.parentNode.parentNode===n&&!X.parentNode._isSplit)&&(He.push(X),X._x-=c,g2(X,n,F)&&(X._wordEnd=!0)),X.nodeName==="BR"&&(X.nextSibling&&X.nextSibling.nodeName==="BR"||j===0)&&B.push([])));for(j=0;j<se;j++){if(X=Le[j],Pe=X.parentNode===n,X.nodeName==="BR"){B||k?(X.parentNode&&X.parentNode.removeChild(X),Le.splice(j--,1),se--):I||n.appendChild(X);continue}if(k&&(ce=X.style,!I&&!Pe&&(X._x+=X.parentNode._x,X._y+=X.parentNode._y),ce.left=X._x+"px",ce.top=X._y+"px",ce.position="absolute",ce.display="block",ce.width=X._w+1+"px",ce.height=X._h+"px"),!I&&L)if(X._isSplit)for(X._next=$=X.nextSibling,X.parentNode.appendChild(X);$&&$.nodeType===3&&$.textContent===" ";)X._next=$.nextSibling,X.parentNode.appendChild($),$=$.nextSibling;else X.parentNode._isSplit?(X._parent=X.parentNode,!X.previousSibling&&X.firstChild&&(X.firstChild._isFirst=!0),X.nextSibling&&X.nextSibling.textContent===" "&&!X.nextSibling.nextSibling&&R.push(X.nextSibling),X._next=X.nextSibling&&X.nextSibling._isFirst?null:X.nextSibling,X.parentNode.removeChild(X),Le.splice(j--,1),se--):Pe||(fe=!X.nextSibling&&g2(X.parentNode,n,F),X.parentNode._parent&&X.parentNode._parent.appendChild(X),fe&&X.parentNode.appendChild(Mr.createTextNode(" ")),E==="span"&&(X.style.display="inline"),x.push(X));else X.parentNode._isSplit&&!X._isSplit&&X.innerHTML!==""?M.push(X):L&&!X._isSplit&&(E==="span"&&(X.style.display="inline"),x.push(X))}for(j=R.length;--j>-1;)R[j].parentNode.removeChild(R[j]);if(B){for(k&&(Te=Mr.createElement(E),n.appendChild(Te),re=Te.offsetWidth+"px",fe=Te.offsetParent===n?0:n.offsetLeft,n.removeChild(Te)),ce=n.style.cssText,n.style.cssText="display:none;";n.firstChild;)n.removeChild(n.firstChild);for(De=F===" "&&(!k||!I&&!L),j=0;j<B.length;j++){for(He=B[j],Te=Mr.createElement(E),Te.style.cssText="display:block;text-align:"+w+";position:"+(k?"absolute;":"relative;"),W&&(Te.className=W+(K?j+1:"")),P.push(Te),se=He.length,$=0;$<se;$++)He[$].nodeName!=="BR"&&(X=He[$],Te.appendChild(X),De&&X._wordEnd&&Te.appendChild(Mr.createTextNode(" ")),k&&($===0&&(Te.style.top=X._y+"px",Te.style.left=c+fe+"px"),X.style.top="0px",fe&&(X.style.left=X._x-fe+"px")));se===0?Te.innerHTML="&nbsp;":!I&&!L&&(w4(Te),nm(Te,String.fromCharCode(160)," ")),k&&(Te.style.width=re,Te.style.height=X._h+"px"),n.appendChild(Te)}n.style.cssText=ce}k&&(o>n.clientHeight&&(n.style.height=o-m+"px",n.clientHeight<o&&(n.style.height=o+h+"px")),r>n.clientWidth&&(n.style.width=r-_+"px",n.clientWidth<r&&(n.style.width=r+f+"px"))),G&&(O?n.style.display=O:n.style.removeProperty("display")),sp(t,x),I&&sp(i,M),sp(s,P)},iU=(n,e,t,i)=>{let s=e.tag?e.tag:e.span?"span":"div",r=e.type||e.split||"chars,words,lines",o=~r.indexOf("chars"),a=tm(e),c=e.wordDelimiter||" ",u=c!==" "?"":a?"&#173; ":" ",h="</"+s+">",f=1,m=e.specialChars?typeof e.specialChars=="function"?e.specialChars:eU:null,_,y,w,x,M,P,F,E,D=Mr.createElement("div"),B=n.parentNode;for(B.insertBefore(D,n),D.textContent=n.nodeValue,B.removeChild(n),n=D,_=g4(n),F=_.indexOf("<")!==-1,e.reduceWhiteSpace!==!1&&(_=_.replace(Zz," ").replace(Xz,"")),F&&(_=_.split("<").join("{{LT}}")),M=_.length,y=(_.charAt(0)===" "?u:"")+t(),w=0;w<M;w++)if(P=_.charAt(w),m&&(E=m(_.substr(w),e.specialChars)))P=_.substr(w,E||1),y+=o&&P!==" "?i()+P+"</"+s+">":P,w+=E-1;else if(P===c&&_.charAt(w-1)!==c&&w){for(y+=f?h:"",f=0;_.charAt(w+1)===c;)y+=u,w++;w===M-1?y+=u:_.charAt(w+1)!==")"&&(y+=u+t(),f=1)}else P==="{"&&_.substr(w,6)==="{{LT}}"?(y+=o?i()+"{{LT}}</"+s+">":"{{LT}}",w+=5):P.charCodeAt(0)>=55296&&P.charCodeAt(0)<=56319||_.charCodeAt(w+1)>=65024&&_.charCodeAt(w+1)<=65039?(x=((_.substr(w,12).split(Jz)||[])[1]||"").length||2,y+=o&&P!==" "?i()+_.substr(w,x)+"</"+s+">":_.substr(w,x),w+=x-1):y+=o&&P!==" "?i()+P+"</"+s+">":P;n.outerHTML=y+(f?h:""),F&&nm(B,"{{LT}}","<")},C4=(n,e,t,i)=>{let s=em(n.childNodes),r=s.length,o=tm(e),a,c;if(n.nodeType!==3||r>1){for(e.absolute=!1,a=0;a<r;a++)c=s[a],c._next=c._isFirst=c._parent=c._wordEnd=null,(c.nodeType!==3||/\S+/.test(c.nodeValue))&&(o&&c.nodeType!==3&&y4(c).display==="inline"&&(c.style.display="inline-block",c.style.position="relative"),c._isSplit=!0,C4(c,e,t,i));e.absolute=o,n._isSplit=!0;return}iU(n,e,t,i)};class $h{constructor(e,t){b4||Qz(),this.elements=em(e),this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=t||{},this.split(t)}split(e){this.isSplit&&this.revert(),this.vars=e=e||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;let t=this.elements.length,i=e.tag?e.tag:e.span?"span":"div",s=_2(e.wordsClass,i),r=_2(e.charsClass,i),o,a,c;for(;--t>-1;)c=this.elements[t],this._originals[t]=c.innerHTML,o=c.clientHeight,a=c.clientWidth,C4(c,e,s,r),nU(c,e,this.chars,this.words,this.lines,a,o);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this}revert(){let e=this._originals;if(!e)throw"revert() call wasn't scoped properly.";return this.elements.forEach((t,i)=>t.innerHTML=e[i]),this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this}static create(e,t){return new $h(e,t)}}$h.version="3.11.1";const sU={emits:["enter-complete"],setup(n,{emit:e}){const t=J(null);let i,s;Vt(()=>{i=new $h(t.value,{type:"words"}),r()}),qr(()=>{o()});function r(){s=ut.timeline({onComplete:()=>e("enter-complete")}),s.fromTo(t.value,{opacity:0},{opacity:1,duration:.5,ease:"none"}),s.fromTo(i.words,{opacity:.2},{opacity:1,duration:1.35,stagger:.15,ease:"none",onStart:()=>{ue.emit("orb_activate_voice")},onComplete:()=>{ue.emit("orb_deactivate_voice")}})}function o(){s.kill(),s=null,ut.fromTo(t.value,{opacity:0},{opacity:0,duration:.3,ease:"none"})}return{textPart:t,onEnter:r,onLeave:o}}},rU={ref:"textPart",class:"guide__frame__inner__text__part"};function oU(n,e,t,i,s,r){return ne(),Ve(ot,{name:"guide-part",duration:5e3,onEnter:i.onEnter,onLeave:i.onLeave},{default:ge(()=>[b("div",rU,[b("p",null,[pn(n.$slots,"default")])],512)]),_:3},8,["onEnter","onLeave"])}var im=me(sU,[["render",oU]]);const aU={setup(){return{isMobile:Zt}},data(){return{guideFrameGradientId:ci("guide-frame-gradient")}}},lU={class:"guide__frame"},cU={class:"guide__frame__inner"},uU=b("div",{class:"guide__frame__inner__bg"},[b("svg",{class:"guide__frame__inner__bg__desktop",width:"382",height:"204",viewBox:"0 0 382 204",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("path",{d:"M0 6.00243C0 2.68777 2.68777 0.00108803 6.00243 0.00242982L355.527 0.14392C357.111 0.144561 358.631 0.771495 359.754 1.88799L380.229 22.2351C381.363 23.3614 382 24.8932 382 26.4911V190.002C382 193.266 379.391 195.932 376.128 196.001L6.12759 203.87C2.7647 203.941 0 201.235 0 197.871V6.00243Z",fill:"#102416","fill-opacity":"0.8"})]),b("svg",{class:"guide__frame__inner__bg__mobile",width:"317",height:"246",viewBox:"0 0 317 246",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("path",{d:"M0 6.00347C0 2.68841 2.6884 0.00155264 6.00346 0.00346719L295.174 0.170472C297.196 0.17164 299.081 1.19088 300.189 2.88187L316.018 27.0373C316.659 28.0145 317 29.1575 317 30.3259V230.519C317 233.762 314.424 236.417 311.183 236.516L6.18277 245.812C2.79902 245.915 0 243.2 0 239.814V6.00347Z",fill:"#102416","fill-opacity":"0.8"})])],-1),hU={class:"guide__frame__inner__outline"},dU={class:"guide__frame__inner__outline__desktop",width:"471",height:"254",viewBox:"0 0 471 254",fill:"none",xmlns:"http://www.w3.org/2000/svg"},fU=["stroke"],pU=["id"],mU=b("stop",{"stop-color":"white"},null,-1),_U=b("stop",{offset:"1","stop-color":"white","stop-opacity":"0"},null,-1),gU=[mU,_U],vU=b("svg",{class:"guide__frame__inner__outline__mobile",width:"317",height:"246",viewBox:"0 0 317 246",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("path",{d:"M6.00318 0.503467L295.174 0.670472C297.027 0.671543 298.756 1.60585 299.771 3.15592L315.6 27.3113C316.187 28.2071 316.5 29.2549 316.5 30.3259V230.519C316.5 233.491 314.138 235.926 311.168 236.016L6.16754 245.312C3.06577 245.406 0.5 242.918 0.5 239.814V6.00347C0.5 2.96466 2.96437 0.501712 6.00318 0.503467Z",stroke:"white"})],-1),bU={class:"guide__frame__inner__text"};function yU(n,e,t,i,s,r){return ne(),Ve(ot,{name:"fade"},{default:ge(()=>[b("div",lU,[b("div",cU,[uU,b("div",hU,[(ne(),Ee("svg",dU,[b("path",{d:"M1 1L444.527 1.14412C446.111 1.14463 447.631 1.77158 448.754 2.88818L469.229 23.2351C470.363 24.3614 471 25.8933 471 27.4911V238.979C471 242.252 468.376 244.922 465.104 244.978L1 253",stroke:`url(#${s.guideFrameGradientId})`},null,8,fU),b("defs",null,[b("linearGradient",{id:s.guideFrameGradientId,x1:"471",y1:"140",x2:"62.9999",y2:"131.5",gradientUnits:"userSpaceOnUse"},gU,8,pU)])])),vU]),b("div",bU,[pn(n.$slots,"default")]),pn(n.$slots,"buttons")])])]),_:3})}var sm=me(aU,[["render",yU]]);const wU={setup(){return{}}},CU={class:"guide__controls"};function xU(n,e,t,i,s,r){return ne(),Ee("div",CU,[pn(n.$slots,"default")])}var rm=me(wU,[["render",xU]]);const EU={name:"ButtonRound"},AU={class:"button-round"},DU=qi('<div class="button-round__layer-1"><svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg"><path class="button-round__layer-1__bg" d="M29.9134 52.2074C28.6883 52.7149 27.3117 52.7149 26.0866 52.2074L12.2357 46.4702C11.0106 45.9628 10.0372 44.9894 9.52976 43.7642L3.79256 29.9134C3.28509 28.6883 3.28509 27.3117 3.79256 26.0866L9.52977 12.2357C10.0372 11.0106 11.0106 10.0372 12.2357 9.52977L26.0866 3.79257C27.3117 3.2851 28.6883 3.2851 29.9134 3.79257L43.7643 9.52977C44.9894 10.0372 45.9628 11.0106 46.4702 12.2358L52.2074 26.0866C52.7149 27.3117 52.7149 28.6883 52.2074 29.9134L46.4702 43.7643C45.9628 44.9894 44.9894 45.9628 43.7643 46.4702L29.9134 52.2074Z" fill="#08110A" fill-opacity="0.6"></path><path class="button-round__layer-1__stroke" d="M29.7216 54.7455L45.6938 48.1296C46.7964 47.6729 47.6724 46.7969 48.1291 45.6942L54.745 29.7221C55.2017 28.6194 55.2017 27.3805 54.745 26.2779L48.1291 10.3058C47.6724 9.20314 46.7964 8.32711 45.6937 7.87038L29.7216 1.2545C28.619 0.79778 27.3801 0.797781 26.2774 1.2545L10.3053 7.87039C9.20265 8.32711 8.32662 9.20314 7.86989 10.3058L1.25401 26.2779C0.797288 27.3806 0.79729 28.6195 1.25401 29.7221L7.8699 45.6942C8.32662 46.7969 9.20265 47.6729 10.3053 48.1296L26.2774 54.7455C27.3801 55.2022 28.619 55.2022 29.7216 54.7455Z" stroke="currentColor" stroke-linejoin="round"></path></svg></div><div class="button-round__layer-2"><svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M29.7216 51.7455L43.5724 46.0083C44.6751 45.5516 45.5511 44.6755 46.0078 43.5729L51.745 29.7221C52.2017 28.6194 52.2017 27.3805 51.745 26.2779L46.0078 12.4271C45.5511 11.3245 44.675 10.4484 43.5724 9.99171L29.7216 4.25451C28.619 3.79778 27.3801 3.79778 26.2774 4.2545L12.4266 9.99171C11.324 10.4484 10.4479 11.3245 9.99122 12.4271L4.25401 26.2779C3.79729 27.3806 3.79729 28.6195 4.25401 29.7221L9.99122 43.5729C10.4479 44.6755 11.324 45.5516 12.4266 46.0083L26.2774 51.7455C27.3801 52.2022 28.619 52.2022 29.7216 51.7455Z" stroke="currentColor" stroke-linejoin="round"></path></svg></div>',2),SU={class:"button-round__icon"};function TU(n,e,t,i,s,r){return ne(),Ee("div",AU,[DU,b("div",SU,[pn(n.$slots,"default")])])}var om=me(EU,[["render",TU]]);const MU={components:{ButtonRound:om,IconArrow:Hh},props:{isDisabled:{type:Boolean,default:!1}}};function BU(n,e,t,i,s,r){const o=q("IconArrow"),a=q("ButtonRound");return ne(),Ve(ot,{name:"fade"},{default:ge(()=>[b("div",{class:Ft(["guide__control",{"guide__control--disabled":t.isDisabled}])},[H(a,null,{default:ge(()=>[H(o)]),_:1})],2)]),_:1})}var am=me(MU,[["render",BU]]);const PU={name:"Introduction",components:{WaypointTitle:Xr,GuideFrame:sm,GuidePart:im,GuideControls:rm,GuideControl:am},setup(){const n=J(!1),e=J(0);async function t(){ue.emit("tutorial_show"),ue.emit("orb_hide"),n.value=!1}function i(){e.value++,e.value>2&&t()}function s(){e.value--}return ue.on("introduction_show",()=>{ue.emit("orb_show"),n.value=!0,e.value=1}),{show:n,complete:t,part:e,onNext:i,onPrev:s}}},FU={class:"introduction"},LU=Ht(" You have entered the "),IU=b("span",null,"Hall of Zero Limits.",-1),RU=Ht(" Great things lie ahead for all who open themselves to finding their gift. "),kU=Ht(" This is an ever-changing space for "),OU=b("span",null,"creativity and growth",-1),NU=Ht(". Here, you will find "),VU=b("span",null,"new insights and tools",-1),HU=Ht(" to help inspire you. After all, inspiration is the water every gift needs to grow. ");function zU(n,e,t,i,s,r){const o=q("GuidePart"),a=q("GuideControl"),c=q("GuideControls"),u=q("GuideFrame"),h=q("WaypointTitle");return ne(),Ve(ot,{name:"fade"},{default:ge(()=>[Ke(b("div",FU,[H(u,null,{buttons:ge(()=>[H(c,null,{default:ge(()=>[H(a,{"is-disabled":i.part===1,onClick:i.onPrev},null,8,["is-disabled","onClick"]),H(a,{onClick:i.onNext},null,8,["onClick"])]),_:1})]),default:ge(()=>[Ke(H(o,null,{default:ge(()=>[LU,IU,RU]),_:1},512),[[Je,i.part===1]]),Ke(H(o,null,{default:ge(()=>[kU,OU,NU,VU,HU]),_:1},512),[[Je,i.part===2]])]),_:1}),H(h,{class:"introduction__title","title-part1":"The Hall of","title-part2":"Zero Limits","sub-title":"Welcome"})],512),[[Je,i.show]])]),_:1})}var UU=me(PU,[["render",zU]]);const GU={name:"Panel"},$U={class:"panel"},WU={class:"panel__inner"};function jU(n,e,t,i,s,r){return ne(),Ee("div",$U,[b("div",WU,[pn(n.$slots,"default")])])}var lm=me(GU,[["render",jU]]);const qU={},KU={width:"144",height:"164",viewBox:"0 0 144 164",fill:"none",xmlns:"http://www.w3.org/2000/svg"},JU=b("path",{d:"M74.25 4.87639L137.666 41.4896C139.058 42.2935 139.916 43.7791 139.916 45.3868V118.613C139.916 120.221 139.058 121.707 137.666 122.51L74.25 159.124C72.8577 159.927 71.1423 159.927 69.75 159.124L6.33399 122.51C4.94168 121.707 4.08399 120.221 4.08399 118.613V45.3867C4.08399 43.7791 4.94169 42.2935 6.33399 41.4896L69.75 4.87639C71.1423 4.07254 72.8577 4.07254 74.25 4.87639Z",stroke:"currentColor"},null,-1),XU=[JU];function ZU(n,e){return ne(),Ee("svg",KU,XU)}var QU=me(qU,[["render",ZU]]);const YU={name:"ButtonElement",data(){return{filter1:ci("icon-polygon-ds")}}},eG={class:"icon-polygon-xs",width:"77",height:"86",viewBox:"0 0 77 86",fill:"none",xmlns:"http://www.w3.org/2000/svg"},tG=["filter"],nG=["id"],iG=b("feGaussianBlur",{stdDeviation:"1.5"},null,-1),sG=b("feBlend",{mode:"normal",in:"SourceGraphic",result:"shape"},null,-1),rG=b("feGaussianBlur",{stdDeviation:"2.5"},null,-1),oG=b("feBlend",{mode:"normal",in:"SourceGraphic",result:"shape"},null,-1),aG=[iG,sG,rG,oG];function lG(n,e,t,i,s,r){return ne(),Ee("svg",eG,[b("path",{filter:`url(#${s.filter1})`,d:"M40.4146 6.87639L68.466 23.0719C69.8583 23.8758 70.716 25.3613 70.716 26.969V59.3601C70.716 60.9678 69.8583 62.4534 68.466 63.2572L40.4146 79.4527C39.0223 80.2566 37.3069 80.2566 35.9146 79.4527L7.86309 63.2572C6.47078 62.4534 5.61308 60.9678 5.61308 59.3601V26.969C5.61308 25.3613 6.47078 23.8758 7.86308 23.0719L35.9146 6.87639C37.3069 6.07254 39.0223 6.07254 40.4146 6.87639Z",stroke:"currentColor","stroke-width":"1"},null,8,tG),b("filter",{id:s.filter1,x:"-5",y:"-5",width:"87",height:"96"},aG,8,nG)])}var cG=me(YU,[["render",lG]]);const uG={name:"PanelStep",components:{IconPolygonLg:QU,IconPolygonXs:cG},props:{text:{type:String,required:!0}}},hG={class:"panel__step"},dG={class:"panel__step__icon"},fG={class:"panel__step__icon__layer panel__step__icon__layer-1"},pG={class:"panel__step__icon__layer__inner"},mG={class:"panel__step__icon__layer panel__step__icon__layer-2"},_G={class:"panel__step__icon__layer__inner"},gG={class:"panel__step__icon__layer panel__step__icon__layer-3"},vG={class:"panel__step__text"};function bG(n,e,t,i,s,r){const o=q("IconPolygonLg"),a=q("IconPolygonXs");return ne(),Ee("div",hG,[b("div",dG,[b("div",fG,[b("div",pG,[H(o)])]),b("div",mG,[b("div",_G,[H(a)])]),b("div",gG,[pn(n.$slots,"default")])]),b("div",vG,Ye(t.text),1)])}var x4=me(uG,[["render",bG]]);const yG={name:"PanelTitle",components:{IconCross:Gh},props:{title:{type:String,required:!0}}},wG={class:"panel__header"},CG={class:"panel__header__inner"},xG={class:"panel__title"},EG={class:"panel__title__symbols text__symbols"},AG={class:"panel__title__h2 text__h2"},DG={class:"panel__symbol"};function SG(n,e,t,i,s,r){const o=q("IconCross");return ne(),Ee("div",wG,[b("div",CG,[b("div",xG,[b("span",EG,Ye(t.title),1),b("h2",AG,Ye(t.title),1)]),b("div",DG,[H(o)])])])}var cm=me(yG,[["render",SG]]);const TG={},MG={class:"panel__button"};function BG(n,e){return ne(),Ee("div",MG,[pn(n.$slots,"default")])}var um=me(TG,[["render",BG]]);const PG={name:"PanelFrame",components:{PictureElement:mc},setup(){return{isMobile:Zt}}},FG={class:"panel__content__wrap"},LG={class:"panel__content__bg"},IG={class:"panel__content__bg__layer panel__content__bg__layer-1"},RG={class:"panel__content__bg__layer panel__content__bg__layer-2"},kG={class:"panel__content__bg__layer panel__content__bg__layer-3"},OG={class:"panel__content"};function NG(n,e,t,i,s,r){const o=q("PictureElement");return ne(),Ee("div",FG,[b("div",LG,[b("div",IG,[i.isMobile?(ne(),Ve(o,{key:1,src:"shapes/panel-bg-mobile"})):(ne(),Ve(o,{key:0,src:"shapes/panel-bg"}))]),b("div",RG,[i.isMobile?Si("",!0):(ne(),Ve(o,{key:0,src:"shapes/panel-scanlines",alt:"scanlines"}))]),b("div",kG,[i.isMobile?(ne(),Ve(o,{key:1,src:"shapes/panel-lines-mobile"})):(ne(),Ve(o,{key:0,src:"shapes/panel-lines"}))])]),b("div",OG,[pn(n.$slots,"default")])])}var hm=me(PG,[["render",NG]]);const VG={},HG={class:"icon-eye",width:"35",height:"32",viewBox:"0 0 35 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},zG=qi('<path d="M7.78567 15.5386L7.55478 15.0951L6.8964 15.4378L7.46143 15.9192L7.78567 15.5386ZM17.5296 10.4658L17.7945 10.0418L17.5522 9.89037L17.2987 10.0223L17.5296 10.4658ZM25.6495 15.5386L26.0248 15.869L26.4141 15.4267L25.9144 15.1145L25.6495 15.5386ZM8.01656 15.9821L17.7605 10.9093L17.2987 10.0223L7.55478 15.0951L8.01656 15.9821ZM17.2647 10.8899L25.3846 15.9626L25.9144 15.1145L17.7945 10.0418L17.2647 10.8899ZM25.6495 15.5386C25.2742 15.2082 25.2743 15.2081 25.2743 15.2081C25.2743 15.2081 25.2742 15.2081 25.2742 15.2082C25.2741 15.2083 25.274 15.2084 25.2738 15.2087C25.2733 15.2092 25.2726 15.21 25.2715 15.2112C25.2695 15.2135 25.2663 15.2172 25.2619 15.2221C25.2532 15.2319 25.2399 15.2467 25.2223 15.2662C25.1871 15.3054 25.1346 15.3633 25.0663 15.4374C24.9296 15.5856 24.73 15.7981 24.4801 16.0536C23.9797 16.5651 23.2805 17.2458 22.4833 17.9249C21.6842 18.6056 20.7974 19.2756 19.9216 19.773C19.0358 20.2761 18.2131 20.5725 17.5296 20.5725V21.5725C18.4701 21.5725 19.4743 21.1771 20.4155 20.6426C21.3667 20.1024 22.3068 19.3889 23.1318 18.6861C23.9586 17.9818 24.6803 17.2789 25.1949 16.7529C25.4525 16.4895 25.6589 16.2698 25.8014 16.1153C25.8726 16.0381 25.9279 15.9771 25.9657 15.9352C25.9845 15.9142 25.999 15.898 26.009 15.8868C26.0139 15.8812 26.0177 15.8769 26.0204 15.874C26.0217 15.8725 26.0227 15.8713 26.0235 15.8705C26.0238 15.87 26.0241 15.8697 26.0244 15.8695C26.0245 15.8693 26.0246 15.8692 26.0246 15.8691C26.0247 15.869 26.0248 15.869 25.6495 15.5386ZM17.5296 20.5725C16.8358 20.5725 15.906 20.2695 14.8557 19.7582C13.8202 19.2541 12.7259 18.577 11.7212 17.8923C10.7183 17.2088 9.81428 16.5243 9.16048 16.0102C8.83384 15.7533 8.57027 15.5395 8.38876 15.3902C8.29802 15.3156 8.22782 15.2571 8.18055 15.2175C8.15691 15.1977 8.13901 15.1826 8.12714 15.1725C8.1212 15.1675 8.11677 15.1638 8.11389 15.1613C8.11245 15.1601 8.1114 15.1592 8.11073 15.1586C8.1104 15.1584 8.11016 15.1582 8.11003 15.1581C8.10996 15.158 8.10993 15.158 8.1099 15.1579C8.10989 15.1579 8.10992 15.158 7.78567 15.5386C7.46143 15.9192 7.4615 15.9192 7.46159 15.9193C7.46166 15.9194 7.46178 15.9195 7.46191 15.9196C7.46217 15.9198 7.46253 15.9201 7.46298 15.9205C7.46389 15.9213 7.4652 15.9224 7.46689 15.9238C7.47028 15.9267 7.47522 15.9309 7.48167 15.9363C7.49458 15.9472 7.51355 15.9632 7.53828 15.984C7.58775 16.0254 7.66029 16.0858 7.75351 16.1625C7.93994 16.3158 8.20924 16.5343 8.54234 16.7963C9.20803 17.3198 10.131 18.0187 11.1581 18.7187C12.1834 19.4175 13.322 20.1238 14.418 20.6574C15.4992 21.1837 16.5994 21.5725 17.5296 21.5725V20.5725Z" fill="currentColor"></path><path d="M13.1919 15.6844L12.9558 15.2436L12.4213 15.53L12.8043 16.0002L13.1919 15.6844ZM17.2171 13.5276L17.4875 13.107L17.2401 12.948L16.9809 13.0869L17.2171 13.5276ZM20.5713 15.6844L21.0132 15.9183L21.2282 15.5123L20.8417 15.2638L20.5713 15.6844ZM13.4281 16.1251L17.4532 13.9683L16.9809 13.0869L12.9558 15.2436L13.4281 16.1251ZM16.9466 13.9482L20.3009 16.1049L20.8417 15.2638L17.4875 13.107L16.9466 13.9482ZM20.5713 15.6844C20.1294 15.4504 20.1295 15.4502 20.1296 15.4501C20.1296 15.4501 20.1297 15.45 20.1297 15.4499C20.1298 15.4498 20.1298 15.4497 20.1299 15.4496C20.1299 15.4495 20.1299 15.4495 20.1298 15.4496C20.1297 15.45 20.1292 15.4508 20.1285 15.4522C20.127 15.455 20.1243 15.4598 20.1204 15.4667C20.1128 15.4804 20.1005 15.502 20.0837 15.5303C20.0501 15.5869 19.9986 15.6702 19.93 15.7712C19.7923 15.974 19.5891 16.2435 19.3273 16.5113C18.7949 17.0559 18.0776 17.5372 17.2171 17.5372V18.5372C18.4649 18.5372 19.4247 17.8421 20.0424 17.2103C20.3556 16.8899 20.5956 16.5711 20.7574 16.3328C20.8386 16.2132 20.9009 16.1127 20.9436 16.0407C20.965 16.0046 20.9816 15.9756 20.9932 15.9549C20.999 15.9445 21.0036 15.9362 21.0069 15.93C21.0086 15.927 21.0099 15.9244 21.011 15.9225C21.0115 15.9215 21.012 15.9207 21.0123 15.92C21.0125 15.9196 21.0127 15.9193 21.0128 15.9191C21.0129 15.9189 21.013 15.9187 21.013 15.9187C21.0131 15.9185 21.0132 15.9183 20.5713 15.6844ZM17.2171 17.5372C16.3353 17.5372 15.4411 17.0365 14.7243 16.4688C14.3746 16.1919 14.0857 15.9139 13.8843 15.705C13.7839 15.6008 13.7061 15.5147 13.654 15.4554C13.628 15.4258 13.6085 15.4031 13.596 15.3882C13.5897 15.3808 13.5852 15.3753 13.5824 15.372C13.581 15.3703 13.5801 15.3692 13.5796 15.3686C13.5794 15.3683 13.5793 15.3682 13.5793 15.3682C13.5793 15.3682 13.5793 15.3682 13.5793 15.3683C13.5794 15.3683 13.5794 15.3684 13.5794 15.3684C13.5795 15.3685 13.5796 15.3686 13.1919 15.6844C12.8043 16.0002 12.8044 16.0003 12.8045 16.0004C12.8045 16.0004 12.8046 16.0006 12.8047 16.0007C12.8049 16.0009 12.8051 16.0011 12.8053 16.0014C12.8058 16.002 12.8063 16.0027 12.807 16.0035C12.8084 16.0052 12.8103 16.0075 12.8126 16.0102C12.8172 16.0158 12.8237 16.0236 12.832 16.0334C12.8485 16.053 12.8723 16.0807 12.9028 16.1155C12.9638 16.1849 13.0522 16.2826 13.1644 16.399C13.3883 16.6313 13.7103 16.9415 14.1034 17.2528C14.8721 17.8615 15.9904 18.5372 17.2171 18.5372V17.5372Z" fill="currentColor"></path><circle cx="17.2931" cy="15.9869" r="0.819932" stroke="currentColor"></circle><path d="M5.81692 11.0674C6.80453 12.8134 7.79601 13.7644 8.68668 15.167" stroke="currentColor"></path><path d="M28.731 20.9072C27.7434 19.1612 26.7519 18.2102 25.8612 16.8076" stroke="currentColor"></path><path d="M8.85598 9.42773C9.58582 11.2962 10.4323 12.3783 11.1149 13.8932" stroke="currentColor"></path><path d="M25.6919 22.5469C24.9621 20.6784 24.1156 19.5963 23.433 18.0814" stroke="currentColor"></path><path d="M11.7232 7.78809C12.453 9.65657 13.2995 10.7387 13.9821 12.2535" stroke="currentColor"></path><path d="M22.8247 24.7451C22.0949 22.8766 21.2484 21.7945 20.5658 20.2797" stroke="currentColor"></path><path d="M14.9341 6.06348C15.5559 7.92764 16.2946 9.00037 16.8798 10.5102" stroke="currentColor"></path><path d="M19.6138 25.9111C18.992 24.047 18.2533 22.9742 17.6681 21.4644" stroke="currentColor"></path><path d="M19.6763 6C19.133 7.88854 19.1344 9.191 18.7617 10.7669" stroke="currentColor"></path><path d="M14.8716 25.9746C15.4149 24.0861 15.4135 22.7836 15.7862 21.2077" stroke="currentColor"></path><path d="M23.2544 8.04004C22.1619 9.67348 21.7666 10.9145 20.9318 12.3021" stroke="currentColor"></path><path d="M11.2935 23.9346C12.386 22.3011 12.7813 21.0601 13.6161 19.6725" stroke="currentColor"></path><path d="M25.8013 9.42773C24.7088 11.0612 24.3135 12.3022 23.4787 13.6898" stroke="currentColor"></path><path d="M8.74661 22.5469C9.83911 20.9134 10.2344 19.6724 11.0692 18.2848" stroke="currentColor"></path><path d="M28.6997 11.0518C27.3386 12.4692 26.7325 13.622 25.6681 14.8424" stroke="currentColor"></path><path d="M5.85598 20.9229C7.2171 19.5054 7.82319 18.3526 8.88762 17.1322" stroke="currentColor"></path>',19),UG=[zG];function GG(n,e){return ne(),Ee("svg",HG,UG)}var dm=me(VG,[["render",GG]]),E4={exports:{}},_s={exports:{}},Wh={exports:{}};(function(n){(function(e,t){n.exports?n.exports=t():e.EvEmitter=t()})(typeof window!="undefined"?window:Gt,function(){function e(){}let t=e.prototype;return t.on=function(i,s){if(!i||!s)return this;let r=this._events=this._events||{},o=r[i]=r[i]||[];return o.includes(s)||o.push(s),this},t.once=function(i,s){if(!i||!s)return this;this.on(i,s);let r=this._onceEvents=this._onceEvents||{},o=r[i]=r[i]||{};return o[s]=!0,this},t.off=function(i,s){let r=this._events&&this._events[i];if(!r||!r.length)return this;let o=r.indexOf(s);return o!=-1&&r.splice(o,1),this},t.emitEvent=function(i,s){let r=this._events&&this._events[i];if(!r||!r.length)return this;r=r.slice(0),s=s||[];let o=this._onceEvents&&this._onceEvents[i];for(let a of r)o&&o[a]&&(this.off(i,a),delete o[a]),a.apply(this,s);return this},t.allOff=function(){return delete this._events,delete this._onceEvents,this},e})})(Wh);var fm={exports:{}};/*!
 * Infinite Scroll v2.0.4
 * measure size of elements
 * MIT license
 */(function(n){(function(e,t){n.exports?n.exports=t():e.getSize=t()})(window,function(){function t(o){let a=parseFloat(o);return o.indexOf("%")==-1&&!isNaN(a)&&a}let i=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];function s(){let o={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};return i.forEach(a=>{o[a]=0}),o}function r(o){if(typeof o=="string"&&(o=document.querySelector(o)),!(o&&typeof o=="object"&&o.nodeType))return;let c=getComputedStyle(o);if(c.display=="none")return s();let u={};u.width=o.offsetWidth,u.height=o.offsetHeight;let h=u.isBorderBox=c.boxSizing=="border-box";i.forEach(F=>{let E=c[F],D=parseFloat(E);u[F]=isNaN(D)?0:D});let f=u.paddingLeft+u.paddingRight,m=u.paddingTop+u.paddingBottom,_=u.marginLeft+u.marginRight,y=u.marginTop+u.marginBottom,w=u.borderLeftWidth+u.borderRightWidth,x=u.borderTopWidth+u.borderBottomWidth,M=t(c.width);M!==!1&&(u.width=M+(h?0:f+w));let P=t(c.height);return P!==!1&&(u.height=P+(h?0:m+x)),u.innerWidth=u.width-(f+w),u.innerHeight=u.height-(m+x),u.outerWidth=u.width+_,u.outerHeight=u.height+y,u}return r})})(fm);var Zr={exports:{}};(function(n){(function(e,t){n.exports?n.exports=t(e):e.fizzyUIUtils=t(e)})(Gt,function(t){let i={};i.extend=function(r,o){return Object.assign(r,o)},i.modulo=function(r,o){return(r%o+o)%o},i.makeArray=function(r){return Array.isArray(r)?r:r==null?[]:typeof r=="object"&&typeof r.length=="number"?[...r]:[r]},i.removeFrom=function(r,o){let a=r.indexOf(o);a!=-1&&r.splice(a,1)},i.getParent=function(r,o){for(;r.parentNode&&r!=document.body;)if(r=r.parentNode,r.matches(o))return r},i.getQueryElement=function(r){return typeof r=="string"?document.querySelector(r):r},i.handleEvent=function(r){let o="on"+r.type;this[o]&&this[o](r)},i.filterFindElements=function(r,o){return r=i.makeArray(r),r.filter(a=>a instanceof HTMLElement).reduce((a,c)=>{if(!o)return a.push(c),a;c.matches(o)&&a.push(c);let u=c.querySelectorAll(o);return a=a.concat(...u),a},[])},i.debounceMethod=function(r,o,a){a=a||100;let c=r.prototype[o],u=o+"Timeout";r.prototype[o]=function(){clearTimeout(this[u]);let h=arguments;this[u]=setTimeout(()=>{c.apply(this,h),delete this[u]},a)}},i.docReady=function(r){let o=document.readyState;o=="complete"||o=="interactive"?setTimeout(r):document.addEventListener("DOMContentLoaded",r)},i.toDashed=function(r){return r.replace(/(.)([A-Z])/g,function(o,a,c){return a+"-"+c}).toLowerCase()};let s=t.console;return i.htmlInit=function(r,o){i.docReady(function(){let a=i.toDashed(o),c="data-"+a,u=document.querySelectorAll(`[${c}]`),h=t.jQuery;[...u].forEach(f=>{let m=f.getAttribute(c),_;try{_=m&&JSON.parse(m)}catch(w){s&&s.error(`Error parsing ${c} on ${f.className}: ${w}`);return}let y=new r(f,_);h&&h.data(f,o,y)})})},i})})(Zr);var A4={exports:{}};(function(n){(function(e,t){n.exports?n.exports=t(fm.exports):(e.Flickity=e.Flickity||{},e.Flickity.Cell=t(e.getSize))})(typeof window!="undefined"?window:Gt,function(t){const i="flickity-cell";function s(o){this.element=o,this.element.classList.add(i),this.x=0,this.unselect()}let r=s.prototype;return r.destroy=function(){this.unselect(),this.element.classList.remove(i),this.element.style.transform="",this.element.removeAttribute("aria-hidden")},r.getSize=function(){this.size=t(this.element)},r.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},r.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},r.remove=function(){this.element.remove()},s})})(A4);var D4={exports:{}};(function(n){(function(e,t){n.exports?n.exports=t():(e.Flickity=e.Flickity||{},e.Flickity.Slide=t())})(typeof window!="undefined"?window:Gt,function(){function t(s,r,o){this.beginMargin=s,this.endMargin=r,this.cellAlign=o,this.cells=[],this.outerWidth=0,this.height=0}let i=t.prototype;return i.addCell=function(s){this.cells.push(s),this.outerWidth+=s.size.outerWidth,this.height=Math.max(s.size.outerHeight,this.height),this.cells.length===1&&(this.x=s.x,this.firstMargin=s.size[this.beginMargin])},i.updateTarget=function(){let s=this.getLastCell(),r=s?s.size[this.endMargin]:0,o=this.outerWidth-(this.firstMargin+r);this.target=this.x+this.firstMargin+o*this.cellAlign},i.getLastCell=function(){return this.cells[this.cells.length-1]},i.select=function(){this.cells.forEach(s=>s.select())},i.unselect=function(){this.cells.forEach(s=>s.unselect())},i.getCellElements=function(){return this.cells.map(s=>s.element)},t})})(D4);var S4={exports:{}};(function(n){(function(e,t){n.exports?n.exports=t(Zr.exports):(e.Flickity=e.Flickity||{},e.Flickity.animatePrototype=t(e.fizzyUIUtils))})(typeof window!="undefined"?window:Gt,function(t){let i={};return i.startAnimation=function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},i.animate=function(){this.applyDragForce(),this.applySelectedAttraction();let s=this.x;this.integratePhysics(),this.positionSlider(),this.settle(s),this.isAnimating&&requestAnimationFrame(()=>this.animate())},i.positionSlider=function(){let s=this.x;this.isWrapping&&(s=t.modulo(s,this.slideableWidth)-this.slideableWidth,this.shiftWrapCells(s)),this.setTranslateX(s,this.isAnimating),this.dispatchScrollEvent()},i.setTranslateX=function(s,r){s+=this.cursorPosition,this.options.rightToLeft&&(s=-s);let o=this.getPositionValue(s);this.slider.style.transform=r?`translate3d(${o},0,0)`:`translateX(${o})`},i.dispatchScrollEvent=function(){let s=this.slides[0];if(!s)return;let r=-this.x-s.target,o=r/this.slidesWidth;this.dispatchEvent("scroll",null,[o,r])},i.positionSliderAtSelected=function(){!this.cells.length||(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},i.getPositionValue=function(s){return this.options.percentPosition?Math.round(s/this.size.innerWidth*1e4)*.01+"%":Math.round(s)+"px"},i.settle=function(s){!this.isPointerDown&&Math.round(this.x*100)===Math.round(s*100)&&this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},i.shiftWrapCells=function(s){let r=this.cursorPosition+s;this._shiftCells(this.beforeShiftCells,r,-1);let o=this.size.innerWidth-(s+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,o,1)},i._shiftCells=function(s,r,o){s.forEach(a=>{let c=r>0?o:0;this._wrapShiftCell(a,c),r-=a.size.outerWidth})},i._unshiftCells=function(s){!s||!s.length||s.forEach(r=>this._wrapShiftCell(r,0))},i._wrapShiftCell=function(s,r){this._renderCellPosition(s,s.x+this.slideableWidth*r)},i.integratePhysics=function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},i.applyForce=function(s){this.velocity+=s},i.getFrictionFactor=function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},i.getRestingPosition=function(){return this.x+this.velocity/(1-this.getFrictionFactor())},i.applyDragForce=function(){if(!this.isDraggable||!this.isPointerDown)return;let r=this.dragX-this.x-this.velocity;this.applyForce(r)},i.applySelectedAttraction=function(){if(this.isDraggable&&this.isPointerDown||this.isFreeScrolling||!this.slides.length)return;let o=(this.selectedSlide.target*-1-this.x)*this.options.selectedAttraction;this.applyForce(o)},i})})(S4);(function(n){(function(e,t){if(n.exports)n.exports=t(e,Wh.exports,fm.exports,Zr.exports,A4.exports,D4.exports,S4.exports);else{let i=e.Flickity;e.Flickity=t(e,e.EvEmitter,e.getSize,e.fizzyUIUtils,i.Cell,i.Slide,i.animatePrototype)}})(typeof window!="undefined"?window:Gt,function(t,i,s,r,o,a,c){const{getComputedStyle:u,console:h}=t;let{jQuery:f}=t,m=0,_={};function y(E,D){let B=r.getQueryElement(E);if(!B){h&&h.error(`Bad element for Flickity: ${B||E}`);return}if(this.element=B,this.element.flickityGUID){let I=_[this.element.flickityGUID];return I&&I.option(D),I}f&&(this.$element=f(this.element)),this.options=et({},this.constructor.defaults),this.option(D),this._create()}y.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},y.create={};let w=y.prototype;Object.assign(w,i.prototype),w._create=function(){let{resize:E,watchCSS:D,rightToLeft:B}=this.options,I=this.guid=++m;this.element.flickityGUID=I,_[I]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.beginMargin=B?"marginRight":"marginLeft",this.endMargin=B?"marginLeft":"marginRight",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),this.focusableElems=[this.element],(E||D)&&t.addEventListener("resize",this);for(let L in this.options.on){let k=this.options.on[L];this.on(L,k)}for(let L in y.create)y.create[L].call(this);D?this.watchCSS():this.activate()},w.option=function(E){Object.assign(this.options,E)},w.activate=function(){if(this.isActive)return;this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize();let E=this._filterFindCellElements(this.element.children);this.slider.append(...E),this.viewport.append(this.slider),this.element.append(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready")},w._createSlider=function(){let E=document.createElement("div");E.className="flickity-slider",this.slider=E},w._filterFindCellElements=function(E){return r.filterFindElements(E,this.options.cellSelector)},w.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._updateWrapShiftCells(),this.setGallerySize()},w._makeCells=function(E){return this._filterFindCellElements(E).map(B=>new o(B))},w.getLastCell=function(){return this.cells[this.cells.length-1]},w.getLastSlide=function(){return this.slides[this.slides.length-1]},w.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},w._positionCells=function(E){E=E||0,this.maxCellHeight=E&&this.maxCellHeight||0;let D=0;if(E>0){let B=this.cells[E-1];D=B.x+B.size.outerWidth}this.cells.slice(E).forEach(B=>{B.x=D,this._renderCellPosition(B,D),D+=B.size.outerWidth,this.maxCellHeight=Math.max(B.size.outerHeight,this.maxCellHeight)}),this.slideableWidth=D,this.updateSlides(),this._containSlides(),this.slidesWidth=this.cells.length?this.getLastSlide().target-this.slides[0].target:0},w._renderCellPosition=function(E,D){let B=this.options.rightToLeft?-1:1,I=D*B;this.options.percentPosition&&(I*=this.size.innerWidth/E.size.width);let L=this.getPositionValue(I);E.element.style.transform=`translateX( ${L} )`},w._sizeCells=function(E){E.forEach(D=>D.getSize())},w.updateSlides=function(){if(this.slides=[],!this.cells.length)return;let{beginMargin:E,endMargin:D}=this,B=new a(E,D,this.cellAlign);this.slides.push(B);let I=this._getCanCellFit();this.cells.forEach((L,k)=>{if(!B.cells.length){B.addCell(L);return}let W=B.outerWidth-B.firstMargin+(L.size.outerWidth-L.size[D]);I(k,W)||(B.updateTarget(),B=new a(E,D,this.cellAlign),this.slides.push(B)),B.addCell(L)}),B.updateTarget(),this.updateSelectedSlide()},w._getCanCellFit=function(){let{groupCells:E}=this.options;if(!E)return()=>!1;if(typeof E=="number"){let L=parseInt(E,10);return k=>k%L!==0}let D=1,B=typeof E=="string"&&E.match(/^(\d+)%$/);B&&(D=parseInt(B[1],10)/100);let I=(this.size.innerWidth+1)*D;return(L,k)=>k<=I},w._init=w.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},w.getSize=function(){this.size=s(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};let x={left:0,center:.5,right:1};w.setCellAlign=function(){let{cellAlign:E,rightToLeft:D}=this.options,B=x[E];this.cellAlign=B!==void 0?B:E,D&&(this.cellAlign=1-this.cellAlign)},w.setGallerySize=function(){if(!this.options.setGallerySize)return;let E=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=`${E}px`},w._updateWrapShiftCells=function(){if(this.isWrapping=this.getIsWrapping(),!this.isWrapping)return;this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);let E=this.cursorPosition,D=this.cells.length-1;this.beforeShiftCells=this._getGapCells(E,D,-1);let B=this.size.innerWidth-this.cursorPosition;this.afterShiftCells=this._getGapCells(B,0,1)},w.getIsWrapping=function(){let{wrapAround:E}=this.options;if(!E||this.slides.length<2)return!1;if(E!=="fill")return!0;let D=this.slideableWidth-this.size.innerWidth;if(D>this.size.innerWidth)return!0;for(let B of this.cells)if(B.size.outerWidth>D)return!1;return!0},w._getGapCells=function(E,D,B){let I=[];for(;E>0;){let L=this.cells[D];if(!L)break;I.push(L),D+=B,E-=L.size.outerWidth}return I},w._containSlides=function(){if(!(this.options.contain&&!this.isWrapping&&this.cells.length))return;let D=this.slideableWidth-this.getLastCell().size[this.endMargin];if(D<this.size.innerWidth)this.slides.forEach(I=>{I.target=D*this.cellAlign});else{let I=this.cursorPosition+this.cells[0].size[this.beginMargin],L=D-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach(k=>{k.target=Math.max(k.target,I),k.target=Math.min(k.target,L)})}},w.dispatchEvent=function(E,D,B){let I=D?[D].concat(B):B;if(this.emitEvent(E,I),f&&this.$element){E+=this.options.namespaceJQueryEvents?".flickity":"";let L=E;if(D){let k=new f.Event(D);k.type=E,L=k}this.$element.trigger(L,B)}};const M=["dragStart","dragMove","dragEnd","pointerDown","pointerMove","pointerEnd","staticClick"];let P=w.emitEvent;w.emitEvent=function(E,D){if(E==="staticClick"){let k=this.getParentCell(D[0].target),W=k&&k.element,K=k&&this.cells.indexOf(k);D=D.concat(W,K)}if(P.call(this,E,D),!M.includes(E)||!f||!this.$element)return;E+=this.options.namespaceJQueryEvents?".flickity":"";let I=D.shift(0),L=new f.Event(I);L.type=E,this.$element.trigger(L,D)},w.select=function(E,D,B){if(!this.isActive||(E=parseInt(E,10),this._wrapSelect(E),(this.isWrapping||D)&&(E=r.modulo(E,this.slides.length)),!this.slides[E]))return;let I=this.selectedIndex;this.selectedIndex=E,this.updateSelectedSlide(),B?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[E]),E!==I&&this.dispatchEvent("change",null,[E])},w._wrapSelect=function(E){if(!this.isWrapping)return;const{selectedIndex:D,slideableWidth:B,slides:{length:I}}=this;if(!this.isDragSelect){let L=r.modulo(E,I),k=Math.abs(L-D),W=Math.abs(L+I-D),K=Math.abs(L-I-D);W<k?E+=I:K<k&&(E-=I)}E<0?this.x-=B:E>=I&&(this.x+=B)},w.previous=function(E,D){this.select(this.selectedIndex-1,E,D)},w.next=function(E,D){this.select(this.selectedIndex+1,E,D)},w.updateSelectedSlide=function(){let E=this.slides[this.selectedIndex];!E||(this.unselectSelectedSlide(),this.selectedSlide=E,E.select(),this.selectedCells=E.cells,this.selectedElements=E.getCellElements(),this.selectedCell=E.cells[0],this.selectedElement=this.selectedElements[0])},w.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},w.selectInitialIndex=function(){let E=this.options.initialIndex;if(this.isInitActivated){this.select(this.selectedIndex,!1,!0);return}if(E&&typeof E=="string"&&this.queryCell(E)){this.selectCell(E,!1,!0);return}let D=0;E&&this.slides[E]&&(D=E),this.select(D,!1,!0)},w.selectCell=function(E,D,B){let I=this.queryCell(E);if(!I)return;let L=this.getCellSlideIndex(I);this.select(L,D,B)},w.getCellSlideIndex=function(E){let D=this.slides.find(B=>B.cells.includes(E));return this.slides.indexOf(D)},w.getCell=function(E){for(let D of this.cells)if(D.element===E)return D},w.getCells=function(E){return E=r.makeArray(E),E.map(D=>this.getCell(D)).filter(Boolean)},w.getCellElements=function(){return this.cells.map(E=>E.element)},w.getParentCell=function(E){let D=this.getCell(E);if(D)return D;let B=E.closest(".flickity-slider > *");return this.getCell(B)},w.getAdjacentCellElements=function(E,D){if(!E)return this.selectedSlide.getCellElements();D=D===void 0?this.selectedIndex:D;let B=this.slides.length;if(1+E*2>=B)return this.getCellElements();let I=[];for(let L=D-E;L<=D+E;L++){let k=this.isWrapping?r.modulo(L,B):L,W=this.slides[k];W&&(I=I.concat(W.getCellElements()))}return I},w.queryCell=function(E){return typeof E=="number"?this.cells[E]:(typeof E=="string"&&!E.match(/^[#.]?[\d/]/)&&(E=this.element.querySelector(E)),this.getCell(E))},w.uiChange=function(){this.emitEvent("uiChange")},w.onresize=function(){this.watchCSS(),this.resize()},r.debounceMethod(y,"onresize",150),w.resize=function(){if(!this.isActive||this.isAnimating||this.isDragging)return;this.getSize(),this.isWrapping&&(this.x=r.modulo(this.x,this.slideableWidth)),this.positionCells(),this._updateWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");let E=this.selectedElements&&this.selectedElements[0];this.selectCell(E,!1,!0)},w.watchCSS=function(){if(!this.options.watchCSS)return;u(this.element,":after").content.includes("flickity")?this.activate():this.deactivate()},w.onkeydown=function(E){let{activeElement:D}=document,B=y.keyboardHandlers[E.key];if(!this.options.accessibility||!D||!B)return;this.focusableElems.some(L=>D===L)&&B.call(this)},y.keyboardHandlers={ArrowLeft:function(){this.uiChange();let E=this.options.rightToLeft?"next":"previous";this[E]()},ArrowRight:function(){this.uiChange();let E=this.options.rightToLeft?"previous":"next";this[E]()}},w.focus=function(){this.element.focus({preventScroll:!0})},w.deactivate=function(){!this.isActive||(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach(E=>E.destroy()),this.viewport.remove(),this.element.append(...this.slider.children),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},w.destroy=function(){this.deactivate(),t.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),f&&this.$element&&f.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete _[this.guid]},Object.assign(w,c),y.data=function(E){if(E=r.getQueryElement(E),E)return _[E.flickityGUID]},r.htmlInit(y,"flickity");let{jQueryBridget:F}=t;return f&&F&&F("flickity",y,f),y.setJQuery=function(E){f=E},y.Cell=o,y.Slide=a,y})})(_s);var $G={exports:{}},T4={exports:{}};/*!
 * Unidragger v3.0.1
 * Draggable base class
 * MIT license
 */(function(n){(function(e,t){n.exports?n.exports=t(e,Wh.exports):e.Unidragger=t(e,e.EvEmitter)})(typeof window!="undefined"?window:Gt,function(t,i){function s(){}let r=s.prototype=Object.create(i.prototype);r.handleEvent=function(h){let f="on"+h.type;this[f]&&this[f](h)};let o,a;"ontouchstart"in t?(o="touchstart",a=["touchmove","touchend","touchcancel"]):t.PointerEvent?(o="pointerdown",a=["pointermove","pointerup","pointercancel"]):(o="mousedown",a=["mousemove","mouseup"]),r.touchActionValue="none",r.bindHandles=function(){this._bindHandles("addEventListener",this.touchActionValue)},r.unbindHandles=function(){this._bindHandles("removeEventListener","")},r._bindHandles=function(h,f){this.handles.forEach(m=>{m[h](o,this),m[h]("click",this),t.PointerEvent&&(m.style.touchAction=f)})},r.bindActivePointerEvents=function(){a.forEach(h=>{t.addEventListener(h,this)})},r.unbindActivePointerEvents=function(){a.forEach(h=>{t.removeEventListener(h,this)})},r.withPointer=function(h,f){f.pointerId===this.pointerIdentifier&&this[h](f,f)},r.withTouch=function(h,f){let m;for(let _ of f.changedTouches)_.identifier===this.pointerIdentifier&&(m=_);m&&this[h](f,m)},r.onmousedown=function(h){this.pointerDown(h,h)},r.ontouchstart=function(h){this.pointerDown(h,h.changedTouches[0])},r.onpointerdown=function(h){this.pointerDown(h,h)};const c=["TEXTAREA","INPUT","SELECT","OPTION"],u=["radio","checkbox","button","submit","image","file"];return r.pointerDown=function(h,f){let m=c.includes(h.target.nodeName),_=u.includes(h.target.type),y=!m||_;!(!this.isPointerDown&&!h.button&&y)||(this.isPointerDown=!0,this.pointerIdentifier=f.pointerId!==void 0?f.pointerId:f.identifier,this.pointerDownPointer={pageX:f.pageX,pageY:f.pageY},this.bindActivePointerEvents(),this.emitEvent("pointerDown",[h,f]))},r.onmousemove=function(h){this.pointerMove(h,h)},r.onpointermove=function(h){this.withPointer("pointerMove",h)},r.ontouchmove=function(h){this.withTouch("pointerMove",h)},r.pointerMove=function(h,f){let m={x:f.pageX-this.pointerDownPointer.pageX,y:f.pageY-this.pointerDownPointer.pageY};this.emitEvent("pointerMove",[h,f,m]),!this.isDragging&&this.hasDragStarted(m)&&this.dragStart(h,f),this.isDragging&&this.dragMove(h,f,m)},r.hasDragStarted=function(h){return Math.abs(h.x)>3||Math.abs(h.y)>3},r.dragStart=function(h,f){this.isDragging=!0,this.isPreventingClicks=!0,this.emitEvent("dragStart",[h,f])},r.dragMove=function(h,f,m){this.emitEvent("dragMove",[h,f,m])},r.onmouseup=function(h){this.pointerUp(h,h)},r.onpointerup=function(h){this.withPointer("pointerUp",h)},r.ontouchend=function(h){this.withTouch("pointerUp",h)},r.pointerUp=function(h,f){this.pointerDone(),this.emitEvent("pointerUp",[h,f]),this.isDragging?this.dragEnd(h,f):this.staticClick(h,f)},r.dragEnd=function(h,f){this.isDragging=!1,setTimeout(()=>delete this.isPreventingClicks),this.emitEvent("dragEnd",[h,f])},r.pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this.unbindActivePointerEvents(),this.emitEvent("pointerDone")},r.onpointercancel=function(h){this.withPointer("pointerCancel",h)},r.ontouchcancel=function(h){this.withTouch("pointerCancel",h)},r.pointerCancel=function(h,f){this.pointerDone(),this.emitEvent("pointerCancel",[h,f])},r.onclick=function(h){this.isPreventingClicks&&h.preventDefault()},r.staticClick=function(h,f){let m=h.type==="mouseup";m&&this.isIgnoringMouseUp||(this.emitEvent("staticClick",[h,f]),m&&(this.isIgnoringMouseUp=!0,setTimeout(()=>{delete this.isIgnoringMouseUp},400)))},s})})(T4);(function(n){(function(e,t){n.exports?n.exports=t(e,_s.exports,T4.exports,Zr.exports):e.Flickity=t(e,e.Flickity,e.Unidragger,e.fizzyUIUtils)})(typeof window!="undefined"?window:Gt,function(t,i,s,r){Object.assign(i.defaults,{draggable:">1",dragThreshold:3});let o=i.prototype;Object.assign(o,s.prototype),o.touchActionValue="",i.create.drag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable),this.on("pointerDown",this.handlePointerDown),this.on("pointerUp",this.handlePointerUp),this.on("pointerDown",this.handlePointerDone),this.on("dragStart",this.handleDragStart),this.on("dragMove",this.handleDragMove),this.on("dragEnd",this.handleDragEnd),this.on("staticClick",this.handleStaticClick)},o.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},o.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},o.updateDraggable=function(){this.options.draggable===">1"?this.isDraggable=this.slides.length>1:this.isDraggable=this.options.draggable,this.element.classList.toggle("is-draggable",this.isDraggable)},o._uiChangeDrag=function(){delete this.isFreeScrolling},o.handlePointerDown=function(c){if(!this.isDraggable){this.bindActivePointerEvents(c);return}let u=c.type==="touchstart",h=c.pointerType==="touch",f=c.target.matches("input, textarea, select");!u&&!h&&!f&&c.preventDefault(),f||this.focus(),document.activeElement!==this.element&&document.activeElement.blur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=a(),t.addEventListener("scroll",this),this.bindActivePointerEvents(c)},o.hasDragStarted=function(c){return Math.abs(c.x)>this.options.dragThreshold},o.handlePointerUp=function(){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down")},o.handlePointerDone=function(){t.removeEventListener("scroll",this),delete this.pointerDownScroll},o.handleDragStart=function(){!this.isDraggable||(this.dragStartPosition=this.x,this.startAnimation(),t.removeEventListener("scroll",this))},o.handleDragMove=function(c,u,h){if(!this.isDraggable)return;c.preventDefault(),this.previousDragX=this.dragX;let f=this.options.rightToLeft?-1:1;this.isWrapping&&(h.x%=this.slideableWidth);let m=this.dragStartPosition+h.x*f;if(!this.isWrapping){let _=Math.max(-this.slides[0].target,this.dragStartPosition);m=m>_?(m+_)*.5:m;let y=Math.min(-this.getLastSlide().target,this.dragStartPosition);m=m<y?(m+y)*.5:m}this.dragX=m,this.dragMoveTime=new Date},o.handleDragEnd=function(){if(!this.isDraggable)return;let{freeScroll:c}=this.options;c&&(this.isFreeScrolling=!0);let u=this.dragEndRestingSelect();if(c&&!this.isWrapping){let h=this.getRestingPosition();this.isFreeScrolling=-h>this.slides[0].target&&-h<this.getLastSlide().target}else!c&&u===this.selectedIndex&&(u+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.isWrapping,this.select(u),delete this.isDragSelect},o.dragEndRestingSelect=function(){let c=this.getRestingPosition(),u=Math.abs(this.getSlideDistance(-c,this.selectedIndex)),h=this._getClosestResting(c,u,1),f=this._getClosestResting(c,u,-1);return h.distance<f.distance?h.index:f.index},o._getClosestResting=function(c,u,h){let f=this.selectedIndex,m=1/0,_=this.options.contain&&!this.isWrapping?(y,w)=>y<=w:(y,w)=>y<w;for(;_(u,m)&&(f+=h,m=u,u=this.getSlideDistance(-c,f),u!==null);)u=Math.abs(u);return{distance:m,index:f-h}},o.getSlideDistance=function(c,u){let h=this.slides.length,f=this.options.wrapAround&&h>1,m=f?r.modulo(u,h):u,_=this.slides[m];if(!_)return null;let y=f?this.slideableWidth*Math.floor(u/h):0;return c-(_.target+y)},o.dragEndBoostSelect=function(){if(this.previousDragX===void 0||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;let c=this.getSlideDistance(-this.dragX,this.selectedIndex),u=this.previousDragX-this.dragX;return c>0&&u>0?1:c<0&&u<0?-1:0},o.onscroll=function(){let c=a(),u=this.pointerDownScroll.x-c.x,h=this.pointerDownScroll.y-c.y;(Math.abs(u)>3||Math.abs(h)>3)&&this.pointerDone()};function a(){return{x:t.pageXOffset,y:t.pageYOffset}}return i})})($G);var WG={exports:{}};(function(n){(function(e,t){n.exports?n.exports=t(_s.exports):t(e.Flickity)})(typeof window!="undefined"?window:Gt,function(t){const i="http://www.w3.org/2000/svg";function s(a,c,u){this.increment=a,this.direction=c,this.isPrevious=a==="previous",this.isLeft=c==="left",this._create(u)}s.prototype._create=function(a){let c=this.element=document.createElement("button");c.className=`flickity-button flickity-prev-next-button ${this.increment}`;let u=this.isPrevious?"Previous":"Next";c.setAttribute("type","button"),c.setAttribute("aria-label",u),this.disable();let h=this.createSVG(u,a);c.append(h)},s.prototype.createSVG=function(a,c){let u=document.createElementNS(i,"svg");u.setAttribute("class","flickity-button-icon"),u.setAttribute("viewBox","0 0 100 100");let h=document.createElementNS(i,"title");h.append(a);let f=document.createElementNS(i,"path"),m=r(c);return f.setAttribute("d",m),f.setAttribute("class","arrow"),this.isLeft||f.setAttribute("transform","translate(100, 100) rotate(180)"),u.append(h,f),u};function r(a){if(typeof a=="string")return a;let{x0:c,x1:u,x2:h,x3:f,y1:m,y2:_}=a;return`M ${c}, 50
    L ${u}, ${m+50}
    L ${h}, ${_+50}
    L ${f}, 50
    L ${h}, ${50-_}
    L ${u}, ${50-m}
    Z`}s.prototype.enable=function(){this.element.removeAttribute("disabled")},s.prototype.disable=function(){this.element.setAttribute("disabled",!0)},Object.assign(t.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),t.create.prevNextButtons=function(){if(!this.options.prevNextButtons)return;let{rightToLeft:a,arrowShape:c}=this.options,u=a?"right":"left",h=a?"left":"right";this.prevButton=new s("previous",u,c),this.nextButton=new s("next",h,c),this.focusableElems.push(this.prevButton.element),this.focusableElems.push(this.nextButton.element),this.handlePrevButtonClick=()=>{this.uiChange(),this.previous()},this.handleNextButtonClick=()=>{this.uiChange(),this.next()},this.on("activate",this.activatePrevNextButtons),this.on("select",this.updatePrevNextButtons)};let o=t.prototype;return o.updatePrevNextButtons=function(){let a=this.slides.length?this.slides.length-1:0;this.updatePrevNextButton(this.prevButton,0),this.updatePrevNextButton(this.nextButton,a)},o.updatePrevNextButton=function(a,c){if(this.isWrapping&&this.slides.length>1){a.enable();return}let u=this.selectedIndex!==c;a[u?"enable":"disable"](),!u&&document.activeElement===a.element&&this.focus()},o.activatePrevNextButtons=function(){this.prevButton.element.addEventListener("click",this.handlePrevButtonClick),this.nextButton.element.addEventListener("click",this.handleNextButtonClick),this.element.append(this.prevButton.element,this.nextButton.element),this.on("deactivate",this.deactivatePrevNextButtons)},o.deactivatePrevNextButtons=function(){this.prevButton.element.remove(),this.nextButton.element.remove(),this.prevButton.element.removeEventListener("click",this.handlePrevButtonClick),this.nextButton.element.removeEventListener("click",this.handleNextButtonClick),this.off("deactivate",this.deactivatePrevNextButtons)},t.PrevNextButton=s,t})})(WG);var jG={exports:{}};(function(n){(function(e,t){n.exports?n.exports=t(_s.exports,Zr.exports):t(e.Flickity,e.fizzyUIUtils)})(typeof window!="undefined"?window:Gt,function(t,i){function s(){this.holder=document.createElement("div"),this.holder.className="flickity-page-dots",this.dots=[]}s.prototype.setDots=function(o){let a=o-this.dots.length;a>0?this.addDots(a):a<0&&this.removeDots(-a)},s.prototype.addDots=function(o){let a=new Array(o).fill().map((c,u)=>{let h=document.createElement("button");h.setAttribute("type","button");let f=u+1+this.dots.length;return h.className="flickity-page-dot",h.textContent=`View slide ${f}`,h});this.holder.append(...a),this.dots=this.dots.concat(a)},s.prototype.removeDots=function(o){this.dots.splice(this.dots.length-o,o).forEach(c=>c.remove())},s.prototype.updateSelected=function(o){this.selectedDot&&(this.selectedDot.classList.remove("is-selected"),this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[o],this.selectedDot.classList.add("is-selected"),this.selectedDot.setAttribute("aria-current","step"))},t.PageDots=s,Object.assign(t.defaults,{pageDots:!0}),t.create.pageDots=function(){!this.options.pageDots||(this.pageDots=new s,this.handlePageDotsClick=this.onPageDotsClick.bind(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))};let r=t.prototype;return r.activatePageDots=function(){this.pageDots.setDots(this.slides.length),this.focusableElems.push(...this.pageDots.dots),this.pageDots.holder.addEventListener("click",this.handlePageDotsClick),this.element.append(this.pageDots.holder)},r.onPageDotsClick=function(o){let a=this.pageDots.dots.indexOf(o.target);a!==-1&&(this.uiChange(),this.select(a))},r.updateSelectedPageDots=function(){this.pageDots.updateSelected(this.selectedIndex)},r.updatePageDots=function(){this.pageDots.dots.forEach(o=>{i.removeFrom(this.focusableElems,o)}),this.pageDots.setDots(this.slides.length),this.focusableElems.push(...this.pageDots.dots)},r.deactivatePageDots=function(){this.pageDots.holder.remove(),this.pageDots.holder.removeEventListener("click",this.handlePageDotsClick)},t.PageDots=s,t})})(jG);var qG={exports:{}};(function(n){(function(e,t){n.exports?n.exports=t(_s.exports):t(e.Flickity)})(typeof window!="undefined"?window:Gt,function(t){function i(r,o){this.autoPlay=r,this.onTick=o,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}i.prototype.play=function(){if(this.state==="playing")return;if(document.hidden){document.addEventListener("visibilitychange",this.onVisibilityPlay);return}this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()},i.prototype.tick=function(){if(this.state!=="playing")return;let r=typeof this.autoPlay=="number"?this.autoPlay:3e3;this.clear(),this.timeout=setTimeout(()=>{this.onTick(),this.tick()},r)},i.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},i.prototype.clear=function(){clearTimeout(this.timeout)},i.prototype.pause=function(){this.state==="playing"&&(this.state="paused",this.clear())},i.prototype.unpause=function(){this.state==="paused"&&this.play()},i.prototype.visibilityChange=function(){let r=document.hidden;this[r?"pause":"unpause"]()},i.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},Object.assign(t.defaults,{pauseAutoPlayOnHover:!0}),t.create.player=function(){this.player=new i(this.options.autoPlay,()=>{this.next(!0)}),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)};let s=t.prototype;return s.activatePlayer=function(){!this.options.autoPlay||(this.player.play(),this.element.addEventListener("mouseenter",this))},s.playPlayer=function(){this.player.play()},s.stopPlayer=function(){this.player.stop()},s.pausePlayer=function(){this.player.pause()},s.unpausePlayer=function(){this.player.unpause()},s.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},s.onmouseenter=function(){!this.options.pauseAutoPlayOnHover||(this.player.pause(),this.element.addEventListener("mouseleave",this))},s.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},t.Player=i,t})})(qG);var KG={exports:{}};(function(n){(function(e,t){n.exports?n.exports=t(_s.exports,Zr.exports):t(e.Flickity,e.fizzyUIUtils)})(typeof window!="undefined"?window:Gt,function(t,i){function s(o){let a=document.createDocumentFragment();return o.forEach(c=>a.appendChild(c.element)),a}let r=t.prototype;return r.insert=function(o,a){let c=this._makeCells(o);if(!c||!c.length)return;let u=this.cells.length;a=a===void 0?u:a;let h=s(c),f=a===u;if(f)this.slider.appendChild(h);else{let m=this.cells[a].element;this.slider.insertBefore(h,m)}if(a===0)this.cells=c.concat(this.cells);else if(f)this.cells=this.cells.concat(c);else{let m=this.cells.splice(a,u-a);this.cells=this.cells.concat(c).concat(m)}this._sizeCells(c),this.cellChange(a),this.positionSliderAtSelected()},r.append=function(o){this.insert(o,this.cells.length)},r.prepend=function(o){this.insert(o,0)},r.remove=function(o){let a=this.getCells(o);if(!a||!a.length)return;let c=this.cells.length-1;a.forEach(u=>{u.remove();let h=this.cells.indexOf(u);c=Math.min(h,c),i.removeFrom(this.cells,u)}),this.cellChange(c),this.positionSliderAtSelected()},r.cellSizeChange=function(o){let a=this.getCell(o);if(!a)return;a.getSize();let c=this.cells.indexOf(a);this.cellChange(c)},r.cellChange=function(o){let a=this.selectedElement;this._positionCells(o),this._updateWrapShiftCells(),this.setGallerySize();let c=this.getCell(a);c&&(this.selectedIndex=this.getCellSlideIndex(c)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[o]),this.select(this.selectedIndex)},t})})(KG);var JG={exports:{}};(function(n){(function(e,t){n.exports?n.exports=t(_s.exports,Zr.exports):t(e.Flickity,e.fizzyUIUtils)})(typeof window!="undefined"?window:Gt,function(t,i){const s="data-flickity-lazyload",r=`${s}-src`,o=`${s}-srcset`,a=`img[${s}], img[${r}], img[${o}], source[${o}]`;t.create.lazyLoad=function(){this.on("select",this.lazyLoad),this.handleLazyLoadComplete=this.onLazyLoadComplete.bind(this)};let c=t.prototype;c.lazyLoad=function(){let{lazyLoad:f}=this.options;if(!f)return;let m=typeof f=="number"?f:0;this.getAdjacentCellElements(m).map(u).flat().forEach(_=>new h(_,this.handleLazyLoadComplete))};function u(f){if(f.matches("img")){let m=f.getAttribute(s),_=f.getAttribute(r),y=f.getAttribute(o);if(m||_||y)return f}return[...f.querySelectorAll(a)]}c.onLazyLoadComplete=function(f,m){let _=this.getParentCell(f),y=_&&_.element;this.cellSizeChange(y),this.dispatchEvent("lazyLoad",m,y)};function h(f,m){this.img=f,this.onComplete=m,this.load()}return h.prototype.handleEvent=i.handleEvent,h.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);let f=this.img.getAttribute(s)||this.img.getAttribute(r),m=this.img.getAttribute(o);this.img.src=f,m&&this.img.setAttribute("srcset",m),this.img.removeAttribute(s),this.img.removeAttribute(r),this.img.removeAttribute(o)},h.prototype.onload=function(f){this.complete(f,"flickity-lazyloaded")},h.prototype.onerror=function(f){this.complete(f,"flickity-lazyerror")},h.prototype.complete=function(f,m){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this),(this.img.parentNode.matches("picture")?this.img.parentNode:this.img).classList.add(m),this.onComplete(this.img,f)},t.LazyLoader=h,t})})(JG);var XG={exports:{}},M4={exports:{}};/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */(function(n){(function(e,t){n.exports?n.exports=t(e,Wh.exports):e.imagesLoaded=t(e,e.EvEmitter)})(typeof window!="undefined"?window:Gt,function(t,i){let s=t.jQuery,r=t.console;function o(m){return Array.isArray(m)?m:typeof m=="object"&&typeof m.length=="number"?[...m]:[m]}function a(m,_,y){if(!(this instanceof a))return new a(m,_,y);let w=m;if(typeof m=="string"&&(w=document.querySelectorAll(m)),!w){r.error(`Bad element for imagesLoaded ${w||m}`);return}this.elements=o(w),this.options={},typeof _=="function"?y=_:Object.assign(this.options,_),y&&this.on("always",y),this.getImages(),s&&(this.jqDeferred=new s.Deferred),setTimeout(this.check.bind(this))}a.prototype=Object.create(i.prototype),a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const c=[1,9,11];a.prototype.addElementImages=function(m){m.nodeName==="IMG"&&this.addImage(m),this.options.background===!0&&this.addElementBackgroundImages(m);let{nodeType:_}=m;if(!_||!c.includes(_))return;let y=m.querySelectorAll("img");for(let w of y)this.addImage(w);if(typeof this.options.background=="string"){let w=m.querySelectorAll(this.options.background);for(let x of w)this.addElementBackgroundImages(x)}};const u=/url\((['"])?(.*?)\1\)/gi;a.prototype.addElementBackgroundImages=function(m){let _=getComputedStyle(m);if(!_)return;let y=u.exec(_.backgroundImage);for(;y!==null;){let w=y&&y[2];w&&this.addBackground(w,m),y=u.exec(_.backgroundImage)}},a.prototype.addImage=function(m){let _=new h(m);this.images.push(_)},a.prototype.addBackground=function(m,_){let y=new f(m,_);this.images.push(y)},a.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let m=(_,y,w)=>{setTimeout(()=>{this.progress(_,y,w)})};this.images.forEach(function(_){_.once("progress",m),_.check()})},a.prototype.progress=function(m,_,y){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!m.isLoaded,this.emitEvent("progress",[this,m,_]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,m),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&r&&r.log(`progress: ${y}`,m,_)},a.prototype.complete=function(){let m=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(m,[this]),this.emitEvent("always",[this]),this.jqDeferred){let _=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[_](this)}};function h(m){this.img=m}h.prototype=Object.create(i.prototype),h.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},h.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},h.prototype.confirm=function(m,_){this.isLoaded=m;let{parentNode:y}=this.img,w=y.nodeName==="PICTURE"?y:this.img;this.emitEvent("progress",[this,w,_])},h.prototype.handleEvent=function(m){let _="on"+m.type;this[_]&&this[_](m)},h.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},h.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},h.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function f(m,_){this.url=m,this.element=_,this.img=new Image}return f.prototype=Object.create(h.prototype),f.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},f.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},f.prototype.confirm=function(m,_){this.isLoaded=m,this.emitEvent("progress",[this,this.element,_])},a.makeJQueryPlugin=function(m){m=m||t.jQuery,m&&(s=m,s.fn.imagesLoaded=function(_,y){return new a(this,_,y).jqDeferred.promise(s(this))})},a.makeJQueryPlugin(),a})})(M4);(function(n){(function(e,t){n.exports?n.exports=t(_s.exports,M4.exports):t(e.Flickity,e.imagesLoaded)})(typeof window!="undefined"?window:Gt,function(t,i){return t.create.imagesLoaded=function(){this.on("activate",this.imagesLoaded)},t.prototype.imagesLoaded=function(){if(!this.options.imagesLoaded)return;let s=(r,o)=>{let a=this.getParentCell(o.img);this.cellSizeChange(a&&a.element),this.options.freeScroll||this.positionSliderAtSelected()};i(this.slider).on("progress",s)},t})})(XG);/*!
 * Flickity v3.0.0
 * Touch, responsive, flickable carousels
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * https://flickity.metafizzy.co
 * Copyright 2015-2022 Metafizzy
 */(function(n){if(n.exports){const e=_s.exports;n.exports=e}})(E4);var B4=E4.exports;const ZG={setup(){return{}}},QG={class:"icon-swipe",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},YG=b("path",{d:"M11.3028 13.3501C11.133 12.6621 10.4393 12.2417 9.75308 12.411C9.06689 12.5803 8.64831 13.2751 8.81807 13.9632L9.84253 18.1154C10.6912 21.5551 14.1605 23.6576 17.591 22.8112C21.0216 21.9648 23.1148 18.4899 22.2661 15.0502L21.4465 11.7284C21.2768 11.0404 20.583 10.6199 19.8968 10.7892C19.2106 10.9585 18.9234 12.1577 19.0932 12.8458L18.7569 11.511C18.5872 10.823 17.8934 10.4025 17.2072 10.5718C16.521 10.7411 16.2338 11.9403 16.4036 12.6284L16.0673 11.2936C15.8976 10.6055 15.2038 10.1851 14.5176 10.3544C13.8314 10.5237 13.5442 11.7229 13.714 12.411L12.1483 6.09345C11.9786 5.40542 11.2848 4.98499 10.5987 5.15429C9.91246 5.32359 9.49388 6.01846 9.66364 6.70649L12.0199 16.2567L11.3028 13.3501Z",stroke:"white","stroke-width":"1.28571","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),e$=b("path",{d:"M4.28564 12.8572V0.857178",stroke:"white","stroke-width":"1.28571","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),t$=b("path",{d:"M6.85721 10.2858L4.28578 12.8572L1.71436 10.2858",stroke:"white","stroke-width":"1.28571","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),n$=b("path",{d:"M6.85721 3.42861L4.28578 0.857178L1.71436 3.42861",stroke:"white","stroke-width":"1.28571","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),i$=[YG,e$,t$,n$];function s$(n,e,t,i,s,r){return ne(),Ee("svg",QG,i$)}var r$=me(ZG,[["render",s$]]);const o$={components:{Panel:lm,PanelTitle:cm,PanelFrame:hm,PanelStep:x4,PanelButton:um,ButtonElement:ya,IconSwipe:r$,IconEye:dm,IconMenu:Z0},emits:["close"],setup(n,{emit:e}){const t=J(null),i=J(!1);let s=null;Vt(()=>{s=new B4(t.value,{cellAlign:"left",contain:!0,prevNextButtons:!1,pageDots:!0}),s.on("change",r)});function r(a){i.value=a===2}function o(){e("close")}return qr(()=>{s.destroy(),s=null}),{carousel:t,onButtonClick:o,atEnd:i}}};function a$(n,e,t,i,s,r){const o=q("PanelTitle"),a=q("IconSwipe"),c=q("PanelStep"),u=q("PanelFrame"),h=q("IconEye"),f=q("IconMenu"),m=q("ButtonElement"),_=q("PanelButton"),y=q("Panel");return ne(),Ve(y,{class:"panel--mobile"},{default:ge(()=>[H(o,{title:"Tutorial"}),b("div",{ref:"carousel",class:Ft(["carousel",{"at-end":i.atEnd}])},[H(u,{class:"carousel-cell"},{default:ge(()=>[H(c,{text:"Swipe up and down to explore the Hall"},{default:ge(()=>[H(a)]),_:1})]),_:1}),H(u,{class:"carousel-cell"},{default:ge(()=>[H(c,{class:"carousel-cell",text:"Tap on this icon to access the content"},{default:ge(()=>[H(h)]),_:1})]),_:1}),H(u,{class:"carousel-cell"},{default:ge(()=>[H(c,{class:"carousel-cell",text:"This menu will help track your progress"},{default:ge(()=>[H(f)]),_:1})]),_:1})],2),H(_,null,{default:ge(()=>[Ke(H(m,{class:Ft({"is-disabled":i.atEnd}),size:"lg",text:"Begin journey",onClick:e[0]||(e[0]=w=>i.onButtonClick())},null,8,["class"]),[[Je,i.atEnd]])]),_:1})]),_:1})}var l$=me(o$,[["render",a$]]);const c$={name:"Tutorial",components:{Panel:lm,PanelStep:x4,ButtonElement:ya,PanelTitle:cm,PanelButton:um,PanelFrame:hm,IconMouse:Y0,IconEye:dm,IconMenu:Z0,TutorialMobile:l$},setup(){const n=J(!1),e=pt(()=>n.value&&!Zt.value);async function t(){ue.emit("tutorial_complete"),n.value=!1}return ue.on("tutorial_show",()=>{n.value=!0}),{show:n,complete:t,isMobile:Zt,showButton:e}}},u$={class:"tutorial"},h$={class:"tutorial__panel slide-up-element"};function d$(n,e,t,i,s,r){const o=q("PanelTitle"),a=q("IconMouse"),c=q("PanelStep"),u=q("IconEye"),h=q("IconMenu"),f=q("PanelFrame"),m=q("ButtonElement"),_=q("PanelButton"),y=q("Panel"),w=q("TutorialMobile");return ne(),Ve(ot,{name:"fade"},{default:ge(()=>[Ke(b("div",u$,[b("div",h$,[i.isMobile?(ne(),Ve(w,{key:1,onClose:e[1]||(e[1]=x=>i.complete())})):(ne(),Ve(y,{key:0},{default:ge(()=>[H(o,{title:"Tutorial"}),H(f,null,{default:ge(()=>[H(c,{text:"Scroll up and down to explore the Hall"},{default:ge(()=>[H(a)]),_:1}),H(c,{text:"Tap on this icon to access the content"},{default:ge(()=>[H(u)]),_:1}),H(c,{text:"This menu will help track your progress"},{default:ge(()=>[H(h)]),_:1})]),_:1}),H(_,null,{default:ge(()=>[Ke(H(m,{size:"lg",text:"Begin journey",onClick:e[0]||(e[0]=x=>i.complete())},null,512),[[Je,i.showButton]])]),_:1})]),_:1}))])],512),[[Je,i.show]])]),_:1})}var f$=me(c$,[["render",d$]]);const p$={name:"WayPoint",props:{id:{type:String,required:!0}},emits:["enter","leave"],setup(n,{emit:e}){const t=J(!0);ue.on("waypoint_enter",s),ue.on("waypoint_leave",r),Vt(async()=>{await vn(200),t.value=!1});function i(o,a){o===n.id&&(t.value=a,e(a?"enter":"leave"))}function s({id:o}){i(o,!0)}function r({id:o}){i(o,!1)}return{show:t}}},m$={class:"waypoint"};function _$(n,e,t,i,s,r){return ne(),Ve(ot,{name:"fade"},{default:ge(()=>[Ke(b("div",m$,[pn(n.$slots,"default")],512),[[Je,i.show]])]),_:3})}var wa=me(p$,[["render",_$]]);const g$={},v$={class:"control"},b$=b("svg",{class:"control__shape control__shape-1",width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("path",{d:"M16.2779 34.7455C17.3806 35.2022 18.6194 35.2022 19.7221 34.7455L28.6232 31.0585C29.7258 30.6018 30.6018 29.7258 31.0585 28.6232L34.7455 19.7221C35.2022 18.6194 35.2022 17.3806 34.7455 16.2779L31.0585 7.37684C30.6018 6.27421 29.7258 5.39818 28.6232 4.94146L19.7221 1.25451C18.6194 0.797781 17.3806 0.797785 16.2779 1.25451L7.37683 4.94146C6.27421 5.39818 5.39818 6.27421 4.94145 7.37684L1.2545 16.2779C0.797778 17.3806 0.797779 18.6194 1.2545 19.7221L4.94145 28.6232C5.39818 29.7258 6.27421 30.6018 7.37684 31.0585L16.2779 34.7455Z",stroke:"white","stroke-opacity":"0.2","stroke-linejoin":"round"})],-1),y$=b("svg",{class:"control__shape control__shape-2",width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("path",{d:"M19.7221 32.7455L27.209 29.6443C28.3116 29.1876 29.1876 28.3116 29.6443 27.2089L32.7455 19.7221C33.2022 18.6194 33.2022 17.3805 32.7455 16.2779L29.6443 8.79105C29.1876 7.68842 28.3116 6.81239 27.209 6.35566L19.7221 3.2545C18.6194 2.79778 17.3806 2.79778 16.2779 3.2545L8.79105 6.35567C7.68842 6.81239 6.81239 7.68842 6.35567 8.79105L3.2545 16.2779C2.79778 17.3806 2.79778 18.6194 3.2545 19.7221L6.35567 27.209C6.81239 28.3116 7.68842 29.1876 8.79105 29.6443L16.2779 32.7455C17.3806 33.2022 18.6195 33.2022 19.7221 32.7455Z",stroke:"white","stroke-linejoin":"round"})],-1),w$=[b$,y$];function C$(n,e){return ne(),Ee("div",v$,w$)}var x$=me(g$,[["render",C$]]);const E$={},A$={class:"icon-close",width:"7",height:"7",viewBox:"0 0 7 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},D$=b("rect",{width:"8.44275",height:"1.40713",rx:"0.703563",transform:"matrix(0.703527 -0.710669 0.703527 0.710669 0 6)",fill:"currentColor"},null,-1),S$=b("rect",{width:"8.44275",height:"1.40713",rx:"0.703563",transform:"matrix(-0.703527 -0.710669 -0.703527 0.710669 7 6)",fill:"currentColor"},null,-1),T$=[D$,S$];function M$(n,e){return ne(),Ee("svg",A$,T$)}var B$=me(E$,[["render",M$]]);const P$={components:{IconClose:B$},props:{text:{type:String,required:!0}}},F$={class:"close__button"},L$={class:"close__button__icon"},I$={class:"close__button__text"};function R$(n,e,t,i,s,r){const o=q("IconClose");return ne(),Ee("div",F$,[b("div",L$,[H(o)]),b("div",I$,Ye(t.text),1)])}var jh=me(P$,[["render",R$]]);const k$={},O$={class:"icon-play",width:"13",height:"17",viewBox:"0 0 13 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N$=b("path",{d:"M0.00170898 1.82216V15.7316C0.00170898 16.5207 0.872858 16.9989 1.53858 16.5752L12.4674 9.62053C13.0849 9.22758 13.0849 8.32617 12.4674 7.93321L1.53858 0.9785C0.872859 0.554857 0.00170898 1.03307 0.00170898 1.82216Z",fill:"currentColor"},null,-1),V$=[N$];function H$(n,e,t,i,s,r){return ne(),Ee("svg",O$,V$)}var z$=me(k$,[["render",H$]]);const U$={},G$={class:"icon-pause",width:"6",height:"8",viewBox:"0 0 6 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$$=b("rect",{width:"2",height:"8",rx:"1",fill:"white"},null,-1),W$=b("rect",{x:"4",width:"2",height:"8",rx:"1",fill:"white"},null,-1),j$=[$$,W$];function q$(n,e,t,i,s,r){return ne(),Ee("svg",G$,j$)}var K$=me(U$,[["render",q$]]);const J$={},X$={class:"icon-sound",width:"12",height:"10",viewBox:"0 0 12 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Z$=qi('<path d="M0 3.87673C0.0885103 3.55561 0.288329 3.44246 0.573976 3.45163C0.944109 3.46386 1.31424 3.45775 1.68572 3.45163C1.73802 3.45163 1.80105 3.42564 1.84128 3.38741C2.63385 2.64425 3.42374 1.89803 4.21497 1.15335C4.44965 0.933151 4.7353 0.948442 4.89891 1.20992C4.95657 1.30167 4.98608 1.43318 4.99278 1.54939C5.00619 1.81546 4.99681 2.08153 4.99681 2.3476C4.99681 4.37064 4.99681 6.39368 4.99681 8.41825C4.99681 8.74549 4.84661 8.95956 4.59046 8.99626C4.44831 9.01614 4.3303 8.95498 4.22435 8.85405C3.6249 8.28675 3.0241 7.72097 2.4233 7.15519C2.22751 6.97169 2.03439 6.78514 1.83592 6.6047C1.79703 6.56953 1.73802 6.54507 1.6884 6.54507C1.32497 6.54048 0.960202 6.52977 0.596774 6.54507C0.311127 6.5573 0.103262 6.4579 0.00134106 6.13984V3.8752L0 3.87673Z" fill="currentColor"></path><g class="icon-sound__cross"><path d="M6.64645 2.64646C6.84171 2.4512 7.15829 2.4512 7.35355 2.64646L11.3536 6.64646C11.5488 6.84172 11.5488 7.15831 11.3536 7.35357C11.1583 7.54883 10.8417 7.54883 10.6464 7.35357L6.64645 3.35357C6.45118 3.15831 6.45118 2.84172 6.64645 2.64646Z" fill="currentColor"></path><path d="M6.64652 7.35355C6.45126 7.15829 6.45126 6.84171 6.64652 6.64645L10.6465 2.64645C10.8418 2.45118 11.1584 2.45118 11.3536 2.64645C11.5489 2.84171 11.5489 3.15829 11.3536 3.35355L7.35363 7.35355C7.15837 7.54882 6.84178 7.54882 6.64652 7.35355Z" fill="currentColor"></path></g><g class="icon-sound__signals"><path d="M11.3111 5.35931C11.2827 5.5941 11.2618 5.82889 11.2231 6.06067C11.0276 7.23462 10.5516 8.28214 9.7922 9.19421C9.60271 9.42298 9.3058 9.45007 9.08498 9.27247C8.80448 9.04822 8.7448 8.75774 8.93876 8.50038C9.19092 8.16625 9.43262 7.82912 9.62062 7.45285C9.9041 6.88544 10.0891 6.28794 10.1637 5.65732C10.3293 4.25761 9.9981 2.98583 9.1939 1.83747C9.082 1.67643 8.94921 1.53194 8.83283 1.37391C8.67468 1.16019 8.70302 0.902829 8.89549 0.699646C9.10139 0.482917 9.35802 0.43927 9.57884 0.585261C9.62062 0.612352 9.65941 0.646969 9.69224 0.6861C10.5128 1.63429 11.0306 2.72546 11.2275 3.96864C11.2633 4.19139 11.2842 4.41564 11.3126 4.63839V5.35931H11.3111Z" fill="currentColor"></path><path d="M8.8674 4.99064C8.8674 5.88766 8.60182 6.69287 8.08259 7.41229C7.91101 7.64858 7.61261 7.70728 7.38283 7.55226C7.09786 7.35961 7.00535 7.04656 7.17544 6.78919C7.39179 6.46259 7.57978 6.12546 7.6708 5.74167C7.88415 4.84917 7.73495 4.0259 7.20976 3.27186C7.13814 3.16801 7.05757 3.06266 7.02027 2.94527C6.94269 2.69543 7.09487 2.42 7.35598 2.29508C7.57381 2.18973 7.82298 2.25595 7.98412 2.46214C8.56601 3.20564 8.86292 4.04998 8.86591 4.99064H8.8674Z" fill="currentColor"></path></g>',3),Q$=[Z$];function Y$(n,e,t,i,s,r){return ne(),Ee("svg",X$,Q$)}var eW=me(J$,[["render",Y$]]);const tW={},nW={class:"icon-fullscreen",width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},iW=b("path",{d:"M1 4.13184V0.999955H4.13188",stroke:"white","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),sW=b("path",{d:"M9.50098 4.13184V0.999955H6.3691",stroke:"white","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),rW=b("path",{d:"M1 6.36816V9.50004H4.13188",stroke:"white","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),oW=b("path",{d:"M9.50098 6.36816V9.50004H6.3691",stroke:"white","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),aW=[iW,sW,rW,oW];function lW(n,e,t,i,s,r){return ne(),Ee("svg",nW,aW)}var cW=me(tW,[["render",lW]]);const uW={components:{PictureElement:mc,VideoControl:x$,CloseButton:jh,IconPlay:z$,IconPause:K$,IconSound:eW,IconFullscreen:cW},props:{jobtitle:{type:String,required:!0},name:{type:String,required:!0},lastname:{type:String,required:!0},videoUrl:{type:String,required:!0},videoPoster:{type:String,required:!0},shortDescription:{type:String,default:""}},emits:["close-video","complete"],setup(n,{emit:e}){const t=J(!1),i=J(null),s=J(null),r=J(null),o=J(null),a=J(null),c=J(null),u=J(null),h=J(null),f=J(!1),m=J(0),_=J(!1),y=J(!1),w=J(!1),x=J("00:00 / 00:00");let M,P=null,F=!1,E;Vt(async()=>{t.value=!0,await vn(200),t.value=!1,M=document.querySelector("#ot-sdk-btn-floating")});const D=n.shortDescription===""?n.jobtitle:n.shortDescription;function B(){m.value=pl(i.value.duration),f.value=X()}function I(ce){ce.stopPropagation(),clearTimeout(E),F=!0,i.value.paused||i.value.ended?(w.value=!0,i.value.play(),K(!1),requestAnimationFrame(W)):(w.value=!1,i.value.pause(),K(!0),cancelAnimationFrame(P))}async function L(){s.value.src=`${Gi}${n.videoUrl}.webm`,r.value.src=`${Gi}${n.videoUrl}.mp4`,i.value.load(),ue.emit("scroll_disable"),ue.emit("video_overlay_open"),await vn(),t.value=!0,M||(M=document.querySelector("#ot-sdk-btn-floating")),M&&M.classList.add("is-hidden"),document.body.classList.add("has-video-open")}async function k(ce){w.value&&I(ce),await vn(200),t.value=!1,K(!0),i.value.currentTime=0,c.value.value=0,s.value.src="",r.value.src="",i.value.load(),ue.emit("scroll_enable"),ue.emit("video_overlay_close"),e("close-video",ce.target.value),F&&e("complete"),M&&M.classList.remove("is-hidden"),document.body.classList.remove("has-video-open")}function W(){O(),P=requestAnimationFrame(W)}function K(ce){i.value.muted=ce,y.value=ce}function R(){K(!i.value.muted)}function G(){i.value.paused?_.value=!1:_.value=!0}function O(){i.value!==null&&(u.value.value=pl(i.value.currentTime),c.value.value=pl(i.value.currentTime))}function j(ce){const Te=ce.target.dataset.seek?ce.target.dataset.seek:ce.target.value;i.value.currentTime=Te,c.value.value=Te,u.value.value=Te}function $(ce){const Te=pl(ce.offsetX/ce.target.clientWidth*m.value);u.value.setAttribute("data-seek",Te)}function se(ce){ce.stopPropagation()}function X(){return i.value.mozHasAudio||Boolean(i.value.webkitAudioDecodedByteCount)||Boolean(i.value.audioTracks&&i.value.audioTracks.length)}function Le(){document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement?document.webkitExitFullscreen():o.value.requestFullscreen?o.value.requestFullscreen():i.value.webkitRequestFullscreen?i.value.webkitRequestFullscreen():i.value.webkitEnterFullscreen()}function Pe(){if(!_.value)return;const ce=He(Math.round(i.value.currentTime)),Te=He(Math.round(i.value.duration));x.value=`${ce.minutes}:${ce.seconds} /  ${Te.minutes}:${Te.seconds}`}function He(ce){const Te=new Date(ce*1e3).toISOString().substr(11,8);return{minutes:Te.substr(3,2),seconds:Te.substr(6,2)}}function De(){w.value=!1,cancelAnimationFrame(W)}return{show:t,video:i,videoSourceWebm:s,videoSourceMp4:r,hasAudio:f,playButton:a,progressBar:c,seek:u,volumeButton:h,togglePlay:I,toggleMute:R,onSeekClick:se,skipAhead:j,updateSeekTooltip:$,duration:m,initializeVideo:B,isPlaying:_,isMuted:y,updatePlayButton:G,isActive:w,toggleFullScreen:Le,videoContainer:o,updateTimeElapsed:Pe,handleVideoEnd:De,timeElapsed:x,close:k,open:L,basePath:Gi,shortDescriptionText:D,isMobile:Zt}}},hW={class:"video__outer"},dW=b("div",{class:"video__outline"},[b("svg",{width:"1236",height:"701",viewBox:"0 0 1236 701",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("rect",{opacity:"0.2",x:"1",y:"1",width:"1234",height:"699",stroke:"white"}),b("path",{d:"M4.5 1L1 1L1 4.5",stroke:"#99FF88","stroke-linecap":"round","stroke-linejoin":"round"}),b("path",{d:"M1 697L1 700.5H4.5",stroke:"#99FF88","stroke-linecap":"round","stroke-linejoin":"round"}),b("path",{d:"M1232 1L1235.5 1L1235.5 4.5",stroke:"#99FF88","stroke-linecap":"round","stroke-linejoin":"round"}),b("path",{d:"M1235 697L1235 700.5L1231.5 700.5",stroke:"#99FF88","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),fW={ref:"videoContainer",class:"video__inner"},pW=["src"],mW=["src"],_W={class:"video__controls"},gW={class:"video__controls__inner"},vW={class:"video__controls__progress"},bW=["max"],yW=["max"],wW={class:"video__controls__progress__time"},CW={class:"video__poster__img"},xW={class:"video__poster__text"},EW=b("div",{class:"video__poster__text__bg"},null,-1),AW=b("div",{class:"video__poster__lines"},[b("div",{class:"video__poster__lines__group"},[b("div",{class:"video__poster__line video__poster__line-2"}),b("div",{class:"video__poster__line video__poster__line-3"})])],-1),DW=["innerHTML"],SW={class:"video__poster__text__lastname"},TW={class:"video__poster__text__jobtitle"},MW={class:"video__poster__play"},BW=b("div",{class:"video__poster__play__bg"},[b("svg",{width:"90",height:"90",viewBox:"0 0 90 90",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("path",{d:"M43.4712 88.8102C44.4513 89.2162 45.5526 89.2162 46.5327 88.8102L74.8982 77.0608C75.8783 76.6549 76.657 75.8762 77.063 74.8961L88.8124 46.5306C89.2183 45.5504 89.2183 44.4492 88.8123 43.4691L77.063 15.1036C76.657 14.1235 75.8783 13.3448 74.8982 12.9388L46.5327 1.18943C45.5526 0.783451 44.4513 0.783453 43.4712 1.18943L15.1057 12.9388C14.1256 13.3448 13.3469 14.1235 12.9409 15.1036L1.19154 43.4691C0.785565 44.4492 0.785566 45.5504 1.19154 46.5306L12.9409 74.8961C13.3469 75.8762 14.1256 76.6549 15.1057 77.0608L43.4712 88.8102Z",fill:"#08110A","fill-opacity":"0.6"})])],-1),PW=b("svg",{width:"496",height:"496",viewBox:"0 0 496 496",fill:"none",class:"video__poster__play__polygons-1",xmlns:"http://www.w3.org/2000/svg"},[b("path",{d:"M249.724 295.746L279.838 283.272C280.941 282.815 281.817 281.939 282.274 280.837L294.747 250.722C295.204 249.62 295.204 248.381 294.747 247.278L282.274 217.164C281.817 216.061 280.941 215.185 279.838 214.729L249.724 202.255C248.621 201.798 247.382 201.798 246.28 202.255L216.165 214.729C215.063 215.185 214.187 216.061 213.73 217.164L201.256 247.278C200.8 248.381 200.8 249.62 201.256 250.722L213.73 280.837C214.187 281.939 215.063 282.815 216.165 283.272L246.28 295.746C247.382 296.202 248.621 296.202 249.724 295.746Z",stroke:"white","stroke-opacity":"0.2","stroke-linejoin":"round"})],-1),FW=b("svg",{width:"496",height:"496",viewBox:"0 0 496 496",fill:"none",class:"video__poster__play__polygons-2",xmlns:"http://www.w3.org/2000/svg"},[b("path",{d:"M246.278 370.745L162.424 336.012C161.321 335.555 160.445 334.679 159.988 333.576L125.254 249.722C124.798 248.619 124.798 247.381 125.254 246.278L159.988 162.424C160.445 161.321 161.321 160.445 162.424 159.988L246.278 125.255C247.381 124.798 248.619 124.798 249.722 125.255L333.576 159.988C334.679 160.445 335.555 161.321 336.012 162.424L370.746 246.278C371.202 247.381 371.202 248.619 370.746 249.722L336.012 333.576C335.555 334.679 334.679 335.555 333.576 336.012L249.722 370.745C248.619 371.202 247.381 371.202 246.278 370.745Z",stroke:"white","stroke-opacity":"0.1","stroke-linejoin":"round"}),b("path",{d:"M246.278 494.745L74.7423 423.693C73.6397 423.236 72.7636 422.36 72.3069 421.258L1.25451 249.722C0.797782 248.619 0.797782 247.381 1.25451 246.278L72.3069 74.7422C72.7636 73.6396 73.6397 72.7636 74.7423 72.3069L246.278 1.25453C247.381 0.797799 248.619 0.797799 249.722 1.25453L421.258 72.3069C422.36 72.7636 423.236 73.6397 423.693 74.7423L494.746 246.278C495.202 247.381 495.202 248.619 494.746 249.722L423.693 421.258C423.236 422.36 422.36 423.236 421.258 423.693L249.722 494.745C248.619 495.202 247.381 495.202 246.278 494.745Z",stroke:"white","stroke-opacity":"0.05","stroke-linejoin":"round"})],-1),LW=b("svg",{width:"106",height:"106",viewBox:"0 0 106 106",fill:"none",class:"video__poster__play__polygons-3",xmlns:"http://www.w3.org/2000/svg"},[b("path",{d:"M54.5327 96.7282L82.1328 85.2958C83.1129 84.8899 83.8916 84.1112 84.2976 83.1311L95.73 55.5309C96.1359 54.5508 96.1359 53.4496 95.73 52.4695L84.2976 24.8693C83.8916 23.8892 83.1129 23.1105 82.1328 22.7045L54.5327 11.2722C53.5526 10.8662 52.4513 10.8662 51.4712 11.2722L23.8711 22.7045C22.891 23.1105 22.1123 23.8892 21.7063 24.8693L10.2739 52.4695C9.86796 53.4496 9.86796 54.5508 10.2739 55.5309L21.7063 83.1311C22.1123 84.1112 22.891 84.8899 23.8711 85.2958L51.4712 96.7282C52.4513 97.1342 53.5526 97.1342 54.5327 96.7282Z",stroke:"white","stroke-width":"2","stroke-linejoin":"round"})],-1);function IW(n,e,t,i,s,r){const o=q("VideoControl"),a=q("IconPlay"),c=q("IconPause"),u=q("IconSound"),h=q("IconFullscreen"),f=q("PictureElement"),m=q("CloseButton");return ne(),Ve(ot,{name:"fade"},{default:ge(()=>[Ke(b("div",{class:Ft(["video",{"is-muted":i.isMuted,"no-audio":i.hasAudio,"is-playing":i.isPlaying}])},[b("div",hW,[dW,b("div",fW,[b("video",{ref:"video",disablepictureinpicture:"",playsinline:"",onLoadedmetadata:e[0]||(e[0]=(..._)=>i.initializeVideo&&i.initializeVideo(..._)),onPlay:e[1]||(e[1]=(..._)=>i.updatePlayButton&&i.updatePlayButton(..._)),onPause:e[2]||(e[2]=(..._)=>i.updatePlayButton&&i.updatePlayButton(..._)),onTimeupdate:e[3]||(e[3]=(..._)=>i.updateTimeElapsed&&i.updateTimeElapsed(..._)),onClick:e[4]||(e[4]=(..._)=>i.togglePlay&&i.togglePlay(..._)),onEnded:e[5]||(e[5]=(..._)=>i.handleVideoEnd&&i.handleVideoEnd(..._))},[b("source",{ref:"videoSourceWebm",src:`${i.basePath}${t.videoUrl}.webm`,type:"video/webm"},null,8,pW),b("source",{ref:"videoSourceMp4",src:`${i.basePath}${t.videoUrl}.mp4`,type:"video/mp4"},null,8,mW)],544),b("div",_W,[b("div",gW,[b("div",{ref:"playButton",class:"video__control video__control__playback",onClick:e[6]||(e[6]=(..._)=>i.togglePlay&&i.togglePlay(..._))},[H(o),H(a,{class:"video__control__icon -play"}),H(c,{class:"video__control__icon -pause"})],512),b("div",vW,[b("progress",{ref:"progressBar",class:"video__controls__progress__bar",value:"0",min:"0",max:i.duration},null,8,bW),b("input",{ref:"seek",class:"video__controls__progress__seek",value:"0",min:"0",max:i.duration,type:"range",step:".001",onClick:e[7]||(e[7]=(..._)=>i.onSeekClick&&i.onSeekClick(..._)),onMousemove:e[8]||(e[8]=(..._)=>i.updateSeekTooltip&&i.updateSeekTooltip(..._)),onInput:e[9]||(e[9]=(..._)=>i.skipAhead&&i.skipAhead(..._))},null,40,yW),b("div",wW,Ye(i.timeElapsed),1)]),b("div",{ref:"volumeButton",class:"video__control video__control__mute",onClick:e[10]||(e[10]=(..._)=>i.toggleMute&&i.toggleMute(..._))},[H(o),H(u,{class:"video__control__icon"})],512),b("div",{class:"video__control video__control__fullscreen",onClick:e[11]||(e[11]=(..._)=>i.toggleFullScreen&&i.toggleFullScreen(..._))},[H(o),H(h,{class:"video__control__icon"})])])]),H(ot,{name:"fade"},{default:ge(()=>[Ke(b("div",{class:"video__poster",onClick:e[12]||(e[12]=(..._)=>i.togglePlay&&i.togglePlay(..._))},[b("div",CW,[i.isMobile?(ne(),Ve(f,{key:1,src:`${t.videoPoster}-mobile`,fallback:"jpg"},null,8,["src"])):(ne(),Ve(f,{key:0,src:t.videoPoster,fallback:"jpg"},null,8,["src"]))]),b("div",xW,[EW,AW,b("div",{class:"video__poster__text__name",innerHTML:t.name},null,8,DW),b("div",SW,Ye(t.lastname),1),b("div",TW,Ye(t.jobtitle),1),b("div",{class:Ft([t.shortDescription===""?"video__poster__text__symbols":"video__poster__text__description"])},Ye(i.shortDescriptionText),3)]),b("div",MW,[BW,PW,FW,LW,H(a,{class:"video__poster__play__icon"})])],512),[[Je,!i.isActive]])]),_:1})],512)]),H(m,{text:"Close",onClick:i.close},null,8,["onClick"])],2),[[Je,i.show]])]),_:1})}var pm=me(uW,[["render",IW]]);const RW={components:{TextRandomizer:X0},props:{delay:{type:Number,default:0},isVisited:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},text:{type:String,required:!0},textLine2:{type:String,default:""},x:{type:Number,default:0},y:{type:Number,default:0},unit:{type:String,default:"px"},labelPosition:{type:String,default:"top-left"},size:{type:String,default:"md"},hoverColor:{type:String,default:"transparent"}},setup(n){const e=J(!1),t=J(null),i=J(null),s=J(null),r=J(null),o=J(null),a=J(null),c=J(ci("btn-ds")),u={offset:0};let h;const f=pt(()=>n.size==="md"?"370 370":"470 470"),m=pt(()=>n.size==="md"?"M2.11712 51.5614L10.9772 60.7729C11.7313 61.5569 12.7722 62 13.8601 62H125.22C126.261 62 127.26 61.5946 128.007 60.8699L144.786 44.5783C145.562 43.8251 146 42.7898 146 41.7084V21.0152C146 20.0995 145.686 19.2116 145.11 18.4997L136.201 7.48452C135.441 6.54558 134.298 6 133.091 6H20.6398C19.6834 6 18.7586 6.34271 18.0331 6.96599L2.39333 20.4029C1.50885 21.1628 1 22.2709 1 23.4369V48.7885C1 49.8225 1.40036 50.8162 2.11712 51.5614Z":"M2.1,51.6l8.9,9.2c0.8,0.8,1.8,1.2,2.9,1.2h141.4c1,0,2-0.4,2.8-1.1l16.8-16.3c0.8-0.8,1.2-1.8,1.2-2.9V21 c0-0.9-0.3-1.8-0.9-2.5l-8.9-11c-0.8-0.9-1.9-1.5-3.1-1.5H20.6c-1,0-1.9,0.3-2.6,1L2.4,20.4c-0.9,0.8-1.4,1.9-1.4,3v25.4 C1,49.8,1.4,50.8,2.1,51.6z"),_=pt(()=>n.size=="md"?"M6.17157 44.1716L13.3284 51.3284C14.0786 52.0786 15.096 52.5 16.1569 52.5H138C140.209 52.5 142 50.7091 142 48.5V45V16.1569C142 15.096 141.579 14.0786 140.828 13.3284L133.672 6.17157C132.921 5.42143 131.904 5 130.843 5H9C6.79086 5 5 6.79086 5 9V12.5V41.3431C5 42.404 5.42143 43.4214 6.17157 44.1716Z":"M6.2,44.2l7.2,7.2c0.8,0.8,1.8,1.2,2.8,1.2H170c2.2,0,4-1.8,4-4V45V16.2c0-1.1-0.4-2.1-1.2-2.8l-7.2-7.2 c-0.8-0.8-1.8-1.2-2.8-1.2H9C6.8,5,5,6.8,5,9v3.5v28.8C5,42.4,5.4,43.4,6.2,44.2z"),y=pt(()=>({width:n.size==="md"?147:178.6,height:67}));function w(){e.value=!0}function x(P,F){h=ut.timeline({delay:n.delay,onStart:async()=>{await vn(300),a.value.showText()},onComplete:()=>F()}),h.fromTo(P,{opacity:0},{opacity:1,duration:.3,ease:"none"}),h.fromTo(i.value,{scale:0,opacity:0},{scale:1,opacity:1,duration:1.4,ease:"expo.out"},0),h.fromTo(s.value,{scaleX:0},{scaleX:1,duration:1.4,ease:"expo.out"},0),h.fromTo(t.value,{scale:0,opacity:0},{scale:1,opacity:1,duration:1.4,ease:"expo.out"},.35),h.fromTo(o.value,{opacity:0},{opacity:n.disabled?.4:1,duration:.3,ease:"none"},.4),h.fromTo(u,{offset:n.size==="md"?370:470},{offset:0,duration:1.4,ease:"expo.out",onUpdate:()=>{r.value.style.strokeDashoffset=u.offset}},.35)}function M(P,F){h&&h.kill(),h=null,a.value.showText(!1),ut.to(P,{opacity:0,duration:.3,ease:"none",onComplete:()=>F})}return{isComplete:e,setComplete:w,onEnter:x,onLeave:M,pointLayer1:t,pointLayer3:i,markerLineInner:s,markerLabelStroke:r,markerLabel:o,markerText:a,filter1:c,pathOutline:m,bounds:y,strokeDashArray:f,pathBg:_}}},kW={class:"marker__line"},OW={ref:"markerLineInner",class:"marker__line__inner"},NW={ref:"markerLabel",class:"marker__label"},VW={class:"marker__label__layer marker__label__layer-1"},HW=["width","height","viewBox"],zW=["d"],UW={class:"marker__label__layer marker__label__layer-2"},GW=["width","height","viewBox"],$W=["d","stroke-dasharray"],WW={class:"marker__label__layer marker__label__layer-3"},jW=["width","height","viewBox"],qW=b("path",{d:"M20 1H31",stroke:"#2DF872","stroke-linecap":"round"},null,-1),KW=b("path",{d:"M104 66H111",stroke:"#2DF872","stroke-linecap":"round"},null,-1),JW=b("path",{d:"M98 66H100",stroke:"#2DF872","stroke-linecap":"round"},null,-1),XW=[qW,KW,JW],ZW={class:"marker__label__inner"},QW={key:0,class:"marker__label__icon"},YW={class:"marker__label__text"},ej={class:"marker__point"},tj={ref:"pointLayer1",class:"marker__point__layer marker__point__layer-1"},nj=b("svg",{width:"36",height:"42",viewBox:"0 0 36 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("path",{d:"M16.5 1.86603C17.4282 1.33013 18.5718 1.33013 19.5 1.86603L33.8205 10.134C34.7487 10.6699 35.3205 11.6603 35.3205 12.7321V29.2679C35.3205 30.3397 34.7487 31.3301 33.8205 31.866L19.5 40.134C18.5718 40.6699 17.4282 40.6699 16.5 40.134L2.17949 31.866C1.25129 31.3301 0.679491 30.3397 0.679491 29.2679V12.7321C0.679491 11.6603 1.25129 10.6699 2.17949 10.134L16.5 1.86603Z",stroke:"white","stroke-linecap":"round","stroke-linejoin":"round"})],-1),ij=[nj],sj=b("div",{class:"marker__point__layer marker__point__layer-2"},[b("svg",{width:"36",height:"42",viewBox:"0 0 36 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("path",{d:"M16.5 9.86603C17.4282 9.33013 18.5718 9.33013 19.5 9.86603L26.8923 14.134C27.8205 14.6699 28.3923 15.6603 28.3923 16.7321V25.2679C28.3923 26.3397 27.8205 27.3301 26.8923 27.866L19.5 32.134C18.5718 32.6699 17.4282 32.6699 16.5 32.134L9.1077 27.866C8.17949 27.3301 7.6077 26.3397 7.6077 25.2679V16.7321C7.6077 15.6603 8.17949 14.6699 9.1077 14.134L16.5 9.86603Z",fill:"white","fill-opacity":"0.6"})])],-1),rj={ref:"pointLayer3",class:"marker__point__layer marker__point__layer-3"},oj=b("svg",{width:"36",height:"42",viewBox:"0 0 36 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("path",{d:"M17.5 17.2887C17.8094 17.11 18.1906 17.11 18.5 17.2887L20.9641 18.7113C21.2735 18.89 21.4641 19.2201 21.4641 19.5774V22.4226C21.4641 22.7799 21.2735 23.11 20.9641 23.2887L18.5 24.7113C18.1906 24.89 17.8094 24.89 17.5 24.7113L15.0359 23.2887C14.7265 23.11 14.5359 22.7799 14.5359 22.4226V19.5774C14.5359 19.2201 14.7265 18.89 15.0359 18.7113L17.5 17.2887Z",fill:"white"})],-1),aj=[oj];function lj(n,e,t,i,s,r){const o=q("TextRandomizer");return ne(),Ve(ot,{name:"marker",onEnter:i.onEnter,onLeave:i.onLeave},{default:ge(()=>[b("div",{class:Ft([`marker marker--${t.labelPosition} marker--${t.size} marker--hover-${t.hoverColor}`,{"is-disabled":t.disabled},{"is-complete":i.isComplete},{"is-visited":t.isVisited}])},[b("div",kW,[b("div",OW,null,512)]),b("div",NW,[b("div",VW,[(ne(),Ee("svg",{class:"marker__label__svg",width:i.bounds.width,height:i.bounds.height,viewBox:`0 0 ${i.bounds.width} ${i.bounds.height}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("path",{class:"marker__label__svg__bg",d:i.pathBg,fill:"#08110a"},null,8,zW)],8,HW))]),b("div",UW,[(ne(),Ee("svg",{class:"marker__label__svg",width:i.bounds.width,height:i.bounds.height,viewBox:`0 0 ${i.bounds.width} ${i.bounds.height}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("path",{ref:"markerLabelStroke",d:i.pathOutline,stroke:"white","stroke-dasharray":i.strokeDashArray},null,8,$W)],8,GW))]),b("div",WW,[(ne(),Ee("svg",{class:"marker__label__svg",width:i.bounds.width,height:i.bounds.height,viewBox:`0 0 ${i.bounds.width} ${i.bounds.height}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},XW,8,jW))]),b("div",ZW,[n.$slots.icon?(ne(),Ee("div",QW,[pn(n.$slots,"icon",{class:"marker__label__icon"})])):Si("",!0),b("div",YW,[H(o,{ref:"markerText",text:t.text,"text-line-2":t.textLine2},null,8,["text","text-line-2"])])])],512),b("div",ej,[b("div",tj,ij,512),sj,b("div",rj,aj,512)])],2)]),_:3},8,["onEnter","onLeave"])}var P4=me(RW,[["render",lj]]);const cj={setup(){const n=J(31),e=J(0),t=pt(()=>n.value-n.value*e.value);function i(s){ut.to(e,{delay:.3,value:s,duration:1.2,ease:"expo.out"})}return{lineProgress:e,lineLength:n,setLineProgress:i,strokeOffset:t}}},uj={class:"icon-check",width:"23",height:"16",viewBox:"0 0 23 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},hj=["stroke-dasharray","stroke-dashoffset"];function dj(n,e,t,i,s,r){return ne(),Ee("svg",uj,[b("path",{d:"M1 7C2.02522 8.01238 9.34211 15.0363 9.64364 14.9996C10.7292 14.8676 21.4572 1.7923 22 0.999999",stroke:"#2DF872","stroke-dasharray":`${i.lineLength} ${i.lineLength}`,"stroke-dashoffset":i.strokeOffset,"stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"},null,8,hj)])}var v2=me(cj,[["render",dj]]);const fj={name:"HotSpot",components:{Marker:P4,IconEye:dm,IconCheck:v2,IconCheck:v2},props:{delay:{type:Number,default:0},name:{type:String,required:!0},disabled:{type:Boolean,default:!1},text:{type:String,default:"Watch"},textLine2:{type:String,default:""},labelPosition:{type:String,default:"top-right"},size:{type:String,default:"md"},hoverColor:{type:String,default:"transparent"}},setup(n){const e=J(!1),t=J(!1),i=J(null),s=J(null),r=J(null);let o,a=new Promise(y=>{o=y});Vt(()=>{o()});async function c(){await a,ue.on("hotspot_position",f),e.value=!0}async function u(){e.value=!1,await vn(300),ue.off("hotspot_position",f),o()}async function h(){t.value=!0,await vn(500),r.value.setLineProgress(1),s.value.setComplete()}function f(y){const{name:w,screenPositionPx:x}=y.hotspot;w===n.name&&(i.value.style.transform=`translate3d(${x[0]}px, ${x[1]}px, 0)`)}function m(){Ne.idle.active&&Ne.setIdleHidden(!0)}function _(){Ne.idle.active&&(Ne.idle.keepHidden||Ne.setIdleHidden(!1))}return{isActive:e,onMounted:Vt,show:c,hide:u,hotspot:i,marker:s,check:r,setComplete:h,isComplete:t,onMouseEnter:m,onMouseLeave:_}}};function pj(n,e,t,i,s,r){const o=q("IconEye"),a=q("IconCheck"),c=q("Marker");return ne(),Ve(ot,{name:"fade"},{default:ge(()=>[b("div",{ref:"hotspot",class:Ft(["hotspot",{"is-hidden":!i.isActive}]),onMouseenter:e[0]||(e[0]=(...u)=>i.onMouseEnter&&i.onMouseEnter(...u)),onMouseleave:e[1]||(e[1]=(...u)=>i.onMouseLeave&&i.onMouseLeave(...u))},[Ke(H(c,{ref:"marker",text:t.text,"text-line-2":t.textLine2,disabled:t.disabled,"label-position":t.labelPosition,delay:t.delay,size:t.size,"hover-color":t.hoverColor},xx({_:2},[t.disabled?void 0:{name:"icon",fn:ge(()=>[H(o,{class:"hotspot__icon"}),H(a,{ref:"check"},null,512)])}]),1032,["text","text-line-2","disabled","label-position","delay","size","hover-color"]),[[Je,i.isActive]])],34)]),_:1})}var vc=me(fj,[["render",pj]]);const mj={components:{WayPoint:wa,WaypointTitle:Xr,Hotspot:vc,VideoOverlay:pm},setup(){const n=J(null),e=J(null),t=J(null),i=J(null),s=J(null),r=J(null),o=J(null);function a(){ue.emit("prev_show"),Zt.value?(n.value.show=!0,ue.on("control_point",u)):(e.value.show(),t.value.show(),i.value.show())}function c(){e.value.hide(),t.value.hide(),i.value.hide(),Zt.value&&ue.off("control_point",u)}function u({name:f}){n.value.show=f==="screen_left",f==="screen_left"&&(e.value.hide(),t.value.hide(),i.value.hide()),f==="screen_left_1"&&e.value.show(),f==="screen_left_2"&&t.value.show(),f==="screen_left_3"&&i.value.show()}function h(f){f.setComplete(),e.value.isComplete&&t.value.isComplete&&i.value.isComplete&&Ne.setProgress("originStories",!0)}return{onEnter:a,onLeave:c,hotspot1:e,hotspot2:t,hotspot3:i,video1:s,video2:r,video3:o,onComplete:h,title:n}}};function _j(n,e,t,i,s,r){const o=q("WaypointTitle"),a=q("Hotspot"),c=q("VideoOverlay"),u=q("WayPoint");return ne(),Ve(u,{id:"screen_left",onEnter:i.onEnter,onLeave:i.onLeave},{default:ge(()=>[H(o,{ref:"title","title-part1":"Origin","title-part2":"Stories","sub-title":"Find your inspiration"},null,512),H(a,{ref:"hotspot1",class:"ui__hotspots__hotspot",name:"screen_left_1",onClick:e[0]||(e[0]=h=>i.video1.open())},null,512),H(a,{ref:"hotspot2",class:"ui__hotspots__hotspot",name:"screen_left_2",delay:.15,onClick:e[1]||(e[1]=h=>i.video2.open())},null,8,["delay"]),H(a,{ref:"hotspot3",class:"ui__hotspots__hotspot",name:"screen_left_3",delay:.3,onClick:e[2]||(e[2]=h=>i.video3.open())},null,8,["delay"]),H(c,{ref:"video1","video-poster":"posters/hannah","video-url":"assets/videos/hannah",jobtitle:"Production designer",name:"Hannah",lastname:"Beachler","short-description":"Bringing your whole self to every project",onComplete:e[3]||(e[3]=h=>i.onComplete(i.hotspot1))},null,512),H(c,{ref:"video2","video-poster":"posters/jasmine","video-url":"assets/videos/jasmine",jobtitle:"Storyboard artist",name:"Jasmine",lastname:"Alexia","short-description":"Create the world you want to see",onComplete:e[4]||(e[4]=h=>i.onComplete(i.hotspot2))},null,512),H(c,{ref:"video3","video-poster":"posters/alicia","video-url":"assets/videos/alicia",jobtitle:"Sculptor",name:"Al\xEDcia",lastname:"D\xEDaz","short-description":"When one door closes, carve a new one",onComplete:e[5]||(e[5]=h=>i.onComplete(i.hotspot3))},null,512)]),_:1},8,["onEnter","onLeave"])}var gj=me(mj,[["render",_j]]);const vj={components:{WayPoint:wa,WaypointTitle:Xr,Hotspot:vc,VideoOverlay:pm},setup(){const n=J(null),e=J(null),t=J(null),i=J(null),s=J(null),r=J(null),o=J(null);function a(){ue.emit("prev_show"),Zt.value?(n.value.show=!0,ue.on("control_point",u)):(e.value.show(),t.value.show(),i.value.show())}function c(){e.value.hide(),t.value.hide(),i.value.hide(),Zt.value&&ue.off("control_point",u)}function u({name:f}){n.value.show=f==="screen_right",f==="screen_right"&&(e.value.hide(),t.value.hide(),i.value.hide()),f==="screen_right_1"&&e.value.show(),f==="screen_right_2"&&t.value.show(),f==="screen_right_3"&&i.value.show()}function h(f){f.setComplete(),e.value.isComplete&&t.value.isComplete&&i.value.isComplete&&Ne.setProgress("library",!0)}return{onEnter:a,onLeave:c,hotspot1:e,hotspot2:t,hotspot3:i,video1:s,video2:r,video3:o,onComplete:h,title:n}}};function bj(n,e,t,i,s,r){const o=q("WaypointTitle"),a=q("Hotspot"),c=q("VideoOverlay"),u=q("WayPoint");return ne(),Ve(u,{id:"screen_right",onEnter:i.onEnter,onLeave:i.onLeave},{default:ge(()=>[H(o,{ref:"title","title-part1":"The","title-part2":"Library","sub-title":"More help finding your gift"},null,512),H(a,{ref:"hotspot1",class:"ui__hotspots__hotspot",name:"screen_right_1",onClick:e[0]||(e[0]=h=>i.video1.open())},null,512),H(a,{ref:"hotspot2",class:"ui__hotspots__hotspot",name:"screen_right_2",delay:.15,onClick:e[1]||(e[1]=h=>i.video2.open())},null,8,["delay"]),H(a,{ref:"hotspot3",class:"ui__hotspots__hotspot",name:"screen_right_3",delay:.3,onClick:e[2]||(e[2]=h=>i.video3.open())},null,8,["delay"]),H(c,{ref:"video1","video-poster":"posters/naya","video-url":"assets/videos/naya",jobtitle:"Software engineer",name:"Naya",lastname:"Black Female Engineer","short-description":"",onComplete:e[3]||(e[3]=h=>i.onComplete(i.hotspot1))},null,512),H(c,{ref:"video2","video-poster":"posters/reyna","video-url":"assets/videos/reyna",jobtitle:"Visual artist & author",name:"Reyna",lastname:"Noriega","short-description":"",onComplete:e[4]||(e[4]=h=>i.onComplete(i.hotspot2))},null,512),H(c,{ref:"video3","video-poster":"posters/joan","video-url":"assets/videos/joan",jobtitle:"Space engineer",name:"Joan",lastname:"Marie","short-description":"",onComplete:e[5]||(e[5]=h=>i.onComplete(i.hotspot3))},null,512)]),_:1},8,["onEnter","onLeave"])}var yj=me(vj,[["render",bj]]);const wj={props:{title:{type:String,default:""}}},Cj={class:"share"},xj={class:"share__text"},Ej={class:"share__buttons"};function Aj(n,e,t,i,s,r){return ne(),Ee("div",Cj,[b("div",xj,Ye(t.title),1),b("div",Ej,[pn(n.$slots,"default")])])}var F4=me(wj,[["render",Aj]]);const Dj={components:{ButtonRound:om}},Sj={class:"share__button"};function Tj(n,e,t,i,s,r){const o=q("ButtonRound");return ne(),Ee("a",Sj,[H(o,null,{default:ge(()=>[pn(n.$slots,"default")]),_:3})])}var L4=me(Dj,[["render",Tj]]);const Mj={props:{linkUrl:{type:String,default:""},text:{type:String,required:!0}}},Bj={class:"link__text"};function Pj(n,e,t,i,s,r){return ne(),Ve(m3(t.linkUrl===""?"div":"a"),{class:"link",href:t.linkUrl===""?null:t.linkUrl},{default:ge(()=>[b("div",Bj,Ye(t.text),1)]),_:1},8,["href"])}var mm=me(Mj,[["render",Pj]]);const Fj={},Lj={class:"icon-facebook",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ij=b("path",{d:"M20 10C20 4.47715 15.5229 0 10 0C4.47715 0 0 4.47715 0 10C0 14.9912 3.65684 19.1283 8.4375 19.8785V12.8906H5.89844V10H8.4375V7.79688C8.4375 5.29063 9.93047 3.90625 12.2146 3.90625C13.3084 3.90625 14.4531 4.10156 14.4531 4.10156V6.5625H13.1922C11.95 6.5625 11.5625 7.3334 11.5625 8.125V10H14.3359L13.8926 12.8906H11.5625V19.8785C16.3432 19.1283 20 14.9912 20 10Z",fill:"currentColor"},null,-1),Rj=[Ij];function kj(n,e,t,i,s,r){return ne(),Ee("svg",Lj,Rj)}var I4=me(Fj,[["render",kj]]);const Oj={},Nj={class:"icon-twitter",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Vj=b("path",{d:"M6.2896 18.126C13.8368 18.126 17.9648 11.8732 17.9648 6.45084C17.9648 6.27324 17.9648 6.09644 17.9528 5.92044C18.7559 5.33957 19.4491 4.62034 20 3.79644C19.2512 4.12844 18.4567 4.34607 17.6432 4.44204C18.4998 3.92928 19.141 3.12269 19.4472 2.17244C18.6417 2.65045 17.7605 2.9873 16.8416 3.16844C16.2229 2.51059 15.4047 2.07497 14.5135 1.92901C13.6223 1.78305 12.7078 1.93487 11.9116 2.36098C11.1154 2.7871 10.4819 3.46375 10.109 4.28623C9.73605 5.10871 9.64462 6.03116 9.8488 6.91084C8.21741 6.82901 6.62146 6.40503 5.16455 5.66644C3.70763 4.92786 2.4223 3.89116 1.392 2.62364C0.867274 3.52697 0.70656 4.59633 0.942583 5.61399C1.17861 6.63165 1.79362 7.5211 2.6624 8.10124C2.00936 8.08211 1.37054 7.90594 0.8 7.58764V7.63964C0.800259 8.58702 1.12821 9.50514 1.72823 10.2383C2.32824 10.9714 3.16338 11.4744 4.092 11.662C3.4879 11.8268 2.85406 11.8509 2.2392 11.7324C2.50151 12.5477 3.01202 13.2606 3.69937 13.7716C4.38671 14.2825 5.21652 14.5658 6.0728 14.582C5.22203 15.2508 4.24776 15.7452 3.20573 16.037C2.16369 16.3289 1.07435 16.4124 0 16.2828C1.87653 17.487 4.05994 18.1258 6.2896 18.1228",fill:"currentColor"},null,-1),Hj=[Vj];function zj(n,e,t,i,s,r){return ne(),Ee("svg",Nj,Hj)}var R4=me(Oj,[["render",zj]]);const Uj={},Gj={width:"18",height:"18",viewBox:"0 0 18 18",class:"icon-link",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$j=b("path",{d:"M10.2864 7.71403C9.60384 7.03173 8.67822 6.64844 7.7131 6.64844C6.74797 6.64844 5.82235 7.03173 5.13976 7.71403L2.56559 10.2874C1.88299 10.97 1.49951 11.8958 1.49951 12.8611C1.49951 13.8265 1.88299 14.7523 2.56559 15.4349C3.24819 16.1175 4.174 16.501 5.13934 16.501C6.10469 16.501 7.03049 16.1175 7.7131 15.4349L8.99976 14.1482",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Wj=b("path",{d:"M7.71289 10.2869C8.39548 10.9692 9.3211 11.3525 10.2862 11.3525C11.2513 11.3525 12.177 10.9692 12.8596 10.2869L15.4337 7.71358C16.1163 7.03098 16.4998 6.10518 16.4998 5.13983C16.4998 4.17449 16.1163 3.24868 15.4337 2.56608C14.7511 1.88348 13.8253 1.5 12.86 1.5C11.8946 1.5 10.9688 1.88348 10.2862 2.56608L8.99956 3.85275",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),jj=[$j,Wj];function qj(n,e,t,i,s,r){return ne(),Ee("svg",Gj,jj)}var Kj=me(Uj,[["render",qj]]);function k4(n){const e={width:780,height:550},t=Math.floor((window.innerWidth-e.width)/2),i=Math.floor((window.innerHeight-e.height)/2);console.log(n.target.getAttribute("href"));const s=window.open(n.target.getAttribute("href"),"social","width="+e.width+",height="+e.height+",left="+t+",top="+i+",location=0,menubar=0,toolbar=0,status=0,scrollbars=1,resizable=1");s&&(s.focus(),n.preventDefault())}const Jj={name:"Introduction",components:{GuideFrame:sm,GuidePart:im,GuideControls:rm,GuideControl:am,Panel:lm,PanelTitle:cm,PanelButton:um,PanelFrame:hm,ButtonElement:ya,ShareButtons:F4,ShareButton:L4,Link:mm,IconFacebook:I4,IconTwitter:R4,IconLink:Kj,IconClose:zh,Logo:Uh,LogoSprite:_c,LogoMarvel:gc},setup(){const n=J(!1),e=J(!0),t=J(!1),i=J(!1),s=J(1);async function r(){ue.emit("title_hide"),ue.emit("orb_hide"),e.value=!1,t.value=!0}function o(){n.value=!1,Ne.setEndScreenActive(!1),ue.emit("scroll_enable"),ue.emit("controls_show"),ue.emit("title_show")}ue.on("progress_end",async()=>{Ne.setComplete(),Ne.setEndScreenActive(!0),ue.emit("scroll_disable"),ue.emit("orb_show"),ue.emit("controls_hide"),ue.emit("title_hide"),n.value=!0,await vn(500)}),ue.on("end_close",o);function a(){s.value++,s.value>2&&r()}function c(){s.value--}async function u(f){const m=document.createElement("textarea");m.value=f,m.setAttribute("readonly",""),m.style.position="absolute",m.style.left="-9999px",document.body.appendChild(m),m.select(),document.execCommand("copy"),document.body.removeChild(m),i.value=!0,await vn(1e3),i.value=!1}return{show:n,goToEnd:r,showGuide:e,showEndPanel:t,close:o,onNext:a,onPrev:c,part:s,copyToClipboard:u,showConfirmation:i,createSharePopUp:k4,baseUrl:"https://sprite.com/zerolimits"}}},Xj={class:"end-screen"},Zj=Ht(" You\u2019ve made great strides toward finding your gift. Your legacy is a continuous journey and it does not end here. "),Qj=Ht(" Keep exploring or share the experience with your friends. Remember, all are welcome to find their place in the "),Yj=b("span",null,"Hall of Zero Limits",-1),eq=Ht(". "),tq={class:"end-screen__text"},nq={class:"end-screen__logos"},iq={key:0,class:"confirmation-message"},sq={class:"end-screen__button"},rq={class:"end-screen__button"};function oq(n,e,t,i,s,r){const o=q("GuidePart"),a=q("GuideControl"),c=q("GuideControls"),u=q("GuideFrame"),h=q("PanelTitle"),f=q("LogoSprite"),m=q("IconClose"),_=q("LogoMarvel"),y=q("Logo"),w=q("IconFacebook"),x=q("ShareButton"),M=q("IconTwitter"),P=q("IconLink"),F=q("ShareButtons"),E=q("PanelFrame"),D=q("ButtonElement"),B=q("Link"),I=q("PanelButton"),L=q("Panel");return ne(),Ve(ot,{name:"fade"},{default:ge(()=>[Ke(b("div",Xj,[Ke(H(u,null,{buttons:ge(()=>[H(c,null,{default:ge(()=>[H(a,{"is-disabled":i.part===1,onClick:i.onPrev},null,8,["is-disabled","onClick"]),H(a,{onClick:e[0]||(e[0]=k=>i.onNext())})]),_:1})]),default:ge(()=>[Ke(H(o,null,{default:ge(()=>[Zj]),_:1},512),[[Je,i.part===1&&i.show&&i.showGuide]]),Ke(H(o,null,{default:ge(()=>[Qj,Yj,eq]),_:1},512),[[Je,i.part===2&&i.show&&i.showGuide]])]),_:1},512),[[Je,i.showGuide]]),Ke(H(L,{class:"end-screen__panel"},{default:ge(()=>[H(h,{title:"Thank you"}),H(E,null,{default:ge(()=>[b("div",tq,[b("div",null,[b("div",nq,[H(f,{class:"end-screen__logos__sprite"}),H(m,{class:"end-screen__logos__separator"}),H(_,{class:"end-screen__logos__marvel"})]),H(y)]),H(F,{title:"Share the Experience"},{default:ge(()=>[H(x,{href:`https://www.facebook.com/sharer/sharer.php?u=${i.baseUrl}&quote=Discover%20your%20gift%20in%20the%20Hall%20of%20Zero%20Limits.`,target:"_blank",rel:"noopener noreferrer",onClick:i.createSharePopUp},{default:ge(()=>[H(w)]),_:1},8,["href","onClick"]),H(x,{href:`https://twitter.com/intent/tweet?text=Discover%20your%20gift%20in%20the%20Hall%20of%20Zero%20Limits.&url=${i.baseUrl}`,target:"_blank",rel:"noopener noreferrer",onClick:i.createSharePopUp},{default:ge(()=>[H(M)]),_:1},8,["href","onClick"]),H(x,{onClick:e[1]||(e[1]=k=>i.copyToClipboard(`${i.baseUrl}`))},{default:ge(()=>[H(P),H(ot,{name:"fade"},{default:ge(()=>[i.showConfirmation?(ne(),Ee("div",iq," Link copied. ")):Si("",!0)]),_:1})]),_:1})]),_:1})])]),_:1}),H(I,null,{default:ge(()=>[b("div",sq,[Ke(H(D,{size:"lg",text:"Keep exploring",onClick:i.close},null,8,["onClick"]),[[Je,i.showEndPanel]])]),b("div",rq,[H(B,{"link-url":"https://sprite.com",target:"_blank",rel:"noopener noreferrer",text:"or visit sprite.com"})])]),_:1})]),_:1},512),[[Je,i.showEndPanel]])],512),[[Je,i.show]])]),_:1})}var aq=me(Jj,[["render",oq]]);const lq={components:{WayPoint:wa,WaypointTitle:Xr,Hotspot:vc,VideoOverlay:pm},setup(){const n=J(null),e=J(null);function t(){n.value.show()}function i(){n.value.hide()}function s(){n.value.setComplete(),Ne.setProgress("trailer",!0)}return{onEnter:t,onLeave:i,hotspot:n,trailer:e,onComplete:s}}};function cq(n,e,t,i,s,r){const o=q("WaypointTitle"),a=q("VideoOverlay"),c=q("Hotspot"),u=q("WayPoint");return ne(),Ve(u,{id:"screen_tree",onEnter:i.onEnter,onLeave:i.onLeave},{default:ge(()=>[H(o,{"title-part1":"Sprite","title-part2":"Zero Sugar\xAE","sub-title":"Open your infinite potential"}),H(a,{ref:"trailer","video-poster":"posters/tvc","video-url":"assets/videos/tvc",jobtitle:"",name:"A new path forged.<br/>A most refreshing discovery. ",lastname:"",onComplete:i.onComplete},null,8,["onComplete"]),H(c,{ref:"hotspot",name:"screen_tree",onClick:e[0]||(e[0]=h=>i.trailer.open())},null,512)]),_:1},8,["onEnter","onLeave"])}var uq=me(lq,[["render",cq]]);const hq={components:{WayPoint:wa,WaypointTitle:Xr},setup(){function n(){Ne.endScreenActive||(Ne.setProgress("welcome",!0),ue.emit("controls_show"),Ne.complete||ue.emit("prev_hide"))}function e(){ue.emit("prev_show")}return{onEnter:n,onLeave:e}}};function dq(n,e,t,i,s,r){const o=q("WaypointTitle"),a=q("WayPoint");return ne(),Ve(a,{id:"tree",onEnter:i.onEnter,onLeave:i.onLeave},{default:ge(()=>[H(o,{"title-part1":"The Hall of","title-part2":"Zero Limits","sub-title":"Welcome"})]),_:1},8,["onEnter","onLeave"])}var fq=me(hq,[["render",dq]]);const pq={},mq={class:"icon-lines",width:"41",height:"14",viewBox:"0 0 41 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_q=b("path",{d:"M34 7L18 7",stroke:"#2DF872","stroke-width":"2","stroke-linecap":"round"},null,-1),gq=b("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 7.5C14 7.77614 13.7761 8 13.5 8L6.5 8C6.22386 8 6 7.77614 6 7.5C6 7.22386 6.22386 7 6.5 7L13.5 7C13.7761 7 14 7.22386 14 7.5Z",fill:"#2DF872"},null,-1),vq=[_q,gq];function bq(n,e){return ne(),Ee("svg",mq,vq)}var yq=me(pq,[["render",bq]]);const wq={},Cq={class:"icon-polygon-xxxs",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},xq=b("path",{d:"M4 7L6.59808 5.5V2.5L4 1L1.40192 2.5V5.5L4 7Z",stroke:"white","stroke-opacity":"0.2","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Eq=[xq];function Aq(n,e){return ne(),Ee("svg",Cq,Eq)}var Dq=me(wq,[["render",Aq]]);const Sq={components:{CloseButton:jh,IconLines:yq,IconPolygonXxxs:Dq},props:{quote:{type:String,required:!0},name:{type:String,required:!0},description:{type:String,default:""}},emits:["complete"],setup(n,{emit:e}){const t=J(!1),i=J(null),s=J(null),r=J(null),o=J(null),a=J(null);let c;async function u(){ue.emit("scroll_disable"),await vn(),t.value=!0}async function h(_){t.value=!1,ue.emit("scroll_enable"),e("complete")}function f(_,y){c=ut.timeline({onComplete:()=>y()}),c.fromTo(_,{opacity:0},{opacity:1,duration:.5,ease:"quad.out"}),c.fromTo(i.value,{y:"3rem",opacity:0},{y:0,opacity:1,duration:1.8,ease:"expo.out"},0),c.fromTo([s.value,r.value,o.value,a.value],{y:"3rem",opacity:0},{y:0,opacity:1,duration:1.8,stagger:.08,ease:"expo.out"},0)}function m(_,y){c&&c.kill(),c=null,ut.to(_,{opacity:0,duration:.3,ease:"quad.out",onComplete:()=>y()})}return{show:t,overlay:i,overlayQuote:s,overlayName:r,overlaySeparator:o,overlayDescription:a,isMobile:Zt,close:h,open:u,onEnter:f,onLeave:m}}},Tq={class:"statue-overlay"},Mq=b("div",{class:"statue-overlay__bg"},null,-1),Bq={ref:"overlay",class:"statue-panel slide-up-element"},Pq={class:"statue-panel__bg"},Fq={key:0,width:"443",height:"603",viewBox:"0 0 443 603",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Lq=b("path",{opacity:"0.14",d:"M1 592V63.4517C1 60.8178 2.03912 58.2903 3.89169 56.4181L55.7923 3.96637C57.6706 2.06812 60.2301 1 62.9006 1H432C437.523 1 442 5.47715 442 11V34.9942V540.924C442 543.689 440.855 546.331 438.837 548.221L384.318 599.298C382.465 601.034 380.02 602 377.481 602H38.4939H11C5.47715 602 1 597.523 1 592Z",stroke:"white"},null,-1),Iq=[Lq],Rq={key:1,width:"329",height:"522",viewBox:"0 0 329 522",fill:"none",xmlns:"http://www.w3.org/2000/svg"},kq=b("path",{opacity:"0.14",d:"M1 514.128V53.9991C1 52.3711 1.57791 50.7961 2.63078 49.5545L41.7462 3.42748C43.0519 1.88772 44.9687 1 46.9875 1H321.128C324.923 1 328 4.07671 328 7.87204V30.4127V469.236C328 470.953 327.357 472.608 326.199 473.875L285.133 518.766C283.832 520.189 281.992 521 280.063 521H28.8016H7.87204C4.07672 521 1 517.923 1 514.128Z",stroke:"white"},null,-1),Oq=[kq],Nq={class:"statue-panel__content"},Vq={ref:"overlayQuote",class:"statue-quote"},Hq={class:"statue-quote__text"},zq={ref:"overlayName",class:"statue-name"},Uq={class:"statue-name__text statue-name__text--regular"},Gq={class:"statue-name__text statue-name__text--wakanda"},$q={ref:"overlaySeparator"};function Wq(n,e,t,i,s,r){const o=q("IconLines"),a=q("IconPolygonXxxs"),c=q("CloseButton");return ne(),Ve(ot,{name:"statue-overlay",onEnter:i.onEnter,onLeave:i.onLeave},{default:ge(()=>[Ke(b("div",Tq,[Mq,b("div",Bq,[b("div",Pq,[i.isMobile?(ne(),Ee("svg",Rq,Oq)):(ne(),Ee("svg",Fq,Iq))]),b("div",Nq,[b("div",Vq,[H(o,{class:"statue-quote__icon statue-quote__icon--top"}),b("div",Hq,Ye(t.quote),1),H(o,{class:"statue-quote__icon statue-quote__icon--bottom"})],512),b("div",zq,[b("div",Uq,Ye(t.name),1),b("div",Gq,Ye(t.name),1)],512),b("div",$q,[H(a,{class:"statue-panel__separator"})],512),b("div",{ref:"overlayDescription",class:"statue-panel__description"},Ye(t.description),513)])],512),H(c,{text:"Close quote",onClick:i.close},null,8,["onClick"])],512),[[Je,i.show]])]),_:1},8,["onEnter","onLeave"])}var jq=me(Sq,[["render",Wq]]);const qq={components:{WayPoint:wa,WaypointTitle:Xr,Hotspot:vc,StatueOverlay:jq,GuideFrame:sm,GuidePart:im,GuideControls:rm,GuideControl:am},setup(){const n=J(!1),e=J(!1),t=J(!1),i=J(0),s=J(null),r=J(null),o=J(null),a=J(null),c=J(null),u=J(null);function h(){i.value===1&&(i.value=0)}function f(){i.value===0?i.value=1:(ue.emit("orb_hide"),ue.emit("controls_show"),e.value=!0,n.value=!1,t.value=!0)}function m(){e.value=!0,t.value||(ue.emit("controls_hide"),ue.emit("orb_show"),n.value=!0,i.value=0),Zt.value?ue.on("control_point",y):(s.value.show(),r.value.show(),o.value.show())}function _(){ue.emit("orb_hide"),ue.emit("controls_show"),e.value=!1,n.value=!1,s.value.hide(),r.value.hide(),o.value.hide(),Zt.value&&ue.off("control_point",y)}function y({name:x}){e.value=x==="statues",x==="statues"&&(s.value.hide(),r.value.hide(),o.value.hide()),x==="statues_1"&&s.value.show(),x==="statues_2"&&r.value.show(),x==="statues_3"&&o.value.show()}function w(x){x.setComplete(),s.value.isComplete&&r.value.isComplete&&o.value.isComplete&&Ne.setProgress("inspirationGarden",!0)}return{hotspot1:s,hotspot2:r,hotspot3:o,overlay1:a,overlay2:c,overlay3:u,onEnter:m,onLeave:_,onComplete:w,guidePrev:h,guideNext:f,showGuide:n,showTitle:e,guidePartKey:i}}},Kq=Ht(" I see you\u2019ve made it to the "),Jq=b("span",null,"Inspiration Garden.",-1),Xq=Ht(" This place carries more purpose than simply being pleasing to the eye. "),Zq=Ht(" Here we\u2019ve collected monuments that represent some of the many gifts that may find you in this hall. Each is unique and inspiring in its own way. Take a closer look. One may catch your eye... ");function Qq(n,e,t,i,s,r){const o=q("WaypointTitle"),a=q("Hotspot"),c=q("StatueOverlay"),u=q("GuidePart"),h=q("GuideControl"),f=q("GuideControls"),m=q("GuideFrame"),_=q("WayPoint");return ne(),Ve(_,{id:"statues",class:"inspiration-garden",onEnter:i.onEnter,onLeave:i.onLeave},{default:ge(()=>[Ke(H(o,{"title-part1":"Inspiration","title-part2":"Garden","sub-title":"Where Ingenuity Overflows"},null,512),[[Je,i.showTitle]]),H(a,{ref:"hotspot1",class:"ui__hotspots__hotspot",name:"statue_1",text:"Read","hover-color":"dark",onClick:e[0]||(e[0]=y=>i.overlay1.open())},null,512),H(a,{ref:"hotspot2",class:"ui__hotspots__hotspot",name:"statue_2",text:"Read","hover-color":"dark",onClick:e[1]||(e[1]=y=>i.overlay2.open())},null,512),H(a,{ref:"hotspot3",class:"ui__hotspots__hotspot",name:"statue_3",text:"Read","hover-color":"dark",onClick:e[2]||(e[2]=y=>i.overlay3.open())},null,512),H(c,{ref:"overlay1",quote:"\u201CI am loyal to that throne, no matter who sits on it.\u201D",name:"DORA MILAJE",description:"Much can be gleaned from these elite warriors who provide protection and intel to protect the crown and country. Though known for being physically skilled in battle, their minds are also among their greatest weapons\u2013overcoming and embracing adversity and solving problems as quickly as they arise. Do the Dora's gifts reflect yours? ",onComplete:e[3]||(e[3]=y=>i.onComplete(i.hotspot1))},null,512),H(c,{ref:"overlay2",quote:"\u201CJust because something works doesn\u2019t mean it can\u2019t be improved.\u201D",name:"SHURI",description:"Both a problem solver and maker by nature, Shuri is a visionary, illuminator, decoder, explorer and avant-garde. She\u2019s unapologetically bold in her role as a leader across the board\u2013 as a master engineer, designer, tech inventor, mathematician, and scientist. Her innovations are of incredible importance to her community. Perhaps when you look at Shuri, you see glimpses of yourself there as well.",onComplete:e[4]||(e[4]=y=>i.onComplete(i.hotspot2))},null,512),H(c,{ref:"overlay3",quote:"\u201CWitness the strength of the Jabari\u2026 first-hand!\u201D",name:"M\u2019BAKU",description:"Behold the gifts of a great leader: determination, courage, and passion. M\u2019Baku\u2019s superhuman physical agility and strength are particularly impressive when combined with his superior mental agility\u2014strategic, analytical, patient, and tenacious when met with obstacles. Do you think these characteristics would serve you well?",onComplete:e[5]||(e[5]=y=>i.onComplete(i.hotspot3))},null,512),Ke(H(m,null,{buttons:ge(()=>[H(f,null,{default:ge(()=>[H(h,{"is-disabled":i.guidePartKey===0,onClick:e[6]||(e[6]=y=>i.guidePrev())},null,8,["is-disabled"]),H(h,{onClick:e[7]||(e[7]=y=>i.guideNext())})]),_:1})]),default:ge(()=>[Ke(H(u,null,{default:ge(()=>[Kq,Jq,Xq]),_:1},512),[[Je,i.showGuide&&i.guidePartKey===0]]),Ke(H(u,null,{default:ge(()=>[Zq]),_:1},512),[[Je,i.showGuide&&i.guidePartKey===1]])]),_:1},512),[[Je,i.showGuide]])]),_:1},8,["onEnter","onLeave"])}var Yq=me(qq,[["render",Qq]]);const Z={visionary:"visionary",avantgarde:"avant-garde",explorer:"explorer",illuminator:"illuminator",decoder:"decoder"},aa=[{id:Z.visionary,title:"Visionary",text:"Where others see a door closing, you see an opportunity to open it\u2014and often, build a better one. As an innovator and creator, you\u2019re not only a problem solver, but a problem seeker. You always find ways to improve the world around you and are creative enough to envision it differently. A myriad of paths awaits you\u2014among them sound, design, software, aerospace, industrial, biomedical and more."},{id:Z.avantgarde,title:"Avant-Garde",text:"Creative to your core, your strong imagination and unique vision are your gifts, not only as your life\u2019s path, but also your gifts to the world around you. Film, music, fine arts, gaming, fashion and cuisine are among the canvasses upon which you can leave your mark. Opportunities for you to make the world a better, more beautiful place are as vast as the imagination, which for you is limitless."},{id:Z.explorer,title:"Explorer",text:"Driven by a mind filled with infinite wonder and a penchant for investigation, your calling lives where curiosity, discovery and observation converge. Plants, animals, computers, data, health, artificial intelligence\u2014your potential spans as far as the ocean is from the sun. Perhaps it\u2019s your very nature that led you to the Hall of Zero Limits, and may this be the first of many hypotheses you test."},{id:Z.illuminator,title:"Illuminator",text:"You\u2019re inspired by the power of the question, \u201CWhat if?\u201D Whether optimizing existing systems and processes or experimenting with new ideas to invent them, you\u2019re well-equipped with the creativity and ingenuity it takes to propel our world forward. From programming and developing, to data modeling and analyzing, there are zero limits to your potential."},{id:Z.decoder,title:"Decoder",text:"Numbers form a bridge between the abstract and physical worlds, and perhaps the path to discovering your gift. Analytical and strategic, you\u2019re adept at zeroing in on the connection between new problems and existing knowledge. You can inspire by teaching, influence policy via research, secure futures in accounting and finance, and inform the creative process in a multitude of fields."}],eK=[{id:"genre",question:["Select a","Movie Genre"],answers:[{id:"documentary",text:"Documentary",relatedQuestion:"strength",personas:[{id:Z.visionary,percent:25},{id:Z.explorer,percent:35},{id:Z.decoder,percent:10},{id:Z.avantgarde,percent:5},{id:Z.illuminator,percent:25}]},{id:"comedy",text:"Comedy",relatedQuestion:"inspired",personas:[{id:Z.visionary,percent:10},{id:Z.explorer,percent:20},{id:Z.decoder,percent:40},{id:Z.avantgarde,percent:30},{id:Z.illuminator,percent:0}]}]},{id:"strength",question:["Your Strength in","Group Projects is:"],answers:[{id:"research",text:"Research & Planning",relatedQuestion:"hobby",personas:[{id:Z.visionary,percent:10},{id:Z.explorer,percent:60},{id:Z.decoder,percent:20},{id:Z.avantgarde,percent:0},{id:Z.illuminator,percent:10}]},{id:"design",text:"Designing the Presentation",relatedQuestion:"discuss",personas:[{id:Z.visionary,percent:50},{id:Z.explorer,percent:0},{id:Z.decoder,percent:0},{id:Z.avantgarde,percent:50},{id:Z.illuminator,percent:0}]}]},{id:"inspired",question:["You\u2019d be more","Inspired as a"],answers:[{id:"content-creator",text:"Content Creator",relatedQuestion:"discuss",personas:[{id:Z.visionary,percent:0},{id:Z.explorer,percent:0},{id:Z.decoder,percent:0},{id:Z.avantgarde,percent:65},{id:Z.illuminator,percent:35}]},{id:"programmer",text:"Programmer",relatedQuestion:"element-singer",personas:[{id:Z.visionary,percent:35},{id:Z.explorer,percent:5},{id:Z.decoder,percent:0},{id:Z.avantgarde,percent:0},{id:Z.illuminator,percent:60}]}]},{id:"element-singer",question:["You\u2019d be","in your element as a Singer's:"],answers:[{id:"booking-agent",text:"Booking Agent",relatedQuestion:"interests",personas:[{id:Z.visionary,percent:50},{id:Z.explorer,percent:0},{id:Z.decoder,percent:10},{id:Z.avantgarde,percent:10},{id:Z.illuminator,percent:35}]},{id:"financial-advisor",text:"Financial Advisor",relatedQuestion:"topic-energizes",personas:[{id:Z.visionary,percent:10},{id:Z.explorer,percent:0},{id:Z.decoder,percent:80},{id:Z.avantgarde,percent:0},{id:Z.illuminator,percent:10}]}]},{id:"topic-energizes",question:["Which topic","energizes you most"],answers:[{id:"substainable-design",text:"Sustainable Fashion Design",relatedQuestion:"interests",personas:[{id:Z.visionary,percent:40},{id:Z.explorer,percent:30},{id:Z.decoder,percent:5},{id:Z.avantgarde,percent:0},{id:Z.illuminator,percent:35}]},{id:"financial-literacy",text:"Financial Literacy",relatedQuestion:"rather",personas:[{id:Z.visionary,percent:0},{id:Z.explorer,percent:0},{id:Z.decoder,percent:90},{id:Z.avantgarde,percent:0},{id:Z.illuminator,percent:10}]}]},{id:"interests",question:["Which Class","Interests You Most?"],answers:[{id:"robotics",text:"Robotics",relatedQuestion:"prefer",personas:[{id:Z.visionary,percent:70},{id:Z.explorer,percent:10},{id:Z.decoder,percent:0},{id:Z.avantgarde,percent:0},{id:Z.illuminator,percent:20}]},{id:"coding",text:"Coding",relatedQuestion:"gravitate",personas:[{id:Z.visionary,percent:0},{id:Z.explorer,percent:0},{id:Z.decoder,percent:10},{id:Z.avantgarde,percent:0},{id:Z.illuminator,percent:90}]}]},{id:"rather",question:["Would","You Rather:"],answers:[{id:"gather-data",text:"Gather Data",relatedQuestion:"prefer",personas:[{id:Z.visionary,percent:0},{id:Z.explorer,percent:80},{id:Z.decoder,percent:0},{id:Z.avantgarde,percent:0},{id:Z.illuminator,percent:20}]},{id:"interpret-data",text:"Interpret Data",relatedQuestion:null,relatedPersona:Z.decoder,personas:[{id:Z.visionary,percent:20},{id:Z.explorer,percent:0},{id:Z.decoder,percent:60},{id:Z.avantgarde,percent:0},{id:Z.illuminator,percent:20}]}]},{id:"prefer",question:["You\u2019d","Prefer to:"],answers:[{id:"take-something-apart",text:"Take Something Apart",relatedQuestion:null,relatedPersona:Z.explorer,personas:[{id:Z.visionary,percent:10},{id:Z.explorer,percent:80},{id:Z.decoder,percent:0},{id:Z.avantgarde,percent:0},{id:Z.illuminator,percent:10}]},{id:"better-version",text:"Create a better version",relatedQuestion:null,relatedPersona:Z.visionary,personas:[{id:Z.visionary,percent:50},{id:Z.explorer,percent:0},{id:Z.decoder,percent:0},{id:Z.avantgarde,percent:50},{id:Z.illuminator,percent:0}]}]},{id:"hobby",question:["Select","a Hobby:"],answers:[{id:"gaming",text:"Gaming",relatedQuestion:"element",personas:[{id:Z.visionary,percent:40},{id:Z.explorer,percent:20},{id:Z.decoder,percent:0},{id:Z.avantgarde,percent:0},{id:Z.illuminator,percent:40}]},{id:"photography",text:"Photography",relatedQuestion:"discuss",personas:[{id:Z.visionary,percent:20},{id:Z.explorer,percent:0},{id:Z.decoder,percent:0},{id:Z.avantgarde,percent:80},{id:Z.illuminator,percent:0}]}]},{id:"element",question:["You\u2019d Be","in Your Element:"],answers:[{id:"designing-set",text:"Designing a Set",relatedQuestion:"friends",personas:[{id:Z.visionary,percent:80},{id:Z.explorer,percent:0},{id:Z.decoder,percent:0},{id:Z.avantgarde,percent:20},{id:Z.illuminator,percent:0}]},{id:"writing-play",text:"Writing a Script",relatedQuestion:"discuss",personas:[{id:Z.visionary,percent:0},{id:Z.explorer,percent:0},{id:Z.decoder,percent:0},{id:Z.avantgarde,percent:100},{id:Z.illuminator,percent:0}]}]},{id:"friends",question:["Friends Seek Your","Expertise on:"],answers:[{id:"device-troubleshooting",text:"Device Troubleshooting",relatedQuestion:null,relatedPersona:Z.visionary,personas:[{id:Z.visionary,percent:50},{id:Z.explorer,percent:10},{id:Z.decoder,percent:0},{id:Z.avantgarde,percent:0},{id:Z.illuminator,percent:40}]},{id:"what-to-wear",text:"What to wear",relatedQuestion:"workplace",personas:[{id:Z.visionary,percent:10},{id:Z.explorer,percent:0},{id:Z.decoder,percent:0},{id:Z.avantgarde,percent:90},{id:Z.illuminator,percent:0}]}]},{id:"gravitate",question:["You Gravitate","Toward:"],answers:[{id:"exploring",text:"Exploring",relatedQuestion:"prefer",personas:[{id:Z.visionary,percent:0},{id:Z.explorer,percent:70},{id:Z.decoder,percent:30},{id:Z.avantgarde,percent:0},{id:Z.illuminator,percent:0}]},{id:"creating",text:"Creating",relatedQuestion:null,relatedPersona:Z.illuminator,personas:[{id:Z.visionary,percent:0},{id:Z.explorer,percent:0},{id:Z.decoder,percent:0},{id:Z.avantgarde,percent:35},{id:Z.illuminator,percent:65}]}]},{id:"discuss",question:["You\u2019d Rather","Discuss:"],answers:[{id:"astrology",text:"Astrology",relatedQuestion:"workplace",personas:[{id:Z.visionary,percent:0},{id:Z.explorer,percent:0},{id:Z.decoder,percent:0},{id:Z.avantgarde,percent:100},{id:Z.illuminator,percent:0}]},{id:"astronomy",text:"Astronomy",relatedQuestion:"prefer",personas:[{id:Z.visionary,percent:0},{id:Z.explorer,percent:0},{id:Z.decoder,percent:90},{id:Z.avantgarde,percent:0},{id:Z.illuminator,percent:0}]}]},{id:"workplace",question:["Which Workplace","Best Suits You?"],answers:[{id:"studio",text:"Studio",relatedQuestion:null,relatedPersona:Z.avantgarde,personas:[{id:Z.visionary,percent:10},{id:Z.explorer,percent:0},{id:Z.decoder,percent:0},{id:Z.avantgarde,percent:90},{id:Z.illuminator,percent:0}]},{id:"lab",text:"Lab",relatedQuestion:"prefer",personas:[{id:Z.visionary,percent:20},{id:Z.explorer,percent:60},{id:Z.decoder,percent:0},{id:Z.avantgarde,percent:0},{id:Z.illuminator,percent:20}]}]}],tK={name:"QuizIntro",components:{ButtonElement:ya,Link:mm},emits:["start-quiz","close-quiz"],setup(n,{emit:e}){const t=J(!1),i=J(null),s=J(null),r=J(null),o=J(null),a=J(null);let c;function u(){e("start-quiz")}function h(){e("close-quiz")}function f(_,y){t.value=!0,c=ut.timeline({onComplete:()=>y()}),c.fromTo(_,{opacity:0},{opacity:1,duration:.5,ease:"none"}),c.fromTo(i.value,{y:"3rem",opacity:0},{y:0,opacity:1,duration:1.8,ease:"expo.out"},0),c.fromTo([s.value,r.value,o.value,a.value],{y:"3rem",opacity:0},{y:0,opacity:1,duration:1.8,stagger:.08,ease:"expo.out"},0)}function m(_,y){t.value=!1,c&&c.kill(),c=null,ut.to(_,{opacity:0,duration:.3,ease:"none",onComplete:()=>y()})}return{isMobile:Zt,close,startQuiz:u,closeQuiz:h,showButton:t,quizIntro:i,onEnter:f,onLeave:m,quizIntroTitle:s,quizIntroText:r,quizIntroButton:o,quizIntroLink:a}}},nK={ref:"quizIntro",class:"quiz__intro"},iK={class:"quiz__intro__inner"},sK={class:"quiz__intro__inner__bg"},rK={key:0,width:"443",height:"603",viewBox:"0 0 443 603",fill:"none",xmlns:"http://www.w3.org/2000/svg"},oK=b("path",{opacity:"0.14",d:"M1 592V63.4517C1 60.8178 2.03912 58.2903 3.89169 56.4181L55.7923 3.96637C57.6706 2.06812 60.2301 1 62.9006 1H432C437.523 1 442 5.47715 442 11V34.9942V540.924C442 543.689 440.855 546.331 438.837 548.221L384.318 599.298C382.465 601.034 380.02 602 377.481 602H38.4939H11C5.47715 602 1 597.523 1 592Z",stroke:"white"},null,-1),aK=[oK],lK={key:1,width:"329",height:"522",viewBox:"0 0 329 522",fill:"none",xmlns:"http://www.w3.org/2000/svg"},cK=b("path",{opacity:"0.14",d:"M1 514.128V53.9991C1 52.3711 1.57791 50.7961 2.63078 49.5545L41.7462 3.42748C43.0519 1.88772 44.9687 1 46.9875 1H321.128C324.923 1 328 4.07671 328 7.87204V30.4127V469.236C328 470.953 327.357 472.608 326.199 473.875L285.133 518.766C283.832 520.189 281.992 521 280.063 521H28.8016H7.87204C4.07672 521 1 517.923 1 514.128Z",stroke:"white"},null,-1),uK=[cK],hK={ref:"quizIntroTitle",class:"quiz__intro__title"},dK=b("svg",{width:"515",height:"182",viewBox:"0 0 515 182",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("g",{filter:"url(#filter0_ddd_523_9425)"},[b("path",{d:"M11 134L12.7321 133V131L11 130L9.26795 131V133L11 134Z",stroke:"white","stroke-linecap":"round","stroke-linejoin":"round"})]),b("g",{filter:"url(#filter1_ddd_523_9425)"},[b("path",{d:"M362 54L363.732 53V51L362 50L360.268 51V53L362 54Z",stroke:"white","stroke-linecap":"round","stroke-linejoin":"round"})]),b("g",{filter:"url(#filter2_ddd_523_9425)"},[b("path",{d:"M504 138L505.732 137V135L504 134L502.268 135V137L504 138Z",stroke:"white","stroke-linecap":"round","stroke-linejoin":"round"})]),b("g",{filter:"url(#filter3_dd_523_9425)"},[b("path",{d:"M63.32 133.725L48.53 109.974C47.486 108.321 47.225 107.016 47.225 105.972C47.225 103.71 48.443 102.318 50.357 101.274V101.1H32V101.274C35.393 103.536 37.307 105.711 39.656 109.539L56.534 136.683V151.56C56.534 157.302 55.316 160.086 51.14 161.826V162H69.497V161.826C65.321 160.086 64.103 157.302 64.103 151.56V136.683L80.459 110.322C82.808 106.494 85.07 103.449 88.637 101.274V101.1H75.5V101.274C77.588 102.318 78.806 104.232 78.806 106.494C78.806 107.799 78.371 109.278 77.501 110.757L63.32 133.725ZM147.133 131.55C147.133 113.28 133.474 100.23 117.292 100.23C101.11 100.23 87.4509 113.28 87.4509 131.55C87.4509 149.82 101.11 162.87 117.292 162.87C133.474 162.87 147.133 149.82 147.133 131.55ZM138.085 131.55C138.085 148.254 130.951 160.869 117.292 160.869C103.633 160.869 96.4989 148.254 96.4989 131.55C96.4989 114.846 103.633 102.231 117.292 102.231C130.951 102.231 138.085 114.846 138.085 131.55ZM206.451 113.541C206.451 106.929 208.8 103.014 212.976 101.274V101.1H197.49V101.274C201.666 103.014 204.015 106.929 204.015 113.541V138.162C204.015 151.821 195.663 159.216 184.179 159.216C171.999 159.216 166.605 151.125 166.605 137.727V112.236C166.605 106.494 167.388 103.014 171.564 101.274V101.1H153.816V101.274C157.992 103.014 158.775 106.494 158.775 112.236V138.51C158.775 154.431 167.649 162.87 183.483 162.87C196.533 162.87 206.451 154.257 206.451 138.684V113.541ZM232.67 103.362H244.763C254.507 103.362 259.988 107.886 259.988 117.543C259.988 127.809 253.724 131.115 244.763 131.115H232.67V103.362ZM219.881 101.1V101.274C224.057 103.014 224.84 106.494 224.84 112.236V150.864C224.84 156.606 224.057 160.086 219.881 161.826V162H237.629V161.826C233.453 160.086 232.67 156.606 232.67 150.864V133.377H243.197C250.766 133.377 253.463 138.597 255.638 144.774L258.335 152.604C259.814 156.78 261.467 160.521 263.294 162H276.605V161.826C271.298 159.912 268.601 157.911 266.339 151.125L263.903 143.817C261.815 137.64 257.465 133.29 248.591 132.594C258.335 132.246 268.601 128.244 268.601 117.108C268.601 105.276 258.422 101.1 245.894 101.1H219.881Z",fill:"white"}),b("path",{d:"M63.32 133.725L63.0653 133.884L63.3211 134.294L63.5753 133.883L63.32 133.725ZM48.53 109.974L48.7847 109.815L48.7836 109.814L48.53 109.974ZM50.357 101.274L50.5007 101.537L50.657 101.452V101.274H50.357ZM50.357 101.1H50.657V100.8H50.357V101.1ZM32 101.1V100.8H31.7V101.1H32ZM32 101.274H31.7V101.435L31.8336 101.524L32 101.274ZM39.656 109.539L39.4003 109.696L39.4012 109.697L39.656 109.539ZM56.534 136.683H56.834V136.597L56.7888 136.525L56.534 136.683ZM51.14 161.826L51.0246 161.549L50.84 161.626V161.826H51.14ZM51.14 162H50.84V162.3H51.14V162ZM69.497 162V162.3H69.797V162H69.497ZM69.497 161.826H69.797V161.626L69.6124 161.549L69.497 161.826ZM64.103 136.683L63.8481 136.525L63.803 136.597V136.683H64.103ZM80.459 110.322L80.7139 110.48L80.7147 110.479L80.459 110.322ZM88.637 101.274L88.7932 101.53L88.937 101.442V101.274H88.637ZM88.637 101.1H88.937V100.8H88.637V101.1ZM75.5 101.1V100.8H75.2V101.1H75.5ZM75.5 101.274H75.2V101.459L75.3658 101.542L75.5 101.274ZM77.501 110.757L77.7563 110.915L77.7596 110.909L77.501 110.757ZM63.5747 133.566L48.7847 109.815L48.2753 110.133L63.0653 133.884L63.5747 133.566ZM48.7836 109.814C47.7687 108.207 47.525 106.957 47.525 105.972H46.925C46.925 107.075 47.2033 108.435 48.2764 110.134L48.7836 109.814ZM47.525 105.972C47.525 104.899 47.8123 104.048 48.3174 103.341C48.8259 102.629 49.5674 102.046 50.5007 101.537L50.2133 101.011C49.2326 101.546 48.4081 102.181 47.8291 102.992C47.2467 103.807 46.925 104.783 46.925 105.972H47.525ZM50.657 101.274V101.1H50.057V101.274H50.657ZM50.357 100.8H32V101.4H50.357V100.8ZM31.7 101.1V101.274H32.3V101.1H31.7ZM31.8336 101.524C35.1825 103.756 37.0684 105.896 39.4003 109.696L39.9117 109.382C37.5456 105.526 35.6035 103.316 32.1664 101.024L31.8336 101.524ZM39.4012 109.697L56.2792 136.841L56.7888 136.525L39.9108 109.381L39.4012 109.697ZM56.234 136.683V151.56H56.834V136.683H56.234ZM56.234 151.56C56.234 154.418 55.9292 156.491 55.1354 158.058C54.3492 159.61 53.0652 160.699 51.0246 161.549L51.2554 162.103C53.3908 161.213 54.8038 160.04 55.6706 158.329C56.5298 156.634 56.834 154.444 56.834 151.56H56.234ZM50.84 161.826V162H51.44V161.826H50.84ZM51.14 162.3H69.497V161.7H51.14V162.3ZM69.797 162V161.826H69.197V162H69.797ZM69.6124 161.549C67.5718 160.699 66.2878 159.61 65.5016 158.058C64.7078 156.491 64.403 154.418 64.403 151.56H63.803C63.803 154.444 64.1072 156.634 64.9664 158.329C65.8332 160.04 67.2462 161.213 69.3816 162.103L69.6124 161.549ZM64.403 151.56V136.683H63.803V151.56H64.403ZM64.3579 136.841L80.7139 110.48L80.2041 110.164L63.8481 136.525L64.3579 136.841ZM80.7147 110.479C83.0574 106.661 85.2889 103.667 88.7932 101.53L88.4808 101.018C84.8511 103.231 82.5586 106.327 80.2033 110.165L80.7147 110.479ZM88.937 101.274V101.1H88.337V101.274H88.937ZM88.637 100.8H75.5V101.4H88.637V100.8ZM75.2 101.1V101.274H75.8V101.1H75.2ZM75.3658 101.542C77.3571 102.538 78.506 104.351 78.506 106.494H79.106C79.106 104.113 77.8189 102.098 75.6342 101.006L75.3658 101.542ZM78.506 106.494C78.506 107.734 78.0916 109.161 77.2424 110.605L77.7596 110.909C78.6504 109.395 79.106 107.864 79.106 106.494H78.506ZM77.2457 110.599L63.0647 133.567L63.5753 133.883L77.7563 110.915L77.2457 110.599ZM147.433 131.55C147.433 113.12 133.645 99.93 117.292 99.93V100.53C133.303 100.53 146.833 113.44 146.833 131.55H147.433ZM117.292 99.93C100.939 99.93 87.1509 113.12 87.1509 131.55H87.7509C87.7509 113.44 101.281 100.53 117.292 100.53V99.93ZM87.1509 131.55C87.1509 149.98 100.939 163.17 117.292 163.17V162.57C101.281 162.57 87.7509 149.66 87.7509 131.55H87.1509ZM117.292 163.17C133.645 163.17 147.433 149.98 147.433 131.55H146.833C146.833 149.66 133.303 162.57 117.292 162.57V163.17ZM137.785 131.55C137.785 139.865 136.009 147.13 132.561 152.307C129.121 157.472 124.014 160.569 117.292 160.569V161.169C124.229 161.169 129.518 157.959 133.06 152.64C136.594 147.333 138.385 139.939 138.385 131.55H137.785ZM117.292 160.569C110.57 160.569 105.463 157.472 102.023 152.307C98.5754 147.13 96.799 139.865 96.799 131.55H96.1989C96.1989 139.939 97.9895 147.333 101.524 152.64C105.066 157.959 110.355 161.169 117.292 161.169V160.569ZM96.799 131.55C96.799 123.235 98.5754 115.97 102.023 110.793C105.463 105.628 110.57 102.531 117.292 102.531V101.931C110.355 101.931 105.066 105.141 101.524 110.46C97.9895 115.767 96.1989 123.161 96.1989 131.55H96.799ZM117.292 102.531C124.014 102.531 129.121 105.628 132.561 110.793C136.009 115.97 137.785 123.235 137.785 131.55H138.385C138.385 123.161 136.594 115.767 133.06 110.46C129.518 105.141 124.229 101.931 117.292 101.931V102.531ZM212.976 101.274L213.091 101.551L213.276 101.474V101.274H212.976ZM212.976 101.1H213.276V100.8H212.976V101.1ZM197.49 101.1V100.8H197.19V101.1H197.49ZM197.49 101.274H197.19V101.474L197.374 101.551L197.49 101.274ZM171.564 101.274L171.679 101.551L171.864 101.474V101.274H171.564ZM171.564 101.1H171.864V100.8H171.564V101.1ZM153.816 101.1V100.8H153.516V101.1H153.816ZM153.816 101.274H153.516V101.474L153.7 101.551L153.816 101.274ZM206.751 113.541C206.751 110.268 207.332 107.69 208.41 105.725C209.485 103.764 211.063 102.396 213.091 101.551L212.86 100.997C210.712 101.892 209.028 103.351 207.884 105.436C206.744 107.516 206.151 110.202 206.151 113.541H206.751ZM213.276 101.274V101.1H212.676V101.274H213.276ZM212.976 100.8H197.49V101.4H212.976V100.8ZM197.19 101.1V101.274H197.79V101.1H197.19ZM197.374 101.551C199.402 102.396 200.98 103.764 202.055 105.725C203.133 107.69 203.715 110.268 203.715 113.541H204.315C204.315 110.202 203.722 107.516 202.581 105.436C201.438 103.351 199.753 101.892 197.605 100.997L197.374 101.551ZM203.715 113.541V138.162H204.315V113.541H203.715ZM203.715 138.162C203.715 144.929 201.647 150.111 198.19 153.6C194.733 157.089 189.856 158.916 184.179 158.916V159.516C189.986 159.516 195.027 157.645 198.616 154.022C202.206 150.399 204.315 145.054 204.315 138.162H203.715ZM184.179 158.916C178.161 158.916 173.864 156.921 171.061 153.312C168.248 149.689 166.905 144.393 166.905 137.727H166.305C166.305 144.459 167.658 149.908 170.587 153.68C173.526 157.465 178.016 159.516 184.179 159.516V158.916ZM166.905 137.727V112.236H166.305V137.727H166.905ZM166.905 112.236C166.905 109.369 167.102 107.113 167.797 105.365C168.483 103.638 169.662 102.391 171.679 101.551L171.448 100.997C169.289 101.897 167.988 103.26 167.239 105.143C166.499 107.006 166.305 109.361 166.305 112.236H166.905ZM171.864 101.274V101.1H171.264V101.274H171.864ZM171.564 100.8H153.816V101.4H171.564V100.8ZM153.516 101.1V101.274H154.116V101.1H153.516ZM153.7 101.551C155.717 102.391 156.896 103.638 157.582 105.365C158.277 107.113 158.475 109.369 158.475 112.236H159.075C159.075 109.361 158.88 107.006 158.14 105.143C157.391 103.26 156.09 101.897 153.931 100.997L153.7 101.551ZM158.475 112.236V138.51H159.075V112.236H158.475ZM158.475 138.51C158.475 146.525 160.709 152.703 164.981 156.875C169.252 161.046 175.515 163.17 183.483 163.17V162.57C175.617 162.57 169.525 160.474 165.4 156.446C161.277 152.418 159.075 146.416 159.075 138.51H158.475ZM183.483 163.17C190.074 163.17 195.897 160.994 200.072 156.829C204.249 152.664 206.751 146.536 206.751 138.684H206.151C206.151 146.405 203.693 152.37 199.649 156.404C195.603 160.44 189.941 162.57 183.483 162.57V163.17ZM206.751 138.684V113.541H206.151V138.684H206.751ZM232.67 103.362V103.062H232.37V103.362H232.67ZM232.67 131.115H232.37V131.415H232.67V131.115ZM219.881 101.1V100.8H219.581V101.1H219.881ZM219.881 101.274H219.581V101.474L219.766 101.551L219.881 101.274ZM219.881 161.826L219.766 161.549L219.581 161.626V161.826H219.881ZM219.881 162H219.581V162.3H219.881V162ZM237.629 162V162.3H237.929V162H237.629ZM237.629 161.826H237.929V161.626L237.745 161.549L237.629 161.826ZM232.67 133.377V133.077H232.37V133.377H232.67ZM255.638 144.774L255.922 144.676L255.921 144.674L255.638 144.774ZM258.335 152.604L258.052 152.702L258.052 152.704L258.335 152.604ZM263.294 162L263.105 162.233L263.188 162.3H263.294V162ZM276.605 162V162.3H276.905V162H276.605ZM276.605 161.826H276.905V161.615L276.707 161.544L276.605 161.826ZM266.339 151.125L266.624 151.03L266.339 151.125ZM263.903 143.817L264.188 143.722L264.187 143.721L263.903 143.817ZM248.591 132.594L248.581 132.294L248.568 132.893L248.591 132.594ZM232.67 103.662H244.763V103.062H232.67V103.662ZM244.763 103.662C249.594 103.662 253.316 104.784 255.829 107.054C258.336 109.318 259.688 112.771 259.688 117.543H260.288C260.288 112.658 258.9 109.02 256.231 106.609C253.567 104.202 249.676 103.062 244.763 103.062V103.662ZM259.688 117.543C259.688 122.612 258.145 125.905 255.551 127.943C252.942 129.992 249.216 130.815 244.763 130.815V131.415C249.271 131.415 253.158 130.585 255.921 128.415C258.699 126.233 260.288 122.74 260.288 117.543H259.688ZM244.763 130.815H232.67V131.415H244.763V130.815ZM232.97 131.115V103.362H232.37V131.115H232.97ZM219.581 101.1V101.274H220.181V101.1H219.581ZM219.766 101.551C221.783 102.391 222.961 103.638 223.648 105.365C224.343 107.113 224.54 109.369 224.54 112.236H225.14C225.14 109.361 224.946 107.006 224.206 105.143C223.457 103.26 222.156 101.897 219.997 100.997L219.766 101.551ZM224.54 112.236V150.864H225.14V112.236H224.54ZM224.54 150.864C224.54 153.731 224.343 155.987 223.648 157.735C222.961 159.462 221.783 160.709 219.766 161.549L219.997 162.103C222.156 161.203 223.457 159.84 224.206 157.957C224.946 156.094 225.14 153.739 225.14 150.864H224.54ZM219.581 161.826V162H220.181V161.826H219.581ZM219.881 162.3H237.629V161.7H219.881V162.3ZM237.929 162V161.826H237.329V162H237.929ZM237.745 161.549C235.728 160.709 234.549 159.462 233.863 157.735C233.167 155.987 232.97 153.731 232.97 150.864H232.37C232.37 153.739 232.565 156.094 233.305 157.957C234.054 159.84 235.355 161.203 237.514 162.103L237.745 161.549ZM232.97 150.864V133.377H232.37V150.864H232.97ZM232.67 133.677H243.197V133.077H232.67V133.677ZM243.197 133.677C246.9 133.677 249.385 134.949 251.219 136.961C253.067 138.99 254.269 141.788 255.355 144.874L255.921 144.674C254.833 141.583 253.599 138.683 251.662 136.557C249.711 134.415 247.063 133.077 243.197 133.077V133.677ZM255.355 144.872L258.052 152.702L258.619 152.506L255.922 144.676L255.355 144.872ZM258.052 152.704C258.794 154.797 259.582 156.79 260.416 158.448C261.247 160.099 262.14 161.452 263.105 162.233L263.483 161.767C262.621 161.069 261.774 159.812 260.952 158.179C260.134 156.553 259.356 154.587 258.618 152.504L258.052 152.704ZM263.294 162.3H276.605V161.7H263.294V162.3ZM276.905 162V161.826H276.305V162H276.905ZM276.707 161.544C274.067 160.591 272.114 159.631 270.54 158.088C268.967 156.547 267.747 154.399 266.624 151.03L266.055 151.22C267.194 154.637 268.453 156.883 270.12 158.517C271.787 160.15 273.837 161.146 276.503 162.108L276.707 161.544ZM266.624 151.03L264.188 143.722L263.619 143.912L266.055 151.22L266.624 151.03ZM264.187 143.721C263.13 140.592 261.492 137.906 258.978 135.915C256.464 133.924 253.097 132.646 248.615 132.295L248.568 132.893C252.959 133.238 256.204 134.483 258.606 136.385C261.007 138.287 262.589 140.865 263.619 143.913L264.187 143.721ZM248.602 132.894C253.504 132.719 258.566 131.625 262.413 129.149C266.275 126.663 268.901 122.787 268.901 117.108H268.301C268.301 122.565 265.795 126.258 262.088 128.644C258.365 131.04 253.423 132.121 248.581 132.294L248.602 132.894ZM268.901 117.108C268.901 111.088 266.302 106.989 262.103 104.411C257.924 101.847 252.183 100.8 245.894 100.8V101.4C252.134 101.4 257.746 102.441 261.789 104.923C265.811 107.391 268.301 111.296 268.301 117.108H268.901ZM245.894 100.8H219.881V101.4H245.894V100.8Z",fill:"white"})]),b("g",{filter:"url(#filter4_dd_523_9425)"},[b("path",{d:"M143.779 19.2905H176.155V27.0259H152.471V43.9741H176.155V51.7095H152.471V80H143.779V19.2905ZM188.255 19.2905H196.946V80H188.255V19.2905ZM260.435 19.2905H268.692V80H261.218L220.629 33.2837V80H212.459V19.2905H219.499L260.435 66.3979V19.2905ZM282.706 79.9131V19.2905H303.174C311.431 19.2905 317.964 20.5363 322.774 23.0278C327.583 25.4904 331.407 29.1263 334.246 33.9355C337.085 38.7448 338.505 43.9886 338.505 49.667C338.505 53.723 337.723 57.6051 336.158 61.3135C334.594 65.0218 332.363 68.2811 329.466 71.0913C326.511 73.9884 323.078 76.1758 319.167 77.6533C316.878 78.5514 314.777 79.1598 312.865 79.4785C310.953 79.7682 307.303 79.9131 301.914 79.9131H282.706ZM302.262 27.0259H291.398V72.1777H302.523C306.868 72.1777 310.243 71.888 312.648 71.3086C315.053 70.7002 317.052 69.9469 318.645 69.0488C320.268 68.1217 321.745 66.9919 323.078 65.6592C327.366 61.3135 329.509 55.8234 329.509 49.189C329.509 42.6704 327.308 37.3542 322.904 33.2402C321.282 31.7048 319.413 30.4445 317.298 29.4595C315.212 28.4744 313.228 27.8226 311.344 27.5039C309.461 27.1852 306.434 27.0259 302.262 27.0259Z",fill:"white"}),b("path",{d:"M143.779 19.2905V18.9905H143.479V19.2905H143.779ZM176.155 19.2905H176.455V18.9905H176.155V19.2905ZM176.155 27.0259V27.3259H176.455V27.0259H176.155ZM152.471 27.0259V26.7259H152.171V27.0259H152.471ZM152.471 43.9741H152.171V44.2741H152.471V43.9741ZM176.155 43.9741H176.455V43.6741H176.155V43.9741ZM176.155 51.7095V52.0095H176.455V51.7095H176.155ZM152.471 51.7095V51.4095H152.171V51.7095H152.471ZM152.471 80V80.3H152.771V80H152.471ZM143.779 80H143.479V80.3H143.779V80ZM143.779 19.5905H176.155V18.9905H143.779V19.5905ZM175.855 19.2905V27.0259H176.455V19.2905H175.855ZM176.155 26.7259H152.471V27.3259H176.155V26.7259ZM152.171 27.0259V43.9741H152.771V27.0259H152.171ZM152.471 44.2741H176.155V43.6741H152.471V44.2741ZM175.855 43.9741V51.7095H176.455V43.9741H175.855ZM176.155 51.4095H152.471V52.0095H176.155V51.4095ZM152.171 51.7095V80H152.771V51.7095H152.171ZM152.471 79.7H143.779V80.3H152.471V79.7ZM144.079 80V19.2905H143.479V80H144.079ZM188.255 19.2905V18.9905H187.955V19.2905H188.255ZM196.946 19.2905H197.246V18.9905H196.946V19.2905ZM196.946 80V80.3H197.246V80H196.946ZM188.255 80H187.955V80.3H188.255V80ZM188.255 19.5905H196.946V18.9905H188.255V19.5905ZM196.646 19.2905V80H197.246V19.2905H196.646ZM196.946 79.7H188.255V80.3H196.946V79.7ZM188.555 80V19.2905H187.955V80H188.555ZM260.435 19.2905V18.9905H260.135V19.2905H260.435ZM268.692 19.2905H268.992V18.9905H268.692V19.2905ZM268.692 80V80.3H268.992V80H268.692ZM261.218 80L260.991 80.1968L261.081 80.3H261.218V80ZM220.629 33.2837L220.855 33.0869L220.329 32.481V33.2837H220.629ZM220.629 80V80.3H220.929V80H220.629ZM212.459 80H212.159V80.3H212.459V80ZM212.459 19.2905V18.9905H212.159V19.2905H212.459ZM219.499 19.2905L219.725 19.0937L219.636 18.9905H219.499V19.2905ZM260.435 66.3979L260.209 66.5947L260.735 67.2005V66.3979H260.435ZM260.435 19.5905H268.692V18.9905H260.435V19.5905ZM268.392 19.2905V80H268.992V19.2905H268.392ZM268.692 79.7H261.218V80.3H268.692V79.7ZM261.444 79.8032L220.855 33.0869L220.402 33.4805L260.991 80.1968L261.444 79.8032ZM220.329 33.2837V80H220.929V33.2837H220.329ZM220.629 79.7H212.459V80.3H220.629V79.7ZM212.759 80V19.2905H212.159V80H212.759ZM212.459 19.5905H219.499V18.9905H212.459V19.5905ZM219.272 19.4873L260.209 66.5947L260.662 66.2012L219.725 19.0937L219.272 19.4873ZM260.735 66.3979V19.2905H260.135V66.3979H260.735ZM282.706 79.9131H282.406V80.2131H282.706V79.9131ZM282.706 19.2905V18.9905H282.406V19.2905H282.706ZM322.774 23.0278L322.636 23.2942L322.637 23.2949L322.774 23.0278ZM334.246 33.9355L333.988 34.0881L334.246 33.9355ZM329.466 71.0913L329.257 70.876L329.256 70.8771L329.466 71.0913ZM319.167 77.6533L319.061 77.3727L319.057 77.3741L319.167 77.6533ZM312.865 79.4785L312.91 79.7752L312.915 79.7744L312.865 79.4785ZM291.398 27.0259V26.7259H291.098V27.0259H291.398ZM291.398 72.1777H291.098V72.4777H291.398V72.1777ZM312.648 71.3086L312.718 71.6003L312.722 71.5994L312.648 71.3086ZM318.645 69.0488L318.792 69.3102L318.794 69.3093L318.645 69.0488ZM323.078 65.6592L323.29 65.8713L323.291 65.8699L323.078 65.6592ZM322.904 33.2402L322.698 33.4581L322.699 33.4595L322.904 33.2402ZM317.298 29.4595L317.17 29.7308L317.171 29.7314L317.298 29.4595ZM283.006 79.9131V19.2905H282.406V79.9131H283.006ZM282.706 19.5905H303.174V18.9905H282.706V19.5905ZM303.174 19.5905C311.406 19.5905 317.886 20.8333 322.636 23.2942L322.912 22.7615C318.043 20.2392 311.456 18.9905 303.174 18.9905V19.5905ZM322.637 23.2949C327.394 25.7306 331.177 29.326 333.988 34.0881L334.505 33.783C331.638 28.9266 327.772 25.2502 322.91 22.7608L322.637 23.2949ZM333.988 34.0881C336.799 38.8503 338.205 44.0413 338.205 49.667H338.805C338.805 43.9359 337.372 38.6393 334.505 33.783L333.988 34.0881ZM338.205 49.667C338.205 53.6832 337.431 57.5257 335.882 61.1969L336.435 61.4301C338.015 57.6846 338.805 53.7627 338.805 49.667H338.205ZM335.882 61.1969C334.333 64.868 332.125 68.0937 329.257 70.876L329.675 71.3066C332.601 68.4685 334.855 65.1756 336.435 61.4301L335.882 61.1969ZM329.256 70.8771C326.331 73.7448 322.933 75.9097 319.061 77.3727L319.273 77.934C323.222 76.4419 326.691 74.2321 329.676 71.3055L329.256 70.8771ZM319.057 77.3741C316.783 78.2665 314.703 78.8681 312.816 79.1826L312.915 79.7744C314.852 79.4515 316.973 78.8364 319.276 77.9326L319.057 77.3741ZM312.82 79.1819C310.934 79.4677 307.305 79.6131 301.914 79.6131V80.2131C307.3 80.2131 310.973 80.0687 312.91 79.7751L312.82 79.1819ZM301.914 79.6131H282.706V80.2131H301.914V79.6131ZM302.262 26.7259H291.398V27.3259H302.262V26.7259ZM291.098 27.0259V72.1777H291.698V27.0259H291.098ZM291.398 72.4777H302.523V71.8777H291.398V72.4777ZM302.523 72.4777C306.877 72.4777 310.28 72.1879 312.718 71.6002L312.578 71.0169C310.207 71.5882 306.86 71.8777 302.523 71.8777V72.4777ZM312.722 71.5994C315.144 70.9867 317.169 70.225 318.792 69.3102L318.498 68.7875C316.934 69.6688 314.962 70.4137 312.575 71.0178L312.722 71.5994ZM318.794 69.3093C320.44 68.3689 321.939 67.2227 323.29 65.8713L322.866 65.447C321.552 66.761 320.095 67.8746 318.496 68.7884L318.794 69.3093ZM323.291 65.8699C327.64 61.4629 329.809 55.8947 329.809 49.189H329.209C329.209 55.7521 327.092 61.1641 322.864 65.4485L323.291 65.8699ZM329.809 49.189C329.809 42.5949 327.578 37.1967 323.109 33.021L322.699 33.4595C327.037 37.5117 329.209 42.7459 329.209 49.189H329.809ZM323.11 33.0223C321.463 31.4637 319.568 30.1856 317.425 29.1875L317.171 29.7314C319.258 30.7034 321.1 31.9458 322.698 33.4581L323.11 33.0223ZM317.426 29.1882C315.32 28.1938 313.31 27.5322 311.394 27.2081L311.294 27.7997C313.146 28.113 315.104 28.7551 317.17 29.7307L317.426 29.1882ZM311.394 27.2081C309.485 26.8849 306.436 26.7259 302.262 26.7259V27.3259C306.432 27.3259 309.438 27.4855 311.294 27.7997L311.394 27.2081Z",fill:"white"})]),b("g",{filter:"url(#filter5_dd_523_9425)"},[b("path",{d:"M336.502 132.102H356.884V157.828C349.409 161.073 341.993 162.695 334.634 162.695C324.581 162.695 316.541 159.769 310.515 153.917C304.518 148.036 301.52 140.793 301.52 132.188C301.52 123.12 304.634 115.573 310.863 109.547C317.092 103.521 324.899 100.508 334.286 100.508C337.705 100.508 340.95 100.885 344.021 101.638C347.091 102.362 350.974 103.71 355.667 105.68V114.545C348.424 110.344 341.239 108.244 334.112 108.244C327.478 108.244 321.886 110.503 317.338 115.023C312.789 119.542 310.515 125.09 310.515 131.667C310.515 138.562 312.789 144.197 317.338 148.572C321.886 152.946 327.739 155.134 334.895 155.134C338.371 155.134 342.528 154.337 347.367 152.744L348.192 152.483V139.837H336.502V132.102ZM372.33 101.291H381.022V162H372.33V101.291ZM397.25 101.291H429.626V109.026H405.942V125.974H429.626V133.709H405.942V162H397.25V101.291ZM436.468 101.204H487.182V108.939H466.018V162H457.283V108.939H436.468V101.204Z",fill:"white"}),b("path",{d:"M336.502 132.102V131.802H336.202V132.102H336.502ZM356.884 132.102H357.184V131.802H356.884V132.102ZM356.884 157.828L357.003 158.103L357.184 158.025V157.828H356.884ZM310.515 153.917L310.305 154.131L310.306 154.132L310.515 153.917ZM344.021 101.638L343.949 101.93L343.952 101.93L344.021 101.638ZM355.667 105.68H355.967V105.48L355.783 105.403L355.667 105.68ZM355.667 114.545L355.516 114.804L355.967 115.066V114.545H355.667ZM347.367 152.744L347.276 152.458L347.273 152.459L347.367 152.744ZM348.192 152.483L348.283 152.769L348.492 152.703V152.483H348.192ZM348.192 139.837H348.492V139.537H348.192V139.837ZM336.502 139.837H336.202V140.137H336.502V139.837ZM336.502 132.402H356.884V131.802H336.502V132.402ZM356.584 132.102V157.828H357.184V132.102H356.584ZM356.764 157.553C349.323 160.783 341.947 162.395 334.634 162.395V162.995C342.038 162.995 349.495 161.363 357.003 158.103L356.764 157.553ZM334.634 162.395C324.642 162.395 316.683 159.489 310.724 153.702L310.306 154.132C316.399 160.049 324.519 162.995 334.634 162.995V162.395ZM310.725 153.703C304.787 147.88 301.82 140.715 301.82 132.188H301.22C301.22 140.871 304.249 148.192 310.305 154.131L310.725 153.703ZM301.82 132.188C301.82 123.198 304.904 115.73 311.071 109.763L310.654 109.332C304.364 115.417 301.22 123.043 301.22 132.188H301.82ZM311.071 109.763C317.239 103.796 324.97 100.808 334.286 100.808V100.208C324.829 100.208 316.944 103.247 310.654 109.332L311.071 109.763ZM334.286 100.808C337.683 100.808 340.903 101.182 343.949 101.93L344.092 101.347C340.996 100.587 337.727 100.208 334.286 100.208V100.808ZM343.952 101.93C347 102.649 350.865 103.989 355.551 105.956L355.783 105.403C351.083 103.43 347.183 102.076 344.089 101.346L343.952 101.93ZM355.367 105.68V114.545H355.967V105.68H355.367ZM355.818 114.285C348.537 110.063 341.301 107.944 334.112 107.944V108.544C341.178 108.544 348.311 110.625 355.516 114.804L355.818 114.285ZM334.112 107.944C327.402 107.944 321.733 110.233 317.126 114.81L317.549 115.236C322.04 110.774 327.554 108.544 334.112 108.544V107.944ZM317.126 114.81C312.52 119.388 310.215 125.013 310.215 131.667H310.815C310.815 125.168 313.059 119.697 317.549 115.236L317.126 114.81ZM310.215 131.667C310.215 138.635 312.517 144.351 317.13 148.788L317.546 148.356C313.062 144.043 310.815 138.489 310.815 131.667H310.215ZM317.13 148.788C321.742 153.224 327.672 155.434 334.895 155.434V154.834C327.805 154.834 322.031 152.669 317.546 148.356L317.13 148.788ZM334.895 155.434C338.414 155.434 342.605 154.628 347.461 153.029L347.273 152.459C342.452 154.046 338.328 154.834 334.895 154.834V155.434ZM347.457 153.03L348.283 152.769L348.102 152.197L347.276 152.458L347.457 153.03ZM348.492 152.483V139.837H347.892V152.483H348.492ZM348.192 139.537H336.502V140.137H348.192V139.537ZM336.802 139.837V132.102H336.202V139.837H336.802ZM372.33 101.291V100.991H372.03V101.291H372.33ZM381.022 101.291H381.322V100.991H381.022V101.291ZM381.022 162V162.3H381.322V162H381.022ZM372.33 162H372.03V162.3H372.33V162ZM372.33 101.591H381.022V100.991H372.33V101.591ZM380.722 101.291V162H381.322V101.291H380.722ZM381.022 161.7H372.33V162.3H381.022V161.7ZM372.63 162V101.291H372.03V162H372.63ZM397.25 101.291V100.991H396.95V101.291H397.25ZM429.626 101.291H429.926V100.991H429.626V101.291ZM429.626 109.026V109.326H429.926V109.026H429.626ZM405.942 109.026V108.726H405.642V109.026H405.942ZM405.942 125.974H405.642V126.274H405.942V125.974ZM429.626 125.974H429.926V125.674H429.626V125.974ZM429.626 133.709V134.009H429.926V133.709H429.626ZM405.942 133.709V133.409H405.642V133.709H405.942ZM405.942 162V162.3H406.242V162H405.942ZM397.25 162H396.95V162.3H397.25V162ZM397.25 101.591H429.626V100.991H397.25V101.591ZM429.326 101.291V109.026H429.926V101.291H429.326ZM429.626 108.726H405.942V109.326H429.626V108.726ZM405.642 109.026V125.974H406.242V109.026H405.642ZM405.942 126.274H429.626V125.674H405.942V126.274ZM429.326 125.974V133.709H429.926V125.974H429.326ZM429.626 133.409H405.942V134.009H429.626V133.409ZM405.642 133.709V162H406.242V133.709H405.642ZM405.942 161.7H397.25V162.3H405.942V161.7ZM397.55 162V101.291H396.95V162H397.55ZM436.468 101.204V100.904H436.168V101.204H436.468ZM487.182 101.204H487.482V100.904H487.182V101.204ZM487.182 108.939V109.239H487.482V108.939H487.182ZM466.018 108.939V108.639H465.718V108.939H466.018ZM466.018 162V162.3H466.318V162H466.018ZM457.283 162H456.983V162.3H457.283V162ZM457.283 108.939H457.583V108.639H457.283V108.939ZM436.468 108.939H436.168V109.239H436.468V108.939ZM436.468 101.504H487.182V100.904H436.468V101.504ZM486.882 101.204V108.939H487.482V101.204H486.882ZM487.182 108.639H466.018V109.239H487.182V108.639ZM465.718 108.939V162H466.318V108.939H465.718ZM466.018 161.7H457.283V162.3H466.018V161.7ZM457.583 162V108.939H456.983V162H457.583ZM457.283 108.639H436.468V109.239H457.283V108.639ZM436.768 108.939V101.204H436.168V108.939H436.768Z",fill:"white"})]),b("g",{filter:"url(#filter6_dd_523_9425)"},[b("line",{x1:"226",y1:"174.5",x2:"242",y2:"174.5",stroke:"#2DF872"})]),b("g",{filter:"url(#filter7_dd_523_9425)"},[b("path",{d:"M294 7H314",stroke:"#2DF872","stroke-width":"2","stroke-linecap":"round"})]),b("g",{filter:"url(#filter8_dd_523_9425)"},[b("path",{d:"M280 7H287",stroke:"#2DF872","stroke-linecap":"round"})]),b("g",{filter:"url(#filter9_dd_523_9425)"},[b("path",{d:"M83.3659 74.04V74.144C83.3659 74.696 83.2299 75.184 82.9499 75.608C82.8939 75.696 82.8139 75.792 82.7019 75.896C82.5819 76.008 82.5099 76.064 82.4859 76.064H82.4779C82.4699 76.056 82.4619 75.672 82.4619 74.92V73.776L82.0619 73.784H81.6619V74.944C81.6619 75.712 81.6619 76.096 81.6539 76.096C81.6219 76.096 81.4459 75.968 81.3499 75.864C81.1259 75.64 80.9579 75.344 80.8459 74.976C80.7739 74.744 80.7419 74.48 80.7339 74.168L80.7259 73.816L80.3899 73.784C80.1899 73.76 80.0539 73.744 79.9899 73.744H79.9259L79.9179 73.952C79.9179 73.984 79.9099 74.096 79.9099 74.128C79.9099 74.712 80.0379 75.248 80.2939 75.752C80.4299 76.016 80.5979 76.256 80.8059 76.464L80.9819 76.64L80.8219 76.808C80.3899 77.256 80.1179 77.864 79.9979 78.632C79.9739 78.8 79.9659 79.016 79.9659 79.272C79.9659 79.44 79.9739 79.528 79.9819 79.536H79.9979C80.0699 79.536 80.3259 79.512 80.7659 79.472C80.7739 79.472 80.7739 79.384 80.7739 79.2C80.7739 78.392 81.0059 77.76 81.4619 77.32C81.5659 77.232 81.6139 77.184 81.6219 77.184C81.6459 77.184 81.6619 77.432 81.6699 77.928C81.6779 78.208 81.6779 78.608 81.6779 79.12V79.544H81.8459C81.9419 79.544 82.0779 79.536 82.2459 79.528L82.4859 79.52V78.344C82.4859 77.576 82.4939 77.192 82.5099 77.192H82.5179C82.5739 77.224 82.6619 77.296 82.7659 77.416C82.8699 77.536 82.9499 77.64 83.0059 77.728C83.2379 78.136 83.3579 78.608 83.3659 79.152V79.52L83.7499 79.56C83.9179 79.576 84.0299 79.584 84.0859 79.584C84.1259 79.584 84.1499 79.584 84.1579 79.576C84.1739 79.56 84.1819 79.432 84.1819 79.2C84.1819 78.184 83.8939 77.384 83.3099 76.8L83.1259 76.624L83.2939 76.448C83.4699 76.272 83.6059 76.112 83.6939 75.96C84.0139 75.432 84.1739 74.816 84.1739 74.12V73.792H84.1099C83.9179 73.792 83.6699 73.816 83.3579 73.864L83.3659 74.04ZM93.8431 75C94.1231 75.128 94.3951 75.392 94.6591 75.8C94.9711 76.272 95.1231 76.752 95.1231 77.224C95.1231 77.408 95.0991 77.584 95.0511 77.752C94.8511 78.448 94.2831 78.92 93.6751 78.92C93.5631 78.92 93.4351 78.896 93.2991 78.856C92.9231 78.728 92.5871 78.4 92.4031 78.008C92.2991 77.776 92.2431 77.528 92.2431 77.264C92.2431 76.856 92.3551 76.464 92.5871 76.08C92.8111 75.696 93.0591 75.392 93.3391 75.168C93.5071 75.032 93.6271 74.968 93.7151 74.968C93.7471 74.968 93.7871 74.976 93.8431 75ZM92.1311 74.232C92.1311 74.264 92.2031 74.296 92.3551 74.328C92.6831 74.4 92.8511 74.44 92.8751 74.464L92.6991 74.648C91.9951 75.32 91.5791 76.072 91.4591 76.896C91.4511 76.96 91.4431 77.072 91.4431 77.24C91.4431 77.472 91.4591 77.656 91.4831 77.776C91.5871 78.264 91.8031 78.68 92.1311 79.024C92.5791 79.496 93.0991 79.728 93.6991 79.728C94.2591 79.728 94.7551 79.512 95.1791 79.088C95.5231 78.744 95.7551 78.304 95.8751 77.776C95.9071 77.64 95.9231 77.44 95.9231 77.176C95.9231 77.072 95.9151 76.968 95.9071 76.864C95.8671 76.488 95.7391 76.096 95.5311 75.696C95.3151 75.296 95.0671 74.96 94.7711 74.68L94.5471 74.464L94.7311 74.408C94.8271 74.376 94.9551 74.344 95.1151 74.312L95.3151 74.28C95.2911 74.144 95.2751 74.008 95.2591 73.872C95.2511 73.824 95.2431 73.76 95.2351 73.688C95.2271 73.552 95.2031 73.488 95.1791 73.488C95.1711 73.488 95.1391 73.496 95.1151 73.496C94.7471 73.536 94.3631 73.648 93.9711 73.824C93.8671 73.872 93.8031 73.904 93.7631 73.912C93.7551 73.92 93.7791 73.944 93.4991 73.84C93.1391 73.68 92.7791 73.568 92.4191 73.512C92.2831 73.48 92.2351 73.48 92.2191 73.488C92.2111 73.496 92.2111 73.496 92.2111 73.504C92.2111 73.512 92.1951 73.632 92.1711 73.864C92.1471 74.096 92.1311 74.224 92.1311 74.232ZM105.443 75.872C105.427 75.872 105.163 75.496 104.643 74.736C104.123 73.976 103.859 73.6 103.835 73.6C103.819 73.6 103.707 73.672 103.499 73.816C103.291 73.96 103.187 74.032 103.187 74.04L104.067 75.288C104.651 76.12 104.939 76.56 104.939 76.6C104.939 76.616 104.659 77.048 104.091 77.888C103.963 78.072 103.827 78.28 103.675 78.504C103.523 78.736 103.403 78.904 103.331 79.016L103.219 79.176C103.211 79.184 103.323 79.272 103.539 79.424C103.755 79.576 103.867 79.648 103.875 79.64L104.395 78.888C104.491 78.752 104.635 78.544 104.819 78.264C105.003 77.984 105.123 77.816 105.171 77.744C105.347 77.48 105.443 77.352 105.451 77.352C105.459 77.352 105.715 77.728 106.235 78.488C106.755 79.248 107.019 79.624 107.035 79.624C107.051 79.624 107.163 79.552 107.379 79.416C107.587 79.28 107.699 79.2 107.707 79.192L106.059 76.784L105.931 76.608L106.803 75.328C107.387 74.472 107.675 74.04 107.675 74.032L107.539 73.92C107.371 73.768 107.107 73.584 107.035 73.584C107.027 73.584 106.891 73.776 106.627 74.152L105.835 75.304L105.443 75.872ZM116.225 76.784C115.929 77.016 115.769 77.136 115.753 77.144C115.745 77.144 115.745 76.936 115.745 76.528C115.745 76.112 115.745 75.904 115.753 75.904C115.761 75.904 115.913 75.992 116.217 76.16C116.513 76.336 116.665 76.424 116.665 76.432C116.665 76.44 116.521 76.552 116.225 76.784ZM117.297 75.848C117.033 75.696 116.649 75.472 116.129 75.176C115.609 74.88 115.217 74.664 114.953 74.512L114.945 75.584V77.728L114.953 78.8L115.265 78.552C116.609 77.504 117.289 76.976 117.297 76.976C117.305 76.976 117.305 77.4 117.305 78.256V79.544H118.105L118.113 77.92V74.968L118.105 73.64H117.305V74.744L117.297 75.848Z",fill:"#2DF872"})]),b("defs",null,[b("filter",{id:"filter0_ddd_523_9425",x:"0.768066",y:"120.5",width:"20.4639",height:"21",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[b("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b("feOffset",{dy:"-1"}),b("feGaussianBlur",{stdDeviation:"4"}),b("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"}),b("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_523_9425"}),b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b("feOffset"),b("feGaussianBlur",{stdDeviation:"2"}),b("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.7 0"}),b("feBlend",{mode:"normal",in2:"effect1_dropShadow_523_9425",result:"effect2_dropShadow_523_9425"}),b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b("feOffset"),b("feGaussianBlur",{stdDeviation:"1"}),b("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.8 0"}),b("feBlend",{mode:"normal",in2:"effect2_dropShadow_523_9425",result:"effect3_dropShadow_523_9425"}),b("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect3_dropShadow_523_9425",result:"shape"})]),b("filter",{id:"filter1_ddd_523_9425",x:"351.768",y:"40.5",width:"20.4639",height:"21",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[b("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b("feOffset",{dy:"-1"}),b("feGaussianBlur",{stdDeviation:"4"}),b("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"}),b("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_523_9425"}),b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b("feOffset"),b("feGaussianBlur",{stdDeviation:"2"}),b("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.7 0"}),b("feBlend",{mode:"normal",in2:"effect1_dropShadow_523_9425",result:"effect2_dropShadow_523_9425"}),b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b("feOffset"),b("feGaussianBlur",{stdDeviation:"1"}),b("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.8 0"}),b("feBlend",{mode:"normal",in2:"effect2_dropShadow_523_9425",result:"effect3_dropShadow_523_9425"}),b("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect3_dropShadow_523_9425",result:"shape"})]),b("filter",{id:"filter2_ddd_523_9425",x:"493.768",y:"124.5",width:"20.4639",height:"21",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[b("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b("feOffset",{dy:"-1"}),b("feGaussianBlur",{stdDeviation:"4"}),b("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"}),b("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_523_9425"}),b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b("feOffset"),b("feGaussianBlur",{stdDeviation:"2"}),b("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.7 0"}),b("feBlend",{mode:"normal",in2:"effect1_dropShadow_523_9425",result:"effect2_dropShadow_523_9425"}),b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b("feOffset"),b("feGaussianBlur",{stdDeviation:"1"}),b("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.8 0"}),b("feBlend",{mode:"normal",in2:"effect2_dropShadow_523_9425",result:"effect3_dropShadow_523_9425"}),b("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect3_dropShadow_523_9425",result:"shape"})]),b("filter",{id:"filter3_dd_523_9425",x:"14",y:"82.2305",width:"280.605",height:"98.6396",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[b("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b("feOffset"),b("feGaussianBlur",{stdDeviation:"2.5"}),b("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.6 0 0 0 0 1 0 0 0 0 0.533333 0 0 0 1 0"}),b("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_523_9425"}),b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b("feOffset"),b("feGaussianBlur",{stdDeviation:"9"}),b("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.6 0 0 0 0 1 0 0 0 0 0.533333 0 0 0 0.5 0"}),b("feBlend",{mode:"normal",in2:"effect1_dropShadow_523_9425",result:"effect2_dropShadow_523_9425"}),b("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_523_9425",result:"shape"})]),b("filter",{id:"filter4_dd_523_9425",x:"124.779",y:"0.291016",width:"232.726",height:"98.709",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[b("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b("feOffset"),b("feGaussianBlur",{stdDeviation:"2.5"}),b("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.6 0 0 0 0 1 0 0 0 0 0.533333 0 0 0 1 0"}),b("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_523_9425"}),b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b("feOffset"),b("feGaussianBlur",{stdDeviation:"9.5"}),b("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.6 0 0 0 0 1 0 0 0 0 0.533333 0 0 0 0.5 0"}),b("feBlend",{mode:"normal",in2:"effect1_dropShadow_523_9425",result:"effect2_dropShadow_523_9425"}),b("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_523_9425",result:"shape"})]),b("filter",{id:"filter5_dd_523_9425",x:"282.52",y:"81.5078",width:"223.662",height:"100.188",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[b("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b("feOffset"),b("feGaussianBlur",{stdDeviation:"2.5"}),b("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.6 0 0 0 0 1 0 0 0 0 0.533333 0 0 0 1 0"}),b("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_523_9425"}),b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b("feOffset"),b("feGaussianBlur",{stdDeviation:"9.5"}),b("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.6 0 0 0 0 1 0 0 0 0 0.533333 0 0 0 0.5 0"}),b("feBlend",{mode:"normal",in2:"effect1_dropShadow_523_9425",result:"effect2_dropShadow_523_9425"}),b("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_523_9425",result:"shape"})]),b("filter",{id:"filter6_dd_523_9425",x:"221",y:"169",width:"26",height:"11",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[b("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b("feOffset"),b("feGaussianBlur",{stdDeviation:"2.5"}),b("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.6 0 0 0 0 1 0 0 0 0 0.533333 0 0 0 1 0"}),b("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_523_9425"}),b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b("feOffset"),b("feGaussianBlur",{stdDeviation:"1.5"}),b("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.6 0 0 0 0 1 0 0 0 0 0.533333 0 0 0 0.7 0"}),b("feBlend",{mode:"normal",in2:"effect1_dropShadow_523_9425",result:"effect2_dropShadow_523_9425"}),b("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_523_9425",result:"shape"})]),b("filter",{id:"filter7_dd_523_9425",x:"288",y:"1",width:"32",height:"12",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[b("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b("feOffset"),b("feGaussianBlur",{stdDeviation:"2.5"}),b("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.6 0 0 0 0 1 0 0 0 0 0.533333 0 0 0 1 0"}),b("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_523_9425"}),b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b("feOffset"),b("feGaussianBlur",{stdDeviation:"1.5"}),b("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.6 0 0 0 0 1 0 0 0 0 0.533333 0 0 0 0.7 0"}),b("feBlend",{mode:"normal",in2:"effect1_dropShadow_523_9425",result:"effect2_dropShadow_523_9425"}),b("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_523_9425",result:"shape"})]),b("filter",{id:"filter8_dd_523_9425",x:"274.5",y:"1.5",width:"18",height:"11",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[b("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b("feOffset"),b("feGaussianBlur",{stdDeviation:"2.5"}),b("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.6 0 0 0 0 1 0 0 0 0 0.533333 0 0 0 1 0"}),b("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_523_9425"}),b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b("feOffset"),b("feGaussianBlur",{stdDeviation:"1.5"}),b("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.6 0 0 0 0 1 0 0 0 0 0.533333 0 0 0 0.7 0"}),b("feBlend",{mode:"normal",in2:"effect1_dropShadow_523_9425",result:"effect2_dropShadow_523_9425"}),b("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_523_9425",result:"shape"})]),b("filter",{id:"filter9_dd_523_9425",x:"69.9099",y:"63.4805",width:"58.2036",height:"26.2471",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[b("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b("feOffset"),b("feGaussianBlur",{stdDeviation:"2.5"}),b("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.6 0 0 0 0 1 0 0 0 0 0.533333 0 0 0 1 0"}),b("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_523_9425"}),b("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b("feOffset"),b("feGaussianBlur",{stdDeviation:"5"}),b("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.6 0 0 0 0 1 0 0 0 0 0.533333 0 0 0 0.7 0"}),b("feBlend",{mode:"normal",in2:"effect1_dropShadow_523_9425",result:"effect2_dropShadow_523_9425"}),b("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_523_9425",result:"shape"})])])],-1),fK=[dK],pK={ref:"quizIntroText",class:"quiz__intro__text"},mK=b("p",null," Let's put the insight, learning, and inspiration you\u2019ve found here in the Hall of Zero Limits to work. ",-1),_K=b("p",null," To see what purpose may be calling, answer the following questions about your passions and preferences. Each has only two answers, so simply choose the answer that best applies to you. Go forth; the key to discovering your gift awaits. ",-1),gK=[mK,_K],vK={ref:"quizIntroButton",class:"quiz__intro__button"},bK={ref:"quizIntroLink",class:"quiz__intro__link"};function yK(n,e,t,i,s,r){const o=q("ButtonElement"),a=q("Link");return ne(),Ve(ot,{name:"quiz-intro",onEnter:i.onEnter,onLeave:i.onLeave},{default:ge(()=>[b("div",nK,[b("div",iK,[b("div",sK,[i.isMobile?(ne(),Ee("svg",lK,uK)):(ne(),Ee("svg",rK,aK))]),b("div",hK,fK,512),b("div",pK,gK,512),b("div",vK,[Ke(H(o,{text:"Begin quiz",onClick:i.startQuiz},null,8,["onClick"]),[[Je,i.showButton]])],512),b("div",bK,[H(a,{text:"or keep exploring first",onClick:i.closeQuiz},null,8,["onClick"])],512)])],512)]),_:1},8,["onEnter","onLeave"])}var wK=me(tK,[["render",yK]]);const CK={},xK={class:"icon-polygon-xxxxs",width:"6",height:"7",viewBox:"0 0 6 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},EK=b("path",{d:"M3 5.4043L4.73205 4.38302V2.34047L3 1.31919L1.26795 2.34047V4.38302L3 5.4043Z",stroke:"white","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),AK=[EK];function DK(n,e){return ne(),Ee("svg",xK,AK)}var _m=me(CK,[["render",DK]]);const SK={props:{offsetX:{type:Number,default:0},offsetY:{type:Number,default:0},height:{type:Number,default:0},width:{type:Number,default:0}},setup(){return{filterId:J(ci("filter"))}}},TK=["filter"],MK=["id","x","y","width","height"],BK=b("feGaussianBlur",{stdDeviation:"20",result:"fx1"},null,-1),PK=[BK];function FK(n,e,t,i,s,r){return ne(),Ee("g",null,[b("g",{filter:`url(#${i.filterId})`},[pn(n.$slots,"default")],8,TK),b("defs",null,[b("filter",{id:i.filterId,x:t.offsetX,y:t.offsetY,width:t.width,height:t.height,filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},PK,8,MK)])])}var LK=me(SK,[["render",FK]]);const IK={components:{IconPolygonXxxxs:_m,Blur:LK},props:{text:{type:String,required:!0}},setup(){return{}}},RK={class:"answer"},kK={class:"answer__outer"},OK={class:"answer__bg"},NK={class:"answer__bg__middle",width:"223",height:"343",viewBox:"0 0 223 343",fill:"none",xmlns:"http://www.w3.org/2000/svg"},VK=b("path",{d:"M223 337.128V36.841C223 35.6402 222.568 34.4795 221.783 33.5711L194.257 1.73012C193.308 0.631444 191.927 0 190.475 0H5C2.23857 0 0 2.23857 0 5V20.3821V306.137C0 307.403 0.480026 308.621 1.34323 309.547L30.2426 340.538C31.1883 341.552 32.5127 342.128 33.8994 342.128H203.36H218C220.761 342.128 223 339.889 223 337.128Z"},null,-1),HK=qi('<div class="answer__bg__lines"></div><svg class="answer__bg__outline" width="241" height="362" viewBox="0 0 241 362" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.5 6V321.253C0.5 322.639 1.02319 323.974 1.96495 324.99L34.149 359.737C35.1899 360.861 36.6523 361.5 38.1841 361.5H235C238.038 361.5 240.5 359.038 240.5 356V339.553V24.4871C240.5 23.0485 239.936 21.6671 238.93 20.6392L220.828 2.15206C219.793 1.09547 218.377 0.5 216.898 0.5H22H6C2.96243 0.5 0.5 2.96243 0.5 6Z" stroke="white"></path></svg><svg class="answer__bg__outline--hover" width="241" height="362" viewBox="0 0 241 362" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.5 6V321.253C0.5 322.639 1.02319 323.974 1.96495 324.99L34.149 359.737C35.1899 360.861 36.6523 361.5 38.1841 361.5H235C238.038 361.5 240.5 359.038 240.5 356V339.553V24.4871C240.5 23.0485 239.936 21.6671 238.93 20.6392L220.828 2.15206C219.793 1.09547 218.377 0.5 216.898 0.5H22H6C2.96243 0.5 0.5 2.96243 0.5 6Z" stroke="white"></path></svg>',3),zK={class:"answer__bg__polygons"},UK=qi('<div class="answer__bg__green-lines"><svg class="answer__bg__green-lines__group" width="72" height="70" viewBox="0 0 72 70" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 1L57.5 56" stroke="#2DF872" stroke-width="1.2"></path><path d="M62 60L71 69" stroke="#2DF872" stroke-width="1.2"></path></svg><svg class="answer__bg__green-lines__group" width="11" height="11" viewBox="0 0 11 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 1L10 10" stroke="#2DF872" stroke-width="1.2"></path></svg></div>',1),GK={class:"answer__inner"},$K={class:"answer__text"},WK={class:"answer__symbols"},jK=b("div",{class:"answer__hover"},[b("div",{class:"answer__hover__bg"}),b("div",{class:"answer__hover__text"},[Ht("Click to select "),b("span")])],-1);function qK(n,e,t,i,s,r){const o=q("Blur"),a=q("IconPolygonXxxxs");return ne(),Ee("div",RK,[b("div",kK,[b("div",OK,[(ne(),Ee("svg",NK,[H(o,{width:343,height:483,"offset-x":-60,"offset-y":-60},{default:ge(()=>[VK]),_:1})])),HK,b("div",zK,[H(a),H(a)]),UK]),b("div",GK,[b("div",null,[b("div",$K,Ye(t.text),1),H(a),b("div",WK,Ye(t.text),1)])]),jK])])}var KK=me(IK,[["render",qK]]);const JK={name:"QuizQuestionnaire",components:{QuizAnswer:KK,UiControl:Q0},props:{questionNumber:{type:Number,required:!0},questionId:{type:String,required:!0}},emits:["start-quiz","question-answered","previous-question"],setup(n,{emit:e}){const t=J(null),i=J(null),s=J(null),r=J(null);let o;const a=pt(()=>eK.find(m=>m.id===n.questionId));function c(m,_){e("question-answered",{answer:m,question:_})}function u(){e("previous-question")}function h(m,_){const y=r.value.querySelectorAll(".answer");o=ut.timeline({onComplete:()=>_()}),o.fromTo(m,{opacity:0},{opacity:1,duration:.5,ease:"none"}),o.fromTo([i.value,s.value],{y:"3rem",opacity:0},{y:0,opacity:1,duration:1.8,stagger:.08,ease:"expo.out"},0),o.fromTo(y,{scale:.5,y:"10rem",rotate:"10deg",opacity:0},{scale:1,y:0,rotate:0,opacity:1,duration:1.8,stagger:.1,ease:"expo.out"},.08)}function f(m,_){o&&o.kill(),o=null,ut.to(m,{opacity:0,duration:.3,ease:"none",onComplete:()=>_()})}return{isMobile:Zt,close,currentQuestion:a,onAnswerClick:c,onPreviousClick:u,onEnter:h,onLeave:f,questionnaireInner:t,questionnaireLabel:i,questionnaireQuestion:s,questionnaireAnswers:r}}},XK={class:"questionnaire"},ZK={class:"questionnaire__outer"},QK={ref:"questionnaireInner",class:"questionnaire__inner"},YK={ref:"questionnaireQuestion",class:"questionnaire__question"},eJ={ref:"questionnaireAnswers",class:"questionnaire__answers"},tJ=b("div",{class:"questionnaire__cta"},[b("div",{class:"questionnaire__cta__bg"}),b("div",{class:"questionnaire__cta__text"},[Ht(" Select a card to continue"),b("span")])],-1),nJ={class:"questionnaire__controls"};function iJ(n,e,t,i,s,r){const o=q("QuizAnswer"),a=q("UiControl");return ne(),Ve(ot,{name:"questionnaire",onEnter:i.onEnter,onLeave:i.onLeave},{default:ge(()=>[b("div",XK,[b("div",ZK,[b("div",QK,[b("div",{ref:"questionnaireLabel",class:"questionnaire__label"}," Question "+Ye(t.questionNumber),513),b("div",YK,[b("h3",null,[b("span",null,Ye(i.currentQuestion.question[0]),1),b("span",null,Ye(i.currentQuestion.question[1]),1)])],512),b("div",eJ,[(ne(!0),Ee(gn,null,F1(i.currentQuestion.answers,c=>(ne(),Ve(o,{key:c.id,text:c.text,onClick:u=>i.onAnswerClick(c,i.currentQuestion.id)},null,8,["text","onClick"]))),128))],512),tJ],512),b("div",nJ,[t.questionNumber!==1&&i.isMobile?(ne(),Ve(a,{key:0,class:"questionnaire__controls__prev",action:"prev",onClick:i.onPreviousClick},null,8,["onClick"])):Si("",!0)])])])]),_:1},8,["onEnter","onLeave"])}var sJ=me(JK,[["render",iJ]]);const rJ={props:{results:{type:Array,required:!0}},setup(n){let e;const t={x:289,y:230.492},i=[{id:Z.explorer,max:{x:125.276,y:264.293}},{id:Z.visionary,max:{x:205.309,y:84.5352}},{id:Z.illuminator,max:{x:401,y:105.103}},{id:Z.avantgarde,max:{x:441.911,y:297.573}},{id:Z.decoder,max:{x:271.504,y:395.957}}],s=J({x:0,y:0}),r=J({x:0,y:0}),o=J({x:0,y:0}),a=J({x:0,y:0}),c=J({x:0,y:0}),u="M3 6.49219L5.59808 4.99219V1.99219L3 0.492188L0.401924 1.99219V4.99219L3 6.49219Z",h=pt(()=>`${m(s.value)} ${m(r.value)} ${m(o.value)} ${m(a.value)} ${m(c.value)}`);function f(P,F=0){const{x:E,y:D}=i.filter(K=>K.id===P)[0].max,B=n.results.filter(K=>K.id===P)[0].percentage,{x:I,y:L}=_(E,D,t.x,t.y,.7),{x:k,y:W}=_(E,D,I,L,Math.max(1-B*.015,0));return{x:k+F,y:W+F}}function m({x:P,y:F},E=3){return`${P+E}, ${F+E}`}function _(P,F,E,D,B){return{x:P+(E-P)*B,y:F+(D-F)*B}}function y(P){return aa.filter(F=>F.id===P)[0].title}const w=pt(()=>{let P=null;return n.results.forEach(F=>{(P===null||F.percentage>P.percentage)&&(P=F)}),P.id});function x(){e=ut.timeline();const P=f(Z.explorer,-3),F=f(Z.visionary,-3),E=f(Z.illuminator,-3),D=f(Z.avantgarde,-3),B=f(Z.decoder,-3);e.fromTo(s.value,{x:t.x,y:t.y},{x:P.x,y:P.y,duration:2.4,ease:"expo.out"}),e.fromTo(r.value,{x:t.x,y:t.y},{x:F.x,y:F.y,duration:2.4,ease:"expo.out"},.08),e.fromTo(o.value,{x:t.x,y:t.y},{x:E.x,y:E.y,duration:2.4,ease:"expo.out"},.16),e.fromTo(a.value,{x:t.x,y:t.y},{x:D.x,y:D.y,duration:2.4,ease:"expo.out"},.24),e.fromTo(c.value,{x:t.x,y:t.y},{x:B.x,y:B.y,duration:2.4,ease:"expo.out"},.32)}function M(){e&&e.kill(),e=null}return{getTitle:y,points:h,getCoords:f,polygonPoints:u,id:Z,highest:w,onEnter:x,onLeave:M,coordsExplorer:s,coordsVisionary:r,coordsIlluminator:o,coordsAvantGarde:a,coordsDecoder:c}}},oJ={class:"quiz__results__graph"},aJ={class:"quiz__results__graph__items"},lJ={class:"quiz__results__graph__item__title"},cJ=Ht(" the "),uJ=b("br",null,null,-1),hJ={class:"quiz__results__graph__item__percentage"},dJ={class:"quiz__results__graph__bg"},fJ={width:"577",height:"459",viewBox:"0 0 577 459",fill:"none",xmlns:"http://www.w3.org/2000/svg"},pJ=qi('<path d="M125.276 264.293L205.309 84.5352L401 105.103L441.911 297.573L271.504 395.957L125.276 264.293Z" stroke="#414141"></path><path d="M289 230.492L205.5 84.9922" stroke="#414141"></path><path d="M289 230.492L125.5 263.992" stroke="#414141"></path><path d="M289 230.492L272 395.992" stroke="#414141"></path><path d="M289 230.492L441.5 297.492" stroke="#414141"></path><path d="M289 230.492L401 105.492" stroke="#414141"></path><path d="M156.577 257.64L221.309 112.248L379.588 128.884L412.678 284.557L274.849 364.133L156.577 257.64Z" stroke="#414141"></path><path d="M189.146 250.717L237.958 141.084L357.308 153.628L382.26 271.014L278.329 331.018L189.146 250.717Z" stroke="#414141"></path><path d="M218.385 244.502L252.904 166.972L337.307 175.843L354.952 258.856L281.454 301.29L218.385 244.502Z" stroke="#414141"></path>',9),mJ=["points"],_J={class:"quiz__results__graph__points"},gJ={width:"577",height:"459",viewBox:"0 0 577 459",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vJ=["transform"],bJ=["d"],yJ=["transform"],wJ=["d"],CJ=["transform"],xJ=["d"],EJ=["transform"],AJ=["d"],DJ=["transform"],SJ=["d"];function TJ(n,e,t,i,s,r){return ne(),Ee("div",oJ,[b("div",aJ,[(ne(!0),Ee(gn,null,F1(t.results,o=>(ne(),Ee("div",{key:o.id,class:Ft(["quiz__results__graph__item",o.id,{"is-highest":i.highest===o.id}])},[b("div",lJ,[cJ,uJ,Ht(" "+Ye(i.getTitle(o.id)),1)]),b("div",hJ,Ye(Math.round(o.percentage))+"% ",1)],2))),128))]),b("div",dJ,[(ne(),Ee("svg",fJ,[pJ,b("polygon",{stroke:"#2DF872",points:i.points},null,8,mJ)]))]),b("div",_J,[(ne(),Ee("svg",gJ,[b("g",{transform:`translate(${i.coordsExplorer.x}, ${i.coordsExplorer.y})`},[b("path",{d:i.polygonPoints,fill:"white"},null,8,bJ)],8,vJ),b("g",{transform:`translate(${i.coordsVisionary.x}, ${i.coordsVisionary.y})`},[b("path",{d:i.polygonPoints,fill:"white"},null,8,wJ)],8,yJ),b("g",{transform:`translate(${i.coordsIlluminator.x}, ${i.coordsIlluminator.y})`},[b("path",{d:i.polygonPoints,fill:"white"},null,8,xJ)],8,CJ),b("g",{transform:`translate(${i.coordsAvantGarde.x}, ${i.coordsAvantGarde.y})`},[b("path",{d:i.polygonPoints,fill:"white"},null,8,AJ)],8,EJ),b("g",{transform:`translate(${i.coordsDecoder.x}, ${i.coordsDecoder.y})`},[b("path",{d:i.polygonPoints,fill:"white"},null,8,SJ)],8,DJ)]))])])}var MJ=me(rJ,[["render",TJ]]);const BJ={components:{IconPolygonXxxxs:_m},props:{title:{type:String,required:!0},text:{type:String,required:!0},percentage:{type:Number,required:!0}}},PJ={class:"quiz__results__card"},FJ={class:"quiz__results__card__inner"},LJ=qi('<div class="quiz__results__card__bg"><div class="quiz__results__card__elements"><div class="quiz__results__card__line"></div><div class="quiz__results__card__line"></div></div><div class="quiz__results__card__elements"><div class="quiz__results__card__line"></div></div><div class="quiz__results__card__elements"><div class="quiz__results__card__line"></div><div class="quiz__results__card__line"></div></div><svg class="quiz__results__card__bg__outline" width="306" height="435" viewBox="0 0 306 435" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 424V47.0427C1 44.6538 1.85522 42.3438 3.41089 40.5308L34.3379 4.48805C36.2377 2.27401 39.0096 1 41.927 1H295C300.523 1 305 5.47715 305 11V34.9942V389.25C305 391.823 304.009 394.296 302.232 396.156L269.05 430.906C267.163 432.882 264.55 434 261.818 434H34.9888H11C5.47715 434 1 429.523 1 424Z" stroke="white" stroke-opacity="0.2"></path></svg><svg class="quiz__results__card__bg__fill" width="306" height="435" viewBox="0 0 306 435" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 424V47.0427C1 44.6538 1.85522 42.3438 3.41089 40.5308L34.3379 4.48805C36.2377 2.27401 39.0096 1 41.927 1H295C300.523 1 305 5.47715 305 11V34.9942V389.25C305 391.823 304.009 394.296 302.232 396.156L269.05 430.906C267.163 432.882 264.55 434 261.818 434H34.9888H11C5.47715 434 1 429.523 1 424Z"></path></svg></div>',1),IJ={class:"quiz__results_card__content"},RJ={class:"quiz__results_card__content__header"},kJ={class:"quiz__results__card__title"},OJ=b("span",null,"The",-1),NJ={class:"quiz__results__card__symbols"},VJ={class:"quiz__results__card__percentage"},HJ={class:"quiz__results__card__text"};function zJ(n,e,t,i,s,r){const o=q("IconPolygonXxxxs");return ne(),Ee("div",PJ,[b("div",FJ,[LJ,b("div",IJ,[b("div",RJ,[b("h4",kJ,[OJ,b("span",null,Ye(t.title),1)]),H(o),b("div",NJ,Ye(t.title),1)]),b("div",VJ,Ye(t.percentage)+"%",1),b("div",HJ,Ye(t.text),1)])])])}var UJ=me(BJ,[["render",zJ]]);const GJ={},$J={class:"icon-arrow-toggle",width:"22",height:"13",viewBox:"0 0 22 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},WJ=b("path",{d:"M21 11.5L11 1.5L1 11.5",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),jJ=[WJ];function qJ(n,e){return ne(),Ee("svg",$J,jJ)}var KJ=me(GJ,[["render",qJ]]);const JJ={components:{QuizResultsCard:UJ,ButtonRound:om,IconArrowToggle:KJ,IconArrow:Hh},props:{results:{type:Array,required:!0}},setup(n){const e=J(null),t=J(!1);let i=null;Vt(()=>{i=new B4(e.value,{cellAlign:"left",contain:!0,prevNextButtons:!1,pageDots:!1})}),qr(()=>{i.destroy(),i=null});function s(h){return aa.filter(f=>f.id===h)[0].title}function r(h){return aa.filter(f=>f.id===h)[0].text}const o=pt(()=>{let h=null;return n.results.forEach(f=>{(h===null||f.percentage>h.percentage)&&(h=f)}),h.id}),a=pt(()=>n.results.sort((_,y)=>y.percentage-_.percentage).filter(_=>_.id!==o.value));function c(){i.previous()}function u(){(i.selectedIndex<1||Zt.value)&&i.next()}return{carousel:e,getTitle:s,getText:r,highest:o,filteredResults:a,onPrev:c,onNext:u,showCards:t}}},XJ={class:"quiz__results__cards"},ZJ=b("div",{class:"quiz__results__cards__cta__text"}," Explore your other characteristics ",-1),QJ={class:"quiz__results__cards__cta__icon"},YJ={class:"quiz__results__cards__content__inner"},eX={class:"quiz__results__cards__controls"},tX={class:"quiz__results__cards__control"},nX={class:"quiz__results__cards__control"},iX={class:"quiz__results__cards__items__wrap"},sX={ref:"carousel",class:"quiz__results__cards__items carousel"},rX=b("div",{class:"quiz__results__cards__items__gradient -right"},null,-1);function oX(n,e,t,i,s,r){const o=q("IconArrowToggle"),a=q("IconArrow"),c=q("ButtonRound"),u=q("QuizResultsCard");return ne(),Ee("div",XJ,[b("div",{class:Ft(["quiz__results__cards__cta",{"is-active":i.showCards}]),onClick:e[0]||(e[0]=h=>i.showCards=!i.showCards)},[ZJ,b("div",QJ,[H(o)])],2),b("div",{class:Ft([{"is-hidden":!i.showCards},"quiz__results__cards__content"])},[b("div",YJ,[b("div",eX,[b("div",tX,[H(c,{onClick:i.onPrev},{default:ge(()=>[H(a)]),_:1},8,["onClick"])]),b("div",nX,[H(c,{onClick:i.onNext},{default:ge(()=>[H(a)]),_:1},8,["onClick"])])]),b("div",iX,[b("div",sX,[(ne(!0),Ee(gn,null,F1(i.filteredResults,h=>(ne(),Ve(u,{key:h.id,class:"carousel-cell",title:i.getTitle(h.id),text:i.getText(h.id),percentage:Math.round(h.percentage)},null,8,["title","text","percentage"]))),128))],512),rX])])],2)])}var aX=me(JJ,[["render",oX]]);const lX={name:"ScrollCta",components:{IconCross:Gh,IconMouse:Y0}},cX={class:"scroll-cta"},uX={class:"scroll-cta__main"},hX={class:"scroll-cta__main__text"},dX={class:"scroll-cta__main__text__icon"},fX=b("span",null,"Scroll",-1),pX={class:"scroll-cta__symbol"};function mX(n,e,t,i,s,r){const o=q("IconMouse"),a=q("IconCross");return ne(),Ve(ot,{name:"fade"},{default:ge(()=>[b("div",cX,[b("div",uX,[b("div",hX,[b("div",dX,[H(o)]),fX])]),b("div",pX,[H(a)])])]),_:1})}var _X=me(lX,[["render",mX]]);const gX={name:"QuizResults",components:{Link:mm,QuizResultsGraph:MJ,QuizResultsCards:aX,ButtonElement:ya,ShareButtons:F4,ShareButton:L4,IconPolygonXxxxs:_m,IconFacebook:I4,IconTwitter:R4,ScrollCta:_X},props:{personaResults:{type:Array,required:!0}},emits:["reset-quiz","close-quiz"],setup(n,{emit:e}){const t=J(!1),i=J(!0),s=J(null),r=J(null),o=J(null),a=J(null),c=J(null),u=J(null);let h;Vt(()=>{t.value=!0,s.value.addEventListener("scroll",f)}),qr(()=>{t.value=!1}),S1(()=>{s.value.removeEventListener("scroll",f)});function f(){i.value=!1}const m=pt(()=>x()),_=pt(()=>x(m.value)),y=pt(()=>aa.filter(B=>B.id===m.value.id)[0]),w=pt(()=>aa.filter(B=>B.id===_.value.id)[0]);function x(B){let I=null;return n.personaResults.forEach(L=>{B!==void 0&&L.id===B.id||(I===null||L.percentage>I.percentage)&&(I=L)}),I}function M(){e("reset-quiz")}function P(){e("close-quiz")}function F(B,I){h=ut.timeline({onComplete:()=>I()}),u.value.onEnter(),h.fromTo(B,{opacity:0},{opacity:1,duration:.5,ease:"none"}),h.fromTo([r.value,o.value,a.value,c.value],{y:"3rem",opacity:0},{y:0,opacity:1,duration:1.8,stagger:.08,ease:"expo.out"},0)}function E(B,I){h&&h.kill(),h=null,u.value.onLeave(),ut.to(B,{opacity:0,duration:.3,ease:"none",onComplete:()=>I()})}return{onLinkClick:M,onClose:P,mainPersona:m,subPersona:_,mainPersonaContent:y,subPersonaContent:w,showButton:t,onEnter:F,onLeave:E,quizResultsIntro:r,quizResultsMain:o,quizResultsCards:a,quizResultsButtons:c,quizGraph:u,baseUrl:"https://sprite.com/zerolimits",createSharePopUp:k4,showScrollCta:i,quizResults:s}}},vX={ref:"quizResults",class:"quiz__results"},bX={class:"quiz__results__inner"},yX={ref:"quizResultsIntro",class:"quiz__results__intro"},wX=b("h3",null,"Quiz results",-1),CX=b("p",null," You've reached the end of the quiz\u2014and quite possibly the beginning of a new journey. The findings are like each of us: multi-dimensional. Go ahead, absorb them, and ask yourself to which path they may be pointing. ",-1),xX=[wX,CX],EX={ref:"quizResultsMain",class:"quiz__results__main"},AX={class:"quiz__results__text"},DX={class:"quiz__results__text__inner"},SX={class:"quiz__results__title"},TX={class:"quiz__results__title__inner"},MX=b("div",{class:"quiz__results__title__elements"},[b("div",{class:"quiz__results__title__line"}),b("div",{class:"quiz__results__title__line"})],-1),BX={class:"quiz__results__title__elements"},PX={class:"quiz__results__title__symbols"},FX=b("div",{class:"quiz__results__title__line"},null,-1),LX={class:"quiz__results__title__elements"},IX={class:"quiz__results__title__polygon"},RX={class:"quiz__results__title__polygon"},kX={class:"quiz__results__title__text"},OX=b("span",null,"The ",-1),NX={class:"quiz__results__subtitle"},VX=Ht(" With underlying characteristics of "),HX=Ht(". "),zX={class:"quiz__results__graph__outer"},UX={ref:"quizResultsCards"},GX={ref:"quizResultsButtons",class:"quiz-results__buttons"},$X={class:"quiz-results__button"},WX={class:"quiz-results__button"};function jX(n,e,t,i,s,r){const o=q("ScrollCta"),a=q("IconPolygonXxxxs"),c=q("IconFacebook"),u=q("ShareButton"),h=q("IconTwitter"),f=q("ShareButtons"),m=q("QuizResultsGraph"),_=q("QuizResultsCards"),y=q("ButtonElement"),w=q("Link");return ne(),Ve(ot,{name:"quizResults",appear:"",onEnter:i.onEnter,onLeave:i.onLeave},{default:ge(()=>[b("div",vX,[b("div",bX,[Ke(H(o,null,null,512),[[Je,i.showScrollCta]]),b("div",yX,xX,512),b("div",EX,[b("div",AX,[b("div",DX,[b("h4",SX,[b("div",TX,[MX,b("div",BX,[b("div",PX,Ye(i.mainPersonaContent.title),1),FX]),b("div",LX,[b("div",IX,[H(a)]),b("div",RX,[H(a)])]),b("div",kX,[OX,b("span",null,Ye(i.mainPersonaContent.title),1)])])]),b("div",NX,[VX,b("span",null,"The "+Ye(i.subPersonaContent.title),1),HX]),b("p",null,Ye(i.mainPersonaContent.text),1),H(f,{title:"Share your gift with friends"},{default:ge(()=>[H(u,{href:`https://www.facebook.com/sharer/sharer.php?u=${i.baseUrl}/${i.mainPersonaContent.id}-${i.subPersonaContent.id}`,target:"_blank",rel:"noopener noreferrer",onClick:i.createSharePopUp},{default:ge(()=>[H(c)]),_:1},8,["href","onClick"]),H(u,{href:`https://twitter.com/intent/tweet?text=My%20legacy%20is%20The%20${i.mainPersonaContent.title}%20with%20traits%20of%20The%20${i.subPersonaContent.title}.%20Discover%20your%20own%20gift%20in%20the%20Hall%20of%20Zero%20Limits.&url=${i.baseUrl}/${i.mainPersonaContent.id}-${i.subPersonaContent.id}`,target:"_blank",rel:"noopener noreferrer",onClick:i.createSharePopUp},{default:ge(()=>[H(h)]),_:1},8,["href","onClick"])]),_:1})])]),b("div",zX,[H(m,{ref:"quizGraph",results:t.personaResults},null,8,["results"])])],512),b("div",UX,[H(_,{results:t.personaResults},null,8,["results"])],512),b("div",GX,[b("div",$X,[Ke(H(y,{text:"Continue",onClick:i.onClose},null,8,["onClick"]),[[Je,i.showButton]])]),b("div",WX,[H(w,{text:"Take the quiz again",onClick:i.onLinkClick},null,8,["onClick"])])],512)])],512)]),_:1},8,["onEnter","onLeave"])}var qX=me(gX,[["render",jX]]);const KX={name:"Quiz",components:{CloseButton:jh,QuizIntro:wK,QuizQuestionnaire:sJ,QuizResults:qX,UiControl:Q0},emits:["close-quiz","complete"],setup(n,{emit:e}){const t="genre",i=J(!1),s=J(!1),r=J(!1),o=J(!1),a=J(1),c=J(t),u=J(""),h=J([]);let f=!1,m=[],_=[],y=[],w;ue.on("quiz_show",()=>{x()}),Vt(async()=>{E()});function x(){i.value=!0,s.value=!0,ue.emit("scroll_disable")}function M(){s.value=!1,r.value=!0}async function P({answer:W,question:K}){r.value=!1,await vn(300),y.push(W),_.push(K),B(W.personas),await Pr(),r.value=!0,a.value++,W.relatedQuestion!==null?c.value=W.relatedQuestion:(u.value=W.relatedPersona,h.value=m,await Pr(),r.value=!1,o.value=!0,f=!0)}async function F(){_.length&&(r.value=!1,await vn(300),B(y[y.length-1].personas,"substract"),a.value--,c.value=_[_.length-1],_.pop(),y.pop(),await Pr(),r.value=!0)}function E(){c.value=t,a.value=1,o.value=!1,m=[],_=[],y=[],aa.forEach(W=>{m.push({id:W.id,total:0,percentage:0})})}function D(){E(),M()}function B(W,K="add"){W.forEach(R=>{m.forEach(G=>{R.id===G.id&&(K==="add"?G.total+=R.percent:G.total-=R.percent),G.percentage=G.total/_.length})})}function I(){ue.emit("scroll_enable"),i.value=!1,o.value=!1,r.value=!1,s.value=!1,e("close-quiz"),f&&(e("complete"),Ne.setProgress("quiz",!0))}function L(W,K){ue.emit("controls_hide"),w=ut.timeline({onComplete:()=>K()}),w.fromTo(W,{opacity:0},{opacity:1,duration:.5,ease:"none"})}function k(W,K){ue.emit("controls_show"),w&&w.kill(),w=null,ut.to(W,{opacity:0,duration:.3,ease:"none",onComplete:()=>{E(),K()}})}return{show:i,showQuiz:x,showIntro:s,showQuestions:r,showResults:o,startQuiz:M,questionNumber:a,onQuestionAnswered:P,questionId:c,onPreviousQuestion:F,mainPersona:u,onResetQuiz:D,personaResults:h,close:I,onEnter:L,onLeave:k,isMobile:Zt}}},JX={class:"quiz"},XX=b("div",{class:"quiz__bg"},null,-1),ZX={class:"quiz__controls"};function QX(n,e,t,i,s,r){const o=q("QuizIntro"),a=q("QuizQuestionnaire"),c=q("UiControl"),u=q("QuizResults"),h=q("CloseButton");return ne(),Ve(ot,{name:"quiz",onEnter:i.onEnter,onLeave:i.onLeave},{default:ge(()=>[Ke(b("div",JX,[XX,Ke(H(o,{onStartQuiz:i.startQuiz,onCloseQuiz:i.close},null,8,["onStartQuiz","onCloseQuiz"]),[[Je,i.showIntro]]),Ke(H(a,{"question-id":i.questionId,"question-number":i.questionNumber,onQuestionAnswered:i.onQuestionAnswered,onPreviousQuestion:i.onPreviousQuestion},null,8,["question-id","question-number","onQuestionAnswered","onPreviousQuestion"]),[[Je,i.showQuestions]]),b("div",ZX,[H(ot,{name:"fade"},{default:ge(()=>[i.questionNumber!==1&&!i.showResults&&!i.isMobile?(ne(),Ve(c,{key:0,class:"quiz__controls__prev",action:"prev",onClick:i.onPreviousQuestion},null,8,["onClick"])):Si("",!0)]),_:1})]),i.showResults?(ne(),Ve(u,{key:0,"persona-results":i.personaResults,onResetQuiz:i.onResetQuiz,onCloseQuiz:i.close},null,8,["persona-results","onResetQuiz","onCloseQuiz"])):Si("",!0),H(h,{text:"Close quiz",onClick:i.close},null,8,["onClick"])],512),[[Je,i.show]])]),_:1},8,["onEnter","onLeave"])}var YX=me(KX,[["render",QX]]);const eZ={components:{WayPoint:wa,WaypointTitle:Xr,Hotspot:vc,Quiz:YX},setup(){const n=J(null),e=J(null);function t(){n.value.show()}function i(){n.value.hide()}function s(){e.value.showQuiz()}return{onEnter:t,onLeave:i,hotspot:n,onHotspotClick:s,quizInstance:e,isMobile:Zt}}};function tZ(n,e,t,i,s,r){const o=q("Quiz"),a=q("WaypointTitle"),c=q("Hotspot"),u=q("WayPoint");return ne(),Ve(u,{id:"table",onEnter:i.onEnter,onLeave:i.onLeave},{default:ge(()=>[H(o,{ref:"quizInstance",onComplete:e[0]||(e[0]=h=>i.hotspot.setComplete())},null,512),H(a,{"title-part1":"Find your","title-part2":"Gift","sub-title":"Quiz Experience"}),H(c,{ref:"hotspot",text:"Take","text-line-2":"the quiz",name:"table",size:"xl","label-position":i.isMobile?"top-left":"top-right",onClick:i.onHotspotClick},null,8,["label-position","onClick"])]),_:1},8,["onEnter","onLeave"])}var nZ=me(eZ,[["render",tZ]]);function $o(n){return new Promise((e,t)=>{const i=new Image;i.src=n,i.onload=()=>e(i),i.onerror=()=>t(new Error("could not load image"))})}const iZ={name:"UiMenu",components:{PictureElement:mc,CloseButton:jh,Marker:P4},setup(){const n=J(!1),e=J(!1),t=J(null),i=J(null),s=J(null);let r;Vt(()=>{$o(`${Gi}assets/images/shapes/menu-bg.webp`),$o(`${Gi}assets/images/shapes/rays.webp`),$o(`${Gi}assets/images/shapes/map.webp`)}),ue.on("menu_show",()=>{n.value=!0,e.value=!0,ue.emit("scroll_disable")});const o=()=>{n.value=!1,e.value=!1,ue.emit("scroll_enable")},a=h=>{o(),Ne.endScreenActive&&(Ne.setEndScreenActive(!1),ue.emit("end_close")),ue.emit("waypoint_seek",{name:h})};function c(h,f){r=ut.timeline({onComplete:()=>f()}),r.fromTo(h,{opacity:0},{opacity:1,duration:.5,ease:"none"}),r.fromTo([t.value,i.value],{opacity:0,scale:.5,rotate:"-10deg"},{opacity:1,rotate:0,scale:1,duration:2.4,ease:"expo.out"},0),r.fromTo(s.value,{opacity:0,scale:.5},{opacity:1,scale:1,duration:2.4,ease:"expo.out"},.5)}function u(h,f){r.kill(),r=null,ut.to(h,{opacity:0,duration:.3,ease:"none",onComplete:()=>f()})}return{show:n,closeMenu:o,handleMarkerClick:a,showMarkers:e,onEnter:c,onLeave:u,menuMapWrap:t,menuMapWrap2:i,menuLines:s,store:Ne}}},sZ={class:"ui__menu"},rZ={class:"ui__menu__bg"},oZ=b("div",{class:"ui__menu__bg__layer-1"},null,-1),aZ=b("div",{class:"ui__menu__bg__layer-2"},null,-1),lZ={ref:"menuMapWrap",class:"ui__menu__map__wrap"},cZ={class:"ui__menu__map"},uZ=b("div",{class:"ui__menu__bg__layer-3"},null,-1),hZ=b("div",{class:"ui__menu__bg__layer-4"},null,-1),dZ={ref:"menuMapWrap2",class:"ui__menu__map__wrap"},fZ={ref:"menuLines",class:"ui__menu__bg__lines"},pZ=b("svg",{width:"1162",height:"880",viewBox:"0 0 1162 880",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("path",{opacity:"0.15",d:"M581 31L870.207 150.793L990 440L870.207 729.207L581 849L291.793 729.207L172 440L291.793 150.793L581 31Z",stroke:"white","stroke-linecap":"round"}),b("path",{opacity:"0.07",d:"M581 -140L991.122 29.8781L1161 440L991.122 850.122L581 1020L170.878 850.122L1 440L170.878 29.8781L581 -140Z",stroke:"white","stroke-linecap":"round"})],-1),mZ=[pZ],_Z={class:"ui__menu__map__markers"},gZ={class:"ui__menu__map__markers__inner"};function vZ(n,e,t,i,s,r){const o=q("PictureElement"),a=q("Marker"),c=q("CloseButton");return ne(),Ve(ot,{name:"menu",onEnter:i.onEnter,onLeave:i.onLeave},{default:ge(()=>[Ke(b("div",sZ,[b("div",rZ,[oZ,aZ,b("div",lZ,[b("div",cZ,[H(o,{src:"shapes/map"})])],512),uZ,hZ,b("div",dZ,[b("div",fZ,mZ,512),b("div",_Z,[b("div",gZ,[Ke(H(a,{text:"Inspiration","text-line2":"Garden","is-visited":i.store.progress.inspirationGarden,"label-position":"top-right",onClick:e[0]||(e[0]=u=>i.handleMarkerClick("statues"))},null,8,["is-visited"]),[[Je,i.showMarkers]]),Ke(H(a,{delay:.1,text:"Sprite","text-line2":"Zero Sugar\xAE","is-visited":i.store.progress.trailer,"label-position":"top-right",onClick:e[1]||(e[1]=u=>i.handleMarkerClick("screen_tree"))},null,8,["delay","is-visited"]),[[Je,i.showMarkers]]),Ke(H(a,{delay:.2,text:"The","text-line2":"Library","label-position":"top-right","is-visited":i.store.progress.library,onClick:e[2]||(e[2]=u=>i.handleMarkerClick("screen_right"))},null,8,["delay","is-visited"]),[[Je,i.showMarkers]]),Ke(H(a,{delay:.3,text:"Origin","text-line2":"Stories","label-position":"top-left","is-visited":i.store.progress.originStories,onClick:e[3]||(e[3]=u=>i.handleMarkerClick("screen_left"))},null,8,["delay","is-visited"]),[[Je,i.showMarkers]]),Ke(H(a,{delay:.4,text:"Find your","text-line2":"Gift","label-position":"bottom-right","is-visited":i.store.progress.quiz,onClick:e[4]||(e[4]=u=>i.handleMarkerClick("table"))},null,8,["delay","is-visited"]),[[Je,i.showMarkers]]),Ke(H(a,{text:"Welcome",delay:.5,x:18.8,y:31.4,unit:"rem","label-position":"bottom-left","is-visited":i.store.progress.welcome,onClick:e[5]||(e[5]=u=>i.handleMarkerClick("tree"))},null,8,["delay","x","y","is-visited"]),[[Je,i.showMarkers]])])])],512)]),H(c,{text:"Close menu",onClick:i.closeMenu},null,8,["onClick"])],512),[[Je,i.show]])]),_:1},8,["onEnter","onLeave"])}var bZ=me(iZ,[["render",vZ]]);class yZ{constructor(e,{parent:t=null,scale:i=1,blendFunc:s={src:e.gl.SRC_ALPHA,dst:e.gl.ONE_MINUS_SRC_ALPHA},transparent:r=!0,depthTest:o=!0,depthWrite:a=!0,renderOrder:c=0,alpha:u=1}={},h=0){this.gl=e.gl,this.scene=e,this.parent=t||e.root,this.scale=i,this.transparent=r,this.blendFunc=s,this.depthTest=o,this.meshId=h,this.depthWrite=a,this.renderOrder=c,this.shader=new qn(fn.rays),this.alpha=u,this.color=Tt(0,0,0),this.config={Color:{value:"#2DF872",params:{}},Scale_X:{value:4,params:{min:0,max:8,step:.1}},Fade:{value:-.5,params:{min:-1,max:3,step:.01}},TimeScale:{value:1,params:{min:0,max:3,step:.01}},Height:{value:.75,params:{min:0,max:3,step:.01}},Width:{value:.33,params:{min:0,max:3,step:.01}},Opacity:{value:.75,params:{min:0,max:1,step:.01}}},ze.addBlade(this.config,"Rays"+h,h),this.init()}init(){this.geometry=new t1(this.gl,{height:2,radialSegments:512,openEnded:!0}),this.program=new Kn(this.gl,{vertex:this.shader.vert,fragment:this.shader.frag,depthTest:this.depthTest,depthWrite:this.depthWrite,transparent:this.transparent,depthFunc:this.gl.ALWAYS,cullFace:this.gl.FRONT,uniforms:{uTime:{value:this.scene.time},uAlpha:{value:this.alpha},uColor:{value:this.color},uFade:this.config.Fade,uHeight:this.config.Height,uWidth:this.config.Width,uOpacity:this.config.Opacity,uCamera:{value:[0,0,0]},uScale:{value:[this.config.Scale_X.value,this.config.Scale_X.value]},uRez:{value:[this.scene.width,this.scene.height]}}}),this.program.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE),this.mesh=new sn(this.gl,{geometry:this.geometry,program:this.program,renderOrder:this.renderOrder}),this.mesh.scale.set(this.scale,this.scale,this.scale),this.mesh.setParent(this.parent)}onLoaded(){}preRender(){this.program.uniforms.uTime.value=this.scene.time*this.config.TimeScale.value,this.program.uniforms.uAlpha.value=this.alpha,this.program.uniforms.uCamera.value=this.scene.camera.position,this.program.uniforms.uColor.value=new Xe(this.config.Color.value),this.program.uniforms.uScale.value=[this.config.Scale_X.value,this.config.Scale_X.value],this.program.uniforms.uRez.value=[this.scene.width,this.scene.height]}dispose(){this.mesh.setParent(null),this.geometry.remove(),this.program.remove()}}class wZ{constructor(e,t,{parent:i=null,scale:s=1,blendFunc:r={src:e.gl.SRC_ALPHA,dst:e.gl.ONE_MINUS_SRC_ALPHA},panelId:o=0,transparent:a=!0,depthTest:c=!0,depthWrite:u=!0,renderOrder:h=0,alpha:f=1}={}){this.gl=e.gl,this.scene=e,this.parent=i||e.root,this.scale=s,this.transparent=a,this.blendFunc=r,this.depthTest=c,this.depthWrite=u,this.renderOrder=h,this.shader=new qn(fn[t]),this.texture=new Rt(this.gl),this.alpha=f,this.color=Tt(0,0,0),this.config={Color:{value:"#2DF872",params:{}},Opacity:{value:1,params:{min:0,max:1,step:.01}}},ze.addBlade(this.config,"Dot",o),this.init()}init(){this.geometry=new yi(this.gl),this.program=new Kn(this.gl,{vertex:this.shader.vert,fragment:this.shader.frag,depthTest:this.depthTest,depthWrite:this.depthWrite,transparent:this.transparent,uniforms:{uTime:{value:this.scene.time},uAlpha:{value:this.alpha},uColor:{value:this.color},uRez:{value:[this.scene.width,this.scene.height]}}}),this.program.cullFace=!1,this.program.setBlendFunc(this.blendFunc.src,this.blendFunc.dst),this.mesh=new sn(this.gl,{geometry:this.geometry,program:this.program,renderOrder:this.renderOrder}),this.mesh.scale.set(this.scale,this.scale,this.scale),this.mesh.setParent(this.parent)}onLoaded(){}preRender(){this.program.uniforms.uTime.value=this.scene.time,this.program.uniforms.uAlpha.value=this.alpha*this.config.Opacity.value,this.program.uniforms.uColor.value=new Xe(this.config.Color.value),this.program.uniforms.uRez.value=[this.scene.width,this.scene.height]}dispose(){this.mesh.setParent(null),this.geometry.remove(),this.program.remove()}}class b2{constructor(e,t,{parent:i=null,scale:s=1,blendFunc:r={src:e.gl.SRC_ALPHA,dst:e.gl.ONE_MINUS_SRC_ALPHA},panelId:o=0,transparent:a=!0,depthTest:c=!0,depthWrite:u=!0,renderOrder:h=0,segment:f=32,name:m="",alpha:_=1}={}){this.gl=e.gl,this.scene=e,this.parent=i||e.root,this.scale=s,this.transparent=a,this.blendFunc=r,this.depthTest=c,this.depthWrite=u,this.renderOrder=h,this.shader=new qn(fn[t]),this.texture=new Rt(this.gl),this.alpha=_,this.segment=f,this.time=0,this.color=Tt(0,0,0),this.config={Color:{value:"#2DF872",params:{}},Opacity:{value:.75,params:{min:0,max:1,step:.01}},BorderSize:{value:.25,params:{min:0,max:1,step:.01}},DiscSize:{value:.25,params:{min:0,max:1,step:.01}},Size:{value:4,params:{min:0,max:10,step:.01}}},ze.addBlade(this.config,"Sphere"+m,o),this.init()}init(){this.geometry=new Ey(this.gl,{widthSegments:this.segment}),this.program=new Kn(this.gl,{vertex:this.shader.vert,fragment:this.shader.frag,depthTest:this.depthTest,depthWrite:this.depthWrite,transparent:this.transparent,uniforms:{uTime:{value:this.scene.time},uAlpha:{value:this.alpha},uColor:{value:this.color},uDpr:{value:this.scene.dpr},uAudio:{value:0},uParticleSize:this.config.Size,uBorderSize:this.config.BorderSize,uDiscSize:this.config.DiscSize,uRez:{value:[this.scene.width,this.scene.height]}}}),this.program.cullFace=!1,this.program.setBlendFunc(this.blendFunc.src,this.blendFunc.dst),this.mesh=new sn(this.gl,{geometry:this.geometry,program:this.program,renderOrder:this.renderOrder,mode:this.gl.POINTS}),this.mesh.scale.set(this.scale,this.scale,this.scale),this.mesh.setParent(this.parent)}onLoaded(){}preRender(){this.time+=this.scene.dt/1e3+this.scene.dt/1e3*this.scene.fakeAudioNoise*8,this.program.uniforms.uTime.value=this.time,this.program.uniforms.uAlpha.value=this.alpha*this.config.Opacity.value,this.program.uniforms.uColor.value=new Xe(this.config.Color.value),this.program.uniforms.uRez.value=[this.scene.width,this.scene.height],this.program.uniforms.uAudio.value=this.scene.fakeAudioNoise}dispose(){this.mesh.setParent(null),this.geometry.remove(),this.program.remove()}}class CZ{constructor(e,t,{parent:i=null,scale:s=1,blendFunc:r={src:e.gl.SRC_ALPHA,dst:e.gl.ONE_MINUS_SRC_ALPHA},panelId:o=0,transparent:a=!0,depthTest:c=!0,depthWrite:u=!0,renderOrder:h=0,name:f="",alpha:m=1}={}){this.gl=e.gl,this.scene=e,this.parent=i||e.root,this.scale=s,this.transparent=a,this.blendFunc=r,this.depthTest=c,this.depthWrite=u,this.renderOrder=h,this.shader=new qn(fn[t]),this.texture=new Rt(this.gl),this.alpha=m,this.color=Tt(0,0,0),this.config={Color:{value:"#2DF872",params:{}},Opacity:{value:.75,params:{min:0,max:1,step:.01}},BorderSize:{value:.26,params:{min:0,max:1,step:.01}},DiscSize:{value:.28,params:{min:0,max:1,step:.01}},Size:{value:4,params:{min:0,max:10,step:.01}}},ze.addBlade(this.config,"Plane"+f,o),this.init()}init(){this.geometry=new yi(this.gl,{}),this.program=new Kn(this.gl,{vertex:this.shader.vert,fragment:this.shader.frag,depthTest:this.depthTest,depthWrite:this.depthWrite,transparent:this.transparent,uniforms:{uTime:{value:this.scene.time},uAlpha:{value:this.alpha},uColor:{value:this.color},uDpr:{value:this.scene.dpr},uParticleSize:this.config.Size,uBorderSize:this.config.BorderSize,uDiscSize:this.config.DiscSize,uRez:{value:[this.scene.width,this.scene.height]}}}),this.program.cullFace=!1,this.program.setBlendFunc(this.blendFunc.src,this.blendFunc.dst),this.mesh=new sn(this.gl,{geometry:this.geometry,program:this.program,renderOrder:this.renderOrder}),this.mesh.scale.set(this.scale,this.scale,this.scale),this.mesh.setParent(this.parent)}onLoaded(){}preRender(){this.program.uniforms.uTime.value=this.scene.time,this.program.uniforms.uAlpha.value=this.alpha*this.config.Opacity.value,this.program.uniforms.uColor.value=new Xe(this.config.Color.value),this.program.uniforms.uRez.value=[this.scene.width,this.scene.height]}dispose(){this.mesh.setParent(null),this.geometry.remove(),this.program.remove()}}class xZ{constructor(e,t,{parent:i=null,scale:s=1,blendFunc:r={src:e.gl.SRC_ALPHA,dst:e.gl.ONE_MINUS_SRC_ALPHA},panelId:o=0,transparent:a=!0,depthTest:c=!0,depthWrite:u=!0,renderOrder:h=0,segment:f=32,name:m="",alpha:_=1}={}){this.gl=e.gl,this.scene=e,this.parent=i||e.root,this.scale=s,this.transparent=a,this.blendFunc=r,this.depthTest=c,this.depthWrite=u,this.renderOrder=h,this.shader=new qn(fn[t]),this.texture=new Rt(this.gl),this.alpha=_,this.segment=f,this.time=0,this.color=Tt(0,0,0),this.config={Color:{value:"#2df8e5",params:{}},Opacity:{value:.75,params:{min:0,max:1,step:.01}},NoiseScale:{value:5,params:{min:0,max:10,step:.01}},Displacement:{value:.045,params:{min:0,max:.1,step:.001}},FresnelPower:{value:2.5,params:{min:0,max:5,step:.01}}},ze.addBlade(this.config,"Blob"+m,o),this.init()}init(){this.geometry=new Ey(this.gl,{widthSegments:this.segment}),this.program=new Kn(this.gl,{vertex:this.shader.vert,fragment:this.shader.frag,depthTest:this.depthTest,depthWrite:this.depthWrite,transparent:this.transparent,uniforms:{uTime:{value:this.scene.time},uCamera:{value:this.scene.camera.position},uAlpha:{value:this.alpha},uColor:{value:this.color},uAudio:{value:0},uDpr:{value:this.scene.dpr},uFresnelPower:this.config.FresnelPower,uNoiseScale:this.config.NoiseScale,uDisplacement:this.config.Displacement,uRez:{value:[this.scene.width,this.scene.height]}}}),this.program.cullFace=!1,this.program.setBlendFunc(this.blendFunc.src,this.blendFunc.dst),this.mesh=new sn(this.gl,{geometry:this.geometry,program:this.program,renderOrder:this.renderOrder}),this.mesh.scale.set(this.scale,this.scale,this.scale),this.mesh.setParent(this.parent)}onLoaded(){}preRender(){this.time+=this.scene.dt/1e3+this.scene.dt/1e3*this.scene.fakeAudioNoise*4,this.program.uniforms.uCamera.value=this.scene.camera.position,this.program.uniforms.uTime.value=this.time,this.program.uniforms.uAlpha.value=this.alpha*this.config.Opacity.value,this.program.uniforms.uColor.value=new Xe(this.config.Color.value),this.program.uniforms.uRez.value=[this.scene.width,this.scene.height],this.program.uniforms.uAudio.value=this.scene.fakeAudioNoise}dispose(){this.mesh.setParent(null),this.geometry.remove(),this.program.remove()}}class EZ{constructor(){this.MAX_VERTICES=256,this.MAX_VERTICES_MASK=this.MAX_VERTICES-1,this.amplitude=1,this.scale=1,this.r=[];for(var e=0;e<this.MAX_VERTICES;++e)this.r.push(Math.random())}getVal(e){var t=e*this.scale,i=Math.floor(t),s=t-i,r=s*s*(3-2*s),o=i%this.MAX_VERTICES_MASK,a=(o+1)%this.MAX_VERTICES_MASK,c=this.lerp(this.r[o],this.r[a],r);return c*this.amplitude}lerp(e,t,i){return e*(1-i)+t*i}}cs();class AZ extends Wb{constructor(e,t=null){super(e,t),t&&(this.manager=t,this.renderer=t.renderer),this.time=0,this.dt=0,this.drawcalls=0,this.animFrame=0,this.animTime=0,this.progress=0,this.timescale=1,this.fakeAudioNoiseScaleTarget=0,this.fakeAudioNoiseScale=0,this.root=new Un,this.initCameras(),this.clearColor=this.clearColor,this.loaded=!1,this.active=!1,this.textureLoader=new jb(this),this.meshes=[],this.nodes=[],this.isMobile=Hi,this.root.scale.set(1,1,1),this.config={Pause:{value:!1,type:"bool"},time_scale:{value:1.5,params:{min:0,max:3,step:.01}},speedFakeVoice:{value:12,params:{min:0,max:20,step:.1}}},ze.addBlade(this.config,"ORB",2),this.init(),this.initTimeline(),this.addEventListeners()}initCameras(){this.camera=new J0(this.gl,{near:.01,far:1e5,fov:40,aspect:this.width/this.height}),this.camera.position.z=6,this.camera.position.y=.33}init(){this.noise=new EZ;let e=new wZ(this,"dot",{panelId:2});e.mesh.rotation.x=Math.PI/2,e.mesh.position.y=-1.7,this.meshes.push(e),this.dot=e;let t=new b2(this,"spiritSphere",{panelId:2,scale:2,segment:64,depthTest:!1,depthWrite:!1,name:" Outter"});t.mesh.position.y=.55,t.mesh.rotation.x=-.25,this.meshes.push(t),this.sphere2=t;let i=new xZ(this,"spiritBlob",{panelId:2,scale:1.68,segment:64,depthWrite:!1});i.mesh.position.y=.55,this.meshes.push(i),this.blob=i;let s=new b2(this,"spiritSphere",{panelId:2,scale:1.28,segment:48,name:" Inner"});if(s.mesh.rotation.x=.25,s.mesh.position.y=.55,this.meshes.push(s),this.sphere1=s,this.sphere1.alpha=0,this.sphere2.alpha=0,this.blob.alpha=0,!dg&&!hg){let o=new CZ(this,"spiritPlane",{scale:4,panelId:2,depthTest:!1,depthWrite:!1,name:" Halo"});o.mesh.position.y=.55,this.meshes.push(o),this.plane=o}let r=new yZ(this,{},2);r.mesh.rotation.z=Math.PI,r.mesh.position.y=-.9,this.godrays=r,this.meshes.push(r)}initTimeline(){this.tl=new ut.timeline({paused:!0,onReverseComplete:()=>{setTimeout(()=>{this.active=!1},100)}}),this.tl.call(()=>{this.sphere1.alpha=0,this.sphere2.alpha=0,this.blob.alpha=0},[],0),this.tl.call(()=>{this.active=!0,this.sphere1.alpha=1,this.sphere2.alpha=1,this.blob.alpha=1},[],1e-4),this.tl.fromTo(this,{timescale:10},{timescale:1,duration:2.5,ease:"Power2.out"},"0"),this.tl.fromTo(this.dot.mesh.scale,{x:0,y:0,z:0},{x:1,y:1,z:1,duration:2,ease:"Power4.out"},"0"),this.tl.fromTo(this.godrays.mesh.scale,{x:0,z:0},{x:1,z:1,duration:1,ease:"Power4.out"},"0"),this.tl.fromTo(this.sphere1.mesh.scale,{x:0,y:0,z:0},{x:1.6,y:1.6,z:1.6,duration:2.5,ease:"elastic.out(1, 0.6)"},"0.4"),this.tl.fromTo(this.blob.mesh.scale,{x:0,y:0,z:0},{x:2.1,y:2.1,z:2.1,duration:2.5,ease:"elastic.out(1, 0.6)"},"0.3"),!dg&&!hg&&this.tl.fromTo(this.plane.mesh.scale,{x:0,y:0,z:0},{x:5,y:5,z:5,duration:2.5,ease:"elastic.out(1, 0.6)"},"0.3"),this.tl.fromTo(this.sphere2.mesh.scale,{x:0,y:0,z:0},{x:2.5,y:2.5,z:2.5,duration:2.5,ease:"elastic.out(1, 0.6)"},"0.2")}postFirstDraw(){}activate(){return new Promise(e=>{this.active=!0,this.activationResolve=e,this.postFirstDraw()})}deactivate(){this.active=!1}onLoaded(){this._emitter.emit("loaded");for(let e=0;e<this.meshes.length;e++)this.meshes[e].onLoaded();ze.onLoaded(),ze.pane.refresh()}async load(){let e=[];this.animations={},Promise.all(e).then(()=>{this.onLoaded()});let t=0;for(let i=0;i<e.length;i++)e[i].then(()=>{t++,this._emitter.emit("progress",Math.round(t/e.length*100))})}applyDefaultState(){let e=this.gl;e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.enable(e.BLEND),e.enable(e.DEPTH_TEST),e.depthMask(!0)}addEventListeners(){}show(){this.tl.play()}hide(){this.tl.timeScale(3).reverse()}activateVoice(){this.fakeAudioNoiseScaleTarget=1}desActivateVoice(){this.fakeAudioNoiseScaleTarget=0}resize(){this.camera.perspective({aspect:this.width/this.height})}preRender(){this.fakeAudioNoiseScale+=(this.fakeAudioNoiseScaleTarget-this.fakeAudioNoiseScale)*.1,this.fakeAudioNoise=this.noise.getVal(this.time*this.config.speedFakeVoice.value)*this.fakeAudioNoiseScale;for(let e=0;e<this.meshes.length;e++)this.meshes[e].preRender();this.sphere1.mesh.rotation.y-=this.dt*3e-4,this.sphere2.mesh.rotation.y-=this.dt*45e-5,this.blob.mesh.rotation.y-=this.dt*45e-5}render(){if(!this.active)return;let e=this.gl;this.time+=oi.dt/1e3*this.timescale,this.dt=oi.dt*this.timescale,this.preRender(),e.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.colorMask(!0,!0,!0,!0),e.viewport(0,0,this.width,this.height),this.camera.perspective({aspect:this.width/this.height}),this.renderer.setViewport(this.width,this.height),this.renderer.render({scene:this.root,camera:this.camera,clear:!0,frustumCull:!1,sort:!1}),this.postRender()}postRender(){this.gl.viewport(0,0,this.width,this.height),this.drawcalls++,this.forceAllDraw&&this.drawcalls>40&&(this.forceAllDraw=!1,this.activationResolve())}}const DZ={setup(){const n=J(null),e=J(null),t=J(null);let i,s;async function r(){i=new AZ(n.value,null),ue.on("orb_show",async()=>{await Pr(),i.activate(),i.onResize(),i.show(),s&&s.progress(1),s=ut.timeline(),s.fromTo(e.value,{opacity:0},{opacity:1,duration:1.8,ease:"expo.out"},0),s.fromTo(t.value,{opacity:0},{opacity:1,duration:1.8,ease:"expo.out"},0)}),ue.on("orb_hide",async()=>{i.hide(),s&&s.progress(1),s=ut.timeline(),s.to(e.value,{opacity:0,duration:.5,ease:"linear"},0),s.to(t.value,{opacity:0,duration:.5,ease:"linear"},0)}),ue.on("orb_activate_voice",()=>{i.activateVoice()}),ue.on("orb_deactivate_voice",()=>{i.desActivateVoice()}),oi.subscribe("orb-canvas",i.render.bind(i)),await Pr(),i.load()}return Vt(async()=>{ue.on("load_webgl",r)}),{canvas:n,orbTitle:e,orbTitleLines:t}}},SZ={ref:"canvas",class:"orb"},TZ={ref:"orbTitle",class:"orb__title"},MZ=b("div",{class:"orb__title__part"},"Wisdom",-1),BZ=b("div",{class:"orb__title__part"},"Guide",-1),PZ=[MZ,BZ],FZ={ref:"orbTitleLines",class:"orb__title__lines"},LZ=b("div",{class:"orb__title__line"},null,-1),IZ=b("div",{class:"orb__title__line"},null,-1),RZ=[LZ,IZ];function kZ(n,e,t,i,s,r){return ne(),Ee("div",SZ,[b("div",TZ,PZ,512),b("div",FZ,RZ,512)],512)}var OZ=me(DZ,[["render",kZ]]);const NZ={name:"UiLayer",components:{Start:fH,Introduction:UU,UiNav:IH,UiFooter:UH,UiControls:Pz,UiMenu:bZ,OriginStories:gj,Tutorial:f$,Trailer:uq,Entrance:fq,InspirationGarden:Yq,ScreenRight:yj,QuizTable:nZ,Orb:OZ,EndScreen:aq},setup(){const n=J(!0),e=J(!0),t=J(null);function i(){ue.emit("quiz_show")}function s(){ue.emit("menu_show")}return{store:Ne,show:n,onStartQuiz:i,showDebugButtons:e,onOpenMenu:s,testVideo:t}}},VZ={key:0,class:"ui"};function HZ(n,e,t,i,s,r){const o=q("Start"),a=q("Introduction"),c=q("Tutorial"),u=q("Entrance"),h=q("OriginStories"),f=q("ScreenRight"),m=q("Trailer"),_=q("InspirationGarden"),y=q("QuizTable"),w=q("EndScreen"),x=q("Orb"),M=q("UiNav"),P=q("UiControls"),F=q("UiFooter"),E=q("UiMenu");return i.show?(ne(),Ee("div",VZ,[H(o),H(a),H(c),H(u),H(h),H(f),H(m),H(_),H(y),H(w),H(x),H(M),H(P),H(F),H(E)])):Si("",!0)}var zZ=me(NZ,[["render",HZ]]);const UZ={name:"Loader",components:{LogoSprite:_c,IconCrossXs:zh,LogoMarvel:gc,Logo:Uh},setup(){const n=J(!0),e=J(!1),t=J(null),i=J(null),s=J(0),r=J(null),o=J(!1),a=J(!1),c=J(null),u=J(null),h=J(null),f=J(null),m=J(null),_=J(null),y=J(null);let w=0;Vt(async()=>{await $o(`${Gi}assets/images/shapes/loader-bg.webp`),await $o(`${Gi}assets/images/shapes/menu-bg.webp`),await $o(`${Gi}assets/images/logos/marvel-theater.webp`),e.value=!0,await vn(1200),ue.emit("load_webgl"),await vn(100),ue.on("webgl_loaded",x),ue.on("loading_progress",M),P(0)});function x(){ue.emit("loader_end"),o.value=!1,e.value=!1}function M({progress:I}){o.value||(o.value=!0),P(I)}function P(I){w=I,s.value=Math.round(I),i.value.style.transform=`scaleX(${w/100})`,r.value.style.transform=`translateX(${w}%)`}function F(){n.value=!1}function E(){a.value=!0}function D(){const I=ut.timeline();I.fromTo(m.value,{y:"2rem",opacity:0},{y:0,opacity:1,duration:1.8,ease:"expo.out"},0),I.fromTo(u.value,{x:"-3rem",opacity:0},{x:"0",opacity:1,duration:1.8,ease:"expo.out"},0),I.fromTo(c.value,{opacity:0},{opacity:1,duration:.5,ease:"none"},0),I.fromTo(h.value,{x:"3rem",opacity:0},{x:"0",opacity:1,duration:1.8,ease:"expo.out"},0),I.fromTo(f.value,{scaleX:0,opacity:0},{scaleX:1,opacity:.2,duration:1.8,ease:"expo.out"},.2)}function B(){const I=ut.timeline();I.fromTo(_.value,{yPercent:0},{yPercent:-102,duration:1.2,ease:"expo.inOut"},0),I.fromTo(y.value,{yPercent:0,opacity:1},{opacity:0,yPercent:50,duration:1.2,ease:"expo.inOut"},0)}return{showLoader:n,show:e,loaderBar:i,loader:t,loaderBarAmountText:s,loaderBarText:r,loading:o,onAfterLeave:F,onAfterEnter:E,onEnter:D,onLeave:B,isActive:a,marvelLogo:h,spriteLogo:u,logoDivider:c,progressBarTotal:f,mainLogo:m,loaderInner:_,loaderInnerWrap:y}}},GZ={ref:"loaderInner",class:"loader__inner"},$Z={ref:"loaderInnerWrap",class:"loader__inner__wrap"},WZ=b("div",{class:"loader__bg"},[b("div",{class:"loader__bg__layer-1"}),b("div",{class:"loader__bg__layer-2"}),b("div",{class:"loader__bg__layer-3"})],-1),jZ={class:"loader__content"},qZ={class:"loader__logos"},KZ={ref:"spriteLogo",class:"loader__logo loader__logo--sprite"},JZ={ref:"logoDivider",class:"loader__logos__divider"},XZ={ref:"marvelLogo",class:"loader__logo loader__logo--marvel"},ZZ={ref:"mainLogo",class:"loader__main__logo"},QZ={class:"loader__progress"},YZ={class:"loader__progress__bar"},eQ={ref:"loaderBar",class:"loader__progress__bar__percent"},tQ={ref:"progressBarTotal",class:"loader__progress__bar__total"},nQ={ref:"loaderBarText",class:"loader__progress__bar__text"},iQ={class:"loader__progress__bar__text__inner"},sQ={class:"line"};function rQ(n,e,t,i,s,r){const o=q("LogoSprite"),a=q("IconCrossXs"),c=q("LogoMarvel"),u=q("Logo");return Ke((ne(),Ee("div",{ref:"loader",class:Ft(["loader",{"is-active":i.isActive}])},[H(ot,{name:"loader",duration:3e3,onEnter:i.onEnter,onLeave:i.onLeave,onAfterEnter:i.onAfterEnter,onAfterLeave:i.onAfterLeave},{default:ge(()=>[Ke(b("div",GZ,[b("div",$Z,[WZ,b("div",jZ,[b("div",qZ,[b("div",KZ,[H(o)],512),b("div",JZ,[H(a)],512),b("div",XZ,[H(c)],512)]),b("div",ZZ,[H(u)],512),b("div",QZ,[b("div",YZ,[b("div",eQ,null,512),b("div",tQ,null,512)]),b("div",nQ,[H(ot,{name:"loader-text",duration:1800},{default:ge(()=>[Ke(b("div",iQ,[b("div",sQ,Ye(i.loaderBarAmountText)+"%",1)],512),[[Je,i.loading]])]),_:1})],512)])])],512)],512),[[Je,i.show]])]),_:1},8,["onEnter","onLeave","onAfterEnter","onAfterLeave"])],2)),[[Je,i.showLoader]])}var oQ=me(UZ,[["render",rQ]]);const aQ={name:"OrientationLayer",components:{Logo:Uh,LogoSprite:_c,IconCrossXs:zh,LogoMarvel:gc},setup(){const n=J(!1);function e(){n.value=!0}function t(){n.value=!1}return ue.on("video_overlay_open",e),ue.on("video_overlay_close",t),{isMobile:Hi,isVideo:n}}},O4=n=>(R9("data-v-e12bac30"),n=n(),k9(),n),lQ=O4(()=>b("div",{class:"orientation-bg"},[b("div",{class:"orientation-bg__layer-1"}),b("div",{class:"orientation-bg__layer-2"}),b("div",{class:"orientation-bg__layer-3"})],-1)),cQ={class:"orientation-content"},uQ={class:"orientation-logos"},hQ={ref:"spriteLogo",class:"orientation-logos__logo orientation-logos__logo--sprite"},dQ={ref:"logoDivider",class:"orientation-logos__divider"},fQ={ref:"marvelLogo",class:"orientation-logos__logo orientation-logos__logo--marvel"},pQ=Ht(" Please rotate your phone."),mQ=O4(()=>b("br",null,null,-1)),_Q=Ht(" This website is optimized for a vertical orientation ");function gQ(n,e,t,i,s,r){const o=q("LogoSprite"),a=q("IconCrossXs"),c=q("LogoMarvel"),u=q("Logo");return ne(),Ee("div",{class:Ft(["orientation-layer",{"is-mobile":i.isMobile,"is-video":i.isVideo}])},[lQ,b("div",cQ,[b("div",uQ,[b("div",hQ,[H(o)],512),b("div",dQ,[H(a)],512),b("div",fQ,[H(c)],512)]),H(u,{class:"orientation-logos__logo orientation-logos__logo--main"}),pQ,mQ,_Q])],2)}var vQ=me(aQ,[["render",gQ],["__scopeId","data-v-e12bac30"]]);const bQ={props:{screen:{type:String,required:!0}},setup(){const n=J(!1),e=J(0),t=i=>{i.keyCode===68&&(e.value<1?(n.value=!0,e.value+=.25):(e.value=0,n.value=!1))};return Vt(()=>{window.addEventListener("keydown",t)}),qr(()=>{window.removeEventListener("keydown",t)}),{active:n,opacity:e,toggle:t}}},yQ=["src"];function wQ(n,e,t,i,s,r){return i.active?(ne(),Ee("div",{key:0,style:hh({opacity:i.opacity}),class:"designtoggle"},[b("img",{src:"/assets/images/designs/"+t.screen+".webp"},null,8,yQ)],4)):Si("",!0)}var CQ=me(bQ,[["render",wQ]]);const xQ={name:"App",components:{WebGL:LO,UiLayer:zZ,Loader:oQ,OrientationLayer:vQ,DesignToggle:CQ},setup(){return Vt(()=>{Ne.setDebug(/[?&]debug/.test(location.search)&&!1)}),{store:Ne}}},EQ={class:"site-wrapper"};function AQ(n,e,t,i,s,r){const o=q("WebGL"),a=q("UiLayer"),c=q("Loader"),u=q("OrientationLayer"),h=q("RouterView"),f=q("DesignToggle");return ne(),Ee("main",EQ,[H(o),H(a),H(c),H(u),H(h),i.store.debug?(ne(),Ve(f,{key:0,screen:"quiz-results-mobile"})):Si("",!0)])}var DQ=me(xQ,[["render",AQ]]);const N4=a6(DQ);N4.use(S8);N4.mount("#app")});export default SQ();
